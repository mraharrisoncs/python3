(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[21],{1468:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var i=a(18),s=a(25);const r=e=>s.a.post(i.a.WEBPAGES,e),n=e=>s.a.get("".concat(i.a.WEBPAGES,"/").concat(e))},1696:function(e,t,a){"use strict";var i=a(4),s=a.n(i);t.a=e=>t=>{class a extends i.Component{constructor(t){super(t);const a=!(this.props.fileProgress>=100);this.state={isVisible:a,maxValue:e&&e.maxValue||100}}componentDidMount(){this.timerID=setInterval(()=>this.checkProgress(),1e3)}componentWillUnmount(){clearInterval(this.timerID)}checkProgress(){this.props.fileProgress>=this.state.maxValue&&(this.setState({isVisible:!1}),clearInterval(this.timerID))}render(){return s.a.createElement(t,Object.assign({},this.state,this.props))}}return a}},1815:function(e,t,a){"use strict";t.a={ADD_FILES:"add_files",ADD_FOLDER:"add_folder",ADD_ITEM:"add-item",AFTER_CREATE_QUIZ:"create_quiz_below_blurb",CANCEL:"admin_pages,cancel",CHOOSE_FILES:"choose-files",CREATE:"create",CREATE_QUIZ_BELOW:"create_quiz_below",CREATE_QUIZ:"quiz-index-title",DONE:"worksheets,tour_4_next",EXCEL:"attachments,ms-worksheet",FILE:"submissions,student_submission,file",FILE_UPLOAD:"library,new-library-file",FOLDER:"folder",LIBRARY:"added_by_me",LINK:"chats,link",MANAGE_FOLDERS:"manage-folders",NEW:"new",NEW_FOLDER:"new_folder",PPT:"attachments,ms-presentation",QUIZ:"quiz",SHARE_FOLDERS_WITH_GROUP:"share-folders-with-this-group",WORD_DOC:"attachments,ms-document"}},1923:function(e,t,a){},2135:function(e,t,a){"use strict";var i=a(4),s=a.n(i),r=a(133),n=a(364),l=a(272),c=a(1238),d=a(156),o=a(509),m=a(384),h=a(1208),g=(a(1923),a(1678),a(1654)),b=a(366),p=a(527),u=a.n(p);t.a=Object(o.a)(Object(r.connect)(e=>({formValues:Object(l.getFormValues)("createNewBadgeForm")(e)}))(Object(l.reduxForm)({form:"createNewBadgeForm",onSubmitSuccess:(e,t,a)=>{a.reset()}})(({handleSubmit:e,pristine:t,reset:a,submitting:i,formValues:r,groupType:o,translate:p,createNewLibraryItemSubmit:A,handleAttachedImageChange:E,badgeImage:f,handleAttachedImageBegin:I,showBadgeValidationMessage:k,backToAllBadgeView:L,loadingImage:y})=>s.a.createElement("div",{className:"library-create-badge"},s.a.createElement("div",{className:"create-form-header"},s.a.createElement(n.c,{color:"primary",size:"sm",outline:!0,onClick:()=>L(),className:"qa-test-back-to-all-badges-btn back-to-all"},s.a.createElement(d.default,{string:"back",fallbackString:"Back"}))),s.a.createElement("form",{onSubmit:e(A.bind(void 0,"badge"))},s.a.createElement(n.db,null,s.a.createElement(n.s,{xs:"6"},s.a.createElement("div",{className:"badge-image-box"},s.a.createElement("img",{alt:"",className:"badge-image"+(u.a===f?" loading-icon":""),src:"https://a.edim.co/images/badge-border-large.png",style:{backgroundImage:"url("+m.a(f)+") "}})),s.a.createElement(g.a,{name:b.a.TEACHER_BADGES,attachedFilesChangeCb:E,attachedFilesBeginCb:I,translate:p}),k&&(!f||f===u.a)&&s.a.createElement("span",{className:"required-error"},s.a.createElement(d.default,{string:"required",fallbackString:"Required"}))),s.a.createElement(n.s,{xs:"12"},s.a.createElement(n.C,{id:"qa-test-badge-title"},s.a.createElement(l.Field,{name:"badgeTitle",component:c.a,type:"text",label:p("badge-title"),maxLength:50,validate:h.g})),s.a.createElement(n.C,{id:"qa-test-badge-description"},s.a.createElement(l.Field,{name:"badgeDescription",component:c.a,type:"textarea",label:p("description"),validate:h.g,maxLength:140})))),s.a.createElement("div",{className:"qa-test-add-folder-footer add-item-modal-footer"},s.a.createElement(n.c,{block:!0,color:"primary",type:"submit",disabled:y},s.a.createElement(d.default,{string:"add-badge",fallbackString:"Add Badge"}))))))))},2169:function(e,t,a){"use strict";var i=a(4),s=a.n(i),r=a(133),n=a(364),l=a(272),c=a(545),d=a(526),o=a(1238),m=a(1750),h=a(1208),g=(a(1923),a(509));t.a=Object(r.connect)(e=>({formValues:Object(l.getFormValues)("createNewFolderForm")(e)}))(Object(l.reduxForm)({form:"createNewFolderForm"})(Object(g.a)(({translate:e,isTeacher:t})=>{return s.a.createElement("form",null,s.a.createElement(n.C,{id:"qa-test-folder-name"},s.a.createElement(l.Field,{name:"folderName",component:o.a,type:"text",label:e("folder-name","Folder Name"),validate:h.g})),t&&s.a.createElement(n.C,{id:"qa-test-select-grade"},s.a.createElement("div",null,s.a.createElement(l.Field,{name:"selectGrade",component:m.a,label:e("select-grade","Select Grade"),options:(a=c.a,a.filter((function(e,t){return"None"===e[0]&&a.splice(t,1),a})))}))),t&&s.a.createElement(n.C,{id:"qa-test-subject-area"},s.a.createElement("div",null,s.a.createElement(l.Field,{name:"selectSubjectArea",component:m.a,label:e("select-subject","Select Subject"),options:d.e}))));var a})))},2221:function(e,t,a){"use strict";var i=a(4),s=a.n(i),r=a(364),n=a(156),l="folder-empty",c="library-cta-message",d=a(329);t.a=({folders:e,files:t,fromGroupPage:a,context:i,filterOnly:o})=>{let m=s.a.createElement(n.default,{string:c});return o?m=s.a.createElement(n.default,{string:"no-files-match-the-filter-cta",fallback:"No files match the file type filter or the folder is empty."}):i===d.a.ADMIN_TEACHER_BADGES&&(m=s.a.createElement(n.default,{string:"empty-badges-message",fallback:"Add files, assignments, links and much more via the Add button above"})),e&&0===e.size&&t&&0===t.size?s.a.createElement(r.f,{className:"library-folder-empty-container"},s.a.createElement(r.g,null,s.a.createElement(r.o,{className:"library-folder-empty"},s.a.createElement("span",{className:"empty-folder-icon"}),s.a.createElement("span",{className:"empty-folder-message"},o?s.a.createElement(n.default,{string:"no-files-match-the-filter",fallback:"No Files Match the Filter"}):s.a.createElement(n.default,{string:l})),a?null:s.a.createElement("span",{className:"library-cta-message"},m)))):null}},2233:function(e,t,a){"use strict";var i=a(4),s=a.n(i),r=a(364),n=a(1199),l=a(133),c=a(134),d=a(156),o=a(1815),m=a(272),h=a(35),g=a.n(h),b=a(5),p=a.n(b),u=a(366),A=a(1468),E=a(192),f=a(1288),I=a(73),k=a(369),L=a(1233),y=a(1266),N=a(45),C=a(201),F=a(36);class S extends i.Component{constructor(e){super(e),this.state={selectedLink:null,selectedEmbedSrc:null,title:"",type:"link"},this.handleAttachLinkTitleChange=this.handleAttachLinkTitleChange.bind(this),this.handleAttachLinkTextBlur=this.handleAttachLinkTextBlur.bind(this),this.getEmbedLinkInfo=this.getEmbedLinkInfo.bind(this),this.setSelectedLinkByPollingWebpageApi=this.setSelectedLinkByPollingWebpageApi.bind(this),this.createLibItemSubmit=this.createLibItemSubmit.bind(this),this.handleAttachLinkPaste=this.handleAttachLinkPaste.bind(this)}handleAttachLinkPaste(e){const t=e.clipboardData.getData("Text"),a=C.f(t);a&&this.setState({selectedEmbedSrc:a})}handleAttachLinkTextBlur(e){const t=!!this.state.selectedEmbedSrc;A.b({uri:e.target.value}).then(e=>{Object(N.a)("You've hit the attachLinkTextBlurrrrr: ",e.data);const t=e&&e.data&&e.data.title;return this.setState({selectedLink:e.data,title:t}),e}).then(e=>{!e.data||e.data.title||t?e.data&&t&&this.getEmbedLinkInfo(this.state.selectedEmbedSrc):this.setSelectedLinkByPollingWebpageApi(e.data.id)}).catch(e=>{Object(N.a)("something went wrong",e),F.a.notifyBugsnag(e,"LibraryAddLinkEmbed.requestInfo")})}getEmbedLinkInfo(e){Object(N.a)("getEmbedLinkInfo:",e),A.b({uri:e}).then(e=>{const t=e&&e.data&&e.data.title;if(t){let a=p.a.cloneDeep(this.state.selectedLink);a.title=t,a.image=e&&e.data&&e.data.image,this.setState({selectedLink:a,title:t,type:"embed"})}return e}).catch(e=>{F.a.notifyBugsnag(e,"LibraryAddLinkEmbed.requestInfo")})}setSelectedLinkByPollingWebpageApi(e,t=2,a=2e3,i=0){A.a(e).then(s=>{if(i<t&&s.data&&!s.data.title)setTimeout(()=>{this.setSelectedLinkByPollingWebpageApi(e,t,a,i+1)},a);else{if(!s.data||!s.data.title){let e=p.a.cloneDeep(this.state.selectedLink);return e.timed_out=!0,this.setState({selectedLink:e}),null}this.setState({selectedLink:s.data})}}).catch(e=>{F.a.notifyBugsnag(e,"LibraryAddLinkEmbed.pollById")})}handleAttachLinkTitleChange(e){if(Object(N.a)("Note handleAttachLinkTitleChange:",e),this.setState({title:e.target.value}),this.state.selectedLink){const t=JSON.parse(JSON.stringify(this.state.selectedLink));t.title=e.target.value,this.setState({selectedLink:t})}}createLibItemSubmit(){let e;Object(N.a)("hitting submit for creating LibItem in LibraryAddLinkEmbed",this.state.selectedLink),e="link"===this.state.type?{title:this.state.title,link_url:this.state.selectedLink.uri,thumb_url:this.state.selectedLink.image}:{title:this.state.title,content:this.state.selectedEmbedSrc,thumb_url:this.state.selectedLink.image};const t={type:this.state.type,parent_id:this.props.fromGroupPage?parseInt(this.props.currentGroupFolderId,10):parseInt(this.props.currentLibraryFolderId,10),item:e};E.a.isValid(this.props.accessToken)&&(Object(N.a)(t),this.props.LibraryActions.createLibraryItem(this.props.history,t,this.props.startingLocation,null,null,this.props.fromGroupPage),this.props.libraryPageTrackingActions.libraryNewLinkAdd()),this.props.toggleAddItemModal()}render(){const e=!this.state.selectedLink||!this.state.title;return s.a.createElement("div",{className:"library-add-link-embed"},s.a.createElement(r.C,{id:"qa-test-library-add-link"},s.a.createElement(r.D,{placeholder:"http:// or <embed>",className:"qa-test-library-add-link-input",onBlur:this.handleAttachLinkTextBlur,onPaste:this.handleAttachLinkPaste})),s.a.createElement(r.C,{id:"qa-test-library-add-link_text"},s.a.createElement(r.D,{placeholder:"Title",className:"qa-test-library-add-link-title-input",value:this.state.title,onChange:this.handleAttachLinkTitleChange})),s.a.createElement("div",{className:"qa-test-add-item-modal add-item-modal-footer"},s.a.createElement(r.c,{block:!0,color:"primary",onClick:this.createLibItemSubmit,disabled:e},"Add Link")))}}var w=Object(n.a)(Object(l.connect)((function(e){return{accessToken:I.d(e),currentLibraryFolderId:f.d(e),currentGroupFolderId:f.f(e),mode:k.b(e)}}),(function(e){return{LibraryActions:Object(c.bindActionCreators)(L,e),libraryPageTrackingActions:Object(c.bindActionCreators)(y,e)}}))(S)),v=a(1323);a(1454);var B=({handleSelectFiles:e,fileInputFieldValue:t})=>s.a.createElement("div",{className:"library-choose-file-outer"},s.a.createElement("div",{className:"qa-test-choose-file-btn choose-file-btn"},s.a.createElement("input",{type:"file",multiple:"multiple",value:t,onChange:e}),s.a.createElement(r.c,{color:"link",className:"btn"},s.a.createElement(d.default,{string:o.a.CHOOSE_FILES}))));class T extends i.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.handleSelectFiles,a=e.fileInputFieldValue;return s.a.createElement(B,{fileInputFieldValue:a,handleSelectFiles:t})}}var O=Object(v.a)({})(T),_=a(509),P=a(1696),D=a(2251),x=a.n(D),q=a(2252),M=a.n(q);var V=Object(P.a)({})(({file:e,isVisible:t,handleDismissAttachmentClick:a})=>{return s.a.createElement("div",{key:e&&e.id,className:"display-attachment-item"},s.a.createElement("div",{className:"col-md-9"},s.a.createElement("img",{alt:"",src:x.a,"data-attachment-id":e&&e.id,onClick:a,role:"button"}),s.a.createElement("img",{alt:"",src:"//a.edim.co/images/blank.gif",className:"attachment-icon"}),s.a.createElement("div",{className:"attachment-name"},s.a.createElement("span",null,e&&e.file_name))),s.a.createElement("div",{className:"upload-progress col-md-9"},-1===(i=e&&e.progress)?s.a.createElement("img",{alt:"",src:x.a}):100===i?s.a.createElement("img",{alt:"",height:16,src:M.a}):t?s.a.createElement(r.cb,{color:"success",value:i||0,max:"100"}):null));var i});var U=Object(_.a)(({removeFile:e,translate:t,handleDismissAttachmentClick:a,createNewLibraryItemSubmit:i,filesInProgressAttaching:n,handleAttachedFilesChange:l,handleAttachedFilesBegin:c})=>{const m=n&&n.map(t=>e===t.id?null:s.a.createElement(V,{file:t,fileProgress:t.progress,handleDismissAttachmentClick:a})),h=!(n&&!n.find(e=>e.progress<100)&&n.length);return s.a.createElement("div",null,s.a.createElement(O,{name:u.a.BLOCKED_UPLOAD_FILES_STORE_NAME,attachedFilesChangeCb:l,attachedFilesBeginCb:c,removeFile:e,translate:t}),s.a.createElement("div",{className:"display-attachments"},m),s.a.createElement("div",{className:"qa-test-add-item-modal add-item-modal-footer"},s.a.createElement(r.c,{block:!0,color:"primary",onClick:()=>i("file"),disabled:h,className:"qa-test-add-files-btn"},s.a.createElement(d.default,{string:o.a.ADD_FILES}))))}),R=a(2169);var j=({createNewLibraryItemSubmit:e,folderName:t,isTeacher:a})=>{const i=!(t&&t.trim());return s.a.createElement("div",null,s.a.createElement(R.a,{isTeacher:a}),s.a.createElement("div",{className:"qa-test-add-folder-footer add-item-modal-footer"},s.a.createElement(r.c,{block:!0,color:"primary",onClick:()=>e("folder"),disabled:i},s.a.createElement(d.default,{string:o.a.ADD_FOLDER}))))},G=a(10);var Q=({libraryCreateQuiz:e,abTests:t,quizOverviewActions:a,history:i,translate:n,currentUser:l,pageNavActions:c})=>s.a.createElement("div",{className:"library-create-quiz"},s.a.createElement("div",{className:"add-quiz-icon"}),s.a.createElement("h2",{className:"add-quiz-empty-title"},s.a.createElement(d.default,{string:o.a.CREATE_QUIZ_BELOW})),s.a.createElement("p",null,s.a.createElement(d.default,{string:o.a.AFTER_CREATE_QUIZ})),s.a.createElement("div",{className:"qa-test-add-item-modal add-item-modal-footer"},s.a.createElement(r.c,{block:!0,color:"primary",id:"qa-test-create-quiz-button",onClick:e=>{e.preventDefault(),a.createQuizContentsQuestions({title:"",source:"library"}).then(e=>{c&&c.storeNewPageDestinationAction(i.location.pathname),i.push(p.a.replace(G.a.QUIZ_EDIT,":id",e))}).catch(e=>console.log(e))}},s.a.createElement(d.default,{string:o.a.CREATE_QUIZ})))),z=a(2135),W=a(1263),Z=a(1283),K=a(536),Y=a(1289),J=a(367),X=a(14),H=a(254),$=a(527),ee=a.n($),te=a(329);class ae extends i.Component{constructor(e){super(e),this.state={attachedFiles:[],filesInProgressAttaching:[],removeFile:!1,backdrop:"static",badgeImage:"",showBadgeValidationMessage:!1},this.handleAttachedFilesChange=this.handleAttachedFilesChange.bind(this),this.handleAttachedFilesBegin=this.handleAttachedFilesBegin.bind(this),this.handleDismissAttachmentClick=this.handleDismissAttachmentClick.bind(this),this.createNewLibraryItemSubmit=this.createNewLibraryItemSubmit.bind(this),this.handleAttachedImageChange=this.handleAttachedImageChange.bind(this),this.handleAttachedImageBegin=this.handleAttachedImageBegin.bind(this),this.libraryCreateQuiz=this.libraryCreateQuiz.bind(this)}UNSAFE_componentWillReceiveProps(e){e.s3UploadProgress&&this.setUploadProgressInFile(e.s3UploadProgress)}setUploadProgressInFile(e){if(e){const t=H.a.getFileUploadProgress(e),a=p.a.cloneDeep(this.state.filesInProgressAttaching),i=a.findIndex(t=>t.id===e.file.id);i>-1&&a[i].progress<t&&(a[i].progress=t,this.setState({filesInProgressAttaching:a}))}}handleAttachedFilesChange(e){if(!Array.isArray(e)||0===e.length)return;const t=this.state.filesInProgressAttaching.map(t=>{const a=e.find(e=>e.id===t.id);return void 0===a?t:Object.assign({},t,a)});this.setState({filesInProgressAttaching:t})}handleAttachedFilesBegin(e){if(!Array.isArray(e)||0===e.length)return;let t=p.a.cloneDeep(this.state.filesInProgressAttaching),a=[];e.forEach(e=>{-1===t.findIndex(t=>t.s3_name===e.s3_name)&&(e.progress=0,a.push(e))}),t=t.concat(a),this.setState({filesInProgressAttaching:t})}handleDismissAttachmentClick(e){const t=e.target.getAttribute("data-attachment-id"),a=p.a.cloneDeep(this.state.attachedFiles),i=p.a.cloneDeep(this.state.filesInProgressAttaching);let s=a.findIndex(e=>e.id===t);-1!==s&&a.splice(s,1),s=i.findIndex(e=>e.id===t),-1!==s&&i.splice(s,1);const r=window["abort_axios_".concat(t)];r&&(r.cancel("del_attached_file"),delete window["abort_axios_".concat(t)]),this.setState({attachedFiles:a,filesInProgressAttaching:i,removeFile:t})}handleAttachedImageChange(e){this.props.LibraryActions.resizeBadgeImage(e.s3_key).then(()=>{this.setState({badgeImage:"".concat(u.a.TEACHER_BADGES_BUCKET_URL).concat(e.s3_key)})}).catch(e=>{F.a.notifyBugsnag(e,"AddItemModal.resizeBadgeImage")})}handleAttachedImageBegin(){this.setState({badgeImage:ee.a})}libraryCreateQuiz(e,t){window.open(t,"_self"),this.props.libraryPageTrackingActions.libraryCreateQuizClick()}createNewLibraryItemSubmit(e){let t,a=parseInt(this.props.currentFolderId,10);if(this.props.fromGroupPage&&(a=parseInt(this.props.currentGroupFolderId,10)),"file"===e)this.state.filesInProgressAttaching.forEach(e=>{t={s3_name:e.s3_name,size:e.size,name:e.file_name};const i={type:"file",parent_id:a,item:t,name:e.file_name,owner_type:"user",owner_id:this.props.currentUserId};E.a.isValid(this.props.accessToken)&&(this.props.LibraryActions.createLibraryItem(this.props.history,i,this.props.startingLocation,null,null,this.props.fromGroupPage),this.props.libraryPageTrackingActions.libraryNewFileAdd()),this.props.toggleAddItemModal()});else if("folder"===e){t={name:this.props.newFolderFormValues.get("folderName")};const e={type:"folder",parent_id:a,start_level:this.props.newFolderFormValues.get("selectGrade"),subject_area:this.props.newFolderFormValues.get("selectSubjectArea"),item:t};E.a.isValid(this.props.accessToken)&&(this.props.LibraryActions.createLibraryItem(this.props.history,e,this.props.startingLocation,null,null,this.props.fromGroupPage),this.props.libraryPageTrackingActions.libraryNewFolderAdd()),this.props.toggleAddItemModal()}else if("badge"===e)if(this.props.newBadgeFormValues){const e=this.props.newBadgeFormValues.get("badgeTitle"),t=this.props.newBadgeFormValues.get("badgeDescription");if(p.a.trim(e)&&p.a.trim(t)&&""!==this.state.badgeImage&&this.state.badgeImage!==ee.a){if(X.a.hasAdminRights(this.props.currentUser)){const a=X.a.getAdministrableEntityIdAndType(this.props.currentUser),i=a.owner_id,s=a.owner_type,r={type:"badge",name:e,item:{title:e,description:t,image:this.state.badgeImage},owner_type:s,owner_id:i};E.a.isValid(this.props.accessToken)&&(this.props.LibraryActions.createLibraryItem(this.props.history,r,this.props.startingLocation),this.props.libraryPageTrackingActions.libraryNewBadgeAdd())}this.props.toggleAddItemModal(),this.setState({showBadgeValidationMessage:!1,badgeImage:""})}else this.setState({showBadgeValidationMessage:!0})}else this.setState({showBadgeValidationMessage:!0})}render(){const e=this.props,t=e.addItemModalOpen,a=e.toggleAddItemModal,i=e.selectAddItemtab,n=e.currentAddItemTab,l=e.newFolderFormValues,c=e.startingLocation,m=e.isBadgesPage,h=e.currentUser,b=e.abTests;let p=null;return p=1===n?s.a.createElement(U,{handleAttachedFilesChange:this.handleAttachedFilesChange,handleAttachedFilesBegin:this.handleAttachedFilesBegin,listOfAttachedFiles:this.state.attachedFiles,filesInProgressAttaching:this.state.filesInProgressAttaching,handleDismissAttachmentClick:this.handleDismissAttachmentClick,removeFile:this.state.removeFile,createNewLibraryItemSubmit:this.createNewLibraryItemSubmit,startingLocation:c}):2===n?s.a.createElement(j,{createNewLibraryItemSubmit:this.createNewLibraryItemSubmit,folderName:l&&l.get("folderName"),startingLocation:c,isTeacher:X.a.isTeacher(h)}):3===n?s.a.createElement(w,{toggleAddItemModal:a,handleAttachLinkTextBlur:this.handleAttachLinkTextBlur,getEmbedLinkInfo:this.getEmbedLinkInfo,setSelectedLinkByPollingWebpageApi:this.setSelectedLinkByPollingWebpageApi,selectedLink:this.state.selectedLink,isEmbed:!!this.state.selectedEmbedSrc,startingLocation:c,fromGroupPage:this.props.fromGroupPage}):4===n?s.a.createElement(Q,{libraryCreateQuiz:this.libraryCreateQuiz,abTests:b,quizOverviewActions:this.props.quizOverviewActions,history:this.props.history,translate:this.props.translate,currentUser:this.props.currentUser,pageNavActions:this.props.pageNavActions}):s.a.createElement(z.a,{createNewLibraryItemSubmit:this.createNewLibraryItemSubmit,handleAttachedImageChange:this.handleAttachedImageChange,handleAttachedImageBegin:this.handleAttachedImageBegin,badgeImage:this.state.badgeImage,showBadgeValidationMessage:this.state.showBadgeValidationMessage}),s.a.createElement(r.M,{toggle:a,isOpen:t,backdrop:this.state.backdrop,className:"qa-test-lib-add-item-modal lib-add-item-modal"},s.a.createElement(r.P,{toggle:a},s.a.createElement(d.default,{string:o.a.ADD_ITEM})),s.a.createElement(r.N,{className:"qa-test-library-add-container p-0"},s.a.createElement(r.db,null,s.a.createElement(r.s,{xs:"4",className:"library-add-container-left"},s.a.createElement(r.I,null,c!==te.a.ADMIN_TEACHER_BADGES&&s.a.createElement(s.a.Fragment,null,s.a.createElement(r.J,{action:!0,onClick:()=>i(1),className:g()({"selected-tab":1===n})},s.a.createElement(d.default,{string:o.a.FILE})),s.a.createElement(r.J,{action:!0,onClick:()=>i(2),className:g()({"selected-tab":2===n})},s.a.createElement(d.default,{string:o.a.FOLDER})),s.a.createElement(r.J,{action:!0,onClick:()=>i(3),className:g()({"selected-tab":3===n})},s.a.createElement(d.default,{string:o.a.LINK})),X.a.isTeacher(h)&&s.a.createElement(r.J,{action:!0,onClick:()=>i(4),className:g()({"selected-tab":4===n})},s.a.createElement(d.default,{string:o.a.QUIZ}))),m&&s.a.createElement(r.J,{action:!0,onClick:()=>i(5),className:g()({"selected-tab":5===n})},s.a.createElement(d.default,{string:"badge",fallbackString:"Badge"})))),s.a.createElement(r.s,{xs:"14",className:"item-modal-content-body library-add-container-right"},s.a.createElement("div",{className:"add-item-modal-content"},p)))))}}var ie=Object(n.a)(Object(l.connect)((function(e){return{currentUser:I.c(e),accessToken:I.d(e),currentUserId:I.g(e),abTests:J.a(e),currentFolderId:f.d(e),currentGroupFolderId:f.f(e),newFolderFormValues:Object(m.getFormValues)("createNewFolderForm")(e),newBadgeFormValues:Object(m.getFormValues)("createNewBadgeForm")(e),s3UploadProgress:Y.f(e,{name:u.a.LIBRARY})}}),(function(e){return{LibraryActions:Object(c.bindActionCreators)(L,e),libraryPageTrackingActions:Object(c.bindActionCreators)(y,e),quizOverviewActions:Object(c.bindActionCreators)(W,e),pageNavActions:Object(c.bindActionCreators)(Z,e)}}))(Object(K.a)(Object(_.a)(ae)))),se=a(1326);class re extends i.Component{constructor(e){super(e),this.state={dropdownOpen:!1,addItemModalOpen:!1,currentAddItemTab:1},this.toggleAddItemModal=this.toggleAddItemModal.bind(this),this.newLibraryBtnToggle=this.newLibraryBtnToggle.bind(this),this.selectAddItemtab=this.selectAddItemtab.bind(this),this.handleCreateFromMS=this.handleCreateFromMS.bind(this)}newLibraryBtnToggle(){this.setState({dropdownOpen:!this.state.dropdownOpen})}toggleAddItemModal(e){this.setState({addItemModalOpen:!this.state.addItemModalOpen},()=>{this.selectAddItemtab(e)})}selectAddItemtab(e){this.setState({currentAddItemTab:e})}handleCreateFromMS(e){const t=this.props,a=t.fromGroupPage,i=t.currentGroupFolderId,s=t.currentFolderId,r=(new Date).getTime(),n=window.open("","_blank",r),l=a?i:s;se.a(e,this.props.accessToken,this.props.LibraryActions,l,this.props.history,n),this.props.libraryPageTrackingActions.libraryNewFromMS(e)}render(){const e=this.state,t=e.addItemModalOpen,a=e.currentAddItemTab,i=this.props,n=i.startingLocation,l=i.isStudent,c=i.fromGroupPage,m=i.isBadgesPage,h=void 0!==m&&m;return s.a.createElement(s.a.Fragment,null,n===te.a.ADMIN_TEACHER_BADGES?s.a.createElement(r.c,{block:!0,className:"btn-primary admin-add-badge-btn qa-test-admin-add-badge-btn",color:"primary",onClick:()=>this.toggleAddItemModal(5)},s.a.createElement(d.default,{string:"add",fallbackString:"Add"})):s.a.createElement("div",null,s.a.createElement(r.w,{isOpen:this.state.dropdownOpen,toggle:this.newLibraryBtnToggle},s.a.createElement(r.z,{onClick:this.newLibraryBtnToggle,color:"primary",id:"qa-test-new-lib-btn-dropdown",className:"new-lib-btn-dropdown"},s.a.createElement(d.default,{string:o.a.NEW,fallbackString:"New"})),s.a.createElement(r.y,{id:"library-item-dropdown-menu",className:"dropdown-menu"},h&&s.a.createElement(r.x,{className:"qa-test-file-upload menu-item",onClick:()=>this.toggleAddItemModal(5)},s.a.createElement("div",{className:"new-lib-btn-icon add-file"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:"badge",fallbackString:"Badge"}))),s.a.createElement(r.x,{className:"qa-test-file-upload menu-item",onClick:()=>this.toggleAddItemModal(1)},s.a.createElement("div",{className:"new-lib-btn-icon add-file"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:o.a.FILE_UPLOAD}))),s.a.createElement(r.x,{className:"qa-test-new-folder menu-item",onClick:()=>this.toggleAddItemModal(2)},s.a.createElement("div",{className:"new-lib-btn-icon add-folder"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:o.a.NEW_FOLDER}))),s.a.createElement(r.x,{className:"qa-test-add-link menu-item",onClick:()=>this.toggleAddItemModal(3)},s.a.createElement("div",{className:"new-lib-btn-icon add-link"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:o.a.LINK}))),!l&&s.a.createElement(r.x,{className:"qa-test-add-quiz menu-item",onClick:()=>this.toggleAddItemModal(4)},s.a.createElement("div",{className:"new-lib-btn-icon add-quiz"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:o.a.QUIZ}))),s.a.createElement(r.x,{divider:!0}),s.a.createElement(r.x,{className:"qa-test-msword menu-item",onClick:()=>this.handleCreateFromMS(".docx")},s.a.createElement("div",{className:"new-lib-btn-icon add-msword"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:o.a.WORD_DOC}))),s.a.createElement(r.x,{className:"qa-test-excel menu-item",onClick:()=>this.handleCreateFromMS(".xlsx")},s.a.createElement("div",{className:"new-lib-btn-icon add-msexcel"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:o.a.EXCEL}))),s.a.createElement(r.x,{className:"qa-test-presentation menu-item",onClick:()=>this.handleCreateFromMS(".pptx")},s.a.createElement("div",{className:"new-lib-btn-icon add-presentation"}),s.a.createElement("div",{className:"menu-item-title"},s.a.createElement(d.default,{string:o.a.PPT})))))),t&&s.a.createElement(ie,{addItemModalOpen:t,toggleAddItemModal:this.toggleAddItemModal,selectAddItemtab:this.selectAddItemtab,currentAddItemTab:a,startingLocation:n,isBadgesPage:h,fromGroupPage:c}))}}t.a=Object(n.a)(Object(l.connect)((function(e,t){return{accessToken:I.d(e),currentFolderId:f.d(e),currentGroupFolderId:f.f(e)}}),(function(e){return{LibraryActions:Object(c.bindActionCreators)(L,e),libraryPageTrackingActions:Object(c.bindActionCreators)(y,e)}}))(re))},2251:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABGdBTUEAALGPC/xhBQAAAP1JREFUGBlVkD1OQlEQhedchBBeYSUVobFkAwYrWYDGF2xepGABxs7CLdhCRWGh2KBS2WrpBqB0A9J6X/IMOM658pLrNPdnvjlzZuDT7EUEuw11KeZ3nxKFT8+PRXSsoteOkKoeemxe9XTQLLkt9Gi5FoA69Gy45zfFm6h0BLJMtNLLoQemRKjqBDeN+fQKVKASFQnbx4cA7RgiE8AAm3K+Lt5VZD8kIKPk+eGCd4Z5/Itciy6VyrcVHMWeA+j72Yn8YMZ2MCUrWNBGPKAL020hGme7pFLr/YPNlinanqLp2Bqz21UM5+vvS3yl2YB7Sp6mk9JfeXJ1hHZc9f4XHbp998l8+oMAAAAASUVORK5CYII="},2252:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAXCAYAAAD3CERpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAALISURBVEhLtZZbSJNhGMf/+7Y5D7N5yjIPNaw0K6c4g4IkUhIKSowu0vSipMO1VApJoCZJdJEQlJcKZtqFhRV40YXaadqEjLXylHZQp0ab1qY79b6vb4qNOQ/b77t5vuf/8f15eZ/neV+RkwAf43Da0faxFoqASOxXnoTA8z6l9UMNOgcb0T3Syt59bvpqsBma4RZIBD+cSC5mOZ+a6sdf4rnuLotzU0oRF7qHxT4zHTX24aG2HE7yZCWcQ/KWw1zxkanJPIG6rhJY7RakxGTj0I5CrszjddM5mxn1XaWYtkxiW5gKOcmXubKIV00dTgeaeiowaupDeFAM8tSVpICkXF3Eq6a0aGjxBEiDUZBejUC/DVxZitdM335pweuhRxCLJGSFNxAhj+GKK14x7TNoyAC4w+Ic1RUow1Usdofw2fAGLe9vwTw3zVOrY9w0iEbtddIYDlalqaRaPSH0/njBxlPDuzLYHTaeXhkzsz9Rp7mKWdsf0oeZyNx5livLI2QlFEEuC8PQVA8e997mac9Y7bOo15TCaDGQSbMbuaoSiEQiri6PQCd/QfpNSAUZtF+fob2/gUvuoQdTc08lvhv1CA2MQr66ChKxH1c9wwopOiQBp1KvsUSb/j50o+0sdkebvha6sXb4S+Qo3FeNIFkIV1bGQvUmRWXgSOIFFrNV/PrE4v/pHnmKjoEGCCIxTqvLsVG+lSsrZ0nLZGzPQ1rsUVgdZL/I7DSaDVyZZ2BSiyd834/vLUZ8RBqLV4tLn9KfKcNTWWXSGUorkzIxM4wH3WXsFnAwPg/quGMsvxZcTMUCmShpFYgIisWYqR9N2oqF1rDYZpC0mW7Def712nB7R5r6/Q33Oi/BbDWxWWq2TiNakYiiAzWQimX8q7XhstJ/0FMin5wSdJZSQ4V/JM6kV63bkOLxNqgb62ATK3vXRWwKVvLsegD+Aoh6+PibZx+7AAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=21.bdb60a8b.chunk.js.map