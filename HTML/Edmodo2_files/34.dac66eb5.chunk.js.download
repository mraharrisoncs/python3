(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[34],{1203:function(e,t){e.exports={white:{0:"#fff"},black:{0:"#1c1e27"},gray:{3:"#f4f4f7",5:"#ebebef",7:"#e1e1e7",10:"#ccced7",20:"#abaeba",30:"#8b8e9f",40:"#73778b",50:"#5c6178",60:"#4f5468",70:"#3e4253",80:"#2e313e",90:"#1c1e27"},blue:{5:"#e9ebff",10:"#c7cdff",20:"#a0aeff",30:"#738dff",40:"#4b71ff",50:"#0055ff",60:"#004cf3",70:"#0040e6",80:"#0034db",90:"#001acb"},coral:{5:"#ffeff1",10:"#ffd6d9",20:"#f8a9a5",30:"#f28882",40:"#ff6f61",50:"#ff6347",60:"#f75c48",70:"#e45241",80:"#d74c3b",90:"#c8422f"},cyan:{5:"#dff6ff",10:"#aee7fe",20:"#74d7ff",30:"#24c7ff",40:"#00bbff",50:"#00aeff",60:"#009ff1",70:"#008cdd",80:"#007bc9",90:"#005ba7"},gold:{5:"#fff8e1",10:"#ffecb3",20:"#ffe082",30:"#ffd54f",40:"#ffca28",50:"#ffc107",60:"#ffb300",70:"#ffa000",80:"#ff8f00",90:"#ff6f00"},green:{5:"#e3fdeb",10:"#bcf8cc",20:"#8af4ab",30:"#3df085",40:"#00ea65",50:"#00e14c",60:"#00d041",70:"#00bc33",80:"#00aa27",90:"#00890e"},indigo:{5:"#e8eaf6",10:"#c5cae9",20:"#9fa8da",30:"#7986cb",40:"#5c6bc0",50:"#3f51b5",60:"#3949ab",70:"#303f9f",80:"#283593",90:"#1a237e"},olive:{5:"#f6fbe7",10:"#e8f3c3",20:"#d9ec9d",30:"#cbe476",40:"#c0de59",50:"#b7d83d",60:"#acc636",70:"#9cb02e",80:"#8d9926",90:"#737317"},orange:{5:"#fde9e7",10:"#ffccbd",20:"#ffab92",30:"#ff8966",40:"#ff6e45",50:"#ff5224",60:"#ff4c20",70:"#f1451b",80:"#e33d16",90:"#ca2f0b"},pink:{5:"#fae3ff",10:"#f1b9fe",20:"#e787fe",30:"#dc49ff",40:"#d200ff",50:"#c200f3",60:"#af00ee",70:"#9400e9",80:"#7b00e3",90:"#6b00d8"},purple:{5:"#efe9fd",10:"#d5cafa",20:"#b9a6f7",30:"#9b81f5",40:"#8264f2",50:"#6748ee",60:"#5a43e7",70:"#483bde",80:"#3435d7",90:"#331cdc"},red:{5:"#ffe9ee",10:"#ffc9d1",20:"#fa9197",30:"#f3636e",40:"#ff3348",50:"#ff002a",60:"#e40025",70:"#dc0024",80:"#d8001d",90:"#c80010"},yellow:{5:"#feffe7",10:"#fbfdc1",20:"#f7fa95",30:"#f2f765",40:"#fbff48",50:"#f7fa06",60:"#fcea00",70:"#ffd100",80:"#ffb700",90:"#ff8c00"}}},1208:function(e,t,a){"use strict";a.d(t,"r",(function(){return I})),a.d(t,"g",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"j",(function(){return E})),a.d(t,"q",(function(){return _})),a.d(t,"o",(function(){return A})),a.d(t,"x",(function(){return S})),a.d(t,"b",(function(){return g})),a.d(t,"B",(function(){return L})),a.d(t,"H",(function(){return C})),a.d(t,"I",(function(){return N})),a.d(t,"C",(function(){return T})),a.d(t,"A",(function(){return y})),a.d(t,"e",(function(){return D})),a.d(t,"n",(function(){return R})),a.d(t,"i",(function(){return b})),a.d(t,"T",(function(){return O})),a.d(t,"J",(function(){return P})),a.d(t,"p",(function(){return w})),a.d(t,"h",(function(){return V})),a.d(t,"k",(function(){return k})),a.d(t,"R",(function(){return M})),a.d(t,"S",(function(){return U})),a.d(t,"m",(function(){return x})),a.d(t,"z",(function(){return G})),a.d(t,"G",(function(){return H})),a.d(t,"a",(function(){return B})),a.d(t,"l",(function(){return F})),a.d(t,"E",(function(){return Y})),a.d(t,"K",(function(){return W})),a.d(t,"L",(function(){return j})),a.d(t,"w",(function(){return q})),a.d(t,"u",(function(){return K})),a.d(t,"v",(function(){return $})),a.d(t,"t",(function(){return z})),a.d(t,"s",(function(){return X})),a.d(t,"F",(function(){return Z})),a.d(t,"y",(function(){return J})),a.d(t,"c",(function(){return Q})),a.d(t,"D",(function(){return ee})),a.d(t,"d",(function(){return te})),a.d(t,"N",(function(){return ae})),a.d(t,"P",(function(){return ne})),a.d(t,"M",(function(){return se})),a.d(t,"Q",(function(){return re})),a.d(t,"O",(function(){return ie}));var n=a(241),s=a.n(n),r=a(181),i=a(0),l=a(225),c=a(817),d=a.n(c),o=a(11),u=a.n(o),h=(a(5),a(1720)),p=a.n(h);const I=(e,t)=>{switch(e){case r.a.REQUIRED:return t("required","Required");case r.a.INVALID_EMAIL:return t("status-invite-0","Invalid email address");case r.a.DUPLICATE_EMAIL:return t("duplicate-email","Email has already been added");case r.a.INVALID_RESOURCE_TITLE:return t("invalid-resource-title","These characters are not allowed &, *, =, +, @, $, ^, %, . , /, <, >, #, {, }, |, ~");case r.a.PLEASE_SELECT_RESOURCE_TITLE:return t("please-select-resource-title","Please add title");case r.a.INVALID_US_CA_PHONE_NUMBER:case r.a.INVALID_PHONE_NUMBER:return t("please_enter_a_valid_phone_no","Please enter a valid phone number");case r.a.INVALID_WEBSITE:return t("please_enter_a_valid_website","Please enter a valid website");case r.a.INVALID_ZIP:return t("please_enter_a_valid_zip_code","Please enter a valid zip code");case r.a.INVALID_INSTITUTION_NAME:return t("please_enter_a_valid_name","Please enter a valid name");case r.a.TOO_MANY_EMAILS_ENTERED:return t("exceed-num-of-parents-invited","You have exceeded the number of parents you can connect per child.");case r.a.INVALID_PASSWORD:return t("invalid-password","Must be 6+ characters");case r.a.PASSWORD_DOESNT_MATCH:return t("doesnt-match","Passwords don't match");case r.a.PLEASE_ENTER_PROFILE_URL:return t("please-enter-profile-url","Please enter a profile url.");case r.a.PLEASE_ENTER_PASSWORD:return t("please-enter-password","Please enter password");case r.a.INVALID_FIRST_NAME:return t("invalid-first-name","Invalid first name");case r.a.INVALID_LAST_NAME:return t("invalid-last-name","Invalid last name");case r.a.INVALID_PROFILE_URL:return t("invalid-profile-url","Invalid profile url");case r.a.INVALID_LENGTH_TOO_LONG:return t("invalid-max-length-too-long","Input is too long");case r.a.PRIMARY_SECONDARY_EMAIL_SAME:return t("primary-secondary-email-same","Your primary and secondary emails cannot be the same.");case r.a.USER_ALREADY_CONNECTED:return t("parent-already-connected-with-student","You are already connected with this student.");case r.a.INVALID_CODE:return t("invalid-code","Invalid Code");case r.a.ALREADY_IN_CLASS:return t("parent-already-joined-class","You have already joined this class");case r.a.CHILD_IN_GROUP:return t("child-already-in-class","You are already connected to this class through your child.");case r.a.INVALID_DEGREE_TITLE:return t("invalid-degree-title","Invalid degree title");case r.a.INVALID_SCHOOL_NAME:return t("invalid-school-name","Invalid school name");case r.a.INVALID_DAY_HOURS:return t("invalid-day-hours","Invalid day/hours");case r.a.INVALID_CLASS_PERIOD:return t("invalid-class-period","Invalid class period");case r.a.INVALID_CLASS_SUBJECT:return t("invalid-class-subject","Invalid class subject");case r.a.INVALID_BUILDING_ROOM:return t("invalid-building-room","Invalid building/room");case r.a.INVALID_RECIPIENTS:return t("no-receiver-err","Select recipients for your message");case r.a.PROFILE_URL_CANNOT_BE_NUMERIC:return t("profile-url-non-numeric","Profile url cannot be numeric");case r.a.ALREADY_MEMBER_OF_GROUP:return t("already_member_of_group","You are already a member of this group");case r.a.UNTITLED_IN_RESOURCE_TITLE:return t("untitled-in-resource-title","Please provide meaningful quiz title");case r.a.INVALID_INPUT_TEXT:return t("html-tags-not-allowed","HTML tags are not allowed.");case r.a.INVALID_MAXLENGTH_TITLE:return t("max-lenght-less-than-count","Ensure this value has at most %{count} characters.",{count:80});case r.a.INVALID_MAXLENGTH_DESC:return t("max-lenght-less-than-count","Ensure this value has at most %{count} characters.",{count:4e3});case r.a.INVALID_MAXLENGTH_NOTE:return t("max-lenght-less-than-count","Ensure this value has at most %{count} characters.",{count:512});case r.a.SHOULD_NOT_HAVE_SPECIAL_CHAR:return t("invalid-collection-name","These characters are not allowed &, *, =, +, @, $, ^, %, ., /, <, >, #, {, }, |, ~");case r.a.SHOULD_NOT_HAVE_SOME_SPECIAL_CHAR:return t("invalid-some-special-char-in-desc","These characters are not allowed @, $, ^, %, <, >, #, {, }, |, ~");case r.a.DESC_NOT_HAVE_SPECIAL_CHAR:return t("invalid-special-char-in-desc","These characters are not allowed {, }, ~");case r.a.INVALID_MIN_WORDS_DESC:return t("min-word-length-description-message","Description must be of minimum 15 words");case r.a.INVALID_MIN_CHARS_DESC:return t("min-char-length-description-message","Description must be of minimum 15 chars");case r.a.INVALID_SHARE_LINK:return t("invalid-url","Enter valid Url");case r.a.INVALID_PRICE:return t("invalid-price-msg","Price must be numeric");case r.a.INVALID_MIN_PRICE_USD:return t("invalid-min-price-msg","Minimum price for this currency is %{minPrice}",{minPrice:"0.99"});case r.a.INVALID_MIN_PRICE_GBP:return t("invalid-min-price-msg","Minimum price for this currency is %{minPrice}",{minPrice:"1.00"});case r.a.INVALID_MIN_PRICE_JPY:return t("invalid-min-price-msg","Minimum price for this currency is %{minPrice}",{minPrice:"150.00"});case r.a.FULL_PRICE_LESS_THAN_PRICE:return t("invalid-full-price-msg","Full price should not be less than Price");case r.a.INVALID_PRICE_DECIMAL_PLACE:return t("invalid-price-decimal-place","Only two digit after decimal digits allowed");case r.a.INVALID_PRICE_MAXLENGTH:return t("invalid-price-maxlenght-numeric","Only eight digit numeric allowed");case r.a.INVALID_PRICE_NUMERIC:return t("invalid-price-msg","Price must be numeric");case r.a.ALLOWED_TO_RATE_ONCE:return t("allowed-to-rate-once","You are allowed to rate once.");case r.a.EMAIL_TAKEN:return t("email-taken","Email is already taken.");default:return t("required","Required")}},m=e=>{if(e&&(0===e.length||!e.trim())||!e)return r.a.REQUIRED},f=e=>{if(!e||0===e.length)return r.a.INVALID_RECIPIENTS},E=e=>{if(!e)return r.a.PLEASE_SELECT_GRADE},_=e=>{if(!e)return r.a.PLEASE_SELECT_SUBJECT},A=e=>{if(!e)return r.a.PLEASE_SELECT_SCHOOL_CLASS_OWNER},S=e=>e&&!r.a.EMAIL_REGEXP.test(e)?r.a.INVALID_EMAIL:void 0,g=e=>!!e&&r.a.EMAIL_REGEXP.test(e),L=e=>e&&!/([+]?\d{1,2}[(.-\s]?)?(\d{2,3}[).-]?){2}\d{3,4}/.test(e)?r.a.INVALID_PHONE_NUMBER:void 0,C=e=>e&&!/^((https?|ftp|smtp):\/\/)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/.test(e)?r.a.INVALID_WEBSITE:void 0,N=e=>e&&!/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)?r.a.INVALID_ZIP:void 0,T=e=>{const t=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return e.ip_start||e.ip_end?!e.ip_start||e.ip_start&&!t.test(e.ip_start)?r.a.INVALID_START_IP:!e.ip_end||e.ip_end&&!t.test(e.ip_end)?r.a.INVALID_END_IP:void 0:r.a.EMPTY_IP_RANGE},y=e=>{const t=p()("^[\\pL0-9 :'_-]{1,100}$");return e&&!t.test(e)?r.a.INVALID_INSTITUTION_NAME:void 0},D=e=>e&&isNaN(Number(e))?r.a.MUST_BE_A_NUMBER:void 0,R=e=>e&&/[&*=+@$^%./<>#{}|~]/.test(e)?r.a.INVALID_RESOURCE_TITLE:e&&e.toLowerCase().includes("untitled")?r.a.UNTITLED_IN_RESOURCE_TITLE:!e&&r.a.PLEASE_SELECT_RESOURCE_TITLE,b=e=>e&&/[{}~]/.test(e)?r.a.INVALID_DESCRIPTION:!e&&r.a.PLEASE_ADD_DESCRIPTION,O=e=>{if(e)return v(e)?void 0:r.a.INVALID_US_CA_PHONE_NUMBER},v=e=>{if(!e)return!1;const t=new s.a(e);return!!t.isValid(e)||t.isValid(e)},P=e=>{if(!e)return;const t=e.split(",");if(t&&t.length>10)return r.a.TOO_MANY_EMAILS_ENTERED;for(let a=0;a<t.length;a++)if(!r.a.EMAIL_REGEXP.test(t[a].trim()))return r.a.INVALID_EMAIL},w=e=>{if(!e)return r.a.PLEASE_SELECT_SUBJECT},V=e=>{if(!e)return r.a.PLEASE_CHOOSE_COUNTRY},k=(e,t)=>{if(!e&&t&&t.revalidateAddSchoolForm)return r.a.REQUIRED},M=e=>{let t=!1;return!e||d()(e)?t=r.a.REQUIRED:e&&e.length<6&&(t=r.a.INVALID_PASSWORD),t},U=e=>{if(!i.Map.isMap(e))return;const t={},a=e.get("currentPassword")&&e.get("currentPassword").trim(),n=e.get("newPassword")&&e.get("newPassword").trim(),s=e.get("confirmPassword")&&e.get("confirmPassword").trim();return a||(t.currentPassword=r.a.REQUIRED),n?n&&n.length<6&&(t.newPassword=r.a.INVALID_PASSWORD):t.newPassword=r.a.REQUIRED,s?n&&s&&n!==s&&(t.confirmPassword=r.a.PASSWORD_DOESNT_MATCH):t.confirmPassword=r.a.REQUIRED,t},x=e=>{if(!e)return r.a.PLEASE_ENTER_PROFILE_URL},G=e=>{let t=!1;return(e&&!e.trim()||!e||6!==e.length)&&(t=r.a.INCORRECT_CODE),t},H=e=>{let t=!1;return(e&&!e.trim()||!e||e.length>25||e.length<3||!/^[a-zA-Z0-9][a-zA-Z0-9_-]+[a-zA-Z0-9]$/.test(e))&&(t=r.a.INVALID_USERNAME),t},B=e=>{if(e&&!e.trim()||!e)return r.a.INCORRECT_CODE},F=e=>{if(e&&!e.trim()||!e)return r.a.PLEASE_ENTER_PASSWORD},Y=e=>/^[a-z0-9]+([-]{1}[a-z0-9]+)*$/i.test(e)?isNaN(Number(e))?void 0:r.a.PROFILE_URL_CANNOT_BE_NUMERIC:r.a.INVALID_PROFILE_URL,W=(e,t)=>{if(!i.Map.isMap(e)||!t||!i.Map.isMap(t.initialValues))return;const a={},n=e.get("email")&&e.get("email").trim(),s=e.get("secondary_email")&&e.get("secondary_email").trim(),l=t&&t.initialValues.get("email");return n&&s&&n===s&&(l!==n?a.email=r.a.PRIMARY_SECONDARY_EMAIL_SAME:a.secondary_email=r.a.PRIMARY_SECONDARY_EMAIL_SAME),a},j=e=>{if(!i.Map.isMap(e))return;const t={},a=l.a.getListOfMonths(),n=e.get("currently_working"),s=e.get("end_year")&&parseInt(e.get("end_year")),c=e.get("start_year")&&parseInt(e.get("start_year"));var d=0,o=0;const h=u()();a.map((t,a)=>(t[1]===e.get("starting_month")?o=a:t[1]===e.get("ending_month")&&(d=a),t));const p=u()().date(1).month(o).year(c),I=u()().date(1).month(d).year(s);return n?u()(p).isAfter(h)&&(t.starting_month=r.a.SELECTED_FUTURE_MONTH):u()(p).isAfter(I)?t.end_year=r.a.END_BEFORE_START:u()(p).isAfter(h)?t.starting_month=r.a.SELECTED_FUTURE_MONTH:u()(I).isAfter(h)?t.ending_month=r.a.SELECTED_FUTURE_MONTH:u()(p).isSame(I)&&(t.end_year=r.a.END_BEFORE_START),t},q=e=>/^[-+.,:/ \w\W]+$/.test(e)?e.length>100?r.a.INVALID_LENGTH_TOO_LONG:void 0:r.a.INVALID_DEGREE_TITLE,K=e=>/^[-+.,:()"'/ \w\W]+$/.test(e)?e.length>50?r.a.INVALID_LENGTH_TOO_LONG:void 0:r.a.INVALID_CLASS_SUBJECT,$=e=>/^[-+.,:()"'/ \w\W]+$/.test(e)?e.length>50?r.a.INVALID_LENGTH_TOO_LONG:void 0:r.a.INVALID_DAY_HOURS,z=e=>{if(!/^(?=.{1,35}$)[a-zA-Z0-9]+(?:['_.\s][a-zA-Z0-9]+)*$/.test(e))return r.a.INVALID_CLASS_PERIOD},X=e=>/^[-+.,:()"'/ \w\W]+$/.test(e)?e.length>15?r.a.INVALID_LENGTH_TOO_LONG:void 0:r.a.INVALID_BUILDING_ROOM,Z=e=>/^[-+.,:/ \w\W]+$/.test(e)?e.length>80?r.a.INVALID_LENGTH_TOO_LONG:void 0:r.a.INVALID_SCHOOL_NAME,J=e=>{if(/<.*>/.test(e))return r.a.INVALID_FIRST_NAME},Q=e=>{let t=!1;return/<.*>/.test(e)&&(t=!0),t},ee=e=>{if(/<.*>/.test(e))return r.a.INVALID_LAST_NAME},te=e=>{let t=!1;return/<.*>/.test(e)&&(t=!0),t},ae=e=>{if(/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/.test(e))return r.a.INVALID_INPUT_TEXT},ne=e=>{if(e&&e.length>512)return r.a.INVALID_MAXLENGTH_NOTE},se=e=>{if(/[{}~]/.test(e))return r.a.DESC_NOT_HAVE_SPECIAL_CHAR},re=e=>{if(e&&e.length>256)return r.a.INVALID_MAXLENGTH_SHORT_DESC},ie=e=>{if(e&&e.length>2e3)return r.a.INVALID_MAXLENGTH_LONG_DESC}},1264:function(e,t,a){"use strict";t.a={LIBRARY:"library",CSS_DISPLAY_NONE:"d-none",CHAT:"chat",PEOPLE:"people",SCHOOLS:"schools"}},1268:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r}));const n=e=>{const t={0:"#666",1:"#3784d3",5:"#e66838",6:"#4cb855"};return t[e]||t[0]},s=e=>-1!==[2,7].indexOf(e),r=e=>-1!==[0,2,7,20].indexOf(e)},1297:function(e,t,a){"use strict";var n=a(4),s=a.n(n),r=a(133),i=a(5),l=a.n(i),c=a(515),d=a.n(c),o=a(1264),u=a(113),h=a(100),p=a(120),I=a(121),m=a(73),f=a(369),E=a(1476),_=a(1636),A=a(45),S=a(36);t.a=e=>t=>{class a extends n.Component{constructor(e,t){super(e,t),this.state={selectedItemsList:[],typeAheadItems:[],typeAheadInputValue:e.context===u.a.PROFILE_PAGE?e.typeAheadInputValue:"",highlightedIndex:0,currentSelectableListClassNames:["qa-test-suggestion-container","suggestion-container",o.a.CSS_DISPLAY_NONE],inputBox:null,skipCache:!0},this.handleRemoveTypeAheadItemClick=this.handleRemoveTypeAheadItemClick.bind(this),this.handleTypeAheadInputChange=this.handleTypeAheadInputChange.bind(this),this.fetchResults=this.fetchResults.bind(this),this.debouncedFetchResults=d()(this.fetchResults,300),this.handleTypeAheadInputFocus=this.handleTypeAheadInputFocus.bind(this),this.handleTypeAheadItemClick=this.handleTypeAheadItemClick.bind(this),this.handleGroupConversationClicked=this.handleGroupConversationClicked.bind(this),this.runSelectedChangeCallback=this.runSelectedChangeCallback.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleTypeAheadBlur=this.handleTypeAheadBlur.bind(this),this.turnOffSelectableList=this.turnOffSelectableList.bind(this),this.turnOnSelectableList=this.turnOnSelectableList.bind(this),this.handleRemoveTypeAheadItemDirect=this.handleRemoveTypeAheadItemDirect.bind(this),this.getTypeAheadInputValue=this.getTypeAheadInputValue.bind(this)}handleKeyDown(t){if(t.keyCode!==_.a.BACKSPACE||this.state.typeAheadInputValue)if(t.keyCode===_.a.TAB||t.keyCode===_.a.ENTER){t.preventDefault();let a=l.a.cloneDeep(this.state.selectedItemsList);if(!this.state.typeAheadItems||!this.state.typeAheadItems.length)return;let n=this.state.typeAheadItems[this.state.highlightedIndex];if(n=e.setSelectedItemBackground(n,this.props.defaultBackgroundColor),e.itemAlreadySelected(n,a))return;this.addItemToSelectedList(a,n)}else t.keyCode===_.a.DOWN_ARROW?(t.preventDefault(),this.state.typeAheadItems&&this.setState({highlightedIndex:Math.min(this.state.highlightedIndex+1,this.state.typeAheadItems.length-1)})):t.keyCode===_.a.UP_ARROW&&(t.preventDefault(),this.setState({highlightedIndex:Math.max(this.state.highlightedIndex-1,0)}));else{let e=l.a.cloneDeep(this.state.selectedItemsList);e.pop(),this.setState({selectedItemsList:e},this.runSelectedChangeCallback)}}componentDidMount(){if(this.props.setDefaultSelected&&this.props.setDefaultSelected())this.setState({selectedItemsList:this.props.setDefaultSelected()},this.runSelectedChangeCallback);else{let t;e.setDefaultSelected?(t=this.props.prefilledRecipient?e.setDefaultSelected(this.props.prefilledRecipient):e.setDefaultSelected(this.props.currentGroup,this.props.groupMemberships),t&&this.setState({selectedItemsList:t},this.runSelectedChangeCallback)):this.props.selectedItemsList&&this.setState({selectedItemsList:this.props.selectedItemsList},this.runSelectedChangeCallback)}}componentWillUnmount(){this.debouncedFetchResults.cancel()}UNSAFE_componentWillReceiveProps(t){if(t.reset&&(this.reset(),this.props.resetCompleted()),this.props.setDefaultSelected&&this.props.setDefaultSelected())this.setState({selectedItems:this.props.setDefaultSelected()});else if(e.setDefaultSelected&&t.currentGroup&&t.groupMemberships){const a=e.setDefaultSelected(t.currentGroup,t.groupMemberships);a&&this.setState({selectedItemsList:a},this.runSelectedChangeCallback)}t.prefilledRecipient!==this.props.prefilledRecipient&&this.setState({selectedItemsList:[t.prefilledRecipient]},this.runSelectedChangeCallback),t.context===u.a.PROFILE_PAGE&&t.typeAheadInputValue&&this.setState({typeAheadInputValue:t.typeAheadInputValue})}handleTypeAheadBlur(){(this.props.context!==I.a.SCHOOL_TYPEAHEAD||0===this.state.typeAheadInputValue.length)&&this.turnOffSelectableList();const e=this.getTypeAheadInputValue();this.setState({typeAheadInputValue:e},()=>{this.state.inputBox&&!this.props.context&&(this.state.inputBox.focus(),this.setState({inputBox:null}))}),this.props.context&&this.props.context===u.a.PROFILE_PAGE&&""===e&&this.runSelectedChangeCallback([])}handleRemoveTypeAheadItemClick(t){const a=t.currentTarget.getAttribute("data-uid"),n=t.currentTarget.getAttribute("data-title"),s=t.currentTarget.getAttribute("data-itemtype");let r=l.a.cloneDeep(this.state.selectedItemsList);r=r.filter(t=>e.excludeSelectableItemsByTarget({selectedId:a,selectedTitle:n,selectedItemType:s},t)),this.props.context&&this.props.context===u.a.PROFILE_PAGE?this.setState({selectedItemsList:r}):this.setState({selectedItemsList:r},this.runSelectedChangeCallback)}handleRemoveTypeAheadItemDirect(t){let a=l.a.cloneDeep(this.state.selectedItemsList);a=a.filter(a=>e.excludeSelectableItemsByTarget({selectedId:t},a)),this.setState({selectedItemsList:a})}handleTypeAheadInputFocus(){this.handleTypeAheadInputChange()}handleTypeAheadInputChange(e){const t=this.state.skipCache,a=e?e.target.value:"";this.turnOnSelectableList();let n=this.props.queryParams||{};n=Object.assign({},n,{query:a,combined:!0,include_members:!0}),!this.props.context||this.props.context!==h.a.SHARE_DISCOVER_APP&&this.props.context!==p.a.SPOTLIGHT_PRODUCT_PAGE||(n.type="group"),this.props.context&&this.props.context===h.a.SHARE_WELLNESS_POLL&&(n.type="student_group"),n.skip_cache=t,this.debouncedFetchResults(n),this.setState({typeAheadInputValue:a,inputBox:e?e.target:null})}fetchResults(t){let a=[],n=[];const s=t&&"group,parent_group"===t.type;this.props.showDefaultSelectableRecipients&&e.makeDefaultSelectableRecipient&&this.props.translate&&(a=e.makeDefaultSelectableRecipient(this.props.translate,s)),this.props.apiRequestMethod(this.props.configInfo,this.props.accessToken,t).then(t=>{a=a.concat(t.data),e.usageContext===o.a.LIBRARY&&(a=E.a.filterOutParents(a)),e.usageContext===o.a.CHAT&&(a=E.a.filterOutGroupConversations(a),n=E.a.filterGroupConversations(t.data)),this.props.filterBy&&(a=this.props.filterBy(a)),this.setState({typeAheadItems:a,typeAheadGroupConversationItems:n,skipCache:!1})}).catch(e=>{e&&(Object(A.a)(e),S.a.notifyBugsnag(e,"TypeAheadSearchFactory.apiRequestMethod"))})}handleTypeAheadItemClick(t){const a=t.currentTarget.getAttribute("data-uid"),n=t.currentTarget.getAttribute("data-title"),s=t.currentTarget.getAttribute("data-itemtype"),r=l.a.cloneDeep(this.state.selectedItemsList);let i=this.state.typeAheadItems.find(t=>e.findSelectableItemByTarget({selectedId:a,selectedTitle:n,selectedItemType:s},t));i&&(i=e.setSelectedItemBackground(i,this.props.defaultBackgroundColor),e.itemAlreadySelected(i,r)||this.addItemToSelectedList(r,i))}handleGroupConversationClicked(e,t){e.preventDefault(),this.props.handleGroupConversationClicked(e,t),console.log("chat_room=",t)}addItemToSelectedList(e,t){e.push(t),this.setState({selectedItemsList:e},this.runSelectedChangeCallback),this.resetTypeAhead()}reset(){this.setState({selectedItemsList:[]})}runSelectedChangeCallback(e){this.props.selectedItemsChangeCb&&this.props.selectedItemsChangeCb(this.state.selectedItemsList,e),this.props.input&&this.props.input.onChange&&this.props.input.onChange(this.state.selectedItemsList)}resetTypeAhead(){this.setState({typeAheadInputValue:this.props.context===u.a.PROFILE_PAGE?this.props.typeAheadInputValue:"",typeAheadItems:null,highlightedIndex:0})}turnOffSelectableList(){const e=l.a.cloneDeep(this.state.currentSelectableListClassNames);e.indexOf(o.a.CSS_DISPLAY_NONE)<0&&e.push(o.a.CSS_DISPLAY_NONE),this.setState({currentSelectableListClassNames:e})}turnOnSelectableList(){let e=l.a.cloneDeep(this.state.currentSelectableListClassNames);e=e.filter(e=>e!==o.a.CSS_DISPLAY_NONE),this.setState({currentSelectableListClassNames:e})}getTypeAheadInputValue(){const e=this.state.inputBox&&this.state.inputBox.value;let t="";return this.props.context&&(this.props.context===u.a.PROFILE_PAGE?t=""!==e?null===e&&0===this.state.selectedItemsList.length?"":this.state.typeAheadInputValue:"":this.props.context===I.a.SCHOOL_TYPEAHEAD&&(t=""!==e&&null!==e?this.state.typeAheadInputValue:"")),t}render(){return s.a.createElement(t,Object.assign({},this.props,this.state,{handleTypeAheadItemClick:this.handleTypeAheadItemClick,handleGroupConversationClicked:this.handleGroupConversationClicked,handleRemoveTypeAheadItemClick:this.handleRemoveTypeAheadItemClick,handleTypeAheadInputFocus:this.handleTypeAheadInputFocus,handleTypeAheadInputChange:this.handleTypeAheadInputChange,handleKeyDown:this.handleKeyDown,handleTypeAheadBlur:this.handleTypeAheadBlur,handleRemoveTypeAheadItemDirect:this.handleRemoveTypeAheadItemDirect}))}}return Object(r.connect)((function(e){return{accessToken:m.d(e),configInfo:f.a(e)}}))(a)}},1298:function(e,t,a){"use strict";var n=a(4),s=a.n(n),r=a(364),i=a(35),l=a.n(i),c=a(1340),d=a(1206),o=(a(1465),a(1203)),u=a.n(o);var h=({selectedItem:e,removeClick:t,getSelectedItemTitle:a,getSelectedItemId:n,getSelectedItemType:r,getSelectedItemBackground:i})=>{const l={backgroundColor:i&&i(e)};return s.a.createElement("div",{className:"qa-test-selected-jellybeans jellybean-container",style:l,"data-uid":n&&n(e),"data-title":a&&a(e)},s.a.createElement("span",{className:"jellybean-name"},a&&a(e)),s.a.createElement("div",{className:"jellybean-x-icon qa-test-recipient-close-icon",onClick:t,"data-uid":n&&n(e),"data-itemtype":r&&r(e),"data-title":a&&a(e)},s.a.createElement(d.default,{size:21,color:u.a.gray[5]})))};var p=({selectedItem:e,removeClick:t,getSelectedItemTitle:a,getSelectedItemId:n})=>s.a.createElement("div",{className:"selected-school-jellybean-container","data-uid":n&&n(e),"data-title":a&&a(e),role:"button",tabIndex:"0",onClick:t,onKeyDown:t},s.a.createElement("span",{className:"jellybean-name"},a&&a(e))),I=a(156),m="send-to",f=a(509),E=a(1208);t.a=Object(f.a)(({SelectableItemView:e,typeAheadItems:t,typeAheadGroupConversationItems:a,showInstructions:n,selectableItemType:i,selectedItemsList:d,typeAheadInputValue:o,handleTypeAheadInputFocus:u,handleTypeAheadInputChange:f,handleTypeAheadItemClick:_,handleRemoveTypeAheadItemClick:A,getSelectedItemId:S,getSelectedItemTitle:g,getSelectedItemBackground:L,handleKeyDown:C,inputClassName:N,highlightedIndex:T,withSearchIcon:y,withToPrefix:D,getSelectedItemType:R,translate:b,placeHolderText:O,showFollowingCount:v,currentSelectableListClassNames:P,handleTypeAheadBlur:w,findMySchool:V,isDisabled:k,showAdditionalDetails:M,meta:U,handleGroupConversationClicked:x,className:G,hideHeader:H})=>{const B=d&&d.map(e=>Array.isArray(e)?e[0]+"-"+e[1]:e),F=t&&t.filter(e=>B&&-1!==B.indexOf(e[0]+"-"+e[1])?null:e),Y=U&&U.touched,W=U&&U.error;return s.a.createElement("div",{className:l()("type-ahead clearfix",G),onBlur:w},s.a.createElement("div",{name:"receiver",className:"type-ahead-input-container placeholder-container teacher has-receivers"},D&&s.a.createElement("div",{className:"recipient-box"},s.a.createElement(I.default,{string:"admin_pages,to",fallbackString:"To"}),":"),d&&d.map((e,t)=>V?s.a.createElement(p,{key:e.id,selectedItem:e,getSelectedItemId:S,getSelectedItemTitle:g,getSelectedItemBackground:L,removeClick:A}):s.a.createElement(h,{key:t,selectedItem:e,getSelectedItemId:S,getSelectedItemTitle:g,getSelectedItemType:R,getSelectedItemBackground:L,removeClick:A})),y&&s.a.createElement("div",{className:"search-icon"}),s.a.createElement(r.D,{className:"qa-test-searchbox-input type-ahead-input placeholder-input ".concat(N||""),placeholder:d&&!d.length&&(O||b(m))||"",type:"text",name:"institution","aria-label":d&&!d.length&&(O||b(m))||"","aria-haspopup":"true",value:o,onChange:f,onFocus:u,onKeyDown:C,disabled:k,autoComplete:"off"})),Y&&W&&s.a.createElement("small",{className:"qa-test-required-error required-error"},Object(E.r)(W,b)),s.a.createElement("div",{className:P&&P.join(" "),role:"menu"},s.a.createElement(c.a,{showFollowingCount:v,SelectableItemView:e,typeAheadGroupConversationItems:a,typeAheadItems:F,selectableItemType:i,handleTypeAheadItemClick:_,highlightedIndex:T,showInstructions:n,showAdditionalDetails:M,handleGroupConversationClicked:x,hideHeader:H})))})},1340:function(e,t,a){"use strict";var n=a(4),s=a.n(n),r=a(1264),i=a(156);t.a=({selectableItemType:e,SelectableItemView:t,typeAheadItems:a,typeAheadGroupConversationItems:n,handleTypeAheadItemClick:l,highlightedIndex:c,showFollowingCount:d,showInstructions:o,showAdditionalDetails:u,handleGroupConversationClicked:h,hideHeader:p})=>{const I=a&&!!a.length,m=I||o?r.a.CSS_DISPLAY_NONE:"",f=I||!o?r.a.CSS_DISPLAY_NONE:"";let E=null;if(!p)switch(e){case r.a.PEOPLE:E=s.a.createElement("div",{className:"chat-recipients-group-header"},s.a.createElement(i.default,{string:"people",fallbackString:"People"}));break;case r.a.SCHOOLS:E=s.a.createElement("div",{className:"chat-recipients-group-header"},s.a.createElement(i.default,{string:"schools",fallbackString:"Schools"}));break;default:E=null}const _=s.a.createElement("div",{className:"chat-recipients-group-header"},s.a.createElement(i.default,{string:"group-conversations",fallbackString:"Group Conversations"}));let A=0;return s.a.createElement("div",null,a&&a.length>0&&E,s.a.createElement("ul",{className:"type-ahead-container"},s.a.createElement("li",{className:"no-receivers menu-item ".concat(m)},s.a.createElement(i.default,{string:"search,no_results",fallbackString:"No results were found"})),s.a.createElement("li",{className:"instructions menu-item ".concat(f)},s.a.createElement(i.default,{string:"type-peer",fallbackString:"Type the name of a group..."})),a&&a.map((e,a)=>{let n="";return a!==c||u||(n="menu-item-hover"),s.a.createElement(t,{extraClass:n,key:A++,item:e,handleTypeAheadItemClick:l,showFollowingCount:d,showAdditionalDetails:u})})),n&&n.length>0&&_,s.a.createElement("ul",{className:"type-ahead-container"},n&&n.map((e,a)=>s.a.createElement(t,{handleTypeAheadItemClick:t=>h(t,e),key:A++,item:e}))))}},1465:function(e,t,a){},1476:function(e,t,a){"use strict";var n=a(74);t.a=class{static filterOutParents(e){return e&&e.length&&e.filter(e=>e[0]!==n.a.TYPES.PARENT_GROUP)}static filterOutGroupConversations(e){return e&&e.length>0&&e.filter(e=>"chat_room"!==e.type)}static filterGroupConversations(e){return e&&e.length>0&&e.filter(e=>"chat_room"===e.type)}static getRecipientsForClassroom(){return[n.a.TYPES.USER,n.a.TYPES.GROUP,n.a.TYPES.OWNER_GROUP,n.a.TYPES.CO_TEACHER_GROUP]}}},1506:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(135),s=a.n(n),r=a(144),i=a.n(r),l=a(118),c=a(13),d=a(18),o=a(48);const u={Accept:"application/json","Content-Type":"application/json"},h=(e,t,a)=>s()({method:l.a.GET,url:"".concat(e.get(o.a.BASE_URL)).concat(d.a.SEARCH,"?")+"".concat(c.a.ACCESS_TOKEN,"=").concat(t.get(c.a.ACCESS_TOKEN),"&")+"type=search&"+"".concat(i.a.stringify(a),"&request_origin=react-web-app"),headers:u})},1636:function(e,t,a){"use strict";t.a={BACKSPACE:8,TAB:9,ENTER:13,UP_ARROW:38,DOWN_ARROW:40}},2115:function(e,t,a){},2162:function(e,t,a){"use strict";var n=a(4),s=a.n(n),r=a(133),i=a(1298),l=a(1268),c=(a(2115),a(14));var d=({item:e,handleTypeAheadItemClick:t,extraClass:a,showAdditionalDetails:n})=>{const r=l.b(e&&e[0])?"swatch":"avatar",i="menu-item ".concat(r," ").concat(a),d=e&&"0"!==e.official_id?"is-verified":"",o=e&&e.teacher_count-e.teachers.length,u=e&&e.teachers.length?"school-list-1":"school-list-2";return s.a.createElement("li",{role:"menuitem",className:i,"data-uid":e&&e.id,onMouseDown:t},n?s.a.createElement("div",{className:"settings-school-list-item-wrapper recipients-picker"},s.a.createElement("div",null,s.a.createElement("div",{className:"school-name"},e&&e.name,s.a.createElement("span",{className:d})),s.a.createElement("div",{className:"school-country"},s.a.createElement("span",null,e&&e.city),",",s.a.createElement("span",null,e&&e.country))),s.a.createElement("div",{className:"school-teachers"},e&&e.teachers&&e.teachers.length>0&&e.teachers.map((e,t)=>{let a=c.a.getUsersFullName(e.first_name,e.last_name);return s.a.createElement("span",{key:t,"data-toggle":"tooltip","data-placement":"top",title:a},s.a.createElement("img",{className:"receiver-avatar",src:e.avatar,alt:a}))}),!isNaN(e&&e.teacher_count)&&e.teachers.length>0&&e.teacher_count>e.teachers.length&&s.a.createElement("span",{className:"more-users"},"+ ",o))):s.a.createElement("div",{className:"school-list-item-wrapper recipients-picker"},s.a.createElement("div",{className:"school-name ".concat(u)},e&&e.name),s.a.createElement("div",{className:"school-country"},e&&e.country)))},o=a(151),u=a(509),h=a(1297),p=a(1264);const I=e=>e.id,m=e=>e.name,f=e=>e.background_color;let E={itemAlreadySelected:(e,t)=>t.length>0,excludeSelectableItemsByTarget:({selectedId:e},t)=>parseInt(e,10)!==t.id,findSelectableItemByTarget:({selectedId:e},t)=>parseInt(e,10)===t.id,setSelectedItemBackground:(e,t)=>(e.background_color="#eee",e),setDefaultSelected:e=>e?[e]:null,getSelectedItemId:I,getSelectedItemTitle:m,getSelectedItemBackground:f};t.a=Object(u.a)(Object(r.connect)((function(e,t){return{prefilledRecipient:o.h(e)}}))(Object(h.a)(E)(({handleFindSchoolItemChange:e,accessToken:t,apiRequestMethod:a,configInfo:n,handleKeyDown:r,handleRemoveTypeAheadItemClick:l,handleTypeAheadInputChange:c,handleTypeAheadItemClick:o,highlightedIndex:u,withSearchIcon:h,queryParams:E,selectedItemsList:_,typeAheadInputValue:A,typeAheadItems:S,withToPrefix:g,handleTypeAheadBlur:L,currentSelectableListClassNames:C,showAdditionalDetails:N,translate:T,context:y,meta:D})=>s.a.createElement(i.a,{apiRequestMethod:a,handleKeyDown:r,handleRemoveTypeAheadItemClick:l,handleTypeAheadInputChange:c,handleTypeAheadItemClick:o,handleTypeAheadBlur:L,highlightedIndex:u,withSearchIcon:h,queryParams:E,selectedItemsList:_,typeAheadInputValue:A,typeAheadItems:S,getSelectedItemId:I,getSelectedItemTitle:m,selectableItemType:p.a.SCHOOLS,getSelectedItemBackground:f,SelectableItemView:d,inputClassName:"qa-test-new-chat-recipients-input",withToPrefix:g,currentSelectableListClassNames:C,placeHolderText:T("search_school_placeholder","Enter School Name, City, State, Zip Code, or Country"),findMySchool:!0,selectedItemsChangeCb:e,showAdditionalDetails:N,context:y,meta:D}))))}}]);
//# sourceMappingURL=34.dac66eb5.chunk.js.map