(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[265,353],{1206:function(t,e,n){"use strict";n.r(e);var a=n(198),o=n(4),s=n.n(o);e.default=t=>{let e=t.size,n=void 0===e?24:e,o=t.color,r=void 0===o?"#b2b2b2":o,i=t.viewBox,c=void 0===i?"0 0 24 24":i,l=Object(a.a)(t,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:n,height:n,viewBox:c},l),s.a.createElement("path",{fill:r,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/x",d:"M13.442 11.994l3.507 3.54a1 1 0 01-1.414 1.414l-3.502-3.533-3.57 3.533a1 1 0 01-1.42-1.408L10.62 12 7.05 8.463a1 1 0 011.415-1.414l3.563 3.531 3.502-3.525a1 1 0 111.42 1.408l-3.507 3.531z"}))}},1236:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return p}));var a=n(9),o=n(1),s=n(20),r=n(28);const i=t=>t.get(s.a.PARENT_STREAMS),c=Object(a.createSelector)([i],t=>t&&t.get(o.a.PARENT_RELATIONSHIPS)),l=Object(a.createSelector)([i],t=>t&&t.get(o.a.PARENT_CLASS_ASSOCIATIONS)),u=Object(a.createSelector)([i],t=>t&&t.get(o.a.PARENT_STREAMS_COMPLETED_WITH_EMPTY_STATE)),p=Object(a.createSelector)([(t,e)=>e&&e===s.a.REDUCER?t:r.ib(t)],t=>t&&t.get(o.a.CURRENT_CHILD_ID))},1267:function(t,e,n){"use strict";n.r(e),n.d(e,"classMenuClassLinkClick",(function(){return o})),n.d(e,"classMenuCreateClassClick",(function(){return s})),n.d(e,"trackTooltipDisplay",(function(){return r})),n.d(e,"classMenuCreateClassDismiss",(function(){return i})),n.d(e,"classMenuCreateClassSubmit",(function(){return c})),n.d(e,"classMenuJoinClassClick",(function(){return l})),n.d(e,"classMenuJoinClassDismiss",(function(){return u})),n.d(e,"classMenuJoinClassSubmit",(function(){return p})),n.d(e,"classMenuManageClassClick",(function(){return d})),n.d(e,"communitiesMenuCommunitiesLinkClick",(function(){return _})),n.d(e,"communitiesMenuShowAllClick",(function(){return h})),n.d(e,"composerAddFromLibraryActive",(function(){return E})),n.d(e,"composerAddFromLibraryDismiss",(function(){return S})),n.d(e,"composerAddFromLibrarySubmit",(function(){return A})),n.d(e,"composerAttachFileActive",(function(){return T})),n.d(e,"composerAttachFileDismiss",(function(){return C})),n.d(e,"composerAttachFileSubmit",(function(){return g})),n.d(e,"composerAttachLinkActive",(function(){return O})),n.d(e,"composerAttachLinkDismiss",(function(){return m})),n.d(e,"composerAttachLinkSubmit",(function(){return f})),n.d(e,"composerMarkDownClick",(function(){return I})),n.d(e,"composerMarkDownDismiss",(function(){return N})),n.d(e,"composerMarkImportantActive",(function(){return R})),n.d(e,"composerMarkImportantInactive",(function(){return M})),n.d(e,"composerPostButtonClick",(function(){return y})),n.d(e,"teacherSendPostToSchoolPageFromHomePage",(function(){return L})),n.d(e,"composerRecipientsDropdownActive",(function(){return U})),n.d(e,"composerRecipientsDropdownDismiss",(function(){return P})),n.d(e,"composerRecipientsDropdownSubmit",(function(){return b})),n.d(e,"composerSchedulePostClick",(function(){return F})),n.d(e,"composerSchedulePostDismiss",(function(){return H})),n.d(e,"composerSchedulePostSubmit",(function(){return D})),n.d(e,"composerTextFieldActive",(function(){return B})),n.d(e,"composerTextFieldInput",(function(){return G})),n.d(e,"groupsMenuCreateGroupClick",(function(){return w})),n.d(e,"groupsMenuCreateGroupDismiss",(function(){return k})),n.d(e,"groupsMenuCreateGroupSubmit",(function(){return K})),n.d(e,"groupsMenuGroupLinkClick",(function(){return j})),n.d(e,"groupsMenuJoinGroupClick",(function(){return v})),n.d(e,"groupsMenuJoinGroupDismiss",(function(){return W})),n.d(e,"groupsMenuJoinGroupSubmit",(function(){return x})),n.d(e,"groupsMenuManageGroupClick",(function(){return V})),n.d(e,"inviteConnectPromptClick",(function(){return Y})),n.d(e,"inviteConnectPromptDisplay",(function(){return q})),n.d(e,"streamAddToLibraryClick",(function(){return Q})),n.d(e,"streamFollowActive",(function(){return z})),n.d(e,"streamFollowInactive",(function(){return J})),n.d(e,"streamOptionsDeleteToPostClick",(function(){return X})),n.d(e,"streamOptionsEditToPostClick",(function(){return Z})),n.d(e,"streamOptionsToLibraryClick",(function(){return $})),n.d(e,"supportHelpCenterClick",(function(){return tt}));var a=n(60);const o=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_CLASS_LINK_CLICK,payload:t}),s=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_CREATE_CLASS_CLICK,payload:t}),r=t=>({type:a.a.TRACK_HOME_PAGE_TOOLTIP_DISPLAY,payload:t}),i=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_CREATE_CLASS_DISMISS,payload:t}),c=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_CREATE_CLASS_SUBMIT,payload:t}),l=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_JOIN_CLASS_CLICK,payload:t}),u=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_JOIN_CLASS_DISMISS,payload:t}),p=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_JOIN_CLASS_SUBMIT,payload:t}),d=t=>({type:a.a.TRACK_HOME_PAGE_CLASS_MENU_MANAGE_CLASS_CLICK,payload:t}),_=t=>({type:a.a.TRACK_HOME_PAGE_COMMUNITIES_MENU_COMMUNITIES_LINK_CLICK,payload:t}),h=t=>({type:a.a.TRACK_HOME_PAGE_COMMUNITIES_MENU_SHOW_ALL_CLICK,payload:t}),E=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ADD_FROM_LIBRARY_ACTIVE,payload:t}),S=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ADD_FROM_LIBRARY_DISMISS,payload:t}),A=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ADD_FROM_LIBRARY_SUBMIT,payload:t}),T=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ATTACH_FILE_ACTIVE,payload:t}),C=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ATTACH_FILE_DISMISS,payload:t}),g=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ATTACH_FILE_SUBMIT,payload:t}),O=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ATTACH_LINK_ACTIVE,payload:t}),m=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ATTACH_LINK_DISMISS,payload:t}),f=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_ATTACH_LINK_SUBMIT,payload:t}),I=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_MARK_DOWN_CLICK,payload:t}),N=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_MARK_DOWN_DISMISS,payload:t}),R=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_MARK_IMPORTANT_ACTIVE,payload:t}),M=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_MARK_IMPORTANT_INACTIVE,payload:t}),y=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_POST_BUTTON_CLICK,payload:t}),L=t=>({type:a.a.TRACK_HOME_PAGE_TEACHER_SEND_POST_TO_SCHOOL_PAGE,payload:t}),U=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_RECIPIENTS_DROPDOWN_ACTIVE,payload:t}),P=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_RECIPIENTS_DROPDOWN_DISMISS,payload:t}),b=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_RECIPIENTS_DROPDOWN_SUBMIT,payload:t}),F=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_SCHEDULE_POST_CLICK,payload:t}),H=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_SCHEDULE_POST_DISMISS,payload:t}),D=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_SCHEDULE_POST_SUBMIT,payload:t}),B=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_TEXT_FIELD_ACTIVE,payload:t}),G=t=>({type:a.a.TRACK_HOME_PAGE_COMPOSER_TEXT_FIELD_INPUT,payload:t}),w=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_CREATE_GROUP_CLICK,payload:t}),k=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_CREATE_GROUP_DISMISS,payload:t}),K=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_CREATE_GROUP_SUBMIT,payload:t}),j=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_GROUP_LINK_CLICK,payload:t}),v=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_JOIN_GROUP_CLICK,payload:t}),W=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_JOIN_GROUP_DISMISS,payload:t}),x=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_JOIN_GROUP_SUBMIT,payload:t}),V=t=>({type:a.a.TRACK_HOME_PAGE_GROUPS_MENU_MANAGE_GROUP_CLICK,payload:t}),Y=t=>({type:a.a.TRACK_HOME_PAGE_INVITE_CONNECT_PROMPT_CLICK,payload:t}),q=t=>({type:a.a.TRACK_HOME_PAGE_INVITE_CONNECT_PROMPT_DISPLAY,payload:t}),Q=t=>({type:a.a.TRACK_HOME_PAGE_STREAM_ADD_TO_LIBRARY_CLICK,payload:t}),z=t=>({type:a.a.TRACK_HOME_PAGE_STREAM_FOLLOW_ACTIVE,payload:t}),J=t=>({type:a.a.TRACK_HOME_PAGE_STREAM_FOLLOW_INACTIVE,payload:t}),X=t=>({type:a.a.TRACK_HOME_PAGE_STREAM_OPTIONS_DELETE_TO_POST_CLICK,payload:t}),Z=t=>({type:a.a.TRACK_HOME_PAGE_STREAM_OPTIONS_EDIT_TO_POST_CLICK,payload:t}),$=t=>({type:a.a.TRACK_HOME_PAGE_STREAM_OPTIONS_TO_LIBRARY_CLICK,payload:t}),tt=t=>({type:a.a.TRACK_HOME_PAGE_SUPPORT_HELP_CENTER_CLICK,payload:t})},1278:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchCurrentUserTopicsSuccessAction",(function(){return u})),n.d(e,"fetchCurrentUserTopicsFailureAction",(function(){return p})),n.d(e,"fetchTopicSuccessAction",(function(){return d})),n.d(e,"fetchTopicFailureAction",(function(){return _})),n.d(e,"fetchAllTopicsSuccessAction",(function(){return h})),n.d(e,"fetchAllTopicsFailureAction",(function(){return E})),n.d(e,"fetchTopicsByQuerySuccessAction",(function(){return S})),n.d(e,"clearQueryTopicsSuccessAction",(function(){return A})),n.d(e,"fetchTopicsByQueryFailureAction",(function(){return T})),n.d(e,"fetchRecommendedTopicsSuccessAction",(function(){return C})),n.d(e,"fetchRecommendedTopicsFailureAction",(function(){return g})),n.d(e,"fetchFollowingTopicsSuccessAction",(function(){return O})),n.d(e,"fetchFollowingTopicsFailureAction",(function(){return m})),n.d(e,"fetchTopicFollowersSuccessAction",(function(){return f})),n.d(e,"fetchTopicFollowersFailureAction",(function(){return I})),n.d(e,"topicPromotedSuccessAction",(function(){return N})),n.d(e,"topicDemotedSuccessAction",(function(){return R})),n.d(e,"fetchAllTopics",(function(){return M})),n.d(e,"fetchTopics",(function(){return y})),n.d(e,"fetchTopic",(function(){return L})),n.d(e,"fetchTopicsByQuery",(function(){return U})),n.d(e,"clearQueryTopics",(function(){return P})),n.d(e,"fetchRecommendedTopics",(function(){return b})),n.d(e,"fetchFollowingTopicsForUser",(function(){return F})),n.d(e,"fetchTopicFollowers",(function(){return H})),n.d(e,"fetchTopicsForCurrentUser",(function(){return D})),n.d(e,"promoteTopic",(function(){return B})),n.d(e,"demoteTopic",(function(){return G}));var a=n(214),o=n(63),s=n(36),r=n(1609),i=n(203),c=n(5),l=n.n(c);const u=t=>({type:a.a.CURRENT_USER_TOPIC_FETCH_SUCCESS,payload:t}),p=t=>({type:a.a.CURRENT_USER_TOPIC_FETCH_FAILURE,payload:t}),d=t=>({type:a.a.TOPIC_FETCH_SUCCESS,payload:t}),_=t=>({type:a.a.TOPIC_FETCH_FAILURE,payload:t}),h=t=>({type:a.a.ALL_TOPICS_FETCH_SUCCESS,payload:t}),E=t=>({type:a.a.ALL_TOPICS_FETCH_FAILURE,payload:t}),S=t=>({type:a.a.QUERY_TOPICS_FETCH_SUCCESS,payload:t}),A=()=>({type:a.a.QUERY_TOPICS_CLEAR_SUCCESS,payload:{}}),T=t=>({type:a.a.QUERY_TOPICS_FETCH_FAILURE,payload:t}),C=t=>({type:a.a.RECOMMENDED_TOPICS_FETCH_SUCCESS,payload:t}),g=t=>({type:a.a.RECOMMENDED_TOPICS_FETCH_FAILURE,payload:t}),O=t=>({type:a.a.FOLLOWING_TOPICS_FETCH_SUCCESS,payload:t}),m=t=>({type:a.a.FOLLOWING_TOPICS_FETCH_FAILURE,payload:t}),f=(t,e)=>({type:a.a.TOPIC_FOLLOWERS_FETCH_SUCCESS,payload:{followers:e,topicId:t}}),I=t=>({type:a.a.TOPIC_FOLLOWERS_FETCH_FAILURE,payload:t}),N=t=>({type:a.a.TOPIC_PROMOTED_SUCCESS,payload:{topicId:t}}),R=t=>({type:a.a.TOPIC_DEMOTED_SUCCESS,payload:{topicId:t}}),M=()=>function(t,e){const n=o.a(e),a=n.configInfo,i=n.accessToken;return r.b(a,i,{page:1,per_page:1e3}).then(e=>{t(h(e.data))}).catch(e=>{e&&e.response&&404===e.response.status?(t(E(e)),console.log(e)):s.a.notifyBugsnag(e,"TopicActionCreator.fetchAllTopics")})},y=t=>function(e,n){const a=o.a(n),i=a.configInfo,c=a.accessToken;return r.b(i,c,t).then(t=>{e(h(t.data))}).catch(t=>{t&&t.response&&404===t.response.status?(e(E(t)),console.log(t)):s.a.notifyBugsnag(t,"TopicActionCreator.fetchTopics")})},L=t=>function(e,n){const a=o.a(n),s=a.configInfo,i=a.accessToken;return r.e(s,i,t).then(t=>{e(d(t.data))}).catch(t=>{e(_(t))})},U=(t,e={},n=!1)=>function(a,i){const c=o.a(i),l=c.configInfo,u=c.accessToken,p=Object.assign({},{query:t},e);return r.g(l,u,p).then(t=>{t.data.append=n,a(S(t.data))}).catch(t=>{t&&t.response&&404===t.response.status?(a(T(t)),console.log(t)):s.a.notifyBugsnag(t,"TopicActionCreator.fetchTopicsByQuery")})},P=()=>function(t,e){return t(A())},b=()=>function(t,e){const n=o.a(e),a=n.configInfo,i=n.accessToken;return r.d(a,i).then(e=>{t(C(e.data))}).catch(e=>{e&&e.response&&404===e.response.status?(t(g(e)),console.log(e)):s.a.notifyBugsnag(e,"TopicActionCreator.fetchRecommendedTopics")})},F=(t=1,e=100)=>function(n,a){const i=o.a(a),c=i.configInfo,l=i.accessToken;return r.c(c,l,t,e).then(t=>{n(O(t.data))}).catch(t=>{t&&t.response&&404===t.response.status?(n(m(t)),console.log(t)):s.a.notifyBugsnag(t,"TopicActionCreator.fetchFollowingTopicsForUser")})},H=(t,e=1,n=10)=>function(a,i){const c=o.a(i),l=c.configInfo,u=c.accessToken,p={topic_id:t,page:e,per_page:n};return r.f(l,u,p).then(e=>{a(f(t,e.data))}).catch(t=>{t&&t.response&&404===t.response.status?(a(I(t)),console.log(t)):s.a.notifyBugsnag(t,"TopicActionCreator.fetchTopicFollowers")})},D=(t={})=>function(e,n){const a=o.a(n),c=a.configInfo,d=a.accessToken,_=l.a.isUndefined(t)?i.a.defaultParams():t;return r.h(c,d,_).then(t=>{e(u(t.data))}).catch(t=>{t&&t.response&&404===t.response.status?(e(p(t)),console.log(t)):s.a.notifyBugsnag(t,"TopicActionCreator.fetchTopicFollowers")})},B=(t,e)=>function(n,a){const s=o.a(a),i=s.configInfo,c=s.accessToken;return r.i(i,c,t,e).then(e=>{n(N(t)),n(C(e.data.recommended))}).catch(t=>{})},G=(t,e)=>function(n,a){const s=o.a(a),i=s.configInfo,c=s.accessToken;return r.a(i,c,t,e).then(e=>{n(R(t)),n(C(e.data.recommended))}).catch(t=>{})}},1310:function(t,e,n){"use strict";e.a={TRANSLATIONS:"translations",ACCOUNT_PASSWORD_RESET:"account_password_reset",ACCOUNT_RECOVERY:"account_recovery",APPS_LAUNCH_BAR:"apps_launch_bar",ASSIGNMENT:"assignment",BANNERS:"banners",BELL_NOTIFICATION:"bell_notification",CHAT_MESSAGES_PAGE:"chat_messages_page",COMMON:"common",COMMUNITY:"community",COMPOSER:"composer",CONNECTION:"connection",FOOTER:"footer",FORM:"form",GROUP:"group",HOME_PAGE:"home_page",LANDING_PAGE:"landing_page",LEFT_COLUMN:"left_column",LIBRARY:"library",LOGIN:"login",LOGOUT_PAGE:"logout_page",MENU:"menu",MESSAGE:"message",MODAL:"modal",NOT_FOUND_PAGE:"not_found_page",POLL:"poll",PROFILE:"profile_page",QUIZ:"quiz",QOTD:"qotd",REPLY:"reply",SSO:"sso",STREAM:"stream",TOPIC:"topic",UTILS:"utils",SCHOOL_PAGE:"school_page",ADMIN_PAGE:"admin_page",PLURALS:"plurals",TOOLTIPS:"tooltips",SEARCH_PAGE:"search_page",SETTING_PAGE:"settings",EMAIL:"email",STUDENT_PLANNER_PAGE:"student_planner_page",PLANNER_PAGE:"planner",DEVELOPER_PAGE:"developer_page",ADMIN_SIGNUP_PAGE:"admin_signup_page",SUBDOMAIN_LANDING_PAGE:"subdomain_landing_page",EDMODO_PAGES_PAGE:"edmodo-pages",ACTIVITIES_MODERATION:"activities-moderation",SPOTLIGHT_PAGE:"spotlight_page",DISCOVER_PAGE:"discover_page",DISCOVER_VIDEOS_LISTING_PAGE:"discover_video_list_page",RESOURCE_TYPES:"resource_types",CLASS_ROOM_PAGE:"class_room_page",WORD_COACH:"word-coach",REFERRAL_PAGE:"referral_page",ONBOARDING:"onboarding",SUPER_USER:"super_user",TIMEZONES:"timezones",COMMUNITY_DETAIL_PAGE:"community_detail_page",RESOURCE_DETAIL_PAGE:"resource_detail_page"}},1314:function(t,e,n){"use strict";n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"h",(function(){return p})),n.d(e,"j",(function(){return d})),n.d(e,"g",(function(){return _})),n.d(e,"c",(function(){return h})),n.d(e,"f",(function(){return E})),n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return A})),n.d(e,"k",(function(){return T})),n.d(e,"i",(function(){return C}));var a=n(9),o=n(1),s=n(20),r=n(28),i=n(86);const c=(t,e)=>e&&e===s.a.REDUCER?t:r.xb(t),l=Object(a.createSelector)([c],t=>t&&t.get(o.a.CURRENT_SCHOOL_ID)),u=Object(a.createSelector)([c],t=>t&&t.get(o.a.CURRENT_SCHOOL_ADMINISTRATOR_ID)),p=Object(a.createSelector)([c],t=>t&&t.get(o.a.EXISTING_SCHOOLS)),d=Object(a.createSelector)([c],t=>t&&t.get(o.a.SCHOOL_ADMINISTRATORS)),_=Object(a.createSelector)([c],t=>t&&t.get(o.a.CURRENT_USER_SCHOOL)),h=(Object(a.createSelector)([c],t=>t&&t.get(o.a.CURRENT_SCHOOL_UPCOMING_EVENTS)),Object(a.createSelector)([p,l],(t,e)=>t&&e&&t.get(e.toString()))),E=(Object(a.createSelector)([h],t=>t&&i.a.getLead(t)),Object(a.createSelector)([c],t=>t.get(o.a.EXISTING_SCHOOL_STAFF))),S=Object(a.createSelector)([c],t=>t&&t.get(o.a.CODE_VERIFICATION_SUCCESS)),A=Object(a.createSelector)([c],t=>t&&t.get(o.a.VERIFICATION_EMAIL_SENT_SUCCESS)),T=Object(a.createSelector)([c],t=>t&&t.get(o.a.SCHOOLS_FOR_USER)),C=Object(a.createSelector)([c],t=>t&&t.get(o.a.CURRENT_USER_SCHOOL))},1319:function(t,e,n){"use strict";n.r(e),n.d(e,"updateUserReactSettingsSuccess",(function(){return S})),n.d(e,"fetchPopoverServiceLoadedSuccessAction",(function(){return A})),n.d(e,"parentsOnBoardingSidebarPopoverShownSuccessAction",(function(){return T})),n.d(e,"parentsOnBoardingWhatsduePopoverShownSuccessAction",(function(){return C})),n.d(e,"parentsOnBoardingSettingsPopoverShownSuccessAction",(function(){return g})),n.d(e,"updateUserReactSettings",(function(){return O})),n.d(e,"fetchPopoverCalloutShown",(function(){return m})),n.d(e,"updatePopoverCalloutShown",(function(){return f}));var a=n(63),o=n(36),s=n(135),r=n.n(s),i=n(13),c=n(118),l=n(18),u=n(48);const p={Accept:"application/json","Content-Type":"application/json"};var d=n(440),_=n(276),h=n(10),E=n(146);const S=t=>({type:_.a.UPDATE_USER_SETTINGS_REACT_ENABLED_SUCCESS,payload:{new_state:t}}),A=t=>({type:_.a.POPOVER_SERVICE_LOADED_FETCH_SUCCESS,payload:t}),T=t=>({type:_.a.PARENTS_ONBOARDING_SIDEBAR_POPOVER_KEY,payload:t}),C=t=>({type:_.a.PARENTS_ONBOARDING_WHATSDUE_POPOVER_KEY,payload:t}),g=t=>({type:_.a.PARENTS_ONBOARDING_SETTINGS_POPOVER_KEY,payload:t}),O=t=>function(e,n){const o=a.a(n);return((t,e,n)=>r()({method:c.a.PUT,url:"".concat(t.get(u.a.BASE_URL)).concat(l.a.USER_SETTINGS_REACT,"?")+"".concat(i.a.ACCESS_TOKEN,"=").concat(e.get(i.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:n}))(o.configInfo,o.accessToken,t?"1":"0").then(n=>{window.location=E.a.makeUrl(h.a.HOME_PAGE),e(S(t))})},m=(t,e)=>function(n,a){return d.a(e).then(e=>{n(t(e.data))}).catch(t=>{console.log(t),o.a.notifyBugsnag(t,"UserSettingsActionCreator.fetchPopoverCalloutShown")})},f=(t,e,n)=>function(a,s){const r='{"'.concat(e,'": true}');return d.b(n,r).then(e=>{a(t(e.data))}).catch(t=>{console.log(t),o.a.notifyBugsnag(t,"UserSettingsActionCreator.updatePopoverCalloutShown")})}},1320:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return _})),n.d(e,"f",(function(){return h}));var a=n(9),o=n(1),s=n(28),r=n(163),i=n(77);const c=Object(a.createSelector)([s.Kb],t=>t&&t.get(o.a.ALL_TOPICS)),l=Object(a.createSelector)([s.Kb],t=>t&&t.get(o.a.RECOMMENDED_TOPICS)),u=Object(a.createSelector)([s.Kb],t=>t&&t.get(o.a.POPULAR_TOPICS)),p=Object(a.createSelector)([s.Kb],t=>t&&t.get(o.a.FOLLOWING_TOPICS)),d=Object(a.createSelector)([s.Kb],t=>t&&t.get(o.a.EXISTING_FOLLOWERS)),_=Object(a.createSelector)([d,(t,e)=>i.a.getIdFromSlug(e.match.params.slug)],(t,e)=>t&&e&&r.a.getTopicFollowerById(t,e)),h=Object(a.createSelector)([s.Kb],t=>t&&t.get(o.a.QUERY_TOPICS))},1487:function(t,e,n){"use strict";n.r(e),n.d(e,"followTopicCreationSuccessAction",(function(){return I})),n.d(e,"followTopicCreationFailureAction",(function(){return N})),n.d(e,"unfollowTopicUpdateSuccessAction",(function(){return R})),n.d(e,"userFollowTopicSuccessAction",(function(){return M})),n.d(e,"unfollowTopicUpdateFailureAction",(function(){return y})),n.d(e,"deleteUserInterestsSuccessAction",(function(){return L})),n.d(e,"refollowTopicUpdateSuccessAction",(function(){return U})),n.d(e,"refollowTopicUpdateFailureAction",(function(){return P})),n.d(e,"batchFollowTopicsSuccess",(function(){return b})),n.d(e,"followTopic",(function(){return F})),n.d(e,"batchFollowTopics",(function(){return H})),n.d(e,"refollowTopic",(function(){return D})),n.d(e,"unfollowTopic",(function(){return B}));var a=n(41),o=n(253),s=n(210),r=n(1507),i=n(63),c=n(36),l=n(239),u=n(135),p=n.n(u),d=n(13),_=n(118),h=n(18),E=n(48);const S={Accept:"application/json","Content-Type":"application/json"},A=(t,e,n,a,o)=>p()({method:_.a.PUT,url:"".concat(t.get(E.a.BASE_URL)).concat(h.a.TOPIC_FOLLOWERS,"/").concat(a,".json?")+"".concat(d.a.ACCESS_TOKEN,"=").concat(e.get(d.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:S,data:{is_following:o,topic_id:n}});var T=n(7),C=n(382),g=n(125),O=n(303),m=n(3),f=n(1278);const I=(t,e)=>({type:O.a.FOLLOW_TOPIC_CREATION_SUCCESS,payload:{topicId:t,topicFollowerId:e}}),N=t=>({type:O.a.FOLLOW_TOPIC_CREATION_FAILURE,payload:t}),R=(t,e)=>({type:O.a.UNFOLLOW_TOPIC_SUCCESS,payload:{topicId:t,topicFollowerId:e}}),M=t=>({type:O.a.FOLLOW_TOPIC_SUCCESS,payload:t}),y=t=>({type:O.a.UNFOLLOW_TOPIC_UPDATE_FAILURE,payload:t}),L=t=>({type:C.a.USER_INTERESTS_DELETE_SUCCESS,payload:t}),U=(t,e)=>({type:O.a.REFOLLOW_TOPIC_UPDATE_SUCCESS,payload:{topicId:t,topicFollowerId:e}}),P=t=>({type:O.a.REFOLLOW_TOPIC_UPDATE_FAILURE,payload:t}),b=t=>({type:O.a.FOLLOW_TOPIC_SUCCESS,payload:t}),F=(t,e=null)=>function(e,n){const a=i.a(n);return((t,e,n)=>p()({method:_.a.POST,url:"".concat(t.get(E.a.BASE_URL)).concat(h.a.TOPIC_FOLLOWERS,"?")+"".concat(d.a.ACCESS_TOKEN,"=").concat(e.get(d.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:S,data:{topic_id:n}}))(a.configInfo,a.accessToken,t).then(n=>{e(f.fetchFollowingTopicsForUser()),e(I(t,n.data.id)),e(M(n.data)),e(f.fetchTopic(t))}).catch(t=>{t&&t.response&&404===t.response.status?(e(N(t)),console.log(t)):c.a.notifyBugsnag(t,"TopicFollowerActionCreator.followTopic")})},H=t=>function(e,n){const r=i.a(n).accessToken,c=t.length,u=a.a.defaultParamsForHome(),p=t.map(t=>({method:"POST",url:"".concat(h.a.TOPIC_FOLLOWERS,"?")+"".concat(d.a.ACCESS_TOKEN,"=").concat(r.get(d.a.ACCESS_TOKEN),"&request_origin=react-web-app"),body:{topic_id:t}})),_=[];for(;p.length>0;)_.push(l.a({requests:p.splice(0,c)}));return Promise.all(_).then(t=>{const n=t[0].data.responses;n&&n.forEach(t=>{const n=t.body;e(b(JSON.parse(n)))}),e(s.beginAjaxCallAction(T.a.BEGIN_HOME_STREAM_FETCH_AJAX_CALL,"".concat(m.a.HOME_STREAM,"-").concat(T.a.STREAM_LOADING_STATUS))),e(o.fetchStreamForHomePage(u))}).catch(t=>{t&&t.response&&console.log(t)})},D=(t,e)=>function(n,a){const o=i.a(a),s=o.configInfo,r=o.accessToken,l=g.a.FOLLOW_TOPIC_VALUE;return A(s,r,e,l).then(e=>{console.log("fetchTopicFollowers",e.data),n(U(t,e.data.id))}).catch(t=>{t&&t.response&&404===t.response.status?(n(P(t)),console.log(t)):c.a.notifyBugsnag(t,"TopicFollowerActionCreator.refollowTopic")})},B=(t,e)=>function(n,a){const o=i.a(a),s=o.configInfo,l=o.accessToken,u=g.a.UNFOLLOW_TOPIC_VALUE;return A(s,l,t,e,u).then(a=>{const o=a.data.topic_name;n(R(t,e)),n(r.deleteUserInterests(o)),n(f.fetchTopic(t)),n(f.fetchRecommendedTopics())}).catch(t=>{t&&t.response&&404===t.response.status?(n(y(t)),console.log(t)):c.a.notifyBugsnag(t,"TopicFollowerActionCreator.unfollowTopic")})}},1488:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"i",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"j",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return _}));var a=n(1);const o=t=>t.getIn([a.a.ADS,a.a.ADS_INFO]),s=t=>t.getIn([a.a.ADS,a.a.IS_FETCHING_ADS_INFO]),r=t=>t.getIn([a.a.ADS,a.a.IS_BRAND_LIFT_CAMPAIGN_ENABLED]),i=t=>t.getIn([a.a.ADS,a.a.IS_ADS_ENABLED]),c=t=>t.getIn([a.a.ADS,a.a.IS_DFP_ENABLED]),l=t=>t.getIn([a.a.ADS,a.a.IS_SORTABLE_ENABLED]),u=t=>t.getIn([a.a.ADS,a.a.IS_NEXT_MILLENNIUM_ENABLED]),p=t=>t.getIn([a.a.ADS,a.a.IS_TFCD_ENABLED]),d=t=>t.getIn([a.a.ADS,a.a.IS_ADS_LOG_ENABLED]),_=t=>t.getIn([a.a.ADS,a.a.CURRENTLY_DISPLAYED_AD_POSITIONS])},1507:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchUserInterestsSuccessAction",(function(){return c})),n.d(e,"fetchUserInterestsFailureAction",(function(){return l})),n.d(e,"createUserInterestsSuccessAction",(function(){return u})),n.d(e,"createUserInterestsFailureAction",(function(){return p})),n.d(e,"deleteUserInterestsSuccessAction",(function(){return d})),n.d(e,"deleteUserInterestsFailureAction",(function(){return _})),n.d(e,"fetchUserInterests",(function(){return h})),n.d(e,"createUserInterests",(function(){return E})),n.d(e,"deleteUserInterests",(function(){return S}));var a=n(382),o=n(18),s=n(13),r=n(25);var i=n(45);const c=t=>({type:a.a.USER_INTERESTS_FETCH_SUCCESS,payload:t}),l=t=>({type:a.a.USER_INTERESTS_FETCH_SUCCESS,payload:t}),u=t=>({type:a.a.USER_INTERESTS_CREATE_SUCCESS,payload:t}),p=t=>({type:a.a.USER_INTERESTS_CREATE_SUCCESS,payload:t}),d=t=>({type:a.a.USER_INTERESTS_DELETE_SUCCESS,payload:t}),_=t=>({type:a.a.USER_INTERESTS_DELETE_FAILURE,payload:t}),h=()=>function(t){return r.a.get(o.a.INTERESTS).then(e=>{t(c(e.data))}).catch(e=>{t(l(e)),Object(i.a)(e)})},E=t=>function(e){return(n=t,r.a.post(o.a.INTERESTS,n)).then(t=>{e(u(t.data))}).catch(t=>{e(p(t)),Object(i.a)(t)});var n},S=t=>function(e){return(n=t,r.a.delete(o.a.INTERESTS,{params:{[s.a.INTERESTS]:n}})).then(t=>{e(d(t.data))}).catch(t=>{e(_(t)),Object(i.a)(t)});var n}},1563:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return h})),n.d(e,"i",(function(){return E})),n.d(e,"d",(function(){return S})),n.d(e,"e",(function(){return A})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return C})),n.d(e,"f",(function(){return g}));var a=n(135),o=n.n(a),s=n(13),r=n(118),i=n(18),c=n(48),l=n(144),u=n.n(l);const p={Accept:"application/json","Content-Type":"application/json"},d=(t,e,n,a=s.a.DEFAULT_PAGE_NUMBER,l=s.a.DEFAULT_PER_PAGE_VALUE)=>o()({method:r.a.GET,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.SCHOOLS,"/").concat(n,"?")+"".concat(s.a.PAGE,"=").concat(a,"&")+"".concat(s.a.PER_PAGE,"=").concat(l,"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),_=(t,e,n,a=s.a.DEFAULT_PAGE_NUMBER,l=s.a.DEFAULT_PER_PAGE_VALUE)=>o()({method:r.a.GET,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.SCHOOL_BY_COMMUNITY_NAME,"/").concat(n,"?")+"".concat(s.a.PAGE,"=").concat(a,"&")+"".concat(s.a.PER_PAGE,"=").concat(l,"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),h=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.SCHOOL_ADMINISTRATORS,"?school_id=").concat(n,"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),E=(t,e,n,a)=>o()({method:r.a.PUT,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.SCHOOLS,"/").concat(n,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:a}),S=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.USERS,"?")+"type=school_admin&school_id=".concat(n,"&status=institution_verified&per_page=10&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),A=(t,e,n,a)=>o()({method:r.a.GET,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.SCHOOLS,"/").concat(n,"?")+"staff_only=true&user_status=institution_verified&include_extra_user_info=true&staff_sort_key=modified_date&staff_sort_direction=descending&include_user_email=true&"+"".concat(u.a.stringify(a),"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),T=(t,e,n)=>o()({method:r.a.PUT,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.USERS).concat(i.a.CODE_VERIFY,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:n}),C=(t,e,n)=>o()({method:r.a.POST,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.SEND_VERIFICATION_EMAIL,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:n}),g=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(c.a.BASE_URL)).concat(i.a.SCHOOLS,"?user_id=").concat(n,"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p})},1567:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchCurrentUserBellNotificationsSuccessAction",(function(){return S})),n.d(e,"fetchCurrentUserBellNotificationsFailureAction",(function(){return A})),n.d(e,"hideNotificationFromListAction",(function(){return T})),n.d(e,"startBellNotificationsFetchAction",(function(){return C})),n.d(e,"markAllBellNotificationsAsReadSuccessAction",(function(){return g})),n.d(e,"markAdminBellNotificationAsReadSuccessAction",(function(){return O})),n.d(e,"markAllBellNotificationsAsReadFailureAction",(function(){return m})),n.d(e,"deleteBellNotificationSuccessAction",(function(){return f})),n.d(e,"deleteBellNotificationFailureAction",(function(){return I})),n.d(e,"bellNotificationModeratedMessageDismissalSuccessAction",(function(){return N})),n.d(e,"bellNotificationModeratedReplyDismissalSuccessAction",(function(){return R})),n.d(e,"fetchCurrentUserBellNotificationsCountSuccessAction",(function(){return M})),n.d(e,"fetchCurrentUserBellNotificationsCountFailureAction",(function(){return y})),n.d(e,"clearAllBellNotifications",(function(){return L})),n.d(e,"resetUnreadBellNotificationCount",(function(){return U})),n.d(e,"fetchUnreadBellNotificationsForCurrentUser",(function(){return P})),n.d(e,"fetchAllBellNotificationsForCurrentUser",(function(){return b})),n.d(e,"markAllBellNotificationsAsRead",(function(){return F})),n.d(e,"markAdminBellNotificationAsRead",(function(){return H})),n.d(e,"markMarketingBellNotificationAsRead",(function(){return D})),n.d(e,"deleteBellNotification",(function(){return B})),n.d(e,"deleteAdminBellNotification",(function(){return G})),n.d(e,"fetchUnreadBellNotificationsCountForCurrentUser",(function(){return w})),n.d(e,"declineModeratedPostNotification",(function(){return k})),n.d(e,"declineModeratedReplyNotification",(function(){return K}));const a=["reply","direct_post","urgent_note","scheduled_message","moderated_message","moderated_reply","assigned","turned_in","assignment_comment","quiz_assigned","quiz_submitted","new_connection","connection_request","group_join_approved","new_group_member","group_invitation","group_join_request","event","grade","quiz_grade","standalone_grade","grouped_reply","grouped_turned_in","grouped_quiz_submitted","app_notification","new_publisher_message","new_lecture"],o={assignments:["assigned","turned_in","assignment_comment","grade"],quizzes:["quiz_assigned","quiz_submitted","quiz_grade"],moderated:["moderated_message","moderated_reply"],requests:["new_connection","connection_request","group_join_approved","new_group_member","group_invitation","group_join_request"]};var s=n(36),r=n(15),i=n(13),c=n(18),l=n(25);const u=t=>l.a.get(c.a.NOTIFICATIONS,{params:Object(r.a)({[i.a.INCLUDE_SCHOOL_NAME]:!0},t)});var p=n(141),d=n(301),_=n(126),h=n(8),E=n(45);const S=(t,e,n,a)=>({type:_.a.BELL_NOTIFICATIONS_FETCH_FOR_CURRENT_USER_SUCCESS,payload:{page:t,bellNotifications:e,paginationOptions:n,filter:a}}),A=t=>({type:_.a.BELL_NOTIFICATIONS_FETCH_FOR_CURRENT_USER_FAILURE,payload:t}),T=t=>({type:_.a.BELL_NOTIFICATIONS_HIDE_SPECIFIED_ITEM_FROM_LIST,payload:t}),C=()=>({type:_.a.BELL_NOTIFICATIONS_START_FETCH_ACTION,payload:null}),g=t=>({type:_.a.MARK_ALL_BELL_NOTIFICATIONS_AS_READ_SUCCESS,payload:t}),O=t=>({type:_.a.MARK_ADMIN_BELL_NOTIFICATION_AS_READ_SUCCESS,payload:t}),m=t=>({type:_.a.MARK_ALL_BELL_NOTIFICATIONS_AS_READ_FAILURE,payload:t}),f=t=>({type:_.a.DELETE_BELL_NOTIFICATION_SUCCESS,payload:t}),I=t=>({type:_.a.DELETE_BELL_NOTIFICATION_FAILURE,payload:t}),N=t=>({type:_.a.BELL_NOTIFICATION_MODERATED_MESSAGE_DISMISSAL_SUCCESS,payload:t}),R=t=>({type:_.a.BELL_NOTIFICATION_MODERATED_REPLY_DISMISSAL_SUCCESS,payload:t}),M=(t,e,n)=>({type:_.a.BELL_NOTIFICATIONS_COUNT_FOR_CURRENT_USER_FETCH_SUCCESS,payload:{notificationCount:t,adminNotificationCount:e,marketingNotificationCount:n}}),y=t=>({type:_.a.BELL_NOTIFICATIONS_COUNT_FOR_CURRENT_USER_FETCH_FAILURE,payload:t}),L=()=>({type:_.a.CLEAR_ALL_BELL_NOTIFICATIONS,payload:null}),U=()=>({type:_.a.RESET_UNREAD_BELL_NOTIFICATION_COUNT,payload:0}),P=(t,e,n)=>function(a,o){const r={user_id:t,unread:!0,page:e,per_page:n};return a(C()),u(r).then(t=>{a(S(e,t.data))}).catch(e=>{e&&e.response&&404===e.response.status&&a(A(t)),s.a.notifyBugsnag(e,"BellNotificationActionCreator.fetchUnreadBellNotificationsForCurrentUser")})},b=(t,e,n,r,i=h.a.ALL_FILTER)=>function(c,l){r=r||a.join(",")+",".concat(h.a.TOPICS_DIGEST);let p=!0;i!==h.a.ALL_FILTER&&(r=o[i].join(","),p=!1);const d={user_id:t,unread:!1,page:e,per_page:n,story_ids:r,combined:p};return c(C()),u(d).then(t=>{const n=t.data;n.sort((t,e)=>{const n=new Date(t.created_at);return new Date(e.created_at)-n});const a=t&&t.headers&&t.headers.link,o=a&&-1!==a.indexOf('rel="next"');c(S(e,n,{hasNextPage:o},i))}).catch(e=>{e&&e.response&&404===e.response.status&&(c(A(t)),Object(E.a)(e)),s.a.notifyBugsnag(e,"BellNotificationActionCreator.fetchAllBellNotificationsForCurrentUser")})},F=(t,e)=>function(n,a){return(o={ids:t},l.a.post(c.a.BULK_UPDATE_NOTIFICATIONS,o)).then(t=>{n(g(e))}).catch(t=>{t&&t.response&&404===t.response.status&&n(m(t)),s.a.notifyBugsnag(t,"BellNotificationActionCreator.markAllBellNotificationsAsRead")});var o},H=(t,e)=>function(n,a){return(o={admin_bell_notification_id:t,user_id:e},l.a.post(c.a.ADMIN_BELL_NOTIFICATION_SEEN,o)).then(t=>{n(O(t.data))}).catch(t=>{t&&t.response&&404===t.response.status&&n(m(t)),s.a.notifyBugsnag(t,"BellNotificationActionCreator.markAdminBellNotificationAsRead")});var o},D=t=>function(e,n){return(t=>l.a.put("".concat(c.a.MARKETING_BELL_NOTIFICATION_USERS).concat(t).concat(c.a.MARK_AS_READ)))(t).then(()=>{e(O({admin_bell_notification_id:t}))}).catch(t=>{t&&t.response&&404===t.response.status&&e(m(t)),s.a.notifyBugsnag(t,"BellNotificationActionCreator.markMarketingBellNotificationAsRead")})},B=t=>function(e,n){return(a=t,l.a.delete("".concat(c.a.NOTIFICATIONS,"/").concat(a))).then(n=>{e(f(t))}).catch(t=>{t&&t.response&&404===t.response.status&&(e(I(t)),Object(E.a)(t)),s.a.notifyBugsnag(t,"BellNotificationActionCreator.deleteBellNotification")});var a},G=t=>function(e,n){return(a={admin_bell_notification_id:t},l.a.put(c.a.ADMIN_BELL_NOTIFICATION_RECIPIENT,a)).then(n=>{e(f(t))}).catch(t=>{t&&t.response&&404===t.response.status&&(e(I(t)),Object(E.a)(t)),s.a.notifyBugsnag(t,"BellNotificationActionCreator.deleteAdminBellNotification")});var a},w=()=>function(t,e){return l.a.get(c.a.NOTIFICATIONS_COUNT).then(e=>{t(M(e.data.count,e.data.admin_count,e.data.marketing_count))}).catch(t=>{t&&t.response&&Object(E.a)(t),s.a.notifyBugsnag(t,"BellNotificationActionCreator.fetchUnreadBellNotificationsCountForCurrentUser")})},k=t=>function(e,n){const a=t.toString().split(/:/)[2];return p.f(a).then(n=>{e(N(t))}).catch(t=>{})},K=t=>function(e,n){const a=t.toString().split(/:/)[2];return d.b(a).then(n=>{e(R(t))}).catch(t=>{})}},1594:function(t,e,n){"use strict";n.r(e),n.d(e,"promotionHideSuccessAction",(function(){return _})),n.d(e,"promotionHideFailureAction",(function(){return h})),n.d(e,"hidePromotion",(function(){return E})),n.d(e,"trackImpression",(function(){return S})),n.d(e,"trackClick",(function(){return A}));var a=n(135),o=n.n(a),s=n(544),r=n(118),i=n(45),c=n(13),l=n(18),u=n(77);const p={Accept:"application/json","Content-Type":"application/json"};var d=n(63);const _=t=>({type:s.a.PROMOTION_HIDE_SUCCESS,payload:t}),h=t=>({type:s.a.PROMOTION_HIDE_FAILURE,payload:{error:t}}),E=(t,e)=>function(n,a){return o()({method:r.a.GET,url:e}).then(()=>{n(_(t))}).catch(t=>{n(h(t)),Object(i.a)(t)})},S=t=>function(e,n){return((t,e)=>o()({method:r.a.GET,url:"".concat(u.a.makeTrumpetApiEndpointURL(l.a.TRUMPET_TRACK_IMPRESSIONS),"?")+"payload=".concat(e,"&").concat(c.a.ACCESS_TOKEN,"=").concat(t.get(c.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}))(d.a(n).accessToken,t)},A=t=>function(e,n){return((t,e)=>o()({method:r.a.GET,url:"".concat(u.a.makeTrumpetApiEndpointURL(l.a.TRUMPET_TRACK_CLICKS),"?")+"payload=".concat(e,"&").concat(c.a.ACCESS_TOKEN,"=").concat(t.get(c.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}))(d.a(n).accessToken,t)}},1609:function(t,e,n){"use strict";n.d(e,"b",(function(){return _})),n.d(e,"g",(function(){return h})),n.d(e,"d",(function(){return E})),n.d(e,"c",(function(){return S})),n.d(e,"e",(function(){return A})),n.d(e,"h",(function(){return T})),n.d(e,"f",(function(){return C})),n.d(e,"i",(function(){return g})),n.d(e,"a",(function(){return O}));var a=n(135),o=n.n(a),s=n(13),r=n(118),i=n(18),c=n(144),l=n.n(c),u=n(125),p=n(48);const d={Accept:"application/json","Content-Type":"application/json"},_=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"?")+"".concat(l.a.stringify(n),"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:d}),h=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"?")+"".concat(l.a.stringify(n),"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:d}),E=(t,e)=>o()({method:r.a.GET,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"/recommended?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN)),headers:d}),S=(t,e,n,a)=>o()({method:r.a.GET,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"?")+"".concat(u.a.FOLLOWING,"=1&")+"".concat(s.a.PAGE,"=").concat(n,"&")+"".concat(s.a.PER_PAGE,"=").concat(a,"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN)),headers:d}),A=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"/").concat(n,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN)),headers:d}),T=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"?")+"".concat(l.a.stringify(n),"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN)),headers:d}),C=(t,e,n)=>o()({method:r.a.GET,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPIC_FOLLOWERS,"?")+"".concat(l.a.stringify(n),"&")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN)),headers:d}),g=(t,e,n,a)=>o()({method:r.a.POST,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"/").concat(n,"/promote?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app")+(a?"&include_recommended=1":""),headers:d,data:{topic_id:n}}),O=(t,e,n,a)=>o()({method:r.a.DELETE,url:"".concat(t.get(p.a.BASE_URL)).concat(i.a.TOPICS,"/").concat(n,"/demote?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(e.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app")+(a?"&include_recommended=1":""),headers:d,data:{topic_id:n}})},1629:function(t,e,n){"use strict";var a=n(4),o=n.n(a),s=n(1200),r=n(134),i=n(133),c=n(144),l=n.n(c),u=n(5),p=n(73),d=n(296),_=n(546),h=n(511),E=n(65),S=n(99),A=n(14),T=n(192),C=n(334),g=n(77),O=n(89),m=n(10),f=n(510),I=n(531),N=n(377);e.a=t=>{class e extends a.Component{constructor(t){super(t),this.state={destination:void 0,showOnboarding:!1};const e=t.location,n=e&&l.a.parse(e.search);n&&n.go2url&&!t.go2url&&t.signupActions.setGo2Url(n.go2url)}componentDidMount(){S.a.isLocalDev()||this.props.configModeActions.switchMode(E.b.mode),this.props.location!==m.a.LOGIN_PAGE&&this.setState({destination:this.props.location.pathname}),A.a.isOnboarding(this.props.currentUser)&&!this.state.showOnboarding&&this.state.destination!==m.a.ONBOARDING&&this.setState({showOnboarding:!0})}UNSAFE_componentWillReceiveProps(t){if(!T.a.isValid(this.props.accessToken)&&T.a.isValid(t.accessToken)){const e=l.a.parse(this.props.location.search);if(e.language){const n=T.a.getUserId(t.accessToken);this.props.userActions.updateUserLanguage(n,{locale:e.language})}}}componentWillUnmount(){A.a.getId(this.props.currentUser)&&!this.state.showOnboarding&&this.props.signupActions.resetSignup()}makeGo2url(){const t=Object(u.get)(this.props,"match.url"),e=Object(u.get)(this.props,"location.search");return"/settings/password"===t?g.a.loginPageWithGo2Url():g.a.loginPageWithGo2Url(t+e)}render(){const e=this.props,n=e.authenticationStatus,a=e.currentUser,r=e.go2url,i=this.state.destination;if(n===O.a.LOGGED_OUT)return o.a.createElement(s.a,{to:this.makeGo2url()});if(a&&!a.isEmpty()){if(A.a.isOnboarding(a))return i===m.a.ONBOARDING?o.a.createElement(t,this.props):o.a.createElement(s.a,{to:{pathname:m.a.ONBOARDING,state:{go2url:r}}});if(C.a.isSubdomainPage()&&(window.location=m.a.REACT_HOME_PAGE),r){let t=null;if(g.a.isUrlAbsolute(r))return window.location=r,o.a.createElement(f.a,null);if(t=r,i!==g.a.extractPathName(t))return o.a.createElement(s.a,{to:t})}return o.a.createElement(t,this.props)}return o.a.createElement(f.a,{title:"Loading Edmodo..."})}}return Object(i.connect)((function(t){return{currentUser:p.c(t),accessToken:p.d(t),go2url:N.c(t),authenticationStatus:d.a(t)}}),(function(t){return{configModeActions:Object(r.bindActionCreators)(_,t),signupActions:Object(r.bindActionCreators)(I,t),userActions:Object(r.bindActionCreators)(h,t)}}))(e)}},1812:function(t,e,n){"use strict";n.r(e),n.d(e,"trackPageView",(function(){return o}));var a=n(554);const o=(t,e={})=>({type:a.a.TRACK_PAGE_VIEW,payload:{context:t,properties:e}})},1980:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return _}));var a=n(15),o=n(25),s=n(223),r=n(18),i=n(80),c=n(27);const l=t=>o.a.get(r.a.TIMELINE,{params:t}),u=(t,e,n)=>s.c({configInfo:t,accessToken:e,params:n,path:r.a.TIMELINE}),p=(t,e)=>o.a.get("".concat(r.a.TIMELINE,"/").concat(t),{params:e}),d=(t,e,n,a,o)=>{let i;return o===c.a.ASSIGNMENT?i=r.a.ASSIGNMENTS+"/"+n:o===c.a.QUIZ?i=r.a.QUIZZES+"/"+n:o===c.a.STANDALONE_GRADE&&(i=r.a.STANDALONE_GRADES+"/"+n),s.e({configInfo:t,accessToken:e,data:a,path:i})},_=(t,e,n,o,s,r,c)=>{let l;switch(s){case i.a.WorkFilter.QUIZZES_ONLY:l="quiz";break;case i.a.WorkFilter.ASSIGNMENTS_ONLY:l="assignment";break;case i.a.WorkFilter.EVENTS_ONLY:l="event";break;case i.a.WorkFilter.SHOW_ALL:default:l="assignment,quiz"}let p={types:l,page:o,per_page:i.a.Defaults.ITEMS_PER_FETCH};switch(c&&(p.user_id=c),r&&(r===i.a.RecipientsFilter.SHOW_DIRECT?p.user_conversations=!0:r!==i.a.RecipientsFilter.SHOW_ALL&&(p.group_ids=r)),n){case i.a.Sections.REVIEW:p=Object(a.a)({},p,{sort_direction:"ascending",exclude_reviewed:!0,active_groups_only:!0});break;case i.a.Sections.REVIEWED:p=Object(a.a)({},p,{sort_direction:"descending",reviewed:!0,active_groups_only:!0});break;case i.a.Sections.SCHEDULED:p=Object(a.a)({},p,{sort_direction:"ascending",exclude_reviewed:!0,scheduled_only:!0,active_groups_only:!0});break;case i.a.Sections.TODO:if(p=Object(a.a)({},p,{sort_direction:"ascending",whats_due:!0,active_groups_only:!0,has_submission:!1}),s===i.a.WorkFilter.EVENTS_ONLY){const t=new Date;p.min_time=t.toISOString()}break;case i.a.Sections.FINISHED:if(p=Object(a.a)({},p,{sort_direction:"descending",whats_due:!0,active_groups_only:!0,has_submission:!0}),s===i.a.WorkFilter.EVENTS_ONLY){const t=new Date;p.max_time=t.toISOString()}}return u(t,e,p)}},1981:function(t,e,n){"use strict";n.r(e),n.d(e,"userClickOpenCollectInterests",(function(){return o})),n.d(e,"userClickCloseCollectInterests",(function(){return s})),n.d(e,"userClickSaveCollectInterests",(function(){return r})),n.d(e,"timeUntilAction",(function(){return i})),n.d(e,"userUpdateLocation",(function(){return c})),n.d(e,"userInterestsBannerDisplayed",(function(){return l})),n.d(e,"userClickAddInterests",(function(){return u}));var a=n(260);const o=t=>({type:a.a.TRACK_COLLECT_INTERESTS_MODAL_OPEN,payload:t}),s=t=>({type:a.a.TRACK_COLLECT_INTERESTS_MODAL_CLOSE,payload:t}),r=t=>({type:a.a.TRACK_COLLECT_INTERESTS_MODAL_SAVE,payload:t}),i=t=>({type:a.a.TRACK_COLLECT_INTERESTS_TIME_UNTIL_ACTION,payload:t}),c=t=>({type:a.a.TRACK_COLLECT_INTERESTS_UPDATE_LOCATION,payload:t}),l=t=>({type:a.a.TRACK_COLLECT_INTERESTS_BANNER_DISPLAYED,payload:t}),u=t=>({type:a.a.TRACK_COLLECT_INTERESTS_ADD_INTERESTS_CLICKED,payload:t})},1982:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(9),o=n(1),s=n(28);const r=Object(a.createSelector)([s.Nb],t=>t&&t.get(o.a.USER_INTERESTS))},1991:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchCurrentSchoolSuccessAction",(function(){return p})),n.d(e,"fetchCurrentUserSchoolSuccessAction",(function(){return d})),n.d(e,"fetchCurrentSchoolFailureAction",(function(){return _})),n.d(e,"fetchCurrentSchoolAdministratorSuccessAction",(function(){return h})),n.d(e,"fetchCurrentSchoolAdministratorFailureAction",(function(){return E})),n.d(e,"fetchCurrentSchoolAdministratorsSuccessAction",(function(){return S})),n.d(e,"fetchCurrentSchoolAdministratorsFailureAction",(function(){return A})),n.d(e,"updateSchoolSuccessAction",(function(){return T})),n.d(e,"setCurrentSchoolId",(function(){return C})),n.d(e,"fetchCurrentSchoolStaffSuccessAction",(function(){return g})),n.d(e,"fetchCurrentSchoolStaffFailureAction",(function(){return O})),n.d(e,"schoolCodeVerificationSuccessAction",(function(){return m})),n.d(e,"schoolCodeVerificationFailureAction",(function(){return f})),n.d(e,"emailVerificationSuccessAction",(function(){return I})),n.d(e,"emailVerificationFailureAction",(function(){return N})),n.d(e,"updateUserVerificationSuccessAction",(function(){return R})),n.d(e,"fetchSchoolsByUserIdSuccessAction",(function(){return M})),n.d(e,"fetchSchoolsByUserIdFailureAction",(function(){return y})),n.d(e,"fetchCurrentSchool",(function(){return L})),n.d(e,"fetchCurrentSchoolByCommunityName",(function(){return U})),n.d(e,"fetchSchoolAdministrators",(function(){return P})),n.d(e,"fetchCurrentSchoolAdministrator",(function(){return b})),n.d(e,"updateSchool",(function(){return F})),n.d(e,"fetchCurrentSchoolStaff",(function(){return H})),n.d(e,"schoolCodeVerification",(function(){return D})),n.d(e,"sendEmailVerification",(function(){return B})),n.d(e,"fetchSchoolsByUserId",(function(){return G}));var a=n(105),o=n(81),s=n(1563),r=n(63),i=n(36),c=n(297),l=n(46),u=n(64);const p=t=>({type:a.a.SINGLE_SCHOOL_FETCH_SUCCESS,payload:t}),d=t=>({type:a.a.CURRENT_USER_SCHOOL_FETCH_SUCCESS,payload:t}),_=t=>({type:a.a.SINGLE_SCHOOL_FETCH_FAILURE,payload:t}),h=t=>({type:a.a.SCHOOL_ADMINISTRATOR_FETCH_SUCCESS,payload:t&&t.user_id}),E=t=>({type:a.a.SCHOOL_ADMINISTRATOR_FETCH_FAILURE,payload:t}),S=t=>({type:a.a.SCHOOL_ADMINISTRATORS_FETCH_SUCCESS,payload:t}),A=t=>({type:a.a.SCHOOL_ADMINISTRATORS_FETCH_FAILURE,payload:t}),T=t=>({type:a.a.UPDATE_SCHOOL_SUCCESS,payload:t}),C=t=>({type:a.a.SET_CURRENT_SCHOOL_ID,payload:t}),g=t=>({type:a.a.SCHOOL_STAFF_FETCH_SUCCESS,payload:t}),O=t=>({type:a.a.SCHOOL_STAFF_FETCH_FAILURE,payload:t}),m=t=>({type:a.a.SCHOOL_CODE_VERIFICATION_SUCCESS,payload:t}),f=t=>({type:a.a.SCHOOL_CODE_VERIFICATION_FAILURE,payload:t}),I=t=>({type:a.a.EMAIL_VERIFICATION_SENT_SUCCESS,payload:t}),N=t=>({type:a.a.EMAIL_VERIFICATION_SENT_FAILURE,payload:t}),R=()=>({type:o.a.UPDATE_USER_VERIFICATION_SUCCESS_ACTION}),M=t=>({type:a.a.FETCH_SCHOOL_BY_USER_ID_SUCCESS,payload:t}),y=t=>({type:a.a.FETCH_SCHOOL_BY_USER_ID_FAILURE,payload:t}),L=(t,e=!1)=>function(n,a){const o=r.a(a),c=o.configInfo,l=o.accessToken;return s.a(c,l,t).then(t=>{n(p(t.data)),e&&n(d(t.data))}).catch(t=>{t&&t.response&&404===t.response.status?n(_(t)):i.a.notifyBugsnag(t,"SchoolActionCreator.fetchCurrentSchool")})},U=t=>function(e,n){const a=r.a(n),o=a.configInfo,c=a.accessToken;return s.b(o,c,t).then(t=>{e(p(t.data)),e(C(t.data.id))}).catch(t=>{t&&t.response&&404===t.response.status?e(_(t)):i.a.notifyBugsnag(t,"SchoolActionCreator.fetchCurrentSchoolByCommunityName")})},P=t=>function(e,n){const a=r.a(n),o=a.configInfo,i=a.accessToken,l={};return s.d(o,i,t).then(t=>{e(c.getAdministratorsSuccess(l,u.a.SCHOOL_COMMUNITY)),e(S(t.data))}).catch(t=>{t&&t.response&&e(A(t))})},b=t=>function(e,n){const a=r.a(n),o=a.configInfo,i=a.accessToken;return s.c(o,i,t).then(t=>{e(h(t.data))}).catch(t=>{t&&t.response&&e(E(t))})},F=(t,e,n,a=!1)=>function(o,i){const c=r.a(i),u=c.configInfo,p=c.accessToken;return s.i(u,p,t,e).then(t=>{o(T(t.data)),a&&o(d(t.data)),n&&n(),o(Object(l.showSuccessGlobalAlert)("update-school-success","School updated successfully"))}).catch(t=>{o(Object(l.showErrorGlobalAlert)("internal-server-error","Something went wrong"))})},H=(t,e,n,a)=>function(o,c){const l=r.a(c),u=l.configInfo,p=l.accessToken;return s.e(u,p,t,e).then(t=>{o(g(t.data)),n&&n(a)}).catch(t=>{t&&t.response&&404===t.response.status?o(O(t)):i.a.notifyBugsnag(t,"SchoolActionCreator.fetchCurrentSchoolStaff")})},D=t=>function(e,n){const a=r.a(n),o=a.configInfo,i=a.accessToken;return s.g(o,i,t).then(()=>{e(m(!0)),e(R())}).catch(()=>{e(f(!1))})},B=t=>function(e,n){const a=r.a(n),o=a.configInfo,i=a.accessToken;return s.h(o,i,t).then(t=>{e(I(t.data))}).catch(t=>{e(N(t))})},G=t=>function(e,n){const a=r.a(n),o=a.configInfo,i=a.accessToken;return s.f(o,i,t).then(t=>{e(M(t.data))}).catch(t=>{t&&t.response&&e(y(t))})}},1998:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchTimelineItemsSuccess",(function(){return r})),n.d(e,"fetchRequest",(function(){return i})),n.d(e,"fetchSuccess",(function(){return c})),n.d(e,"fetchSuccessSingleItem",(function(){return l})),n.d(e,"fetchFailure",(function(){return u})),n.d(e,"itemUpdateRequest",(function(){return p})),n.d(e,"itemUpdateFailure",(function(){return d})),n.d(e,"itemUpdateSuccess",(function(){return _})),n.d(e,"clearTimeline",(function(){return h})),n.d(e,"markItemAsReviewed",(function(){return E})),n.d(e,"sendItemBackToReview",(function(){return S})),n.d(e,"sendItemNow",(function(){return A})),n.d(e,"rescheduleItem",(function(){return T})),n.d(e,"deleteItem",(function(){return C})),n.d(e,"forceRefetch",(function(){return g})),n.d(e,"fetchUserTimeline",(function(){return O})),n.d(e,"fetchTimelineItem",(function(){return m})),n.d(e,"clearAndFetchUserTimeline",(function(){return f})),n.d(e,"fetchTimelineItems",(function(){return I}));var a=n(1980),o=n(63),s=n(47);const r=t=>({type:s.a.Actions.FETCH_TIMELINE_ITEMS_SUCCESS,payload:t}),i=t=>({type:s.a.Actions.FETCH_REQUEST,payload:t}),c=(t,e=null)=>({type:s.a.Actions.FETCH_SUCCESS,payload:{items:t,belongsToSection:e}}),l=t=>({type:s.a.Actions.FETCH_SUCCESS_SINGLE_ITEM,payload:t}),u=t=>({type:s.a.Actions.FETCH_FAILURE,payload:t}),p=()=>({type:s.a.Actions.ITEM_UPDATE_REQUEST}),d=(t,e=!0)=>({type:s.a.Actions.ITEM_UPDATE_FAILURE,payload:{error:t,decrementCount:e}}),_=()=>({type:s.a.Actions.ITEM_UPDATE_SUCCESS}),h=(t=null,e=null)=>({type:s.a.Actions.TIMELINE_CLEAR,payload:{itemId:e,clearSection:t}}),E=t=>({type:s.a.Actions.ITEM_MARK_AS_REVIEWED,payload:t}),S=t=>({type:s.a.Actions.ITEM_BACK_TO_REVIEW,payload:t}),A=(t,e)=>({type:s.a.Actions.ITEM_SEND_NOW,payload:{item:t,now:e}}),T=(t,e)=>({type:s.a.Actions.ITEM_RESCHEDULE,payload:{item:t,postDate:e}}),C=t=>({type:s.a.Actions.ITEM_DELETE,payload:t}),g=()=>({type:s.a.Actions.FORCE_REFETCH}),O=(t,e=null)=>function(n,s){n(i(t));const r=o.a(s),l=r.configInfo,p=r.accessToken;return a.b(l,p,t).then(t=>{n(c(t.data,e))}).catch(t=>{n(u(t.message)),console.log("Timeline fetch error:",t)})},m=(t,e)=>function(n,o){const s=[];return a.c(t,e).then(t=>{s[0]=t.data,n(r(s))}).catch(t=>(n(u(t.message)),Promise.reject(t)))},f=(t,e=null)=>function(n){n(h()),n(O(t,e))},I=t=>function(e,n){return a.d(t).then(t=>(e(r(t.data)),t)).catch(t=>{})}},2005:function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return _})),n.d(e,"f",(function(){return h})),n.d(e,"e",(function(){return E})),n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return T}));var a=n(9),o=n(11),s=n.n(o),r=n(28),i=n(47),c=n(552);const l=t=>r.Ib(t),u=Object(a.createSelector)([l],t=>t&&t.get(i.a.State.TIMELINE_ITEMS_BY_ID)),p=Object(a.createSelector)([u],t=>t&&t.filter(t=>c.a.isAssignment(t)||c.a.isQuiz(t))),d=Object(a.createSelector)([l],t=>t&&t.get(i.a.State.ITEMS)),_=Object(a.createSelector)([l],t=>t&&t.get(i.a.State.ERROR_MESSAGE)),h=Object(a.createSelector)([l],t=>t&&t.get(i.a.State.UPDATE_ITEMS_COUNT)),E=Object(a.createSelector)([d,(t,e)=>e&&(e.match.params.id||e.timelineId)],(t,e)=>c.a.getItemByTimelineId(t,e)),S=Object(a.createSelector)([l],t=>t&&t.get(i.a.State.FORCE_REFETCH)),A=(Object(a.createSelector)([l],t=>t&&t.get(i.a.State.TIMELINE_ITEMS_BY_ID)),Object(a.createSelector)([p,(t,e)=>e.startTime,(t,e)=>e.endTime],(t,e,n)=>t&&t.filter(t=>s()(c.a.getItemDueDate(t)).isBetween(e,n,null,"[]")).sortBy(t=>c.a.getItemDueDate(t)))),T=Object(a.createSelector)([A,(t,e)=>e.groupId],(t,e)=>e?t&&t.filter(t=>{const n=c.a.getItemRecipientGroupIds(t);return n&&n.includes(parseInt(e))}):t)},2113:function(t,e,n){},2280:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(9),o=n(28),s=n(1);const r=Object(a.createSelector)([o.Lb],t=>t&&t.get(s.a.LATEST_TIME_ON_SITE_TIMESTAMP))},2305:function(t,e,n){"use strict";var a=n(4),o=n.n(a),s=n(364),r=n(1206),i=n(156),c=n(77);n(2306);class l extends a.PureComponent{constructor(t){super(t),this.state={closeFirebaseBanner:""},this.closeFirebaseBanner=this.closeFirebaseBanner.bind(this)}closeFirebaseBanner(){this.setState({closeFirebaseBanner:"close-firebase-banner"})}render(){const t=this.props.webUrl,e=c.a.makeFirebaseUrl(t);return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"firebase-banner px-2 py-2 ".concat(this.state.closeFirebaseBanner)},o.a.createElement("div",{className:"x-icon-container",onClick:()=>this.closeFirebaseBanner()},o.a.createElement(r.default,{size:20})),o.a.createElement("div",{className:"edmodo-app-info"},o.a.createElement("h6",{className:"body-text"},"Edmodo"),o.a.createElement("p",{className:"note-text"},o.a.createElement(i.default,{string:"manage-engage-classroom",fallbackString:"Manage and engage your classroom."}))),o.a.createElement("div",{className:"cta-container"},o.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(s.c,{color:"primary",size:"sm"},o.a.createElement(i.default,{string:"open-in-app",fallbackString:"Open in App"}))))))}}e.a=l},2306:function(t,e,n){},2354:function(t,e,n){"use strict";var a={};n.r(a),n.d(a,"trackTimeOnSite",(function(){return u}));var o=n(4),s=n.n(o),r=n(134),i=n(133),c={home:"home_page",library:"library_page",groups:"group_page",messages:"messages_page"},l="TRACK_TIME_ON_SITE";const u=t=>({type:l,payload:t});var p=n(2280),d=n(201),_=n(295);e.a=t=>{class e extends o.Component{constructor(t){super(t),this.state={hasFiredTrackingEvent:!1},window.addEventListener("unload",t=>{this.state.hasFiredTrackingEvent||this.triggerTrackingEvent()}),window.sessionStorage.getItem("windowId")||window.sessionStorage.setItem("windowId",Object(_.a)())}componentDidUpdate(t){this.props.latestOnSiteTimestamp!==t.latestOnSiteTimestamp&&this.triggerTrackingEvent()}triggerTrackingEvent(){const t=d.b(document.location.pathname),e={context:c[t],product_group:"time_on_site",visual_element:"page",tracking_action:"display",has_focus:document.hasFocus(),window_id:window.sessionStorage.getItem("windowId"),path_name:document.location.pathname};this.props.timeOnSiteTrackingActions.trackTimeOnSite(e),this.setState({hasFiredTrackingEvent:!0})}render(){return s.a.createElement(t,this.props)}}return Object(i.connect)((function(t,e){return{latestOnSiteTimestamp:p.a(t)}}),(function(t){return{timeOnSiteTrackingActions:Object(r.bindActionCreators)(a,t)}}))(e)}},2575:function(t,e,n){},2853:function(t,e,n){},2854:function(t,e,n){},3063:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"fetchRecommendedAnnouncementDialogSuccessAction",(function(){return Lt})),n.d(a,"fetchRecommendedAnnouncementDialogErrorAction",(function(){return Ut})),n.d(a,"fetchRecommendedAnnouncementDialog",(function(){return Pt})),n.d(a,"dismissAnnouncementDialog",(function(){return bt}));var o={};n.r(o),n.d(o,"trackDisplayFeedCard",(function(){return kt})),n.d(o,"trackDismissFeedCard",(function(){return Kt})),n.d(o,"trackActionButtonClick",(function(){return jt}));var s=n(4),r=n.n(s),i=n(133),c=n(11),l=n.n(c),u=n(134),p=n(364),d=n(272),_=n(5),h=n(144),E=n.n(h),S=n(511),A=n(1267),T=n(253),C=n(139),g=n(212),O=n(1278),m=n(189),f=n(200),I=n(307),N=n(372),R=n(373),M=n(1998),y=n(1567),L=n(532),U=n(528),P=n(1812),b=n(1981),F=n(1319),H=n(529),D=n(1991),B=n(390),G=n(533),w=n(1487),k=n(210),K=n(1507),j=n(192),v=n(14),W=n(146),x=n(438),V=n(78),Y=n(38),q=n(42),Q=n(199),z=n(73),J=n(1320),X=n(9),Z=n(1),$=n(28);const tt=Object(X.createSelector)([$.kb],t=>t&&t.get(Z.a.RECOMMENDED_POSTS));var et=n(368),nt=n(2005),at=n(428),ot=n(162),st=n(367),rt=n(1314),it=n(559),ct=n(1488),lt=n(1236),ut=n(2280),pt=n(1982),dt=n(10),_t=n(34),ht=n(145),Et=n(20),St=n(1310),At=n(215),Tt=n(7),Ct=n(510),gt=(n(2575),n(754)),Ot=n(135),mt=n.n(Ot),ft=n(13),It=n(118),Nt=n(18),Rt=n(48);const Mt={Accept:"application/json","Content-Type":"application/json"};var yt=n(63);const Lt=t=>({type:gt.a.RECOMMENDED_ANNOUNCEMENT_DIALOG_FETCH_SUCCESS,payload:t}),Ut=t=>({type:gt.a.RECOMMENDED_ANNOUNCEMENT_DIALOG_FETCH_FAILURE,payload:t}),Pt=()=>function(t,e){const n=yt.a(e);return((t,e,n)=>mt()({method:It.a.GET,url:"".concat(t.get(Rt.a.BASE_URL)).concat(Nt.a.ANNOUNCEMENT_RECOMMENDED,"?")+"".concat(ft.a.ACCESS_TOKEN,"=").concat(e.get(ft.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:Mt}))(n.configInfo,n.accessToken).then(e=>{t(Lt(e.data))}).catch(e=>{t(Ut(e))})},bt=t=>function(e,n){const a=yt.a(n);return((t,e,n)=>mt()({method:It.a.PUT,url:"".concat(t.get(Rt.a.BASE_URL)).concat(Nt.a.ANNOUNCEMENT_DISMISS,"?")+"payload=".concat(n,"&").concat(ft.a.ACCESS_TOKEN,"=").concat(e.get(ft.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:Mt}))(a.configInfo,a.accessToken,t).then(t=>{e(Lt({}))})};var Ft=n(1594);const Ht=Object(X.createSelector)([(t,e)=>e&&e===Et.a.REDUCER?t:$.k(t)],t=>t&&t.get(Z.a.RECOMMENDED_ANNOUNCEMENT_DIALOG));var Dt=n(575),Bt=n(755);n(2853);var Gt=({announcementDialog:t,isAnnouncementDialogOpen:e,toggleAnnouncementModal:n,handleActionButtonClick:a})=>{const o=Dt.a.getBodyContent(t),s=Dt.a.getHeadLine(t),i=Dt.a.getPromoActionLabel(t),c=Dt.a.getPromoActionUrl(t),l=Bt.a.getImageUrl(t);return r.a.createElement(p.M,{className:"announcement-dialog-modal",isOpen:e,toggle:n,size:"sm"},r.a.createElement(p.N,{className:"announcement-dialog-modal-content"},r.a.createElement("div",{className:"header-image-container"},r.a.createElement("img",{className:"header-image",src:l,alt:""})),r.a.createElement("div",{className:"modal-heading"},s),r.a.createElement("div",{className:"modal-description"},o),r.a.createElement("div",{className:"visit-page-container"},r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(p.c,{color:"primary",className:"visit-page-button qa-test-visit-page-button",onClick:a},i)))))},wt=n(429);const kt=(t,e)=>({type:wt.a.TRACK_ANNOUNCEMENT_DIALOG_DISPLAY,payload:t,context:e||"home_page"}),Kt=(t,e)=>({type:wt.a.TRACK_ANNOUNCEMENT_DIALOG_DISMISS,payload:t,context:e||"home_page"}),jt=(t,e)=>({type:wt.a.TRACK_ANNOUNCEMENT_DIALOG_ACTION_CLICK,payload:t,context:e||"home_page"});class vt extends s.Component{constructor(t){super(t),this.state={isAnnouncementDialogOpen:!0},this.handleActionButtonClick=this.handleActionButtonClick.bind(this),this.handleDismiss=this.handleDismiss.bind(this),this.toggleAnnouncementModal=this.toggleAnnouncementModal.bind(this)}componentDidMount(){this.props.announcementDialogActions.fetchRecommendedAnnouncementDialog()}UNSAFE_componentWillReceiveProps(t){if(t.recommendedAnnouncementDialog&&Dt.a.getPayload(t.recommendedAnnouncementDialog)&&Dt.a.getPayload(this.props.recommendedAnnouncementDialog)!==Dt.a.getPayload(t.recommendedAnnouncementDialog)){this.props.trumpetActions.trackImpression(Dt.a.getPayload(t.recommendedAnnouncementDialog));const e=Dt.a.getTrackingProperties(t.recommendedAnnouncementDialog);this.props.announcementDialogTrackingActions.trackDisplayFeedCard(e)}}handleActionButtonClick(){this.props.trumpetActions.trackClick(Dt.a.getPayload(this.props.recommendedAnnouncementDialog));const t=Dt.a.getTrackingProperties(this.props.recommendedAnnouncementDialog);this.props.announcementDialogTrackingActions.trackActionButtonClick(t),this.toggleAnnouncementModal()}handleDismiss(){this.props.announcementDialogActions.dismissAnnouncementDialog(Dt.a.getPayload(this.props.recommendedAnnouncementDialog));const t=Dt.a.getTrackingProperties(this.props.recommendedAnnouncementDialog);this.props.announcementDialogTrackingActions.trackDismissFeedCard(t)}toggleAnnouncementModal(){this.state.isAnnouncementDialogOpen&&this.handleDismiss(),this.setState({isAnnouncementDialogOpen:!this.state.isAnnouncementDialogOpen})}render(){return this.props.recommendedAnnouncementDialog&&this.props.recommendedAnnouncementDialog.size?r.a.createElement("div",{className:"announcement-dialog"},this.props.recommendedAnnouncementDialog&&this.props.recommendedAnnouncementDialog.size&&r.a.createElement(Gt,{announcementDialog:this.props.recommendedAnnouncementDialog,isAnnouncementDialogOpen:this.state.isAnnouncementDialogOpen,toggleAnnouncementModal:this.toggleAnnouncementModal,handleActionButtonClick:this.handleActionButtonClick})):null}}var Wt=Object(i.connect)((function(t){return{recommendedAnnouncementDialog:Ht(t)}}),(function(t){return{announcementDialogActions:Object(u.bindActionCreators)(a,t),trumpetActions:Object(u.bindActionCreators)(Ft,t),announcementDialogTrackingActions:Object(u.bindActionCreators)(o,t)}}))(vt),xt=n(2305),Vt=n(156),Yt=n(516),qt=n(1629),Qt=n(509),zt=n(2354),Jt=n(517),Xt=n(518),Zt=n(77),$t=n(327),te=n(381),ee=(n(2854),n(2113),n(104)),ne=n(125);const ae=Object(q.a)(()=>Promise.all([n.e(0),n.e(294)]).then(n.bind(null,2604))),oe=Object(q.a)(()=>Promise.all([n.e(0),n.e(34),n.e(346)]).then(n.bind(null,2577))),se=Object(q.a)(()=>n.e(306).then(n.bind(null,1588))),re=Object(q.a)(()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(246)]).then(n.bind(null,2600))),ie=Object(q.a)(()=>Promise.all([n.e(0),n.e(24),n.e(257)]).then(n.bind(null,3047))),ce=Object(q.a)(()=>Promise.all([n.e(1),n.e(4),n.e(281),n.e(10),n.e(261)]).then(n.bind(null,2603))),le=Object(q.a)(()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(230)]).then(n.bind(null,1587))),ue=Object(q.a)(()=>Promise.all([n.e(262),n.e(22),n.e(287)]).then(n.bind(null,2168)));class pe extends s.Component{constructor(t,e){super(t,e),v.a.isParent(t.currentUser)&&t.currentChildIdForParent&&t.history.push(Zt.a.makeChildPageUrl(t.currentChildIdForParent)),this.state={timelineStart:l()().format("YYYY-MM-DD"),timelineEnd:l()().add(7,"d").format("YYYY-MM-DD"),findMySchoolModalOpen:!1,findMySchoolQuery:"",selectedSchool:null,fetchingAllGroups:!0,context:dt.a.HOME_PAGE,inHashtagMode:!1,currentHashtag:"",isFollowingHashtag:!1,hashtagFollowingCount:"",isManagingTopics:!1,topicSearchModalOpen:!1,queryParams:E.a.parse(t.location.search),seenHashtagIntro:!1,isCollectInterestsModalOpen:!1,isTopicPromoted:!1,autoFollowedHashtag:!1,userInterestsRequested:!1,userInterestsBannerDisplayed:!1,showUrlModal:!1},this.toggleFindMySchoolModal=this.toggleFindMySchoolModal.bind(this),this.toggleTopicSearchModal=this.toggleTopicSearchModal.bind(this),this.findMySchoolSubmit=this.findMySchoolSubmit.bind(this),this.optOutReactVersion=this.optOutReactVersion.bind(this),this.handleFindSchoolItemChange=this.handleFindSchoolItemChange.bind(this),this.reactSplashModalClosed=this.reactSplashModalClosed.bind(this),this.followHashtag=this.followHashtag.bind(this),this.unfollowHashtag=this.unfollowHashtag.bind(this),this.setTopicInfoByHashtag=this.setTopicInfoByHashtag.bind(this),this.fetchCompactGroupMembershipList=this.fetchCompactGroupMembershipList.bind(this),this.manageTopicsWidget=this.manageTopicsWidget.bind(this),this.unfollowHashtagByTopicId=this.unfollowHashtagByTopicId.bind(this),this.handleHashtagClick=this.handleHashtagClick.bind(this),this.isCurrentUserInSharingRedesignABTest=this.isCurrentUserInSharingRedesignABTest.bind(this),this.hashtagIntroNagBarClose=this.hashtagIntroNagBarClose.bind(this),this.homePageAfterStreamLoadCallback=this.homePageAfterStreamLoadCallback.bind(this),this.showAlternateQotd=this.showAlternateQotd.bind(this),this.handleCollectInterestsModalToggle=this.handleCollectInterestsModalToggle.bind(this),this.trackClickOpenOrCloseCollectInterests=this.trackClickOpenOrCloseCollectInterests.bind(this),this.promoteTopic=this.promoteTopic.bind(this),this.demoteTopic=this.demoteTopic.bind(this),this.shouldShowUserInterestsBanner=this.shouldShowUserInterestsBanner.bind(this),this.trackUserInterestsBannerDisplayed=this.trackUserInterestsBannerDisplayed.bind(this),this.trackAddInterestsClick=this.trackAddInterestsClick.bind(this),this.handleResetPassword=this.handleResetPassword.bind(this),this.handleGoResetPassword=this.handleGoResetPassword.bind(this)}static translationFiles(){return[St.a.ASSIGNMENT,St.a.APPS_LAUNCH_BAR,St.a.BELL_NOTIFICATION,St.a.COMMON,St.a.COMMUNITY,St.a.CONNECTION,St.a.FOOTER,St.a.FORM,St.a.HOME_PAGE,St.a.LEFT_COLUMN,St.a.MENU,St.a.MESSAGE,St.a.MODAL,St.a.POLL,St.a.PROFILE,St.a.QUIZ,St.a.REPLY,St.a.STREAM,St.a.TOPIC,St.a.COMPOSER,St.a.GROUP,St.a.NOT_FOUND_PAGE,St.a.DISCOVER_PAGE,St.a.STUDENT_PLANNER_PAGE,"search_page"]}UNSAFE_componentWillMount(){v.a.isTeacher(this.props.currentUser)&&(this.props.topicActions.fetchRecommendedTopics(),this.props.postActions.fetchRecommendedPosts());const t=this.getHashtagFromParams(this.props);t&&(this.fetchTopicsByQuery(this.props),this.setTopicInfoByHashtag()),this.isCurrentUserInHashTagABTest()&&t&&this.setState({inHashtagMode:!0,currentHashtag:this.getHashtagFromParams()},()=>this.props.streamActions.setCurrentHashtagOnHomeAction(this.getHashtagFromParams()))}componentWillUnmount(){this.setState({inHashtagMode:!1})}getHashtagFromParams(t){return t?E.a.parse(t.location.search)?E.a.parse(t.location.search).hashtag:this.state.currentHashtag:this.state.queryParams.hashtag||this.state.currentHashtag}isCurrentUserInHashTagABTest(){return $t.a.userInReplaceTopicsWithHashTagsTest(this.props.accessToken,this.props.abTestPlacementInfo)}isCurrentUserInSharingRedesignABTest(){return $t.a.userInSharingRedesignTest(this.props.abTestPlacementInfo)}initialLoad(t){v.a.isParent(t.currentUser)?t.parentStreamsActions.fetchParentStreams(!0,t.history):this.fetchMinimalCompactGroupMembershipList(t),this.setHomeStreamMode(this.props)}fetchFollowingTopicsForUser(t){if(Jt.a(t.followingTopics)&&Xt.a.notCurrentlyFetching(t.fetchFollowingTopicsAjaxStatus)){this.props.ajaxStatusActions.beginAjaxCallAction(Tt.a.BEGIN_FOLLOWING_TOPICS_FETCH_AJAX_CALL,Tt.a.FETCH_FOLLOWING_TOPICS_LOADING_STATUS);const t=this.props.topicActions,e=this.state.debounceDuration;Object(_.debounce)((function(){t.fetchFollowingTopicsForUser()}),e)()}}fetchTopicsByQuery(t){if(this.getHashtagFromParams(t)&&Jt.a(t.userTopics)&&Xt.a.notCurrentlyFetching(t.fetchTopicsByQueryAjaxStatus)){this.props.ajaxStatusActions.beginAjaxCallAction(Tt.a.BEGIN_TOPICS_BY_QUERY_FETCH_AJAX_CALL,Tt.a.FETCH_TOPICS_BY_QUERY_LOADING_STATUS);const e=this.props.topicActions,n=this.state.debounceDuration,a=this.getHashtagFromParams(t);Object(_.debounce)((function(){e.fetchTopicsByQuery(a)}),n)()}}clearAndFetchUserTimeline(t,e){if(Jt.a(e.timeline)&&Xt.a.notCurrentlyFetching(this.props.clearAndFetchTimelineAjaxStatus)){this.props.ajaxStatusActions.beginAjaxCallAction(Tt.a.BEGIN_CLEAR_AND_TIMELINE_FETCH_AJAX_CALL,Tt.a.CLEAR_AND_TIMELINE_FETCH_LOADING_STATUS);const e=this.props.timelineActions,n=this.state.debounceDuration;Object(_.debounce)((function(){e.clearAndFetchUserTimeline(t)}),n)()}}fetchCompactGroupMembershipList(){if(!this.props.compactMembershipsFullyLoaded&&Xt.a.notCurrentlyFetching(this.props.compactGroupMembershipAjaxStatus)){this.props.ajaxStatusActions.beginAjaxCallAction(Tt.a.BEGIN_COMPACT_MEMBERSHIP_FETCH_AJAX_CALL,Tt.a.COMPACT_MEMBERSHIP_LOADING_STATUS);const t=this.props.groupMembershipActions,e=this.state.debounceDuration;Object(_.debounce)((function(){t.fetchCompactGroupMembershipsForCurrentUser()}),e)()}}fetchMinimalCompactGroupMembershipList(t){if(Jt.a(t.minimalCompactMembershipAjaxStatus)&&Jt.a(this.props.minimalCompactMembershipAjaxStatus)&&Xt.a.isNotLoading(this.props.minimalCompactMembershipAjaxStatus)&&Xt.a.isNotLoading(t.minimalCompactMembershipAjaxStatus)){this.props.ajaxStatusActions.beginAjaxCallAction(Tt.a.BEGIN_MINIMAL_MEMBERSHIP_FETCH_AJAX_CALL,Tt.a.MINIMAL_COMPACT_MEMBERSHIP_LOADING_STATUS);const t=this.props.groupMembershipActions,e=this.state.debounceDuration;Object(_.debounce)((function(){t.fetchMinimalCompactGroupMembershipsForCurrentUser()}),e)()}}componentDidMount(){const t=this.props,e=t.interestsActions,n=t.pageViewActions,a=t.nagBarActions,o=t.topicActions,s=t.accessToken;n.trackPageView(ht.a.HOME_PAGE_CONTEXT),v.a.isParent(this.props.currentUser)||(a.fetchNagBarStatus(At.a.HASHTAG_INTRODUCTION_NAG_BAR),o.fetchFollowingTopicsForUser()),e.fetchUserInterests(),j.a.isChangePassword(s)&&this.setState({showUrlModal:!this.state.showUrlModal}),this.initialLoad(this.props)}handleGoResetPassword(){this.props.history.push(dt.a.SETTINGS_PAGE+"/password")}componentDidUpdate(t){const e=this.getHashtagFromParams(this.props),n=this.getHashtagFromParams(t);if(this.props.queryTopics!==t.queryTopics&&this.setTopicInfoByHashtag(),e&&e!==n?this.isCurrentUserInHashTagABTest()&&e&&this.setState({inHashtagMode:!0,currentHashtag:e},()=>{this.props.streamActions.setCurrentHashtagOnHomeAction(e),this.setHomeStreamMode(this.props),this.props.topicActions.fetchTopicsByQuery(e)}):e!==n&&this.isCurrentUserInHashTagABTest()&&this.setState({inHashtagMode:!1,currentHashtag:""},()=>{this.props.streamActions.setCurrentHashtagOnHomeAction(""),this.setHomeStreamMode(this.props)}),v.a.isParent(this.props.currentUser))if(this.props.parentRelationships.size>0){const t=this.props.parentRelationships.first(),e=x.a.getStudentFromParentStream(t),n=v.a.getId(e);this.props.parentStreamsActions.setCurrentChildId(n),this.props.history.push(Zt.a.makeChildPageUrl(n))}else if(this.props.parentAssociations.size>0){const t=this.props.parentAssociations.first(),e=x.a.getEntityFromParentStream(t),n=V.a.getGroupTitle(e),a=V.a.getGroupId(e),o=Zt.a.makePageUrlFromTitleAndId(dt.a.GROUP_PAGE,n,a);this.props.history.push(o)}}UNSAFE_componentWillReceiveProps(t){document.title="".concat(this.props.translate("test-home-page-title","Home")," | Edmodo");const e=this.state,n=e.timelineStart,a=e.timelineEnd;if(t.firstPageOfHomeStreamLoaded&&!this.props.firstPageOfHomeStreamLoaded){if(this.props.topicActions.fetchFollowingTopicsForUser(),this.props.bellNotificationActions.fetchUnreadBellNotificationsCountForCurrentUser(),this.props.currentUser!==t.currentUser&&j.a.isTeacher(t.accessToken)){const e=v.a.getSchoolId(t.currentUser);e&&this.props.schoolActions.fetchSchoolAdministrators(e)}if(j.a.isStudent(t.accessToken)){const e={min_time:n,max_time:a,types:"assignment,quiz"};this.clearAndFetchUserTimeline(e,t)}else j.a.isParent(t.accessToken)&&t.parentStreamsActions.fetchParentStreams(!0,t.history)}if(this.isCurrentUserInHashTagABTest()&&t.location.search&&t.location.search!==this.props.location.search?(this.props.streamActions.setCurrentHashtagOnHomeAction(this.getHashtagFromParams(t)),this.props.topicActions.fetchFollowingTopicsForUser(),this.setTopicInfoByHashtag(t),this.setState({inHashtagMode:!0,currentHashtag:this.getHashtagFromParams(t)},()=>{this.setHomeStreamMode(t)}),window.scrollTo(0,0)):this.isCurrentUserInHashTagABTest()&&!t.location.search&&t.location.search!==this.props.location.search&&this.setState({inHashtagMode:!0,currentHashtag:""},()=>{this.setHomeStreamMode(t)}),this.props.currentUser!==t.currentUser&&j.a.isStudent(t.accessToken)){const e={min_time:n,max_time:a,types:"assignment,quiz"};this.clearAndFetchUserTimeline(e,t),this.props.bellNotificationActions.fetchUnreadBellNotificationsCountForCurrentUser()}this.props.currentUser!==t.currentUser&&j.a.getUserType(this.props.accessToken)===_t.a.TEACHER&&(this.props.isOptOutUser||t.isOptOutUser)&&this.props.userActions.checkIfUserSawNewReactModal(),!this.props.firstPageOfHomeStreamLoaded||this.state.showAlternateQotd||Y.a.isTemplateMessageExists(this.props.stream)||this.showAlternateQotd();const o=this.getHashtagFromParams(this.props);if(o&&void 0===this.state.isTopicPromoted){const t=this.findTopic(o);t&&this.setState({isFollowingHashtag:t.get(ne.a.IS_FOLLOWING),hashtagFollowingCount:t.get(ne.a.FOLLOWER_COUNT),isTopicPromoted:t.get(ne.a.PROMOTED)})}}handleResetPassword(){this.setState({showUrlModal:!this.state.showUrlModal})}manageTopicsWidget(){this.setState({isManagingTopics:!this.state.isManagingTopics})}handleHashtagClick(t){return this.props.streamActions.setCurrentHashtagOnHomeAction(this.getHashtagFromParams()),!this.state.isManagingTopics&&this.props.history.push("".concat(dt.a.HOME_PAGE,"?hashtag=").concat(t))}setTopicInfoByHashtag(t){const e=t||this.props,n=this.getHashtagFromParams(e);if(n){let t;this.props.queryTopics&&(t=this.props.queryTopics.find(t=>{const e=t&&t.get(ne.a.NAME);return e&&e.toLowerCase()===n.toLowerCase()})),t||(t=this.findTopic(n)),this.setState({topic:t,isFollowingHashtag:t&&t.get("is_following"),hashtagFollowingCount:t&&t.get("follower_count"),isTopicPromoted:t&&t.get("promoted")},()=>{this.state.topic&&!this.state.autoFollowedHashtag&&!this.state.isFollowingHashtag&&this.props.location.search.includes("&auto_follow=true")&&(this.setState({autoFollowedHashtag:!0}),this.followHashtag())})}}followHashtag(){const t=this.state.topic&&this.state.topic.get("id"),e=this.state.topic&&this.state.topic.get("name");this.setState({isFollowingHashtag:!0}),t&&this.props.topicFollowerActions.followTopic(t,e)}unfollowHashtag(){const t=this.state.topic&&this.state.topic.get("id"),e=this.state.topic&&this.state.topic.get("topic_follower_id");this.setState({isFollowingHashtag:!1}),e&&this.props.topicFollowerActions.unfollowTopic(t,e)}findTopic(t){if(this.props.userTopics&&this.props.userTopics.size){const e=t||this.getHashtagFromParams(this.props);if(e){return this.props.userTopics.find(t=>t.get(ne.a.NAME).toLowerCase()===e.toLowerCase())}}}findTopicId(){let t=this.state.topic&&this.state.topic.get(ne.a.ID);if(!t){const e=this.findTopic();e&&(t=e.get(ne.a.ID))}return t}promoteTopic(){const t=this.findTopicId();t&&(this.setState({isTopicPromoted:!0}),this.props.topicActions.promoteTopic(t,!0))}demoteTopic(){const t=this.findTopicId();t&&(this.setState({isTopicPromoted:!1}),this.props.topicActions.demoteTopic(t,!0))}unfollowHashtagByTopicId(t,e){t===(this.state.topic&&this.state.topic.get("id"))&&this.setState({isFollowingHashtag:!1}),this.props.topicFollowerActions.unfollowTopic(t,e)}toggleFindMySchoolModal(){this.setState({findMySchoolModalOpen:!this.state.findMySchoolModalOpen})}toggleTopicSearchModal(){this.setState({topicSearchModalOpen:!this.state.topicSearchModalOpen})}handleFindSchoolItemChange(t){this.setState({selectedSchool:t})}findMySchoolSubmit(){const t=v.a.getId(this.props.currentUser),e={school_id:this.state.selectedSchool[0].id};this.props.profileActions.updateProfile(e,t),window.location=W.a.makeUrl(dt.a.LEGACY_SCHOOL_MYPLC)}optOutReactVersion(){this.props.userSettingsActions.updateUserReactSettings(!1)}reactSplashModalClosed(t){this.props.userActions.updateReactModalUserProperty("1"),this.props.userActions.checkIfUserSawNewReactModal()}setHomeStreamMode(t){const e=this.getHashtagFromParams(t);e?(this.props.streamActions.setCurrentHashtagOnHomeAction(e),this.props.streamActions.setHomePageStreamModeAction(Z.a.HASHTAG_STREAM),this.props.topicActions.fetchTopicsByQuery(e)):t.classActivityToggled?this.props.streamActions.setHomePageStreamModeAction(Z.a.CLASS_ACTIVITY_STREAM):this.props.streamActions.setHomePageStreamModeAction(Z.a.HOME_STREAM)}hashtagIntroNagBarClose(){this.setState({seenHashtagIntro:!this.state.seenHashtagIntro}),this.props.nagBarActions.updateNagBarStatus(At.a.HASHTAG_INTRODUCTION_NAG_BAR,{increment_dismissal_count:!0}),this.props.nagBarActions.fetchNagBarStatus(At.a.HASHTAG_INTRODUCTION_NAG_BAR)}homePageAfterStreamLoadCallback(){j.a.isParent(this.props.accessToken)||this.props.groupMembershipActions.fetchCompactGroupMembershipsForCurrentUser()}showAlternateQotd(){v.a.isStudent(this.props.currentUser)&&ee.a.ALLOWED_LOCALE.includes(v.a.getLocale(this.props.currentUser))&&this.setState({showAlternateQotd:!0})}trackClickOpenOrCloseCollectInterests(){const t=this.props,e=t.collectInterestsTrackingActions,n=t.currentUser,a=this.state.isCollectInterestsModalOpen,o={user_id:v.a.getId(n),user_type:v.a.getType(n),locale:v.a.getLocale(n),platform:"web",location:v.a.getUserLocation(n),interests_selected:"[]",tracking_context:ht.a.HOME_PAGE_CONTEXT};a?e.userClickOpenCollectInterests(o):e.userClickCloseCollectInterests(o)}handleCollectInterestsModalToggle(){this.setState({isCollectInterestsModalOpen:!this.state.isCollectInterestsModalOpen},()=>{this.trackClickOpenOrCloseCollectInterests(),this.state.isCollectInterestsModalOpen&&this.trackAddInterestsClick()})}trackUserInterestsBannerDisplayed(){const t=this.props,e=t.collectInterestsTrackingActions,n=t.currentUser,a={user_id:v.a.getId(n),user_type:v.a.getType(n),locale:v.a.getLocale(n),platform:"web",tracking_context:ht.a.HOME_PAGE_CONTEXT};e.userInterestsBannerDisplayed(a)}trackAddInterestsClick(){const t=this.props,e=t.collectInterestsTrackingActions,n=t.currentUser,a={user_id:v.a.getId(n),user_type:v.a.getType(n),locale:v.a.getLocale(n),platform:"web",tracking_context:ht.a.HOME_PAGE_CONTEXT};e.userClickAddInterests(a)}shouldShowUserInterestsBanner(t,e,n){e&&e.size>0&&n&&!this.state.userInterestsRequested&&this.setState({userInterestsRequested:!0},()=>{this.props.interestsActions.fetchUserInterests()});const a=this.state.userInterestsRequested&&t&&0===t.size&&e&&e.size>0&&n;return a&&!this.state.userInterestsBannerDisplayed&&this.setState({userInterestsBannerDisplayed:!0},()=>{this.trackUserInterestsBannerDisplayed()}),a}render(){const t=this.props,e=t.currentUser,n=t.accessToken,a=t.currentUserProfile,o=t.userGroupMemberships,s=t.userTopics,i=t.groups,c=t.timeline,l=t.history,u=t.groupMembershipsWithWriteAccess,d=t.followingTopics,_=t.homePageTrackingActions,h=t.isEndOfStreamFetchReached,E=t.abTestPlacementInfo,S=t.oracleStream,A=t.classActivityToggled,T=t.isEndOfClassActivityStreamReached,C=t.parentRelationships,g=t.parentAssociations,O=t.isEndOfHashtagStreamReached,m=t.isParentStreamsCompletedWithEmptyState,f=t.oracleAnnouncementCardNagBarInfo,I=t.adsInfo,N=t.translate,R=t.minimalGroupMembershipList,M=t.minimalClassMembershipList,y=t.hashtagIntroductionNagBarInfo,L=t.currentHashtagOnHomePage,U=t.currentHomeStreamMode,P=t.oneEyeTests,b=t.recommendedTopics,F=t.recommendedPosts,H=t.currentUserInterests,D=t.stream;if(v.a.isParent(e)&&!m)return r.a.createElement(Ct.a,null);const B="mobile-web"===te.a.getPlatform(),G=this.props.streamFilters&&this.props.streamFilters.hideOracleStream,w=v.a.isParent(e),k=v.a.isTeacher(e),K=Zt.a.getBaseUrlFromLocation(),j=Zt.a.makeHomeHashtagUrl(this.getHashtagFromParams()),W="".concat(K).concat(j),x=R&&0===R.size&&M&&0===M.size;return r.a.createElement("div",null,B&&this.state.inHashtagMode&&r.a.createElement(xt.a,{webUrl:W}),r.a.createElement(ue,null),r.a.createElement(le,null),r.a.createElement(ae,{currentUser:e,context:this.state.context}),r.a.createElement(p.u,{id:"home-page-view-port",className:"view-port home-page"},r.a.createElement(p.db,null,r.a.createElement(p.s,{md:"4"},r.a.createElement(re,{currentUser:e,currentUserProfile:a,groups:i,history:l,userGroupMemberships:o,userTopics:s,followingTopics:d,translate:N,fetchingAllGroups:this.state.fetchingAllGroups,schoolAdministrators:this.props.schoolAdministrators,context:this.state.context,configInfo:this.props.configInfo,parentRelationships:C,parentAssociations:g,toggleTopicSearchModal:this.toggleTopicSearchModal,minimalGroupMembershipList:R,minimalClassMembershipList:M,fetchFullCompactGroupMemberships:this.fetchCompactGroupMembershipList,manageTopicsWidget:this.manageTopicsWidget,isManagingTopics:this.state.isManagingTopics,unfollowHashtag:this.unfollowHashtag,unfollowHashtagByTopicId:this.unfollowHashtagByTopicId,handleHashtagClick:this.handleHashtagClick,isCurrentUserInHashTagABTest:this.isCurrentUserInHashTagABTest(),recommendedTopics:b})),r.a.createElement(p.s,{md:"9"},r.a.createElement(ie,{accessToken:n,currentUser:e,currentUserProfile:a,userGroupMemberships:o,isStudent:v.a.isStudent(this.props.currentUser),userType:v.a.getType(this.props.currentUser),trackingContext:ht.a.HOME_PAGE_CONTEXT,isEndOfStreamFetchReached:h,abTestPlacementInfo:E,oracleStream:S,groupMembershipsWithWriteAccess:u,classActivityToggled:A,isEndOfClassActivityStreamReached:T,hideOracleStream:G,oracleAnnouncementCardNagBarInfo:f,adsInfo:I,isTeacher:k,isParent:w,isParentStreamsCompletedWithEmptyState:m,inHashtagMode:this.state.inHashtagMode,hashtagFromSlug:this.state.currentHashtag,isFollowingHashtag:this.state.isFollowingHashtag,followHashtag:this.followHashtag,hashtagFollowingCount:this.state.hashtagFollowingCount,unfollowHashtag:this.unfollowHashtag,isEndOfHashtagStreamReached:O,seenHashtagIntro:this.state.seenHashtagIntro,hashtagIntroNagBarClose:this.hashtagIntroNagBarClose,hashtagIntroductionNagBarInfo:y,isCurrentUserInHashTagABTest:this.isCurrentUserInHashTagABTest(),isCurrentUserInSharingRedesignABTest:this.isCurrentUserInSharingRedesignABTest(),handleHashtagClick:this.handleHashtagClick,streamFilters:this.props.streamFilters,currentHomeStreamMode:U,currentHashtagOnHomePage:L,homePageAfterStreamLoadCallback:this.homePageAfterStreamLoadCallback,showAlternateQotd:this.showAlternateQotd,handleCollectInterestsModalToggle:this.handleCollectInterestsModalToggle,isCollectInterestsModalOpen:this.state.isCollectInterestsModalOpen,trackUserClickCloseCollectInterests:this.trackUserClickCloseCollectInterests,isTopicPromoted:this.state.isTopicPromoted,promoteTopic:this.promoteTopic,demoteTopic:this.demoteTopic,showUserInterestsBanner:this.shouldShowUserInterestsBanner(H,D,k),stream:D,userHasNoClassesOrGroups:x})),r.a.createElement(p.s,{md:"5"},r.a.createElement(ce,{accessToken:n,currentUser:e,currentUserProfile:a,abTests:E,oneEyeTests:P,timeline:c,homePageTrackingActions:_,toggleFindMySchoolModal:this.toggleFindMySchoolModal,showAlternateQotd:this.state.showAlternateQotd,recommendedTopics:b,recommendedPosts:F,toggleTopicSearchModal:this.toggleTopicSearchModal})))),r.a.createElement(Wt,null),r.a.createElement(oe,{findMySchoolModalOpen:this.state.findMySchoolModalOpen,toggleFindMySchoolModal:this.toggleFindMySchoolModal,handleFindSchoolItemChange:this.handleFindSchoolItemChange,findMySchoolSubmit:this.findMySchoolSubmit,selectedSchool:this.state.selectedSchool}),r.a.createElement(p.M,{isOpen:this.state.showUrlModal,toggle:this.handleResetPassword},r.a.createElement(p.P,{toggle:this.handleResetPassword},r.a.createElement(Vt.default,{string:"change-password",fallbackString:"Change Password"})),r.a.createElement(p.N,null,r.a.createElement(Vt.default,{string:"change-password-info",fallbackString:"For security reason, please change your password"})),r.a.createElement(p.O,null,r.a.createElement(p.c,{color:"primary",qaSelector:"qa-test-change-password",onClick:this.handleGoResetPassword,collapseLeft:!0},r.a.createElement(Vt.default,{string:"change-password",fallback:"Change Password"})))),this.props.accessToken&&this.props.abTestPlacementInfo&&$t.a.userInReplaceTopicsWithHashTagsTest(this.props.accessToken,this.props.abTestPlacementInfo)&&r.a.createElement(se,{topicSearchModalOpen:this.state.topicSearchModalOpen,toggleTopicSearchModal:this.toggleTopicSearchModal,isCurrentUserInHashTagABTest:this.isCurrentUserInHashTagABTest()}))}}e.default=Object(qt.a)(Object(i.connect)((function(t,e){return{currentUser:z.c(t),accessToken:z.d(t),currentUserProfile:z.p(t),userTopics:J.a(t),followingTopics:J.d(t),recommendedTopics:J.g(t),recommendedPosts:tt(t),groups:et.d(t),userGroupMemberships:Q.I(t),groupMembershipsWithWriteAccess:Q.N(t),locale:z.o(t),timeline:nt.d(t),inviteParentFormValues:Object(d.getFormValues)("inviteParentModalForm")(t),webSocketConnectionIsAlive:at.a(t),isEndOfStreamFetchReached:!!ot.t(t),showSplashModal:z.B(t),firstPageOfHomeStreamLoaded:ot.m(t,e),stream:ot.G(t,{streamName:Z.a.HOME_STREAM,reducerName:Et.a.HOME_STREAM_REDUCER}),isOptOutUser:z.x(t),schoolAdministrators:rt.j(t),abTestPlacementInfo:st.a(t),oneEyeTests:z.y(t),oracleStream:ot.G(t,{streamName:Z.a.ORACLE_STREAM,reducerName:Et.a.ORACLE_STREAM_REDUCER}),classActivityToggled:ot.d(t,e),streamFilters:ot.I(t),isEndOfClassActivityStreamReached:!!ot.H(t,{streamName:Z.a.CLASS_ACTIVITY_STREAM}),isEndOfHashtagStreamReached:ot.s(t),oracleAnnouncementCardNagBarInfo:it.c(t),iste2019IntroModalNagBarInfo:it.b(t),hashtagIntroductionNagBarInfo:it.a(t),adsInfo:ct.a(t),parentRelationships:lt.c(t),currentChildIdForParent:lt.a(t),parentAssociations:lt.b(t),isParentStreamsCompletedWithEmptyState:lt.d(t),latestOnSiteTimestamp:ut.a(t),queryTopics:J.f(t),minimalGroupMembershipList:Q.P(t),minimalClassMembershipList:Q.O(t),compactMembershipsFullyLoaded:Q.n(t),compactGroupMembershipAjaxStatus:Yt.c(t,Tt.a.COMPACT_MEMBERSHIP_LOADING_STATUS),minimalCompactMembershipAjaxStatus:Yt.c(t,Tt.a.MINIMAL_COMPACT_MEMBERSHIP_LOADING_STATUS),fetchUserRelationshipsAjaxStatus:Yt.c(t,Tt.a.FETCH_USER_RELATIONSHIPS_LOADING_STATUS),fetchTopicsByQueryAjaxStatus:Yt.c(t,Tt.a.FETCH_TOPICS_BY_QUERY_LOADING_STATUS),clearAndFetchTimelineAjaxStatus:Yt.c(t,Tt.a.CLEAR_AND_TIMELINE_FETCH_LOADING_STATUS),fetchFollowingTopicsAjaxStatus:Yt.c(t,Tt.a.FETCH_FOLLOWING_TOPICS_LOADING_STATUS),fetchNagBarsAjaxStatus:Yt.c(t,Tt.a.NAG_BARS_INFO_FETCH_LOADING_STATUS),currentHomeStreamMode:ot.g(t),currentHashtagOnHomePage:ot.f(t),currentUserInterests:pt.a(t)}}),(function(t){return{userActions:Object(u.bindActionCreators)(S,t),homePageTrackingActions:Object(u.bindActionCreators)(A,t),streamActions:Object(u.bindActionCreators)(T,t),postActions:Object(u.bindActionCreators)(C,t),replyActions:Object(u.bindActionCreators)(g,t),topicActions:Object(u.bindActionCreators)(O,t),groupMembershipActions:Object(u.bindActionCreators)(f,t),profileActions:Object(u.bindActionCreators)(I,t),groupActions:Object(u.bindActionCreators)(N,t),wsActions:Object(u.bindActionCreators)(m,t),relationshipActions:Object(u.bindActionCreators)(R,t),bellNotificationActions:Object(u.bindActionCreators)(y,t),parentInvitationActions:Object(u.bindActionCreators)(L,t),timelineActions:Object(u.bindActionCreators)(M,t),authActions:Object(u.bindActionCreators)(U,t),pageViewActions:Object(u.bindActionCreators)(P,t),userSettingsActions:Object(u.bindActionCreators)(F,t),s3FileActions:Object(u.bindActionCreators)(H,t),schoolActions:Object(u.bindActionCreators)(D,t),nagBarActions:Object(u.bindActionCreators)(B,t),parentStreamsActions:Object(u.bindActionCreators)(G,t),topicFollowerActions:Object(u.bindActionCreators)(w,t),ajaxStatusActions:Object(u.bindActionCreators)(k,t),collectInterestsTrackingActions:Object(u.bindActionCreators)(b,t),interestsActions:Object(u.bindActionCreators)(K,t)}}))(Object(zt.a)(Object(Qt.a)(pe))))}}]);
//# sourceMappingURL=265.43716177.chunk.js.map