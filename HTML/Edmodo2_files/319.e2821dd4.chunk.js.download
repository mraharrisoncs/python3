(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[319],{1488:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(1);const s=e=>e.getIn([r.a.ADS,r.a.ADS_INFO]),i=e=>e.getIn([r.a.ADS,r.a.IS_FETCHING_ADS_INFO]),o=e=>e.getIn([r.a.ADS,r.a.IS_BRAND_LIFT_CAMPAIGN_ENABLED]),a=e=>e.getIn([r.a.ADS,r.a.IS_ADS_ENABLED]),d=e=>e.getIn([r.a.ADS,r.a.IS_DFP_ENABLED]),c=e=>e.getIn([r.a.ADS,r.a.IS_SORTABLE_ENABLED]),u=e=>e.getIn([r.a.ADS,r.a.IS_NEXT_MILLENNIUM_ENABLED]),l=e=>e.getIn([r.a.ADS,r.a.IS_TFCD_ENABLED]),p=e=>e.getIn([r.a.ADS,r.a.IS_ADS_LOG_ENABLED]),f=e=>e.getIn([r.a.ADS,r.a.CURRENTLY_DISPLAYED_AD_POSITIONS])},1634:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchAdsInfoForCurrentUserRequest",(function(){return u})),n.d(t,"fetchAdsInfoForCurrentUserSuccess",(function(){return l})),n.d(t,"toggleAdsLog",(function(){return p})),n.d(t,"addCurrentlyDisplayedAdPosition",(function(){return f})),n.d(t,"removeCurrentlyDisplayedAdPosition",(function(){return g})),n.d(t,"fetchAdsInfoForCurrentUser",(function(){return h})),n.d(t,"createAdReport",(function(){return v}));var r=n(304),s=n(11),i=n.n(s),o=n(13),a=n(18),d=n(25);var c=n(36);const u=()=>({type:r.a.REQUEST_CURRENT_USER_ADS_INFO,payload:null}),l=e=>({type:r.a.CURRENT_USER_ADS_INFO_FETCH_SUCCESS,payload:e}),p=e=>({type:r.a.TOGGLE_ADS_LOG_ACTION,payload:e}),f=e=>({type:r.a.ADD_CURRENTLY_DISPLAYED_AD_POSITION,payload:e}),g=e=>({type:r.a.REMOVE_CURRENTLY_DISPLAYED_AD_POSITION,payload:e}),h=e=>function(e,t){return e(u()),(()=>{const e=encodeURIComponent((new i.a).format());return d.a.get(a.a.ADS,{params:{[o.a.USER_LOCAL_TIME]:e}})})().then(t=>{e(l(t.data))}).catch(e=>{"Network Error"!==e.message&&c.a.notifyBugsnag(e,"AdsActionCreator.fetchAdsInfoForCurrentUser")})},v=e=>function(t,n){return(e=>{const t=e.advertiserId,n=e.campaignId,r=e.creativeId,s=e.lineItemId,i=e.sourceAgnosticCreativeId,o=e.sourceAgnosticLineItemId,c=e.isBackfill;return d.a.post(a.a.AD_REPORT,{ad_data:{advertiser_id:t,campaign_id:n,creative_id:r,line_item_id:s,source_agnostic_creative_id:i,source_agnostic_line_item_id:o,is_backfill:c}})})(e)}},1637:function(e,t,n){"use strict";var r=n(1744);var s={slots:{},setSlot(e,t){this.slots[e]=t},getSlot(e){return this.slots[e]},destroySlot(e){delete this.slots[e]}},i=n(83),o=n(184);var a={loadScript(e){return new Promise((t,n)=>{this.doLoadScript(e,t,n)})},doLoadScript(e,t,n){const r=document.createElement("script");r.src=e,r.async=!0,r.type="text/javascript",r.onerror=function(e){n(e)},r.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(r)}};let d=!1;const c=Object.assign((new r.EventEmitter).setMaxListeners(0),{loadAdServices(e){const t=e.adsInfo,n=e.isAdsEnabled,r=e.isDFPEnabled,s=e.isSortableEnabled,i=e.isNextMillenniumEnabled,o=e.isTFCDEnabled,a=e.isBrandLiftCampaignEnabled;!d&&n&&(d=!0,r&&c.loadDFP(t,s,o,a),i&&c.loadNextMillenium())},loadDFP(e,t,n,r){o.a.isAdsEnabled(e)&&(this.loadDFPScripts(t),this.initDFP(e,t,n,r))},loadNextMillenium:()=>a.loadScript("//nextmillennium.liqwid.net/?key=D85D-A6F1-B041-B88A"),loadDFPScripts(e){this.loadGPTScript(),e&&this.loadSortableScript()},initDFP(e,t,n,r){const s=this.getGoogletag(),o=e.get(i.a.KEY_VALUES),a=e.get(i.a.BRAND_LIFT_CAMPAIGNS);s.cmd.push(()=>{if(s.pubads().addEventListener("slotRenderEnded",e=>{const t=e.slot.getSlotElementId();this.emit("slotRenderEnded",{slotId:t,event:e})}),s.pubads().setTargeting(i.a.AUDIENCE_TYPE,o.get(i.a.AUDIENCE_TYPE)),o.get(i.a.COUNTRY)&&s.pubads().setTargeting(i.a.COUNTRY,o.get(i.a.COUNTRY)),o.get(i.a.SUBJECTS)&&s.pubads().setTargeting(i.a.SUBJECTS,o.get(i.a.SUBJECTS)),o.get(i.a.GRADES)&&s.pubads().setTargeting(i.a.GRADES,o.get(i.a.GRADES)),o.get(i.a.SCHOOL_ID)&&s.pubads().setTargeting(i.a.SCHOOL_ID,o.get(i.a.SCHOOL_ID)),s.pubads().setTargeting(i.a.BLOCKING,["1","2","3","4","5","6","7","8","9","10"]),s.pubads().setTargeting(i.a.TIME_OF_DAY,o.get(i.a.TIME_OF_DAY)),s.pubads().setTargeting(i.a.PLATFORM,i.a.REACT),a&&a.toJS().forEach(e=>{const t=Object.keys(e)[0],n=e[t];s.pubads().setTargeting(t,n)}),r?s.pubads().setTargeting(i.a.BRAND_LIFT_CAMPAIGN,i.a.CAMPAIGN_ON):s.pubads().setTargeting(i.a.BRAND_LIFT_CAMPAIGN,i.a.CAMPAIGN_OFF),n&&s.pubads().setTagForChildDirectedTreatment(1),s.pubads().enableSingleRequest(),s.pubads().collapseEmptyDivs(!0),t){const e=this.getDeployads();e.push(()=>{e.gpt.enableServices()})}else s.enableServices()})},registerSlot(e,t,n,r,i){const o=this.getGoogletag();o.cmd.push(()=>{const a=o.defineSlot(e,t,n);if(a)if(i&&Object.keys(i).forEach(e=>{const t=i[e];a.setTargeting(e,t)}),s.setSlot(n,a),a.addService(o.pubads()),r){const e=this.getDeployads();e.push(()=>{e.gpt.display(n)})}else o.display(n)})},unregisterSlot(e,t){const n=s.getSlot(e),r=this.getGoogletag();s.destroySlot(e),r.cmd.push(()=>{if(t){const e=this.getDeployads();e.push(()=>{e.gpt.destroySlots([n])})}else r.destroySlots([n])})},attachSlotRenderEnded(e){this.on("slotRenderEnded",e)},detachSlotRenderEnded(e){this.removeListener("slotRenderEnded",e)},loadGPTScript:()=>a.loadScript("https://www.googletagservices.com/tag/js/gpt.js"),loadSortableScript(){const e="".concat(document.location.protocol,"//tags-cdn.deployads.com/a/dfp.edmodo.com.js");return a.loadScript(e)},getGoogletag:()=>(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag),getDeployads:()=>(window.deployads=window.deployads||[],window.deployads)});t.a=c},1744:function(e,t,n){"use strict";var r,s="object"===typeof Reflect?Reflect:null,i=s&&"function"===typeof s.apply?s.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=s&&"function"===typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var d=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var s,i,o,a;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"===typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(s=u(e))>0&&o.length>s&&!o.warned){o.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=o.length,a=d,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=p.bind(r);return s.listener=n,r.wrapFn=s,s}function g(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"===typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):v(s,s.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var d=s[e];if(void 0===d)return!1;if("function"===typeof d)i(d,this,t);else{var c=d.length,u=v(d,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,s,i,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,s=i;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(s=i[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return g(this,e,!0)},a.prototype.rawListeners=function(e){return g(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},3001:function(e,t,n){"use strict";n.r(t);var r=n(4),s=n(133),i=n(134),o=(n(0),n(1199)),a=n(1637),d=n(1634),c=n(1488),u=n(73),l=n(192),p=n(162),f=n(10);class g extends r.Component{constructor(e){super(e),this.fetchAdsInfo=this.fetchAdsInfo.bind(this)}componentDidMount(){this.isHomePage()||this.isGroupPage()||this.fetchAdsInfo(),this.props.location&&this.props.location.search.match(/debug_ads/)&&this.props.adsActions.toggleAdsLog(!this.props.isAdsLogEnabled)}componentDidUpdate(){!this.props.adsInfo||this.props.adsInfo.isEmpty()?this.fetchAdsInfo():a.a.loadAdServices(this.props)}fetchAdsInfo(){const e=this.props,t=e.accessToken,n=e.adsInfo,r=e.isFetchingAdsInfo;l.a.isValid(t)&&n.isEmpty()&&!r&&this.props.adsActions.fetchAdsInfoForCurrentUser()}isHomePage(){return this.props.location.pathname.includes(f.a.HOME_PAGE)}isGroupPage(){return this.props.location.pathname.includes(f.a.GROUP_PAGE)}render(){return null}}t.default=Object(o.a)(Object(s.connect)((function(e,t){return{adsInfo:c.a(e),isFetchingAdsInfo:c.g(e),isAdsEnabled:c.c(e),isDFPEnabled:c.f(e),isSortableEnabled:c.i(e),isNextMillenniumEnabled:c.h(e),isTFCDEnabled:c.j(e),isBrandLiftCampaignEnabled:c.e(e),isAdsLogEnabled:c.d(e),accessToken:u.d(e),firstPageOfCurrentStreamLoaded:p.j(e),firstPageOfOracleStreamLoaded:p.n(e)}}),(function(e){return{adsActions:Object(i.bindActionCreators)(d,e)}}))(g))}}]);
//# sourceMappingURL=319.e2821dd4.chunk.js.map