(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[306,94],{1207:function(e,t,s){"use strict";var a=s(4),i=s.n(a),o=s(364),c=s(1228);s(1235);t.a=e=>{let t="standard-btn-link";e.weight&&"quiet"===e.weight&&(t="quiet-btn-link"),e.wide&&(t+=" px-5 py-2");const s=c.b(e,t);return i.a.createElement(o.c,Object.assign({key:e.key,id:e.id,color:"link",className:s,onClick:t=>{const s=e.onClick;"function"===typeof s&&s(t,e.options)},disabled:e.disabled},e.dataSet),e.children)}},1213:function(e,t,s){"use strict";var a=s(4),i=s.n(a),o=s(364),c=s(1228);s(1235);t.a=e=>{let t,s="secondary",a="p-2";e.weight&&"quiet"===e.weight?(a+=" btn-quiet",s="link"):e.weight&&"loud"===e.weight&&(s="primary"),e.iconName&&(a+=" py-2 pr-2_5 pl-2"),e.size&&"compact"===e.size&&(t="sm"),e.size&&"large"===e.size&&(t="lg",a=a.replace("p-2","p-2_5"),a+=" rounded-extra-heavy header-2-text on-dark-background");const n=c.b(e,a);return i.a.createElement(o.c,Object.assign({key:e.key,id:e.id,color:s,size:t,className:n,onClick:t=>{const s=e.onClick;"function"===typeof s&&s(t,e.options)},disabled:e.disabled,innerRef:e.innerRef,type:e.type},e.dataSet),e.children)}},1228:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return o})),s.d(t,"d",(function(){return c}));const a=(e,t=[])=>(Array.isArray(t)||(t=[t]),t.includes("eds")||t.push("eds"),e&&e.className&&t.push(e.className),e&&e.qaSelector&&t.push(e.qaSelector),t),i=(e,t)=>(t=a(e,t),e.iconName&&(e.size?"large"===e.size&&("loud"===e.weight?t.push("black-icon"):"quiet"===e.weight?e.success?t.push("dark-olive-icon"):t.push("dark-indigo-icon"):e.success&&t.push("black-icon")):"loud"===e.weight?e.success&&t.push("black-icon"):"quiet"===e.weight?(t.push("gray-icon"),e.success&&t.push("dark-olive-icon")):e.success&&t.push("dark-olive-icon")),e.iconName&&t.push("icon-on-left",e.iconName,e.iconColor),e.collapseTop&&t.push("pt-0"),e.collapseRight&&t.push("pr-0"),e.collapseBottom&&t.push("pb-0"),e.collapseLeft&&t.push("pl-0"),e.collapse&&t.push("p-0"),e.hasDarkBackground&&t.push("on-dark-background"),e.underline&&t.push("underline"),e.customClassNames&&t.push(e.customClassNames),e.whiteHover&&t.push("with-white-hover"),e.success&&t.push("success"),e.block&&t.push("btn-block"),t&&t.join(" ")),o=e=>{const t=a(e);return t.push("eds-toggle-switch"),t.join(" ")},c=e=>{const t=a(e);return e.textPosition&&"left"===e.textPosition&&t.push("label-on-left"),e.block&&t.push("toggle-switch-block"),t.push("visually-hidden"),t.join(" ")}},1235:function(e,t,s){},1252:function(e,t,s){"use strict";s.r(t);var a=s(198),i=s(4),o=s.n(i);t.default=e=>{let t=e.size,s=void 0===t?24:t,i=e.color,c=void 0===i?"#ff704d":i,n=e.viewBox,l=void 0===n?"0 0 24 24":n,r=Object(a.a)(e,["size","color","viewBox"]);return o.a.createElement("svg",Object.assign({width:s,height:s,viewBox:l},r),o.a.createElement("path",{fill:c,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/flame",d:"M12.654 21c-4.797 0-6.659-4.266-6.139-7.166.414-2.308 1.85-3.773 3.2-5.15 1.392-1.42 1.856-2.842 1.39-5.368 1.737 1.028 3.369 2.764 4.18 4.42.6 1.223.886 1.807 2.09 2.188.096.03.391.265.433.354 2.52 5.39.226 10.722-5.154 10.722zm2.632-3.79c.899-.77.908-2.819-.017-3.723-.032.224-.034.348-.069.465-.166.56-.973 1.065-1.46.872-.723-.285-.576-.821-.41-1.326.064-.194.18-.383.314-.55.527-.657.568-1.4.466-2.14-.099-.719-.669-1.512-1.61-2.124.425 1.141.143 1.886-.57 2.481-.49.409-.92.87-1.38 1.306-1.276 1.21-1.306 3.611.093 4.74 1.171.944 3.379 1.084 4.643 0z"}))}},1279:function(e,t,s){"use strict";var a=s(4),i=s.n(a),o=s(133),c=s(367),n=s(327),l=s(73);t.a=e=>{class t extends a.Component{render(){return i.a.createElement(e,Object.assign({},this.props,this.state,{abTestInfo:this.props.abTestInfo,abTestUtil:n.a,accessToken:this.props.accessToken}))}}return Object(o.connect)((function(e,t){return{abTestInfo:c.a(e),accessToken:l.d(e)}}))(t)}},1327:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAADaklEQVR4nJWVz2scZRjHP8/sJNtW7UWC1pxc2migwd2yKKYe6iVgKmgIS2kLxUPBCt714GHR9tD0PxAkeCitqYL442QlYk0PKWTWioqUsr00UC9K212TzrzP42F2d2Z2djf6wMK7z/t9n+/ze4RRckIPEMoK8AJwGzjJFVnPYOrq8xufYHIMYRvjLFfkQhrijSSJ5BxYGUzA9gNLOczvsoByCrMiansxznPcnkpD/JEkGs1ilvwXGcthXDQLHYwBgmBjhf9GUtMJ3NYkCCkjjQGOVHr3sSePiNw7LP5TQrjK57uXh5NYq5KJAkAIgLgOv7aniaigYQVJAJiNg3zQMXKCxda94SSRK2Oa1XlS482/ztC4fxCsiBmIgHacEaGng/iMVbMktfsThGEFtIxFb8UkqXQ55vpDiw2ljXZ1nXvVO8LinwcI3TnMZoHJbMqyHL1zOj30kUiPuIWnF3l637s+W1sriJSHpi1dFu1LT7+I10L1NAUv4NAzt6h7Grsy3+zmZIDrOSsgNEECoAG8h9ljSWR2nW9Lh/tf+Zi73Rm00eLJ24wVVvjy2b8BqG1O8LD1YSZaGdDigE/BnSTSJYwxCtLAaYAnNYy5TI6LuxMCgIetChqmagBQCAaTfPPcOnAko5375UzvHL9vZggA2E7mqJddCairz/of0zgtUSzc4KvnN/NzUlef6zcP9g1i3kMXlnuN0MVKtMzaz1NAEYC2PGC+Uc2T/LQxjVkxoxMJeG1jgkgr8cKkgkZHexEk/sxkW5wnCGVhwMRH+XWCvM+2fZSbk36SPCkIkVBXnx/XFkBmUcp4HEJtbwfQN3z/U8S7S8FeFF794VPUTg02ugOL9dUEaYIFIA08b4PH96zydbXto+ExbNju2dHV5E1x1yTfvbI5COWj0TZIcdAlWLwqsJuYBVAI8C3A2TLGTC9KoTmMICZBz6J2Pv7E8ggYTxwVwJ3m2uuXe7ojqz7amopTRYdHBg5hVzyuHb3ALrePPTqJRUvgwKL4pxGoyxrQ9jQWFcHF9zjAjSSJW/j7N+4B8PIXpWw9rMXc4i3WUqqoXUpNeKf43g6RpEXCq2iYROLcxe66TjDjN0AfYJ2I0bs8Ob46iiTfmy99No9nVeAOM/sv8XE1zGEOX57C2QJmEb5cYu340KID/AvHkJmR47RzvQAAAABJRU5ErkJggg=="},1554:function(e,t,s){"use strict";var a=s(4),i=s.n(a),o=s(1213),c=s(1207);const n=({active:e,activateBtnText:t,inactivateBtnText:s,activateIcon:a,activateIconColor:n,activateClassNames:l,activateQaSelector:r,inactivateQaSelector:h,inactivateIcon:p,inactivateIconColor:d,inactivateClassNames:u,activateBtnWeight:g,onActivateClick:m,onInactivateClick:T,inactivateHoverText:f,inactivateHoverClassNames:b,inactivateHoverWide:k,whiteHover:v,options:C})=>{const S=()=>i.a.createElement(c.a,{qaSelector:h,iconName:p,iconColor:d,className:"make-inactive ".concat(u),onClick:T,options:C,whiteHover:v},s);return e&&f?i.a.createElement("span",{className:"eds dual-state-btn make-inactive-container"},i.a.createElement(c.a,{wide:k,className:"make-inactive-hover ".concat(b),onClick:T,options:C},f),S()):e?S():i.a.createElement(o.a,{qaSelector:r,iconName:a,className:l,iconColor:n,weight:g,onClick:m,options:C},t)};n.defaultProps={active:!1,options:{},activateBtnWeight:"standard",whiteHover:!1},t.a=n},1573:function(e,t,s){},1588:function(e,t,s){"use strict";s.r(t);var a={};s.r(a),s.d(a,"trackExploreHashtagClick",(function(){return u}));var i=s(4),o=s.n(i),c=s(134),n=s(133),l=s(0),r=s(364),h=s(1278),p=s(1487),d=s(542);const u=(e,t)=>({type:d.a.TRACK_HASHTAG_EXPLORE_HASHTAG__BTN_CLICK,payload:{context:e,visualElement:t}});var g=s(1320),m=s(162),T=s(203),f=s(156),b=s(509);var k=Object(b.a)(({handleQueryStringChange:e,translate:t,value:s,isCurrentUserInHashTagABTest:a})=>o.a.createElement("div",{className:"topic-search-input-container rounded p-2"},o.a.createElement("input",{className:"topic-search-input qa-test-topic-search-input",id:"qa-test-topic-search-input",type:"text",placeholder:a?t("search-hashtags","Search #hashtags"):t("search-topics","Search topics"),onChange:e,value:s}),o.a.createElement("span",{className:"qa-test-item-viewer-btn viewer-search-icon"}))),v=s(1207);var C=Object(b.a)(({selectedIndex:e=0,handleClick:t,translate:s,value:a})=>{const i=[{text:s("topics-tab-discover","Discover"),qaTestClassName:"qa-test-discover-tab-button"},{text:s("topics-tab-following","Following"),qaTestClassName:"qa-test-following-tab-button"}];return o.a.createElement("div",{className:"topic-tab-container"},o.a.createElement("ul",{className:"nav nav-tabs"},i.map((s,a)=>o.a.createElement("li",{key:a,className:"nav-item"},o.a.createElement(v.a,{weight:"quiet",qaSelector:"nav-link ".concat(a===e?"active":""," ").concat(s.qaTestClassName),onClick:t.bind(void 0,a)},s.text)))))}),S=s(1327),w=s.n(S),y=s(1554),A=s(1252),E=s(125),N=s(77),x=s(819);var M=Object(b.a)(e=>{const t=e.handleTopicClick,s=e.handleFollowClick,a=e.handleUnfollowClick,i=e.showPopularText,c=e.query;let n=e.topics;return c&&(n=n.filter(e=>{if(!e||!e.get(E.a.NAME))return!1;const t=e.get(E.a.NAME).toLowerCase(),s=c.toLowerCase();return t.includes(s)||s.includes(t)})),o.a.createElement("div",null,n.map(e=>{const c=T.a.getTopicId(e),n=T.a.getTopicFollowerId(e),l=T.a.getFollowersCount(e)||0,r=T.a.isFollowingTopic(e),h=T.a.getHashtagFromTopic(e),p=h.split("#")[1],d=N.a.makeHomeHashtagUrl(p);return o.a.createElement("div",{className:"qa-test-hash-tag-container hash-tag-container py-2_5",key:c},o.a.createElement("img",{className:"hashtag-icon rounded p-2 mr-2_5",alt:"",src:w.a}),o.a.createElement("div",{className:"hash-tag-info"},o.a.createElement("h3",{className:"search-results-query medium-large-font mb-1"},o.a.createElement(x.a,{to:d,className:""},o.a.createElement(v.a,{collapseLeft:!0,onClick:t,className:"overflow-prevent",qaSelector:"qa-test-topic-name"},h))),i&&o.a.createElement("p",{className:"small-font popular"},o.a.createElement(A.default,{size:"16px",className:"float-left"}),"Popular"),o.a.createElement("p",{className:"small-font secondary-body qa-test-followers-count"},o.a.createElement(f.default,{string:"topic-followers-count",fallbackString:"15,000 followers",insertions:{count:l.toLocaleString()}}))),o.a.createElement(y.a,{active:r,activateBtnText:"Follow",inactivateBtnText:"Following",activateIcon:"plus-icon",activateIconColor:"dark-indigo-icon",activateQaSelector:"qa-test-follow-topic-btn",inactivateIcon:"check-icon",inactivateIconColor:"olive-icon",inactivateQaSelector:"qa-test-following-ico",inactivateClassNames:"hash-tag following",onActivateClick:s,onInactivateClick:a,whiteHover:!0,options:{topicId:c,topicFollowerId:n}}))}))});var I=e=>t=>{class s extends i.Component{constructor(t,s){super(t,s),this.handleScroll=t=>s=>{const a=s.currentTarget,i=e&&e.infiniteScrollBottomThresholdOffset,o=this.isAtScrollThreshold(a.offsetHeight,a.scrollTop,a.scrollHeight,i);this.mounted&&this.setState({fetchMore:o&&!t&&!this.props.isEndOfStreamFetchReached})},this.state={fetchMore:!1},this.handleScroll=this.handleScroll.bind(this),this.isAtScrollThreshold=this.isAtScrollThreshold.bind(this)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}isAtScrollThreshold(e,t,s,a=200){return e+t>=s-a}render(){return o.a.createElement(t,Object.assign({},this.props,this.state,{handleScroll:this.handleScroll}))}}return Object(n.connect)((function(e,t){return{}}))(s)},q=s(1279);s(1573);class P extends i.Component{constructor(e){super(e),this.handleFollowClick=(e,t)=>{const s=t.topicId;s&&this.props.topicFollowerActions.followTopic(s,null)},this.handleUnfollowClick=(e,t)=>{const s=this.props.topicFollowerActions,a=t.topicId,i=t.topicFollowerId;a&&i&&s.unfollowTopic(a,i)},this.scrollManager=e=>t=>{this.props.handleScroll(e)(t),1===this.state.selectedTabIndex&&this.state.followingTabPristine&&(t.currentTarget.scrollTop=0,this.setState({followingTabPristine:!1}))},this.state={mode:"default",enableInfiniteScroll:!0,currentPage:null,isFetching:!1,nextPage:1,nextSearchPage:1,searchQuery:"",selectedTabIndex:0,userInPopularTopicsAndPostsAbTest:e.abTestUtil.userInPopularTopicsAndPostsEnabledVariant(e.abTestInfo),modalKey:0,followingTabPristine:!0},this.getDisplayTopics=this.getDisplayTopics.bind(this),this.handleQueryStringChange=this.handleQueryStringChange.bind(this),this.handleTopicClick=this.handleTopicClick.bind(this),this.handleTopicTabClick=this.handleTopicTabClick.bind(this),this.resetTopicSearchModal=this.resetTopicSearchModal.bind(this),this.onModalOpened=this.onModalOpened.bind(this)}static getDerivedStateFromProps(e,t){return e.topicSearchModalOpen&&0===e.allTopics.size&&!t.isFetching&&e.topicActions.fetchTopics(),null}componentDidUpdate(e){const t=this.props,s=t.topicSearchModalOpen,a=t.hashtagTrackingActions,i=t.trackingContext,o=t.trackingVisualElement;!e.firstPageOfHomeStreamLoaded&&this.props.firstPageOfHomeStreamLoaded&&this.fetchNextPageOfTopics(),s!==e.topicSearchModalOpen&&s&&i&&o&&a.trackExploreHashtagClick(i,o),e.showFollowingHashtagsTab||!this.props.showFollowingHashtagsTab||e.topicSearchModalOpen||this.handleTopicTabClick(1),this.props.allTopics!==e.allTopics&&this.setState({isFetching:!1}),this.props.fetchMore!==e.fetchMore&&this.state.enableInfiniteScroll&&this.props.fetchMore&&this.fetchNextPageOfTopics(),this.props.queryTopics!==e.queryTopics&&(this.setState({isFetching:!1}),this.props.queryTopics&&l.Map.isMap(this.props.queryTopics)&&this.props.queryTopics.size?this.setState({enableInfiniteScroll:!0,noQueryMatch:!1}):this.props.queryTopics&&l.Map.isMap(this.props.queryTopics)&&0===this.props.queryTopics.size&&""!==this.state.searchQuery?this.setState({enableInfiniteScroll:!1,noQueryMatch:!0}):this.setState({enableInfiniteScroll:!0,noQueryMatch:!1,mode:"default"}))}componentWillUnmount(){this.setState({searchQuery:""})}onModalOpened(){document.body.style.overflow="hidden"}fetchNextPageOfTopics(){const e=Object.assign({},T.a.searchModalParams(),{page:this.state.nextPage});let t={isFetching:!0};if("search"===this.state.mode){const e=Object.assign({},T.a.searchModalParams(),{page:this.state.nextSearchPage});this.props.topicActions.fetchTopicsByQuery(this.state.searchQuery,e,!0),t.nextSearchPage=this.state.nextSearchPage+1}else this.props.topicActions.fetchTopics(e),t.nextPage=this.state.nextPage+1;this.setState(t)}prepDiscoverTabTopics(){if(""===this.state.searchQuery){let s=this.props.allTopics;if(this.state.userInPopularTopicsAndPostsAbTest){const a=e=>{s=s.delete(e)};for(var e=0,t=[this.props.followingTopics,this.props.recommendedTopics];e<t.length;e++){const s=t[e];s&&l.Map.isMap(s)&&s.size&&s.keySeq().forEach(a)}}return s}return this.props.queryTopics&&l.Map.isMap(this.props.queryTopics)&&this.props.queryTopics.size?this.props.queryTopics:!this.state.noQueryMatch&&this.props.allTopics}getDisplayTopics(){return 0===this.state.selectedTabIndex?this.prepDiscoverTabTopics():this.props.followingTopics}getRecommendedNonFollowedTopics(){const e=this.props.recommendedTopics,t=this.props.followingTopics;return e&&l.Map.isMap(e)&&t&&l.Map.isMap(t)?e.filter((e,s)=>!t.has(s)):Object(l.OrderedMap)()}handleQueryStringChange(e){const t=e.target.value;this.setState({searchQuery:t,mode:"search"},()=>{if(this.state.searchQuery&&""!==this.state.searchQuery){const e=Object.assign({},T.a.searchModalParams(),{page:1});this.props.topicActions.fetchTopicsByQuery(this.state.searchQuery,e),this.setState({nextSearchPage:2})}else this.props.topicActions.clearQueryTopics()})}noMatchesMessage(e){let t;return e||(t=o.a.createElement("div",{className:"no-search-results-container"},o.a.createElement("p",{className:"header-2-text no-search-results-message"},o.a.createElement(f.default,{string:"no-results",fallbackString:"No results found"})))),t}handleTopicClick(e){this.props.toggleTopicSearchModal()}handleTopicTabClick(e){this.setState({selectedTabIndex:e})}resetTopicSearchModal(){const e=this.props.showDefaultTopicSearchModalTab;e&&e(),this.setState({searchQuery:"",selectedTabIndex:0,modalKey:this.state.modalKey+1}),document.body.style.overflow=""}render(){const e=this.getRecommendedNonFollowedTopics(),t=this.getDisplayTopics(),s=this.state.userInPopularTopicsAndPostsAbTest;return o.a.createElement(i.Fragment,{key:this.state.modalKey},o.a.createElement(r.M,{className:"topic-search-modal",isOpen:this.props.topicSearchModalOpen,toggle:this.props.toggleTopicSearchModal,onOpened:this.onModalOpened,onClosed:this.resetTopicSearchModal},o.a.createElement(r.P,{toggle:this.props.toggleTopicSearchModal},(()=>this.props.isCurrentUserInHashTagABTest?o.a.createElement(f.default,{string:"discover-hashtags-title",fallbackString:"Discover hashtags"}):o.a.createElement(f.default,{string:"discover_topics_title",fallbackString:"Discover topics"}))()),o.a.createElement(r.N,{className:"topic-search-modal-content"},s&&o.a.createElement(C,{handleClick:this.handleTopicTabClick,selectedIndex:this.state.selectedTabIndex}),(!s||0===this.state.selectedTabIndex)&&o.a.createElement(k,{isCurrentUserInHashTagABTest:this.props.isCurrentUserInHashTagABTest,handleQueryStringChange:this.handleQueryStringChange,value:this.state.searchQuery}),o.a.createElement("div",{className:"topic-search-results-container mt-2_5",onScroll:this.scrollManager(this.state.isFetching)},s&&0===this.state.selectedTabIndex&&o.a.createElement(M,{topics:e.valueSeq(),handleTopicClick:this.handleTopicClick,handleFollowClick:this.handleFollowClick,handleUnfollowClick:this.handleUnfollowClick,showPopularText:!0,query:this.state.searchQuery}),t&&o.a.createElement(M,{topics:t.valueSeq(),handleTopicClick:this.handleTopicClick,handleFollowClick:this.handleFollowClick,handleUnfollowClick:this.handleUnfollowClick})),this.noMatchesMessage(t)),o.a.createElement(r.O,{className:"border border-right-0 border-bottom-0 border-left-0"},o.a.createElement(r.c,{color:"primary",onClick:this.props.toggleTopicSearchModal,className:"qa-test-search-done"},o.a.createElement(f.default,{string:"done",fallbackString:"Done"})))))}}t.default=Object(n.connect)((function(e,t){return{allTopics:g.a(e),queryTopics:g.f(e),firstPageOfHomeStreamLoaded:m.m(e,t),followingTopics:g.d(e),recommendedTopics:g.g(e)}}),(function(e){return{topicActions:Object(c.bindActionCreators)(h,e),topicFollowerActions:Object(c.bindActionCreators)(p,e),hashtagTrackingActions:Object(c.bindActionCreators)(a,e)}}))(I({infiniteScrollBottomThresholdOffset:60})(Object(q.a)(P)))}}]);
//# sourceMappingURL=306.48947906.chunk.js.map