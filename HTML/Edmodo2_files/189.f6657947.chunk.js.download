/*! For license information please see 189.f6657947.chunk.js.LICENSE.txt */
(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[189,5,6,7,8,13,16,22,35,42,45,50,51,53,54,59,62,63,65,66,67,76,77,79,80,81,82,89,94,97,101,108,109,113,115,121,122,125,135,136,137,138,139,142,144,146,148,149,155,157,162,163,169,172,174,278,309,326],Array(1204).concat([function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(127),i=a(519),o=a.n(i),l=a(1206),c=a(1383),d=a.n(c);t.a=e=>{const t=Object(s.capitalize)(d()(e.name||"")),n=o()({loader:()=>a(1450)("./".concat(t)),loading:e=>e.error?r.a.createElement(l.default,e):null});return r.a.createElement(n,e)}},function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var n=a(4),r=a.n(n),s=a(1665),i=a.n(s);const o=e=>r.a.createElement(i.a,Object.assign({},e,{maxWidth:992})),l=e=>r.a.createElement(i.a,Object.assign({},e,{minWidth:992})),c=e=>r.a.createElement(i.a,Object.assign({},e,{minWidth:768,maxWidth:991})),d=e=>r.a.createElement(i.a,Object.assign({},e,{maxWidth:767})),u=e=>r.a.createElement(i.a,Object.assign({},e,{minWidth:768})),h=e=>r.a.createElement("div",e)},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tileProps=t.tileGroupProps=t.isView=t.isClassName=t.isViews=t.isValue=t.isMaxDate=t.isMinDate=t.isCalendarType=void 0;var n,r=(n=a(2))&&n.__esModule?n:{default:n};function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=["century","decade","year","month"],o=r.default.oneOf(["ISO 8601","US","Arabic","Hebrew"]);t.isCalendarType=o;var l=function(e,t,a){var n=e[t];if(n){if(!(n instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(s(n),"` supplied to `").concat(a,"`, expected instance of `Date`."));var r=e.maxDate;if(r&&n>r)return new Error("Invalid prop `".concat(t,"` of type `").concat(s(n),"` supplied to `").concat(a,"`, minDate cannot be larger than maxDate."))}return null};t.isMinDate=l;var c=function(e,t,a){var n=e[t];if(n){if(!(n instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(s(n),"` supplied to `").concat(a,"`, expected instance of `Date`."));var r=e.minDate;if(r&&n<r)return new Error("Invalid prop `".concat(t,"` of type `").concat(s(n),"` supplied to `").concat(a,"`, maxDate cannot be smaller than minDate."))}return null};t.isMaxDate=c;var d=r.default.oneOfType([r.default.instanceOf(Date),r.default.arrayOf(r.default.instanceOf(Date))]);t.isValue=d;var u=r.default.arrayOf(r.default.oneOf(i));t.isViews=u;var h=r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]);t.isClassName=h;var p=function(e,t,a){var n=e[t],r=e.views||i;return void 0!==n&&-1===r.indexOf(n)?new Error("Invalid prop `".concat(t,"` of value `").concat(n,"` supplied to `").concat(a,"`, expected one of [").concat(r.map((function(e){return'"'.concat(e,'"')})).join(", "),"].")):null};t.isView=p,p.isRequired=function(e,t,a){var n=e[t];return n?p(e,t,a):new Error("The prop `".concat(t,"` is marked as required in `").concat(a,"`, but its value is `").concat(n,"`."))};var m={activeStartDate:r.default.instanceOf(Date).isRequired,hover:r.default.instanceOf(Date),locale:r.default.string,maxDate:c,minDate:l,onClick:r.default.func,onMouseOver:r.default.func,tileClassName:r.default.oneOfType([r.default.func,h]),tileContent:r.default.oneOfType([r.default.func,r.default.node]),value:d,valueType:r.default.string};t.tileGroupProps=m;var g={activeStartDate:r.default.instanceOf(Date).isRequired,classes:r.default.arrayOf(r.default.string).isRequired,date:r.default.instanceOf(Date).isRequired,locale:r.default.string,maxDate:c,minDate:l,onClick:r.default.func,onMouseOver:r.default.func,style:r.default.objectOf(r.default.oneOfType([r.default.string,r.default.number])),tileClassName:r.default.oneOfType([r.default.func,h]),tileContent:r.default.oneOfType([r.default.func,r.default.node]),tileDisabled:r.default.func};t.tileProps=g},function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.getYear=c,t.getMonth=d,t.getMonthIndex=u,t.getDay=h,t.getDayOfWeek=p,t.getBeginOfCenturyYear=m,t.getBeginOfCentury=g,t.getEndOfCentury=f,t.getCenturyRange=b,t.getBeginOfPreviousCentury=E,t.getEndOfPreviousCentury=y,t.getBeginOfNextCentury=S,t.getBeginOfDecadeYear=v,t.getBeginOfDecade=C,t.getEndOfDecade=A,t.getDecadeRange=I,t.getBeginOfPreviousDecade=T,t.getEndOfPreviousDecade=k,t.getBeginOfNextDecade=O,t.getBeginOfYear=_,t.getEndOfYear=M,t.getYearRange=N,t.getBeginOfPreviousYear=w,t.getEndOfPreviousYear=P,t.getBeginOfNextYear=R,t.getBeginOfMonth=x,t.getEndOfMonth=L,t.getBeginOfWeek=D,t.getMonthRange=F,t.getBeginOfPreviousMonth=B,t.getEndOfPreviousMonth=G,t.getBeginOfNextMonth=j,t.getBeginOfDay=z,t.getEndOfDay=q,t.getDayRange=H,t.getWeekNumber=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ISO 8601",r="US"===n?"US":"ISO 8601",s=D(e,r),i=c(e)+1;do{t=new Date(i,0,"ISO 8601"===r?4:1),a=D(t,r),i-=1}while(e-a<0);return Math.round((s-a)/6048e5)+1},t.getBegin=V,t.getBeginPrevious=function(e,t){switch(e){case"century":return E(t);case"decade":return T(t);case"year":return w(t);case"month":return B(t);default:throw new Error("Invalid rangeType: ".concat(e))}},t.getBeginNext=function(e,t){switch(e){case"century":return S(t);case"decade":return O(t);case"year":return R(t);case"month":return j(t);default:throw new Error("Invalid rangeType: ".concat(e))}},t.getEnd=W,t.getEndPrevious=function(e,t){switch(e){case"century":return y(t);case"decade":return k(t);case"year":return P(t);case"month":return G(t);default:throw new Error("Invalid rangeType: ".concat(e))}},t.getRange=function(e,t){switch(e){case"century":return b(t);case"decade":return I(t);case"year":return N(t);case"month":return F(t);case"day":return H(t);default:throw new Error("Invalid rangeType: ".concat(e))}},t.getValueRange=function(e,t,a){var n=[t,a].sort((function(e,t){return e-t}));return[V(e,n[0]),W(e,n[1])]},t.getDaysInMonth=function(e){var t=c(e),a=u(e);return new Date(t,a+1,0).getDate()},t.getCenturyLabel=function(e){return Q(b(e))},t.getDecadeLabel=function(e){return Q(I(e))},t.isWeekend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ISO 8601",a=e.getDay();switch(t){case"Arabic":case"Hebrew":return a===o||a===l;case"ISO 8601":case"US":return a===l||a===i;default:throw new Error("Unsupported calendar type.")}},t.getISOLocalMonth=function(e){if(!e)return e;var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date: ".concat(e));var a=c(t),n="0".concat(d(t)).slice(-2);return"".concat(a,"-").concat(n)},t.getISOLocalDate=function(e){if(!e)return e;var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date: ".concat(e));var a=c(t),n="0".concat(d(t)).slice(-2),r="0".concat(h(t)).slice(-2);return"".concat(a,"-").concat(n,"-").concat(r)},t.getEndPrevious2=t.getBeginNext2=t.getBeginPrevious2=void 0;var r,s=n((r=Array(7),function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(r)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map((function(e,t){return t})),7),i=s[0],o=(s[1],s[2],s[3],s[4],s[5]),l=s[6];function c(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function d(e){return e.getMonth()+1}function u(e){return e.getMonth()}function h(e){return e.getDate()}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ISO 8601",a=e.getDay();switch(t){case"ISO 8601":return(a+6)%7;case"Arabic":return(a+1)%7;case"Hebrew":case"US":return a;default:throw new Error("Unsupported calendar type.")}}function m(e){var t=c(e)-1;return t+-t%100+1}function g(e){var t=m(e);return new Date(t,0,1)}function f(e){var t=m(e);return new Date(t+100,0,1,0,0,0,-1)}function b(e){return[g(e),f(e)]}function E(e){return g(c(e)-100)}function y(e){return f(c(e)-100)}function S(e){return g(c(e)+100)}function v(e){var t=c(e)-1;return t+-t%10+1}function C(e){var t=v(e);return new Date(t,0,1)}function A(e){var t=v(e);return new Date(t+10,0,1,0,0,0,-1)}function I(e){return[C(e),A(e)]}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=v(e)-t;return C(a)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=v(e)-t;return A(a)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=v(e)+t;return C(a)}function _(e){var t=c(e);return new Date(t,0,1)}function M(e){var t=c(e);return new Date(t+1,0,1,0,0,0,-1)}function N(e){return[_(e),M(e)]}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=c(e)-t;return _(a)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=c(e)-t;return M(a)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=c(e)+t;return _(a)}function x(e){var t=c(e),a=u(e);return new Date(t,a,1)}function L(e){var t=c(e),a=u(e);return new Date(t,a+1,1,0,0,0,-1)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ISO 8601",a=c(e),n=u(e),r=e.getDate()-p(e,t);return new Date(a,n,r)}function F(e){return[x(e),L(e)]}function U(e,t){var a=c(e),n=u(e)+t;return new Date(a,n,1)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=U(e,-t);return x(a)}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=U(e,-t);return L(a)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=U(e,t);return x(a)}function z(e){var t=c(e),a=u(e),n=h(e);return new Date(t,a,n)}function q(e){var t=c(e),a=u(e),n=h(e);return new Date(t,a,n+1,0,0,0,-1)}function H(e){return[z(e),q(e)]}function V(e,t){switch(e){case"century":return g(t);case"decade":return C(t);case"year":return _(t);case"month":return x(t);case"day":return z(t);default:throw new Error("Invalid rangeType: ".concat(e))}}t.getBeginPrevious2=function(e,t){switch(e){case"decade":return T(t,100);case"year":return w(t,10);case"month":return B(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}};function W(e,t){switch(e){case"century":return f(t);case"decade":return A(t);case"year":return M(t);case"month":return L(t);case"day":return q(t);default:throw new Error("Invalid rangeType: ".concat(e))}}t.getBeginNext2=function(e,t){switch(e){case"decade":return O(t,100);case"year":return R(t,10);case"month":return j(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}};function Q(e){var t=n(e,2),a=t[0],r=t[1];return"".concat(c(a)," \u2013 ").concat(c(r))}t.getEndPrevious2=function(e,t){switch(e){case"decade":return k(t,100);case"year":return P(t,10);case"month":return G(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}},function(e,t,a){"use strict";var n=a(198),r=a(4),s=a.n(r),i=(a(0),a(1231)),o=a(14),l=a(86),c=a(182);const d=(e,t,a,n,r)=>e?(e=>[c.a.getLargeAvatar(e),"https://u.ph.edim.co/default-avatars/default-icon-district.png"])(a):t?(e=>[l.a.getLargeAvatar(e),"https://u.ph.edim.co/default-avatars/default-icon-school.png"])(a):((e,t,a)=>{const n=o.a.getSmallAvatar(e),r=o.a.getLargeAvatar(e),s=[];return t?(s.push(t),s.push("https://u.ph.edim.co/default-avatars/44_42.jpg")):["16","24","32","36","40"].includes(a)?(s.push(n),s.push(r),s.push("https://u.ph.edim.co/default-avatars/44_42.jpg")):(s.push(r),s.push(n),s.push("https://u.ph.edim.co/default-avatars/44_140.jpg")),s})(a,n,r),u=e=>{let t=e.user,a=e.url,r=e.size,l=e.className,c=e.qaSelector,u=e.isSchool,h=e.isDistrict,p=Object(n.a)(e,["user","url","size","className","qaSelector","isSchool","isDistrict"]);const m=d(h,u,t,a,r),g=o.a.getFullName(t);return s.a.createElement(i.a,Object.assign({src:m,alt:g,size:r,className:l,qaSelector:c},p))};u.defaultProps={size:"36"},t.a=u},,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/ellipsis",d:"M18.5 11a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-6 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-6 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z"}))}},function(e,t,a){"use strict";var n=a(0),r=a(3),s=a(333),i=a(29);t.a=class{static defaultParams(){return{page:1,per_page:10}}static defaultListParams(){return{page:1,per_page:20,types:"quiz_content",sort:"creation_date",sort_direction:"descending"}}static defaultQuestionBankParams(){return{page:1,per_page:10}}static defaultSearchParams(){return{type:"search",result_type_filter:"library_quiz"}}static getContent(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,r.a.MESSAGE_CONTENT]):void 0}static getId(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,r.a.ID]):void 0}static getNonNestedId(e){return n.Map.isMap(e)?e&&e.get(r.a.ID):void 0}static getQuizContent(e){return n.Map.isMap(e)?e&&e.get(i.a.Content.QUIZ_CONTENT):void 0}static getQuizRecipients(e){return n.Map.isMap(e)?e&&e.get(i.a.Content.RECIPIENTS):void 0}static getQuizStatus(e){return n.Map.isMap(e)?e&&e.get(i.a.Content.STATUS):void 0}static isInReviewMode(e){const t=this.getQuizStatus(e);return t===i.a.Status.FINISHED||t===i.a.Status.GRADED||t===i.a.Status.NOT_GRADED}static getQuizClassName(e){if(n.Map.isMap(e)){const t=e&&e.get(i.a.Content.GROUPS),a=t&&t.first();return a&&a.get(i.a.Content.TITLE)}}static getNumberOfQuestions(e){return n.Map.isMap(e)?e&&e.get(s.a.NUM_QUESTIONS):void 0}static getSaveToGradebook(e){return n.Map.isMap(e)?e&&(1===e.get(s.a.SAVE_TO_GRADEBOOK)||!0===e.get(s.a.SAVE_TO_GRADEBOOK)):void 0}static getShowResults(e){return n.Map.isMap(e)?e&&(1===e.get(s.a.SHOW_RESULTS)||!0===e.get(s.a.SHOW_RESULTS)):void 0}static getTimeLimit(e){return n.Map.isMap(e)?e&&e.get(s.a.TIME_LIMIT):void 0}static getTotalPoints(e){return n.Map.isMap(e)?e&&e.get(s.a.TOTAL_POINTS):void 0}static getLockAfterDue(e){return n.Map.isMap(e)?e&&(1===e.get(s.a.LOCK_AFTER_DUE)||!0===e.get(s.a.LOCK_AFTER_DUE)):void 0}static getSubQuizContents(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,r.a.QUIZ_CONTENT]):void 0}static getContentCreator(e){return n.Map.isMap(e)?e&&e.get(r.a.MESSAGE_OR_REPLY_CREATOR):void 0}static getContentCreatorId(e){return n.Map.isMap(e)?e&&e.getIn([r.a.MESSAGE_OR_REPLY_CREATOR,i.a.Content.ID]):void 0}static getItemQuizContentCreatorId(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,r.a.QUIZ_CONTENT,r.a.MESSAGE_OR_REPLY_CREATOR,s.a.ID]):void 0}static getDueDate(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,r.a.DUE_DATE]):void 0}static gradedAt(e){return n.Map.isMap(e)?e&&e.getIn([s.a.GRADE,s.a.GRADED_AT]):void 0}static getTitle(e){return n.Map.isMap(e)?e&&e.get(r.a.TITLE):void 0}static getDescription(e){return n.Map.isMap(e)?e&&e.get(r.a.DESCRIPTION):void 0}static getUserCanGrade(e){return!!n.Map.isMap(e)&&(e&&e.get(s.a.USER_CAN_GRADE))}static getNumberOfQuizQuestions(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,s.a.NUM_QUESTIONS]):void 0}static hasSubmitted(e){return n.Map.isMap(e)?e&&!!e.get(s.a.SUBMISSION):void 0}static hasSubmissions(e){return n.Map.isMap(e)?e&&!!e.get(s.a.NUM_SUBMISSIONS):void 0}static getNumberOfSubmissions(e){return n.Map.isMap(e)?e&&e.get(s.a.NUM_SUBMISSIONS):void 0}static getScore(e){return n.Map.isMap(e)?e&&e.getIn([s.a.GRADE,s.a.GRADE_SCORE]):void 0}static getTotalScore(e){return n.Map.isMap(e)?e&&e.getIn([s.a.GRADE,s.a.GRADE_TOTAL]):void 0}static getGrade(e){return n.Map.isMap(e)?e&&this.getScore(e)+"/"+this.getTotalScore(e):void 0}static hasBeenGraded(e){return n.Map.isMap(e)?e&&e.getIn([s.a.SUBMISSION,s.a.STATUS])===s.a.GRADED:void 0}static getPossibleQuizPoints(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,s.a.TOTAL_POINTS]):void 0}static getQuizTimeLimit(e){return n.Map.isMap(e)?e&&e.getIn([s.a.QUIZ_ITEM,s.a.TIME_LIMIT]):void 0}static getQuestionId(e){return n.Map.isMap(e)?e&&e.get(s.a.ID):void 0}static getQuestionType(e){return n.Map.isMap(e)?e&&e.get(s.a.QUIZ_TYPE):void 0}static getQuestionAnswers(e){return n.Map.isMap(e)?e&&e.get(s.a.QUIZ_ANSWERS):void 0}static getQuestionPoints(e){return n.Map.isMap(e)&&e.get(s.a.TOTAL_POINTS)||0}static getQuestionUserAnswer(e){return n.Map.isMap(e)?e&&e.get(s.a.USER_ANSWER):void 0}static getUserAnswerReviewStatus(e){return n.Map.isMap(e)?"ungraded"===e.get(s.a.STATUS)?i.a.Review.UNGRADED:"partially_correct"===e.get(s.a.STATUS)?i.a.Review.PARTIAL:e.get(s.a.POINTS)||"correct"===e.get(s.a.STATUS)?i.a.Review.CORRECT:i.a.Review.INCORRECT:i.a.Review.INCORRECT}static getUserAnswerComment(e){if(n.Map.isMap(e))return e.get(s.a.COMMENT)}static getCorrectAnswer(e){return n.Map.isMap(e)&&e.get("correct_answer")}static getCorrectAnswers(e){return n.Map.isMap(e)&&e.get("correct_answers")}static getUserAnswerTakeStatus(e){let t=i.a.QuestionStatus.UNSEEN;const a=this.getQuestionUserAnswer(e),n=a&&a.get("answer");let r=0,o=0;if(void 0===n)return t;switch(this.getQuestionType(e)){case s.a.FILL_IN_BLANK:case s.a.MATCHING:n.forEach(e=>{0===e.trim().length?r++:o++}),0!==o&&(t=0===r?i.a.QuestionStatus.ANSWERED:i.a.QuestionStatus.INCOMPLETE);break;case s.a.SHORT_ANSWER:n&&0!==n.trim().length&&(t=i.a.QuestionStatus.ANSWERED);break;default:t=i.a.QuestionStatus.ANSWERED}return t}static getUserAnswerPoints(e){if(n.Map.isMap(e)){const t=e.get(s.a.POINTS);return null===t?0:t}return 0}static getQuestionPosition(e){return n.Map.isMap(e)?e&&e.get(s.a.POSITION):void 0}static getQuestionText(e){return n.Map.isMap(e)?e&&e.get(s.a.TEXT):void 0}static getQuestionAttachments(e){return n.Map.isMap(e)?e&&e.get(s.a.ATTACHMENTS):void 0}static getQuestionInstructions(e){return n.Map.isMap(e)?e&&e.get(s.a.INSTRUCTIONS):void 0}static getQuestionChoices(e){return n.Map.isMap(e)?e&&e.get(s.a.CHOICES):void 0}static getAnswerId(e){return n.Map.isMap(e)?e&&e.get(s.a.ID):void 0}static getAnswersPointValue(e){return n.Map.isMap(e)?e&&e.get(s.a.POINTS):void 0}static getIsAnswerCorrect(e){return n.Map.isMap(e)?e&&e.get(s.a.IS_CORRECT):void 0}static getAnswerText(e){return n.Map.isMap(e)?e&&e.get(s.a.TEXT):void 0}static getSimplifiedAnswer(e){if(n.Map.isMap(e))return e.get(s.a.ANSWER)}static getSelectedAnswers(e){return n.Map.isMap(e)&&e.get(s.a.SELECTED_ANSWERS)}static getAnswerChoices(e){return n.Map.isMap(e)?e&&e.get(s.a.CHOICES):void 0}static getQuizTimeLimitForProfile(e){if(n.Map.isMap(e))return e&&e.get(s.a.TIME_LIMIT)}static calculateTotalPoints(e){if(!n.List.isList(e))return 0;let t=0;return e.forEach(e=>{switch(e.get("question_type")){case"matching":e.get("points")&&e.get("choices")&&(t+=parseFloat(e.get("points"))*e.get("choices").size);break;case"multi_answer":e.get("points")&&e.get("selected_answers")&&(t+=parseFloat(e.get("points"))*e.get("selected_answers").size);break;case"fill_in_blank":e.get("points")&&e.get("correct_answers")&&(t+=parseFloat(e.get("points"))*e.get("correct_answers").size);break;default:e.get("points")&&(t+=parseFloat(e.get("points")))}}),t}static getQuizQuestions(e){if(n.Map.isMap(e))return e.get(i.a.State.SIMPLIFIED_QUESTIONS)}static getQuizExamTitle(e){return n.Map.isMap(e)?e.getIn([s.a.QUIZ,s.a.QUIZ_TITLE]):null}static getQuizDueDate(e){return n.Map.isMap(e)?e.getIn([s.a.QUIZ,r.a.DUE_DATE]):null}static getRawId(e){return n.Map.isMap(e)?e.get(s.a.ID):null}static getQuizId(e){return n.Map.isMap(e)?e.getIn([s.a.QUIZ,r.a.ID]):null}static isQuiz(e){return!!n.Map.isMap(e)&&(e&&e.get(s.a.TYPE)===s.a.QUIZ)}static newQuizExperience(e){const t=e&&e.get("simplified_questions");let a=!1;return t&&t.some(e=>{const t=e.get("question_type");if("multi_answer"===t)a=!0;else if("matching"===t){const t=e.get("choices"),n=e.get("correct_answers");t&&n&&n.size>t.size&&(a=!0)}return a}),a}static isValid(e){return e&&e.get("valid")}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c}));var n=a(273),r=a(1452),s=a(4);const i=()=>window.innerWidth<=767.98,o=()=>window.innerWidth>767.98&&window.innerWidth<=991.98,l=e=>{let t;switch(e){case"sm":t=r.a.Breakpoints.SMALL;break;case"md":t=r.a.Breakpoints.MEDIUM;break;case"lg":t=r.a.Breakpoints.LARGE;break;case"xl":t=r.a.Breakpoints.EXTRA_LARGE;break;default:t=0}return window.innerWidth<t},c=()=>{const e=Object(s.useState)(i()),t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(s.useEffect)(()=>{function e(){r(i())}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),[a]}},,function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/library",d:"M20 4v16H6a2 2 0 01-2-2V6a2 2 0 012-2h14zm-9.5 10l2.5 2v-6H8v6l2.5-2zM6 7a1 1 0 001 1h11V6H7a1 1 0 00-1 1z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",id:"Icon/small/backpack",d:"M16 3a1 1 0 011 1l.002 2.103A6.977 6.977 0 0119 11v7.6a2.4 2.4 0 01-2.4 2.4H7.4A2.4 2.4 0 015 18.6V11c0-1.907.763-3.636 2-4.898V4a1 1 0 112 0v.674A6.973 6.973 0 0112 4c1.074 0 2.091.242 3 .674V4a1 1 0 011-1zm-1 12H9a1 1 0 000 2h6a1 1 0 000-2zm-2.438-6.442a.8.8 0 00-1.126-.002L10.07 9.903l-.078.089a.8.8 0 00.07 1.042l1.37 1.39a.802.802 0 001.138.002l1.366-1.376.078-.09a.8.8 0 00-.082-1.042z"}))}},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 32 7":o,c=e.preserveAspectRatio,d=void 0===c?"xMidYMid meet":c,u=Object(n.a)(e,["size","color","viewBox","preserveAspectRatio"]);return s.a.createElement("svg",Object.assign({width:5*a,height:a,viewBox:l,preserveAspectRatio:d},u),s.a.createElement("path",{fill:i,d:"M3.98592915,5.09392236 C3.51771047,5.35162523 2.90534544,5.52355849 2.28116092,5.52355849 C1.24849751,5.52355849 0.768395103,5.02023668 0.720282084,4.2346501 L4.09397468,4.09955968 C4.26208118,2.4917407 3.73380152,1.62025316 2.34102919,1.62025316 C1.15259265,1.62025316 0,2.43033596 0,4.35752524 C0,5.74441852 0.828263372,6.48101266 2.25707229,6.48101266 C3.01332672,6.48101266 3.67374054,6.29673278 4.2020202,5.94091368 L3.98592915,5.09392236 Z M2.19954063,2.59240506 C2.98851036,2.59240506 3.46915997,2.85824869 3.55555556,3.53409016 L0.646464646,3.88860759 C0.695861815,3.02439354 1.17651143,2.59240506 2.19954063,2.59240506 L2.19954063,2.59240506 Z M6.55907769,6.48101266 C7.60238808,6.48101266 8.1848971,5.47730026 8.45168025,4.34077307 L8.36684191,6.40829769 L9.37373737,6.40829769 L9.1068893,3.1799213 L9.24021597,0 L8.28200357,0 L8.40325684,1.82570206 C8.0393023,1.72911536 7.63880301,1.69282257 7.20208352,1.69282257 C6.01324324,1.69282257 4.84848485,2.49081113 4.84848485,4.38922816 C4.84848485,5.75541561 5.69777702,6.48101266 6.55907769,6.48101266 L6.55907769,6.48101266 Z M5.49494949,4.13487862 C5.49494949,3.11045333 5.99397268,2.59240506 7.04085989,2.59240506 C7.5519956,2.59240506 7.978018,2.65250227 8.39192787,2.83343872 L8.4040404,2.92971033 C8.37961998,4.43626742 7.6494168,5.50886076 6.74879164,5.50886076 C5.9209719,5.50886076 5.49494949,4.91839922 5.49494949,4.13487862 L5.49494949,4.13487862 Z M10.1291498,6.48101266 L11.1701778,6.48101266 L11.0006675,4.30558366 C11.1460823,3.11204432 11.6665316,2.63965709 12.1992228,2.63965709 C12.6592391,2.63965709 12.9257142,2.90066068 12.9498097,3.95737934 L12.8288142,6.48101266 L13.8215217,6.48101266 L13.6762363,4.28064066 C13.7609591,3.11204432 14.3178754,2.63965709 14.8142292,2.63965709 C15.2743102,2.63965709 15.564816,2.91323195 15.5768638,3.90775939 L15.4438205,6.48101266 L16.4848485,6.48101266 L16.2790654,3.68400402 C16.2911131,3.47262038 16.3033552,3.28617974 16.3033552,3.0498531 C16.3033552,2.15489813 15.9401742,1.62025316 15.2257306,1.62025316 C14.5600608,1.62025316 13.9547593,2.21708935 13.6520113,3.34837096 L13.6520113,3.00023315 C13.6520113,2.14232686 13.3008781,1.62025316 12.5986765,1.62025316 C11.8844272,1.62025316 11.2670779,2.27908103 10.976572,3.46024865 L11.0006675,1.70738739 L10.020202,1.70738739 L10.2986602,3.89538766 L10.1291498,6.48101266 Z M19.352379,6.48101266 C20.516324,6.48101266 21.6565657,5.68301378 21.6565657,3.78058342 C21.6565657,2.36886556 20.8251037,1.62025316 19.4354998,1.62025316 C18.2715548,1.62025316 17.1313131,2.41812069 17.1313131,4.32074808 C17.1313131,5.73226892 17.9627115,6.48101266 19.352379,6.48101266 L19.352379,6.48101266 Z M19.3626899,2.59240506 C20.5484359,2.59240506 21.010101,3.12484603 21.010101,3.97193474 C21.010101,4.98845414 20.5233962,5.5086588 19.4376086,5.5086588 C18.2396432,5.5208951 17.7777778,4.97621784 17.7777778,4.11708705 C17.7777778,3.12484603 18.2520629,2.59240506 19.3626899,2.59240506 L19.3626899,2.59240506 Z M24.0135828,6.48101266 C25.0571029,6.48101266 25.6393606,5.47730026 25.9062125,4.34077307 L25.8213729,6.40829769 L26.8282828,6.40829769 L26.5614309,3.1799213 L26.6949542,0 L25.7364685,0 L25.8577235,1.82570206 C25.4938286,1.72911536 25.0935183,1.69282257 24.6566627,1.69282257 C23.4677405,1.69282257 22.3030303,2.49081113 22.3030303,4.38922816 C22.3030303,5.75541561 23.1522697,6.48101266 24.0135828,6.48101266 L24.0135828,6.48101266 Z M22.9494949,4.13487862 C22.9494949,3.11045333 23.4485628,2.59240506 24.4952833,2.59240506 C25.0064648,2.59240506 25.4325253,2.65250227 25.8464722,2.83343872 L25.8585859,2.92971033 C25.8341632,4.43626742 25.1038947,5.50886076 24.2031889,5.50886076 C23.3754904,5.50886076 22.9494949,4.91839922 22.9494949,4.13487862 L22.9494949,4.13487862 Z M29.6958457,6.48101266 C30.8597108,6.48101266 32,5.68301378 32,3.78058342 C32,2.36886556 31.1685497,1.62025316 29.7789018,1.62025316 C28.6149731,1.62025316 27.4747475,2.41812069 27.4747475,4.32074808 C27.4747475,5.73226892 28.3061977,6.48101266 29.6958457,6.48101266 L29.6958457,6.48101266 Z M29.706191,2.59240506 C30.8918703,2.59240506 31.3535354,3.12484603 31.3535354,3.97193474 C31.3535354,4.98845414 30.8668306,5.5086588 29.781043,5.5086588 C28.5830775,5.5208951 28.1212121,4.97621784 28.1212121,4.11708705 C28.1212121,3.12484603 28.5954972,2.59240506 29.706191,2.59240506 L29.706191,2.59240506 Z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=e.preserveAspectRatio,d=void 0===c?"xMidYMid meet":c,u=Object(n.a)(e,["size","color","viewBox","preserveAspectRatio"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l,preserveAspectRatio:d},u),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/bell",d:"M13.571 14.051c.074.258.113.53.113.813 0 1.581-1.237 2.863-2.763 2.863-.996 0-1.868-.546-2.355-1.364-1.127.918-1.397 1.765-1.721 2.417.819.418 3.429.941 6.373-.176 3.565-1.351 5.337-3.874 5.195-4.275-.201-.577-1.863-1.076-4.842-.278zM7.195 5.484a1.688 1.688 0 01-.221-.84C6.974 3.736 7.68 3 8.553 3c.789 0 1.443.603 1.56 1.39h.007c3.493-.074 4.605 1.742 6.745 6.529.9 2.014 2.35.859 3.067 2.95.525 1.526-2.044 4.647-6.121 6.22-4.076 1.573-7.94.934-8.464-.591-.717-2.091 1.096-2.197.565-4.355-1.263-5.123-1.513-7.27 1.208-9.596a8.36 8.36 0 01.075-.063z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/assignmentcenter",d:"M8 6h8V4.4a1 1 0 012 0V6h1a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h1V4.4a1 1 0 112 0V6zM7 18h10a.5.5 0 100-1H7a.5.5 0 100 1zm1.55-5.517l1.631 1.7a2 2 0 002.828.06c.02-.02 1.106-1.151 3.258-3.395a1 1 0 00-1.443-1.385L11.625 12.8l-1.63-1.701a1 1 0 10-1.444 1.384z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/sticker",d:"M4.438 13.861l-1.389-5.12c-.206-.76.25-1.54 1.02-1.744L15.201 4.05a1.443 1.443 0 011.765 1.007l2.984 11.004c.206.76-.25 1.54-1.02 1.744l-4.175 1.106C12.321 19.555 5 15.5 4.438 13.86zm8.23 3.526c-.915-1.206-1.458-3.025-1.629-5.457a1.435 1.435 0 00-1.669-1.307c-2.03.327-3.224 1.249-3.58 2.766-.027.119 2.71 2.611 6.877 3.998z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/addgroup",d:"M20 6v1a1 1 0 01-2 0V6h-1a1 1 0 010-2h1V3a1 1 0 012 0v1h1a1 1 0 010 2h-1zm-9.643 9.436c1.39-.559 2.071.016 3.99 0 1.92-.016 2.645-.516 3.992 0 .898.344 1.624 1.226 2.18 2.645a1.6 1.6 0 01-.983 2.102c-1.633.545-3.361.817-5.185.817-1.815 0-3.536-.27-5.164-.81a1.6 1.6 0 01-.979-2.12c.574-1.41 1.29-2.288 2.149-2.634zm7.317-4.868c0 1.924-1.486 3.477-3.326 3.477s-3.326-1.553-3.326-3.477 1.485-3.477 3.326-3.477c1.84 0 3.326 1.553 3.326 3.477zm-6.853 3.505c-.29.057-.596.148-.928.283-1.15.466-2.125 1.585-2.927 3.354a10.257 10.257 0 01-2.731-.52 1.6 1.6 0 01-.982-2.09c.398-1.036.885-1.688 1.463-1.955.997-.46 1.532.014 2.91 0 1.377-.013 1.376-.327 2.129 0 .46.2.823.53 1.066.928zm-.778-4.528c0 1.359-1.048 2.455-2.347 2.455-1.3 0-2.348-1.096-2.348-2.455 0-1.358 1.049-2.454 2.348-2.454s2.347 1.096 2.347 2.454z"}))}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1616),i=a.n(s),o=a(38),l=a(1459);t.a=({children:e})=>{if(!e)return null;return l.a.getKaTextStylesheet(),("string"===typeof e||e instanceof String)&&o.a.hasLatexCode(e)?r.a.createElement(i.a,null,o.a.preprocessLatexCode(e)):e}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/chat",d:"M20.914 9.163l.07 1.108c.012.297.016.588.016.869 0 2.117-.265 4.855-1.525 5.876-.576.466-1.568.788-3.033.986-.227.03-.831.088-1.152.115-.083.008-.977.036-1.038.08l-3.681 2.658a.8.8 0 01-1.256-.507l-.387-2.152c-.052-.118-1.144-.164-1.37-.194-1.465-.198-2.458-.52-3.033-.986C3.264 15.995 3 13.256 3 11.14c0-.28.005-.675.015-.865.01-.19.072-1.112.072-1.112.155-1.622.548-3.21 1.438-3.931C5.55 4.403 9 4 12.001 4c2.999 0 6.45.403 7.474 1.232.89.721 1.284 2.31 1.439 3.931zm-8.372 3.408a.837.837 0 001.022 0l1.474-1.145 1.118 1.087c.32.31.837.31 1.157 0a.78.78 0 000-1.125l-1.636-1.59a.836.836 0 00-1.09-.058l-1.534 1.192L11.52 9.74a.837.837 0 00-1.022 0l-1.534 1.192L7.43 9.74a.834.834 0 00-1.15.124.78.78 0 00.128 1.117l2.045 1.59a.837.837 0 001.022 0l1.534-1.192 1.534 1.192z"}))}},function(e,t,a){"use strict";var n=a(198),r=a(4),s=a.n(r),i=a(1338),o=a.n(i),l=a(35),c=a.n(l);a(1515);const d=e=>{let t=e.src,a=e.alt,r=e.size,i=e.className,l=e.qaSelector,d=Object(n.a)(e,["src","alt","size","className","qaSelector"]);const u=c()("EDSAvatar",i,l,{EDSAvatar__16:"16"===r,EDSAvatar__24:"24"===r,EDSAvatar__32:"32"===r,EDSAvatar__36:"36"===r,EDSAvatar__40:"40"===r,EDSAvatar__48:"48"===r,EDSAvatar__60:"60"===r,EDSAvatar__96:"96"===r,EDSAvatar__128:"128"===r});return s.a.createElement(o.a,Object.assign({src:t,className:u,alt:a,loader:s.a.createElement("img",Object.assign({src:"https://u.ph.edim.co/default-avatars/44_42.jpg",className:u,alt:a},d))},d))};d.defaultProps={size:"36",alt:"Avatar Image"},t.a=d},function(e,t,a){"use strict";a.d(t,"i",(function(){return l})),a.d(t,"m",(function(){return c})),a.d(t,"l",(function(){return d})),a.d(t,"j",(function(){return u})),a.d(t,"k",(function(){return h})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"n",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"h",(function(){return E})),a.d(t,"e",(function(){return y})),a.d(t,"f",(function(){return S})),a.d(t,"a",(function(){return v}));var n=a(9),r=a(28),s=a(29);const i=e=>r.qb(e),o=(e,t)=>t,l=Object(n.createSelector)([i],e=>e&&e.get(s.a.State.LOAD_QUIZ_MODAL)),c=Object(n.createSelector)([i],e=>e&&e.get(s.a.State.ITEMS)),d=Object(n.createSelector)([i],e=>e&&e.get(s.a.State.QUESTIONS)),u=Object(n.createSelector)([i,o],(e,t)=>e&&e.getIn([s.a.State.QUIZZES,t])),h=Object(n.createSelector)([i],e=>e&&e.get(s.a.State.QUIZ_NOT_FOUND_FORBIDDEN)),p=Object(n.createSelector)([i,o],(e,t)=>e&&e.getIn([s.a.State.EDIT_QUIZ_CONTENTS,t])),m=Object(n.createSelector)([i],e=>e&&e.get(s.a.State.EDIT_QUIZ_FETCH_ERROR)),g=Object(n.createSelector)([i],e=>e&&e.get(s.a.State.EDIT_SHOW_ERRORS)),f=Object(n.createSelector)([i],e=>e&&e.get(s.a.State.EDIT_NETWORK_ERROR)),b=Object(n.createSelector)([i],e=>e.get(s.a.State.GRADING_SUBMISSIONS_SORT_BY)),E=Object(n.createSelector)([i],e=>e.get(s.a.State.GRADING_SUBMISSIONS_SORT_DIR)),y=Object(n.createSelector)([i],e=>e.get(s.a.State.EDIT_QUIZ_MODIFIED)),S=Object(n.createSelector)([i],e=>e.get(s.a.State.ERROR_MESSAGE)),v=Object(n.createSelector)([i],e=>e.get(s.a.State.MODAL_ASSIGNED_QUIZ))},function(e,t,a){"use strict";a.r(t),a.d(t,"fetchCurrentUserLibraryItemsSuccessAction",(function(){return k})),a.d(t,"fetchCurrentUserGroupLibraryItemsSuccessAction",(function(){return O})),a.d(t,"fetchCurrentUserLibraryItemsFailureAction",(function(){return _})),a.d(t,"fetchFolderContentsSuccessAction",(function(){return M})),a.d(t,"fetchGroupFolderContentsSuccessAction",(function(){return N})),a.d(t,"fetchFolderContentsFailureAction",(function(){return w})),a.d(t,"fetchBreadcrumbsSuccessAction",(function(){return P})),a.d(t,"fetchBreadcrumbsForGroupsSuccessAction",(function(){return R})),a.d(t,"fetchBreadcrumbsFailureAction",(function(){return x})),a.d(t,"fetchSortedLibraryItemsSuccessAction",(function(){return L})),a.d(t,"fetchSortedLibraryItemsFailureAction",(function(){return D})),a.d(t,"fetchAvailableFoldersSuccessAction",(function(){return F})),a.d(t,"fetchAvailableFoldersFailureAction",(function(){return U})),a.d(t,"updateLibraryItemSuccessAction",(function(){return B})),a.d(t,"updateLibraryItemFailureAction",(function(){return G})),a.d(t,"deleteLibraryItemSuccessAction",(function(){return j})),a.d(t,"deleteLibraryItemFailureAction",(function(){return z})),a.d(t,"deleteMultipleLibraryItemsSuccess",(function(){return q})),a.d(t,"makeQuizPublicSuccessAction",(function(){return H})),a.d(t,"makeQuizPublicFailureAction",(function(){return V})),a.d(t,"setCurrentFolderAction",(function(){return W})),a.d(t,"setCurrentGroupFolderAction",(function(){return Q})),a.d(t,"setMoveToParentIdAction",(function(){return Y})),a.d(t,"attachmentListFetchSuccessAction",(function(){return K})),a.d(t,"updateSelectedLibraryItemStatusSuccessAction",(function(){return J})),a.d(t,"clearSelectedLibraryItemStatusSuccessAction",(function(){return Z})),a.d(t,"removeLibraryItemFromFolderSuccessAction",(function(){return X})),a.d(t,"removeLibraryItemFromGroupFolderSuccessAction",(function(){return $})),a.d(t,"removeLibraryItemFromLibrarySuccessAction",(function(){return ee})),a.d(t,"removeTeacherBadgeFromLibrarySuccessAction",(function(){return te})),a.d(t,"removeSearchedLibraryItemFromLibrarySuccessAction",(function(){return ae})),a.d(t,"createLibraryItemSuccessAction",(function(){return ne})),a.d(t,"uploadItemToLibrarySuccessAction",(function(){return re})),a.d(t,"createLibraryItemFailureAction",(function(){return se})),a.d(t,"initializeSelectedGroupFolderIds",(function(){return ie})),a.d(t,"initializeSelectedGroupFolderIdsInGroups",(function(){return oe})),a.d(t,"addSelectedGroupFolderId",(function(){return le})),a.d(t,"addSelectedGroupFolderIdInGroups",(function(){return ce})),a.d(t,"removeSelectedGroupFolderId",(function(){return de})),a.d(t,"createLibItemFromFolderSuccessAction",(function(){return ue})),a.d(t,"createLibItemFromFolderSuccessActionFromGroup",(function(){return he})),a.d(t,"createdPostLibraryLinkSuccessAction",(function(){return pe})),a.d(t,"setTitleForAttachingToNote",(function(){return me})),a.d(t,"setInitialEditModalValues",(function(){return ge})),a.d(t,"fetchLibraryItemsWithQuerySuccessAction",(function(){return fe})),a.d(t,"libraryItemsEndOfListingReachedAction",(function(){return be})),a.d(t,"groupLibraryItemsEndOfListingReachedAction",(function(){return Ee})),a.d(t,"removeLibrarySelectionsCachedData",(function(){return ye})),a.d(t,"removeGroupLibrarySelectionsCachedData",(function(){return Se})),a.d(t,"fetchAwardedBadgesSuccessAction",(function(){return ve})),a.d(t,"fetchAwardedBadgesFailueAction",(function(){return Ce})),a.d(t,"fetchSharedGroupsOfResourceSuccessAction",(function(){return Ae})),a.d(t,"fetchSharedGroupsOfResourceFailureAction",(function(){return Ie})),a.d(t,"makeNewGroupFolder",(function(){return Te})),a.d(t,"createLibraryItem",(function(){return ke})),a.d(t,"createLibraryMSItem",(function(){return Oe})),a.d(t,"fetchLibraryItemsForCurrentUser",(function(){return _e})),a.d(t,"fetchGroupLibraryItemsForCurrentUser",(function(){return Me})),a.d(t,"fetchFolderContents",(function(){return Ne})),a.d(t,"fetchGroupFolderContents",(function(){return we})),a.d(t,"fetchBreadcrumbs",(function(){return Pe})),a.d(t,"fetchBreadcrumbsForGroups",(function(){return Re})),a.d(t,"fetchSortedLibraryItems",(function(){return xe})),a.d(t,"fetchAvailableFolders",(function(){return Le})),a.d(t,"updateLibraryItem",(function(){return De})),a.d(t,"copyLibraryItem",(function(){return Fe})),a.d(t,"deleteLibraryItem",(function(){return Ue})),a.d(t,"deleteMultipleLibraryItems",(function(){return Be})),a.d(t,"shareLibraryFolderToGroups",(function(){return Ge})),a.d(t,"makeQuizPublic",(function(){return je})),a.d(t,"awardBadge",(function(){return ze})),a.d(t,"fetchAwardedBadges",(function(){return qe})),a.d(t,"resizeBadgeImage",(function(){return He})),a.d(t,"fetchSharedGroupsOfResource",(function(){return Ve}));var n=a(15),r=a(5),s=a.n(r),i=a(46),o=a(1266),l=a(330),c=a(72),d=a(366),u=a(33),h=a(3),p=a(10),m=a(120),g=a(435),f=a(239),b=a(45),E=a(59),y=a(12),S=a(69),v=a(36),C=a(14),A=a(329),I=a(118),T=a(18);const k=e=>({type:c.a.CURRENT_USER_LIBRARY_ITEMS_FETCH_SUCCESS,payload:e}),O=e=>({type:c.a.CURRENT_USER_GROUP_LIBRARY_ITEMS_FETCH_SUCCESS,payload:e}),_=e=>({type:c.a.CURRENT_USER_LIBRARY_ITEMS_FETCH_FAILURE,payload:e}),M=(e,t)=>({type:c.a.CURRENT_LIBRARY_FOLDER_CONTENTS_FETCH_SUCCESS,payload:{folderId:e,libraryItems:t}}),N=(e,t)=>({type:c.a.CURRENT_GROUP_LIBRARY_FOLDER_CONTENTS_FETCH_SUCCESS,payload:{folderId:e,libraryItems:t}}),w=e=>({type:c.a.CURRENT_LIBRARY_FOLDER_CONTENTS_FETCH_FAILURE,payload:e}),P=e=>({type:c.a.CURRENT_LIBRARY_FOLDER_BREADCRUMB_FETCH_SUCCESS,payload:e}),R=e=>({type:c.a.CURRENT_GROUP_LIBRARY_FOLDER_BREADCRUMB_FETCH_SUCCESS,payload:e}),x=e=>({type:c.a.CURRENT_LIBRARY_FOLDER_BREADCRUMB_FETCH_FAILURE,payload:e}),L=e=>({type:c.a.SORTED_LIBRARY_ITEM_FETCH_SUCCESS,payload:e}),D=e=>({type:c.a.SORTED_LIBRARY_ITEM_FETCH_FAILURE,payload:e}),F=e=>({type:c.a.AVAILABLE_FOLDER_FETCH_SUCCESS,payload:e}),U=e=>({type:c.a.AVAILABLE_FOLDER_FETCH_FAILURE,payload:e}),B=(e,t)=>({type:c.a.LIBRARY_ITEM_UPDATE_SUCCESS,payload:{libraryItemId:e,data:t}}),G=e=>({type:c.a.LIBRARY_ITEM_UPDATE_FAILURE,payload:e}),j=e=>({type:c.a.LIBRARY_ITEM_DELETE_SUCCESS,payload:e}),z=e=>({type:c.a.LIBRARY_ITEM_DELETE_FAILURE,payload:e}),q=(e,t)=>({type:c.a.MULTIPLE_LIBRARY_ITEMS_DELETE_SUCCESS,payload:{libraryItemIds:e,location:t}}),H=e=>({type:c.a.MAKE_QUIZ_PUBLIC_SUCCESS,payload:e}),V=e=>({type:c.a.MAKE_QUIZ_PUBLIC_FAILURE,payload:e}),W=(e,t)=>({type:c.a.SET_CURRENT_FOLDER_ID,payload:{folderId:e,folderName:t}}),Q=(e,t)=>({type:c.a.SET_CURRENT_GROUP_FOLDER_ID,payload:{folderId:e,folderName:t}}),Y=e=>({type:c.a.UPDATE_MOVE_TO_PARENT_ID,payload:e}),K=(e,t)=>({type:c.a.ATTACHMENT_LIST_FETCH_SUCCESS,payload:{name:e,attachmentList:t}}),J=(e,t,a,n)=>({type:c.a.UPDATE_ATTACHMENT_ITEM_SELECTION,payload:{name:e,libraryItemId:t,status:a,source:n}}),Z=()=>({type:c.a.CLEAR_ATTACHMENT_ITEM_SELECTION,payload:{}}),X=(e,t)=>({type:c.a.LIBRARY_ITEM_REMOVAL_FROM_FOLDER_SUCCESS,payload:{libraryItemId:e,operation:t}}),$=(e,t)=>({type:c.a.LIBRARY_ITEM_REMOVAL_FROM_GROUP_FOLDER_SUCCESS,payload:{libraryItemId:e,operation:t}}),ee=(e,t)=>({type:c.a.LIBRARY_ITEM_REMOVAL_FROM_LIBRARY_SUCCESS,payload:{libraryItemId:e,operation:t}}),te=e=>({type:c.a.TEACHER_BADGE_REMOVAL_FROM_LIBRARY_SUCCESS,payload:e}),ae=e=>({type:c.a.SEARCHED_LIBRARY_ITEM_REMOVAL_FROM_LIBRARY_SUCCESS,payload:e}),ne=e=>({type:c.a.LIBRARY_ITEM_CREATION_SUCCESS,payload:e}),re=e=>({type:c.a.UPLOAD_ITEM_TO_LIBRARY_SUCCESS,payload:e}),se=e=>({type:c.a.LIBRARY_ITEM_CREATION_FAILURE,payload:e}),ie=e=>({type:c.a.INITIALIZE_SELECTED_GROUP_FOLDER_IDS,payload:e}),oe=e=>({type:c.a.INITIALIZE_SELECTED_GROUP_FOLDER_IDS_IN_GROUPS,payload:e}),le=e=>({type:c.a.ADD_SELECTED_GROUP_FOLDER_ID,payload:e}),ce=e=>({type:c.a.ADD_SELECTED_GROUP_FOLDER_ID_IN_GROUPS,payload:e}),de=e=>({type:c.a.REMOVE_SELECTED_GROUP_FOLDER_ID,payload:e}),ue=e=>({type:c.a.CREATE_LIB_ITEM_FROM_FOLDER_SUCCESS,payload:e}),he=e=>({type:c.a.CREATE_LIB_ITEM_FROM_GROUP_FOLDER_SUCCESS,payload:e}),pe=e=>({type:c.a.CREATE_LIBRARY_POST_LINK_SUCCESS,payload:e}),me=e=>({type:c.a.SET_TITLE_FOR_ATTACHING_TO_NOTE,payload:e}),ge=e=>({type:c.a.SET_INITIAL_EDIT_MODAL_VALUES,payload:e}),fe=e=>({type:c.a.FETCH_LIBRARY_ITEMS_WITH_QUERY_SUCCESS,payload:e}),be=e=>({type:c.a.LIBRARY_ITEMS_END_OF_LISTING_REACHED,payload:e}),Ee=e=>({type:c.a.GROUP_LIBRARY_ITEMS_END_OF_LISTING_REACHED,payload:e}),ye=(e=null)=>({type:c.a.REMOVE_LIBRARY_SELECTIONS_CACHED_DATA,payload:e}),Se=(e=null)=>({type:c.a.REMOVE_GROUP_LIBRARY_SELECTIONS_CACHED_DATA,payload:e}),ve=e=>({type:c.a.FETCH_AWARDED_BADGES_SUCCESS_ACTION,payload:e}),Ce=e=>({type:c.a.FETCH_AWARDED_BADGES_FAILURE_ACTION,payload:e}),Ae=e=>({type:c.a.SHARED_GROUPS_OF_RESOURCE_FETCH_SUCCESS,payload:e}),Ie=e=>({type:c.a.SHARED_GROUPS_OF_RESOURCE_FETCH_FAILURE,payload:e}),Te=(e,t,a)=>function(e){const n={item:{shared_resource_type:"folder",shared_library_item_id:t},owner_id:a,owner_type:"group",type:"shared_item"};return g.c(n).then(a=>(e(le(t)),e(ne(a.data)),a.data)).catch(t=>{t&&t.response&&404===t.response.status&&(e(se(t)),Object(b.a)(t))})},ke=(e,t,a,n,r,o,c,u,p,f,S)=>function(v){return g.c(t).then(t=>{c&&c(u);const g=C.a.isTeacher(r),b=s.a.isUndefined(r)||g?"added-to-library":"added-to-backpack",I=s.a.isUndefined(r)||g?"Added to Library":"Added to Backpack";return n?v(Te(e,t.data.id,n)):a===d.a.LIBRARY_ROOT?v(re(t.data)):a===E.a.CHAT?(v(ne(t.data)),v(Object(i.showSuccessGlobalAlert)(b,I))):a===h.a.POST?(v(pe(t.data)),v(Object(i.showSuccessGlobalAlert)(b,I))):a===y.a.GROUP_FOLDERS||a===h.a.ATTACHMENTS?v(Object(i.showSuccessGlobalAlert)(b,I)):a===m.a.ASSIGN_MODAL?S?S(t.data.item&&t.data.item.id):v(Object(i.showSuccessGlobalAlert)(b,I)):a===A.a.ADMIN_TEACHER_BADGES?v(ne(t.data)):p?(v(Object(l.updatePublicProfileResources)({id:u,creatorId:f})),v(he(t.data))):(o&&v(he(t.data)),v(ue(t.data))),t.data}).catch(e=>{e&&e.response&&404===e.response.status&&(v(se(e)),Object(b.a)(e))})},Oe=(e,t,a)=>function(n){return g.c(t).then(t=>(0===a?n(ne(t.data)):e.location.pathname.match(p.a.GROUP_PAGE)?n(he(t.data)):n(ue(t.data)),t.data)).catch(e=>{e&&e.response&&404===e.response.status&&(n(se(e)),Object(b.a)(e))})},_e=(e,t,a=!1)=>function(e){const r=""===t.query?Object(n.a)({},t,{root:"true"}):t;return g.f(r).then(n=>(a&&t.query?(e(fe(n.data)),e(be(n.data.length<t.per_page))):(e(k(n.data)),e(be(n.data.length<t.per_page))),n.data)).catch(t=>{t&&t.response&&404===t.response.status&&(e(_(t)),Object(b.a)(t))})},Me=(e,t,a=!1)=>function(e){return g.f(t).then(n=>(a&&t.query?(e(fe(n.data)),e(Ee(n.data.length<t.per_page))):(e(O(n.data)),e(Ee(n.data.length<t.per_page))),n.data)).catch(t=>{t&&t.response&&404===t.response.status&&(e(_(t)),Object(b.a)(t))})},Ne=e=>function(t){return g.f(e).then(a=>{t(M(e.parent_id,a.data)),t(be(a.data.length<e.per_page))}).catch(e=>{e&&e.response&&404===e.response.status&&(t(w(e)),Object(b.a)(e))})},we=e=>function(t){return g.f(e).then(a=>{t(N(e.parent_id,a.data)),t(Ee(a.data.length<e.per_page))}).catch(e=>{e&&e.response&&404===e.response.status&&(t(w(e)),Object(b.a)(e))})},Pe=e=>function(t){return g.f(e).then(e=>{t(P(e.data))}).catch(e=>{e&&e.response&&404===e.response.status&&(t(x(e)),Object(b.a)(e))})},Re=e=>function(t){return g.f(e).then(e=>{t(R(e.data))}).catch(e=>{e&&e.response&&404===e.response.status&&(t(x(e)),Object(b.a)(e))})},xe=e=>function(t){return g.f(e).then(e=>{t(L(e.data))}).catch(e=>{e&&e.response&&404===e.response.status&&(t(D(e)),Object(b.a)(e))})},Le=e=>function(t){return g.f(e).then(e=>{t(F(e.data))}).catch(e=>{e&&e.response&&404===e.response.status&&(t(U(e)),Object(b.a)(e))})},De=(e,t,a,n)=>function(r){return g.l(e,t).then(t=>{let s="msg-item-moved",o="The item has been moved";"move"===a?r(X(e,u.a.ACTION_MOVE)):"moveFromLibrary"===a?r(ee(e,u.a.ACTION_MOVE)):(r(B(e,t.data)),s="msg-item-updated",o="The item has been updated"),r(Object(i.showSuccessGlobalAlert)(s,o)),n&&n()}).catch(e=>{n&&n(),e&&e.response&&404===e.response.status&&(r(G(e)),r(Object(i.showErrorGlobalAlert)("msg-item-update-failure","Can't update item. Please try again.")),Object(b.a)(e))})},Fe=(e,t)=>function(a){return g.b(e,t).then(()=>{a(Object(i.showSuccessGlobalAlert)("msg-item-copied","The item has been copied"))}).catch(e=>{e&&e.response&&404===e.response.status&&(a(Object(i.showErrorGlobalAlert)("msg-item-copy-failure","Can't copy item. Please try again.")),Object(b.a)(e))})},Ue=(e,t,a,n="")=>function(r){return g.d(e).then(s=>{r(j(e,s.data)),n===d.a.BADGE?(r(te(e)),r(Object(i.showSuccessGlobalAlert)("msg-item-deleted","The item has been deleted"))):t===d.a.LIBRARY_ROOT?(r(ee(e,u.a.ACTION_DELETE)),r(Object(i.showSuccessGlobalAlert)("msg-item-deleted","The item has been deleted"))):t===d.a.GROUP_ROOT?(r(X(e,u.a.ACTION_DELETE)),r(Object(i.showSuccessGlobalAlert)("msg-item-unshared","The item has been unshared"))):(r(X(e,u.a.ACTION_DELETE)),r($(e,u.a.ACTION_DELETE)),r(Object(i.showSuccessGlobalAlert)("msg-item-deleted","The item has been deleted"))),a&&r(ae(e))}).catch(e=>{e&&e.response&&404===e.response.status&&(r(z(e)),Object(b.a)(e))})},Be=(e,t,a=10)=>function(n,r){const s=e.map(e=>({method:I.a.DELETE,url:"".concat(T.a.LIBRARY_ITEMS,"/").concat(e)})),i=[];for(;s.length>0;)i.push(f.a({requests:s.splice(0,a)}));Promise.all(i).then(()=>{n(q(e,t))}).catch(e=>{v.a.notifyBugsnag(e,"LibraryItemActionCreator.deleteMultipleLibraryItems")})},Ge=e=>function(t){return g.k(e).then(e=>{t(Object(i.showSuccessGlobalAlert)("msg-item-shared","Your changes have been saved"))}).catch(e=>{e&&e.response&&404===e.response.status&&Object(b.a)(e),v.a.notifyBugsnag(e,"LibraryItemActionCreator.shareLibraryFolderToGroups")})},je=(e,t,a,n)=>function(r){return g.h(e).then(e=>{Object(b.a)("makeQuizPublic",e.data),r(H(e.data)),n&&n(e.data,t,a),JSON.parse(a)&&r(Object(i.showSuccessGlobalAlert)("library,your_quiz_has_been_made_public","A copy of this quiz has been added to your Public library and your profile."))}).catch(e=>{e&&e.response&&404===e.response.status&&Object(b.a)(e),v.a.notifyBugsnag(e,"LibraryItemActionCreator.makeQuizPublic")})},ze=(e,t)=>function(a){return g.a(e).then(()=>{a(Object(i.showSuccessGlobalAlert)("msg-item-award","Badge Awarded")),t&&t()}).catch(e=>{e&&e.response&&404===e.response.status&&Object(b.a)(e),v.a.notifyBugsnag(e,"LibraryItemActionCreator.awardBadge")})},qe=e=>function(t){return g.e(e).then(e=>{t(ve(e.data))}).catch(e=>{v.a.notifyBugsnag(e,"LibraryItemActionCreator.fetchAwardedBadges")})},He=(e,t)=>function(a,n){const r={s3_key:e,preserve_key:!0,source_bucket:S.a.BADGES_BUCKET};return g.i(r).then(a=>{t&&t(e)}).catch(e=>{e&&e.response&&404===e.response.status&&Object(b.a)(e),v.a.notifyBugsnag(e,"LibraryItemActionCreator.resizeBadgeImage")})},Ve=e=>function(t){return g.g(e).then(e=>{t(o.isResourceShareable(e.data)),t(Ae(e.data))}).catch(e=>{e&&e.response&&404===e.response.status?(t(Ie(e)),Object(b.a)(e)):v.a.notifyBugsnag(e,"LibraryItemActionCreator.fetchSharedGroupsOfResource")})}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("defs",null,s.a.createElement("path",{d:"M19.375.125h.125a2 2 0 0 1 2 2v.125a2 2 0 0 1-2 2h-.125a2 2 0 0 1-2-2v-.125a2 2 0 0 1 2-2zm-8.25 0h.125a2 2 0 0 1 2 2v.125a2 2 0 0 1-2 2h-.125a2 2 0 0 1-2-2v-.125a2 2 0 0 1 2-2zm-8.25 0H3a2 2 0 0 1 2 2v.125a2 2 0 0 1-2 2h-.125a2 2 0 0 1-2-2v-.125a2 2 0 0 1 2-2z",id:"DragHandleIconA"}),s.a.createElement("path",{d:"M19.375.125h.125a2 2 0 0 1 2 2v.125a2 2 0 0 1-2 2h-.125a2 2 0 0 1-2-2v-.125a2 2 0 0 1 2-2zm-8.25 0h.125a2 2 0 0 1 2 2v.125a2 2 0 0 1-2 2h-.125a2 2 0 0 1-2-2v-.125a2 2 0 0 1 2-2zm-8.25 0H3a2 2 0 0 1 2 2v.125a2 2 0 0 1-2 2h-.125a2 2 0 0 1-2-2v-.125a2 2 0 0 1 2-2z",id:"DragHandleIconC"})),s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("g",{transform:"rotate(90 6.25 6.25)"},s.a.createElement("mask",{id:"DragHandleIconB",fill:"#fff"},s.a.createElement("use",{xlinkHref:"#DragHandleIconA"})),s.a.createElement("use",{fill:i,xlinkHref:"#DragHandleIconA"})),s.a.createElement("g",{transform:"rotate(90 2.25 2.25)"},s.a.createElement("mask",{id:"DragHandleIconD",fill:"#fff"},s.a.createElement("use",{xlinkHref:"#DragHandleIconC"})),s.a.createElement("use",{fill:i,xlinkHref:"#DragHandleIconC"}))))}},,,function(e,t,a){"use strict";var n,r=a(0),s=function(){invariant(!1,"ImmutablePropTypes type checking code is stripped in production.")};s.isRequired=s;var i=function(){return s};function o(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof r.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function l(e){function t(t,a,n,r,s,i){for(var o=arguments.length,l=Array(o>6?o-6:0),c=6;c<o;c++)l[c-6]=arguments[c];if(i=i||n,r=r||"<<anonymous>>",null!=a[n])return e.apply(void 0,[a,n,r,s,i].concat(l));var d=s;return t?new Error("Required "+d+" `"+i+"` was not specified in `"+r+"`."):void 0}var a=t.bind(null,!1);return a.isRequired=t.bind(null,!0),a}function c(e,t){return a="Iterable."+e,n=function(e){return r.Iterable.isIterable(e)&&t(e)},l((function(e,t,r,s,i){var l=e[t];if(!n(l)){var c=o(l);return new Error("Invalid "+s+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `"+a+"`.")}return null}));var a,n}(n={listOf:i,mapOf:i,orderedMapOf:i,setOf:i,orderedSetOf:i,stackOf:i,iterableOf:i,recordOf:i,shape:i,contains:i,mapContains:i,orderedMapContains:i,list:s,map:s,orderedMap:s,set:s,orderedSet:s,stack:s,seq:s,record:s,iterable:s}).iterable.indexed=c("Indexed",r.Iterable.isIndexed),n.iterable.keyed=c("Keyed",r.Iterable.isKeyed),e.exports=n},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1208),o=a(509);t.a=Object(o.a)(({input:e,label:t,placeholder:a,type:n="text",translate:o,maxLength:l,className:c="qa-test-folder-name",autoFocus:d=!1,meta:u,customError:h})=>{const p=u&&u.touched,m=h||u&&u.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.D,Object.assign({type:n,placeholder:t||a,className:c,maxLength:l},e,{onBlur:e&&e.onBlur,onPaste:e&&e.onPaste,onChange:e&&e.onChange,onFocus:e&&e.onFocus},d&&{autoFocus:d})),p&&m&&r.a.createElement("small",{className:"required-error qa-test-required-code-error"},Object(i.r)(m,o)))})},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/rocket",d:"M12.703 18.51a5.37 5.37 0 00.121-.61c.223-1.59-.442-2.873-2.008-4.476-1.439-1.472-2.506-2.065-4.134-2.074a2.347 2.347 0 00-.829.149l-1.408-1.442a.85.85 0 010-1.183.813.813 0 01.389-.223l4.881-1.184.831-.854a10.538 10.538 0 016.028-3.094l3.493-.51a.82.82 0 01.925.71.856.856 0 010 .236l-.503 3.602a10.973 10.973 0 01-2.988 6.135l-.875.899-1.147 4.956a.842.842 0 01-.217.398.804.804 0 01-1.156 0l-1.403-1.435zm1.44-10.583c0 1.155.914 2.092 2.042 2.092 1.129 0 2.044-.937 2.044-2.092s-.915-2.091-2.044-2.091c-1.128 0-2.043.936-2.043 2.091zm-4.483 6.68c1.197 1.225 1.682 2.087 1.546 3.056-.4 2.85-3.29 2.258-6.656 3.337-1.547-2.558.493-7.986 2.123-7.977 1.194.007 1.903.475 2.987 1.584zm-.818 2.538c-.233-.945-.9-1.403-1.462-1.598-1.195-.414-2.025 2.285-1.321 3.006.704.72 3.016-.462 2.783-1.408z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/class",d:"M15.365 8.318c0-1.356 1.051-2.454 2.348-2.454s2.348 1.098 2.348 2.454-1.051 2.455-2.348 2.455-2.348-1.1-2.348-2.455zm-1.408-3.682c-.75 3.198-.462 4.803.854 6.387C15.756 12.103 17 12.5 19 13c.992.248 1 1 1 1.5V16.794a3.2 3.2 0 01-3.205 3.194c-1.677-.002-3.108.002-4.295.012.517-2.509-.033-5.558-.5-8-.391-2.045-1.174-5.318 0-8.182.2-.49.65-.593 1.174-.409.523.184.911.679.783 1.227zm-6.261 9.819C8.45 13.248 8.87 12 6.366 7.909c-.354-.577-.149-1.26.39-1.636.54-.376 1.38-.188 1.722.409C9.652 9.136 9.841 10.01 10.435 12c.391 2.045 1.348 4.318.565 8H5.6A1.6 1.6 0 014 18.4v-.9c0-.765.968-1.21 1.348-1.41.782-.408 1.598-.436 2.348-1.635zM3.015 12.16c.13-1.121 1.106-1.92 2.179-1.782 1.072.137 1.836 1.157 1.704 2.278-.13 1.121-1.106 1.92-2.179 1.782-1.072-.137-1.835-1.157-1.704-2.278z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/formatting",d:"M18.556 12a7.22 7.22 0 00-.061-.882l1.843-1.485a.463.463 0 00.105-.576l-1.747-3.114a.433.433 0 00-.533-.198l-2.176.9a6.342 6.342 0 00-1.477-.882l-.332-2.385A.43.43 0 0013.75 3h-3.496a.43.43 0 00-.428.378l-.332 2.385a6.67 6.67 0 00-1.477.882l-2.176-.9a.42.42 0 00-.533.198L3.561 9.057a.453.453 0 00.104.576l1.844 1.485a7.348 7.348 0 00-.06.882c0 .297.025.594.06.882l-1.844 1.485a.463.463 0 00-.104.576l1.747 3.114c.105.198.341.27.533.198l2.176-.9c.455.36.944.657 1.477.882l.332 2.385a.43.43 0 00.428.378h3.496a.43.43 0 00.428-.378l.332-2.385a6.67 6.67 0 001.477-.882l2.176.9a.42.42 0 00.533-.198l1.747-3.114a.463.463 0 00-.105-.576l-1.843-1.485a7.22 7.22 0 00.06-.882zm-6.634 3.019c-1.611 0-2.922-1.35-2.922-3.01C9 10.35 10.31 9 11.922 9c1.611 0 2.922 1.35 2.922 3.01 0 1.659-1.31 3.009-2.922 3.009z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/star",d:"M11.183 17.797L8.89 18.824A1.805 1.805 0 016.36 16.95l.282-2.234a2 2 0 00-.546-1.64l-1.602-1.659a1.761 1.761 0 01.94-2.954l2.426-.457a2 2 0 001.362-.966l1.16-2.007a1.87 1.87 0 013.237 0l1.16 2.007a2 2 0 001.36.966l2.426.457a1.761 1.761 0 01.94 2.954l-1.602 1.66a2 2 0 00-.545 1.639l.281 2.234a1.805 1.805 0 01-2.528 1.873l-2.294-1.027a2 2 0 00-1.634 0z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/network",d:"M9.238 6.304a1.623 1.623 0 110-3.246 1.623 1.623 0 010 3.246zm9.738 4.057a1.623 1.623 0 110-3.246 1.623 1.623 0 010 3.246zm-13.795 4.87a1.623 1.623 0 110-3.247 1.623 1.623 0 010 3.246zm7.306-9.868C12.5 4.565 11.952 3 11.952 3c.249 0 .87.028 1.387.109a9.297 9.297 0 012.525.76c.475.224.916.49 1.319.798.352.27.675.574.963.913 0 0-1.342.55-1.831 1.178a5.618 5.618 0 00-1.12-.69 7.758 7.758 0 00-2.1-.63c-.236-.038-.61.01-.608-.075zm-5.802 4.782l-.038.287c-1.582-.389-2.378.128-2.367.048l.07-.538c.114-.875.506-2.133 1.355-3.398.16-.24.518-.69.518-.69s.407 1.059 1.564 1.562a7.311 7.311 0 00-.902 1.902c-.12.386-.18.677-.2.827zm12.106 5.658c-.421-.281-.421-.281-2.018-.967a7.34 7.34 0 00.543-.887 6.96 6.96 0 00.689-1.97c.699.021 1.538.021 2.408-.323a8.317 8.317 0 01-.926 3.017c-.241.462-.484.842-.696 1.13zm-10.439.188c1.309-.503 1.95.015 3.757 0 1.806-.014 2.489-.465 3.756 0 .791.29 1.44 1.005 1.95 2.143a1.6 1.6 0 01-.992 2.183 15.996 15.996 0 01-4.711.683c-1.644 0-3.207-.225-4.689-.675a1.6 1.6 0 01-.987-2.2c.52-1.132 1.16-1.843 1.916-2.134zm6.887-4.382a3.126 3.126 0 01-3.13 3.13 3.126 3.126 0 01-3.13-3.13 3.126 3.126 0 013.13-3.13 3.126 3.126 0 013.13 3.13z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/globe",d:"M9.1 9.343c.855.653 1.378 1.11 1.569 1.371.414.565.68 1.195.112 1.759a.81.81 0 00-.01.01c.632.44 1.4.7 2.229.7.558 0 1.088-.118 1.568-.33.77-.975 1.11-2.08-.274-2.536l-2.437-.42a.8.8 0 01-.383-1.398c.876-.744 1.444-1.245 1.703-1.503.42-.415.73-.938.468-1.56A3.902 3.902 0 009.1 9.343zm1.051-4.765a5.502 5.502 0 017.578 7.513l1.84 1.822c.433.43.443 1.125.022 1.567a8.967 8.967 0 01-5.091 2.676V19h4a1 1 0 010 2h-11a1 1 0 010-2h4v-.866c-4.205-.735-7.4-4.376-7.4-8.758a8.836 8.836 0 012.816-6.471 1.134 1.134 0 011.57.023l1.665 1.65zM8.504 6.116l-.775-.768a6.58 6.58 0 00-1.37 4.028c0 3.67 3.003 6.648 6.71 6.648a6.722 6.722 0 004.062-1.356l-.925-.917a5.502 5.502 0 01-7.702-7.635z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/shield",d:"M12 21c-5.667-2-8.333-6.667-8-14 1.333-.333 4-1.333 8-3 4 1.667 6.667 2.667 8 3 .333 7.333-2.333 12-8 14zm3.34-12.25l-5.017 4.417-1.662-1.463a1 1 0 10-1.322 1.501l2.984 2.628 6.338-5.583a1 1 0 10-1.322-1.5z"}))}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(225),i=a(293),o=a(14),l=a(509),c=a(1279),d=a(146),u=a(174),h=a(86),p=a(182),m=a(77),g=a(57),f=a(8),b=a(176),E=a(10),y=a(11),S=a.n(y);t.a=e=>{class t extends n.Component{constructor(e){super(e);const t=o.a.getUserId(e.currentUser),a=i.a.getId(e.bellNotification),n=i.a.getCreator(e.bellNotification),r=o.a.getFullName(n),l="".concat(r," ").concat(g.a.POSTED_AN_IMPORTANT_NOTE_TO),c=i.a.getNotificationCardTitle(e.bellNotification,e.translate,e.currentUser),b=o.a.getSmallAvatar(n),y=i.a.getCreatedAt(e.bellNotification),v=s.a.formattedBellNotificationTimestamp(y);v.timestampString=this.translatedTimeInWords(v);const C=i.a.getFormattedDueDate(e.bellNotification),A=i.a.getCategory(e.bellNotification),I=o.a.getSchoolName(n),T=e.translate(g.a.TEACHER_AT_SCHOOL,"Teacher at %{school}",{school:I}),k=i.a.isEvent(e.bellNotification)||i.a.isAdminEvent(e.bellNotification),O=i.a.isAdminNote(e.bellNotification)||i.a.isAdminEvent(e.bellNotification)||i.a.isAdminPoll(e.bellNotification)||i.a.isAdminSchoolActivityReport(e.bellNotification)||i.a.isAdminDistrictActivityReport(e.bellNotification)||i.a.isAdminDistrictPostReminder(e.bellNotification);let _=I?T:e.translate(g.a.TEACHER);i.a.isAdminNote(e.bellNotification)||i.a.isAdminPoll(e.bellNotification)?_=i.a.getAdminDescription(e.bellNotification,e.translate):o.a.isStudent(n)?_=I?e.translate("student-at-school","Student at %{school}",{school:I}):e.translate("admin_pages,student","Student"):o.a.isTeacher(n)&&(_=I?e.translate(g.a.TEACHER_AT_SCHOOL,"Teacher at %{school}",{school:I}):e.translate(g.a.TEACHER));let M=i.a.getSnippet(e.bellNotification);M&&(M=M.replace(/\r?\n/g," "));let N=null;if(i.a.isGroupJoinApproval(e.bellNotification)||i.a.isNewGroupMember(e.bellNotification))N="".concat(E.a.GROUP_PAGE,"/").concat(i.a.getTargetId(e.bellNotification));else if(i.a.isGroupedReply(e.bellNotification)||i.a.isDirectPost(e.bellNotification)||i.a.isUrgentNote(e.bellNotification)||i.a.isNewPublisherMessage(e.bellNotification))N="".concat(E.a.POST,"/").concat(i.a.getTargetId(e.bellNotification));else if(i.a.isAssignmentComment(e.bellNotification)){const a=t===i.a.getAssignmentCreatorId(e.bellNotification)?{uid:i.a.getCreatorId(e.bellNotification)}:null;N=m.a.makeAssignmentGradingOverviewUrl(i.a.getTargetId(e.bellNotification),t,a,i.a.getTargetTimelineId(e.bellNotification),e.currentUser)}else if(i.a.isGroupedQuizSubmitted(e.bellNotification))N=m.a.makeQuizGradeUrl(i.a.getTargetContentItemId(e.bellNotification));else if(i.a.isGroupedTurnedIn(e.bellNotification)||i.a.isTurnedIn(e.bellNotification))N=m.a.makeAssignmentGradingOverviewUrl(i.a.getTargetId(e.bellNotification),t,{uid:i.a.getCreatorId(e.bellNotification)},i.a.getTargetTimelineId(e.bellNotification),e.currentUser);else if(i.a.isAdminNote(e.bellNotification)||i.a.isAdminPoll(e.bellNotification)){const t=i.a.getRecipient(e.bellNotification),a=u.a.getSchool(t),n=u.a.getDistrict(t),r=i.a.getMessageId(e.bellNotification);a?(N=m.a.makeSchoolPageUrl(h.a.getCommunityName(a),"bell_notification"),N+="&source_type=school_post&message_id=".concat(r)):n&&(N=m.a.makeDistrictPageUrl(p.a.getCommunityName(n),"bell_notification"),N+="&source_type=district_post&message_id=".concat(r))}else if(i.a.isAdminSchoolActivityReport(e.bellNotification)){const t=i.a.getSourceSchool(e.bellNotification);N=m.a.makeSchoolPageUrl(h.a.getCommunityName(t),"bell_notification")}else if(i.a.isGroupJoinRequest(e.bellNotification)){const t=i.a.getCreatorId(e.bellNotification);N=d.a.makeUrl(E.a.LEGACY_USER_PAGE.replace(":UID",t))}else if(i.a.isAdminDistrictActivityReport(e.bellNotification)||i.a.isAdminDistrictPostReminder(e.bellNotification)){const t=i.a.getSourceDistrict(e.bellNotification);N=m.a.makeDistrictPageUrl(p.a.getCommunityName(t),"bell_notification")}else if(i.a.isAdminEvent(e.bellNotification)){const t=i.a.getRecipient(e.bellNotification),a=u.a.getSchool(t),n=u.a.getDistrict(t);a?N=m.a.makeSchoolEventsPageUrl(h.a.getCommunityName(a)):n&&(N=m.a.makeDistrictEventsPageUrl(p.a.getCommunityName(n)))}else if(i.a.isAssigned(e.bellNotification))N=m.a.makeAssignmentGradingOverviewUrl(i.a.getTargetId(e.bellNotification),t,null,i.a.getTargetTimelineId(e.bellNotification),e.currentUser);else if(i.a.isGroupInvitation(e.bellNotification)){const e=a.toString().split(/:/)[3];N=d.a.makeUrl("".concat(E.a.LEGACY_PROFILE_PAGE,"/").concat(e))}else if(i.a.isQuizAssigned(e.bellNotification)){const t=i.a.getTargetContentItemId(e.bellNotification);N=m.a.makeQuizTakeUrl(t)}else if(i.a.isGrade(e.bellNotification))N=m.a.makeAssignmentGradingOverviewUrl(i.a.getTargetAssignmentId(e.bellNotification),t,null,i.a.getTargetTimelineId(e.bellNotification),e.currentUser);else if(i.a.isQuizGrade(e.bellNotification)){const t=i.a.getTargetQuizId(e.bellNotification);N=m.a.makeQuizTakeUrl(t)}else if(i.a.isModeratedMessage(e.bellNotification)||i.a.isModeratedReply(e.bellNotification))N=d.a.makeUrl(E.a.LEGACY_MODERATE_POSTS);else if(i.a.isStandaloneGrade(e.bellNotification)){const t=a.toString().split(/:/)[3],n=i.a.getTargetStandaloneGradeGroupId(e.bellNotification);N=d.a.makeUrl(E.a.LEGACY_PROGRESS_PAGE).replace(":UID",t).replace(":GID",n)}else if(i.a.isTopicsDigest(e.bellNotification)){const t=e.bellNotification.get(f.a.TOPICS_FILTER),a=S()(e.bellNotification.get(f.a.NEW_TOPIC_POST_CREATED_SINCE)).format(),n=t.valueSeq().map(e=>e.get("name")).toArray();N="".concat(E.a.NOTIFICATIONS_PAGE,"/").concat(f.a.TOPICS_FILTER,"/").concat(n,"?").concat(f.a.NEW_TOPIC_POST_CREATED_SINCE,"=").concat(a)}else i.a.isLecture(e.bellNotification)&&(N=E.a.POSTS+"/"+i.a.getTargetId(e.bellNotification));this.state={id:a,creator:n,senderFullname:r,title:l,avatar:b,timestamp:y,formattedTimestamp:v,category:A,snippet:M,description:_,translatableTitle:c,formattedDueDate:C,hideRemove:k,isAdminNotification:O,redirectUrl:N}}translatedTimeInWords(e){if(e.isSecondsAgo)return this.props.translate("bell_notifications,seconds_ago","a few seconds ago");if(e.wordDescription===b.a.MINUTE||e.wordDescription===b.a.MINUTES){const t=this.props.translate(g.a.MINUTES_AGO);return"".concat(t.replace(/%{num}/,e.timestampString))}if(e.classification===b.a.MORE_THAN_ONE_HOUR_AGO_TODAY||e.wordDescription===b.a.MINUTES){if("an"===e.timestampString)return this.props.translate("an-hour-ago","an hour ago");{const t=this.props.translate(g.a.HOURS_AGO);return"".concat(t.replace(/%{num}/,e.timestampString))}}return e.timestampString}render(){return r.a.createElement(e,Object.assign({},this.props,this.state))}}return Object(c.a)(Object(l.a)(t))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/down",d:"M7.707 9.293L12 13.586l4.293-4.293a1 1 0 011.414 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/up",d:"M7.707 14.707a1 1 0 11-1.414-1.414l5-5a1 1 0 011.414 0l5 5a1 1 0 01-1.414 1.414L12 10.414l-4.293 4.293z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/questioncircle",d:"M12 21a9 9 0 110-18 9 9 0 010 18zM8.32 9.438c-.012.357.045 1.146.857 1.146 1.027 0 1.005-.807 1.027-1.146.055-.85.674-1.497 1.709-1.497 1.01 0 1.684.63 1.684 1.497 0 .81-.337 1.252-1.331 1.865-1.107.663-1.46 1.185-1.46 2.399 0 .337.337.753.95.753.611 0 .886-.458.89-.753.012-.79.285-.926 1.336-1.548 1.09-.662 1.7-1.538 1.7-2.79 0-1.799-1.468-3.091-3.665-3.091-2.381 0-3.633 1.243-3.698 3.165zm3.52 9.107a1.22 1.22 0 001.224-1.231c0-.685-.54-1.223-1.223-1.223a1.22 1.22 0 00-1.232 1.223c0 .685.548 1.231 1.232 1.231z"}))}},function(e,t,a){"use strict";e.exports=function(e){return r.test("number"===typeof e?n(e):e.charAt(0))};var n=String.fromCharCode,r=/\s/},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#ff704d":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/flame",d:"M12.654 21c-4.797 0-6.659-4.266-6.139-7.166.414-2.308 1.85-3.773 3.2-5.15 1.392-1.42 1.856-2.842 1.39-5.368 1.737 1.028 3.369 2.764 4.18 4.42.6 1.223.886 1.807 2.09 2.188.096.03.391.265.433.354 2.52 5.39.226 10.722-5.154 10.722zm2.632-3.79c.899-.77.908-2.819-.017-3.723-.032.224-.034.348-.069.465-.166.56-.973 1.065-1.46.872-.723-.285-.576-.821-.41-1.326.064-.194.18-.383.314-.55.527-.657.568-1.4.466-2.14-.099-.719-.669-1.512-1.61-2.124.425 1.141.143 1.886-.57 2.481-.49.409-.92.87-1.38 1.306-1.276 1.21-1.306 3.611.093 4.74 1.171.944 3.379 1.084 4.643 0z"}))}},function(e,t,a){"use strict";t.a=class{static preventDefaultAndStopPropagation(e){return e&&e.preventDefault(),e&&e.stopPropagation(),e}static resizeElement(e){let t=e.target;return t.value&&""!==t.value.trim()&&(t.style.height="".concat(t.scrollHeight,"px")),e}static slideFromRight(e){e&&e.animate([{transform:"translateX(100%)"},{transform:"translateX(0)"}],{duration:500})}static slideFromLeft(e){e&&e.animate([{transform:"translateX(0)"},{transform:"translateX(100%)"}],{duration:500})}}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?40:t,r=e.colorPath,i=void 0===r?"#ffffff":r,o=e.colorCircle,l=void 0===o?"#3E4253":o,c=e.circleX,d=void 0===c?20:c,u=e.circleY,h=void 0===u?20:u,p=e.circleRadio,m=void 0===p?20:p,g=e.viewBox,f=void 0===g?"0 0 40 40":g;Object(n.a)(e,["size","colorPath","colorCircle","circleX","circleY","circleRadio","viewBox"]);return s.a.createElement("svg",{width:a,height:a,viewBox:f,fill:"none"},s.a.createElement("circle",{cx:d,cy:h,r:m,fill:l}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.0001 16C27.5524 16 28.0001 15.5523 28.0001 15V14H29.0001C29.5524 14 30.0001 13.5523 30.0001 13C30.0001 12.4477 29.5524 12 29.0001 12H28.0001V11C28.0001 10.4477 27.5524 10 27.0001 10C26.4478 10 26.0001 10.4477 26.0001 11V12H25.0001C24.4478 12 24.0001 12.4477 24.0001 13C24.0001 13.5523 24.4478 14 25.0001 14H26.0001V15C26.0001 15.5523 26.4478 16 27.0001 16ZM18.3566 23.4364C19.2129 23.092 19.8003 23.1778 20.5736 23.2909L20.5736 23.2909C21.0559 23.3614 21.6106 23.4425 22.3479 23.4364C23.0556 23.4305 23.6009 23.3587 24.0749 23.2964C24.8865 23.1896 25.489 23.1104 26.3392 23.4364C27.4062 23.8454 28.1512 25.2677 28.5762 26.339C28.8622 27.0598 28.4835 27.8365 27.747 28.0792C26.5217 28.4828 24.5272 29 22.3512 29C20.1896 29 18.2046 28.4896 16.9755 28.0872C16.2269 27.8421 15.8487 27.0476 16.1487 26.3192C16.5886 25.2514 17.339 23.8456 18.3566 23.4364ZM22.3479 22.0455C24.1883 22.0455 25.674 20.4923 25.674 18.5682C25.674 16.6441 24.1883 15.0909 22.3479 15.0909C20.5075 15.0909 19.0218 16.6441 19.0218 18.5682C19.0218 20.4923 20.5075 22.0455 22.3479 22.0455ZM18.8206 22.073C18.5306 22.1301 18.2254 22.2208 17.8926 22.3559C16.744 22.8224 15.7684 23.9405 14.9658 25.7104C14.019 25.6582 13.1087 25.4845 12.2351 25.1894C11.3979 24.9065 10.9485 23.9986 11.2313 23.1614C11.2382 23.141 11.2455 23.1207 11.2532 23.1006C11.6508 22.0638 12.1384 21.4121 12.7159 21.1455C13.3322 20.8609 13.7719 20.933 14.3427 21.0265C14.6958 21.0844 15.0991 21.1505 15.6255 21.1455C16.1892 21.1401 16.5221 21.0843 16.7703 21.0427C17.1285 20.9826 17.3104 20.9521 17.755 21.1455C18.2148 21.3454 18.5781 21.6751 18.8206 22.073ZM15.6957 20C16.9949 20 18.0436 18.9036 18.0436 17.5455C18.0436 16.1873 16.9949 15.0909 15.6957 15.0909C14.3966 15.0909 13.3479 16.1873 13.3479 17.5455C13.3479 18.9036 14.3966 20 15.6957 20Z",fill:i}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/tiles",d:"M6 9h3V6H6v3zm-.4-5h3.8A1.6 1.6 0 0111 5.6v3.8A1.6 1.6 0 019.4 11H5.6A1.6 1.6 0 014 9.4V5.6A1.6 1.6 0 015.6 4zm9 0h3.8A1.6 1.6 0 0120 5.6v3.8a1.6 1.6 0 01-1.6 1.6h-3.8A1.6 1.6 0 0113 9.4V5.6A1.6 1.6 0 0114.6 4zm-9 9h3.8a1.6 1.6 0 011.6 1.6v3.8A1.6 1.6 0 019.4 20H5.6A1.6 1.6 0 014 18.4v-3.8A1.6 1.6 0 015.6 13zm9 0h3.8a1.6 1.6 0 011.6 1.6v3.8a1.6 1.6 0 01-1.6 1.6h-3.8a1.6 1.6 0 01-1.6-1.6v-3.8a1.6 1.6 0 011.6-1.6z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/assignment",d:"M13.306 11.2l.179.358a.8.8 0 101.43-.716l-2-4A.8.8 0 0012 6.425a.8.8 0 00-.915.417l-2 4a.8.8 0 001.43.716l.18-.358h2.61zm-.8-1.6h-1.011L12 8.589l.506 1.011zM6.4 4h11.2A2.4 2.4 0 0120 6.4v11.2a2.4 2.4 0 01-2.4 2.4H6.4A2.4 2.4 0 014 17.6V6.4A2.4 2.4 0 016.4 4zm1.1 13h7a.5.5 0 100-1h-7a.5.5 0 100 1zm0-2h9a.5.5 0 100-1h-9a.5.5 0 100 1z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/hamburger",d:"M5 13a1 1 0 010-2h14a1 1 0 010 2H5zm0 4a1 1 0 010-2h14a1 1 0 010 2H5zm0-8a1 1 0 110-2h14a1 1 0 010 2H5z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/group",d:"M10.82 12.073c-.29.057-.595.148-.927.283-1.15.466-2.125 1.585-2.927 3.354a10.257 10.257 0 01-2.731-.52 1.6 1.6 0 01-.982-2.09c.398-1.036.885-1.688 1.463-1.955.997-.46 1.532.014 2.91 0 1.377-.013 1.376-.327 2.129 0 .46.2.823.53 1.066.928zm-.777-4.528C10.043 8.904 8.995 10 7.696 10c-1.3 0-2.348-1.096-2.348-2.455 0-1.358 1.049-2.454 2.348-2.454s2.347 1.096 2.347 2.454zm.314 5.891c1.39-.559 2.071.016 3.99 0 1.92-.016 2.645-.516 3.992 0 .898.344 1.624 1.226 2.18 2.645a1.6 1.6 0 01-.983 2.102c-1.633.545-3.361.817-5.185.817-1.815 0-3.536-.27-5.164-.81a1.6 1.6 0 01-.979-2.12c.574-1.41 1.29-2.288 2.149-2.634zm7.317-4.868c0 1.924-1.486 3.477-3.326 3.477s-3.326-1.553-3.326-3.477 1.485-3.477 3.326-3.477c1.84 0 3.326 1.553 3.326 3.477z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/quiz",d:"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2zm1.5 13h7a.5.5 0 100-1h-7a.5.5 0 100 1zm0-2h9a.5.5 0 100-1h-9a.5.5 0 100 1zm2.92-5.717a.8.8 0 10-1.131 1.131l2.262 2.263 3.96-3.96a.8.8 0 10-1.131-1.131l-2.829 2.828-1.13-1.131z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/profile",d:"M7.2 13.6c1.672-.643 2.492.018 4.8 0s3.18-.594 4.8 0c1.13.414 2.034 1.505 2.713 3.274a1.6 1.6 0 01-.982 2.09c-2.05.69-4.225 1.036-6.527 1.036-2.293 0-4.461-.342-6.506-1.027a1.6 1.6 0 01-.977-2.113c.705-1.758 1.598-2.844 2.679-3.26zM16 8c0 2.213-1.787 4-4 4s-4-1.787-4-4 1.787-4 4-4 4 1.787 4 4z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/logout",d:"M7.56 4.909a.8.8 0 011.167.71v.913a.8.8 0 01-.358.667 7.61 7.61 0 00-.865.642c-1.262 1.142-2.05 2.758-2.05 4.55 0 3.458 2.931 6.261 6.546 6.261s6.545-2.803 6.545-6.26c0-1.777-.773-3.38-2.015-4.52a7.666 7.666 0 00-.9-.672.8.8 0 01-.357-.667v-.91a.8.8 0 011.166-.711c.183.094.338.18.465.26C19.37 6.707 21 9.367 21 12.392 21 17.145 16.97 21 12 21s-9-3.854-9-8.609c0-3.062 1.671-5.75 4.189-7.276a6.26 6.26 0 01.372-.206zM12 3a1 1 0 011 1v9.74a1 1 0 11-2 0V4a1 1 0 011-1z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/emoji",d:"M18.374 5.216c.752.713 1.084 2.28 1.206 3.892.063.744.096 1.587.096 2.537 0 3.38-.399 5.444-1.217 6.308-.034.035-.173.175-.209.208-.65.616-1.842.994-3.903 1.143L12.06 21l-2.318-1.668c-2.315-.126-3.42-.512-4.118-1.17-.751-.713-1.084-2.281-1.205-3.892a30.145 30.145 0 01-.096-2.537c0-3.38.399-5.444 1.217-6.309.034-.035.069-.069.106-.102.033-.037.067-.072.102-.106C6.614 4.398 8.68 4 12.061 4c3.383 0 5.448.398 6.313 1.216zM8.5 10.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm7 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm-7.187 3.227C9.221 14.585 10.467 15 12 15s2.78-.415 3.687-1.273a1 1 0 00-1.374-1.454C13.81 12.75 13.056 13 12 13c-1.056 0-1.81-.251-2.313-.727a1 1 0 00-1.374 1.454z"}))}},function(e,t,a){"use strict";a.r(t),a.d(t,"quizFetchSuccess",(function(){return p})),a.d(t,"quizzesFetchSuccess",(function(){return m})),a.d(t,"quizFetchFailure",(function(){return g})),a.d(t,"updateQuizStatus",(function(){return f})),a.d(t,"mergeUserAnswer",(function(){return b})),a.d(t,"userAnswerUpdateFailure",(function(){return E})),a.d(t,"quizContentsCreateSuccess",(function(){return y})),a.d(t,"quizContentsFetchSuccess",(function(){return S})),a.d(t,"quizContentsUpdateSuccess",(function(){return v})),a.d(t,"quizContentsUpdateOptimistic",(function(){return C})),a.d(t,"quizUpdateSuccess",(function(){return A})),a.d(t,"quizContentsFetchFailure",(function(){return I})),a.d(t,"quizQuestionCreateSuccess",(function(){return T})),a.d(t,"quizQuestionInsertSuccess",(function(){return k})),a.d(t,"quizQuestionUpdate",(function(){return O})),a.d(t,"quizQuestionUpdateSuccess",(function(){return _})),a.d(t,"quizQuestionMoveAfter",(function(){return M})),a.d(t,"quizQuestionDelete",(function(){return N})),a.d(t,"quizQuestionHide",(function(){return w})),a.d(t,"addQuizQuestion",(function(){return P})),a.d(t,"quizQuestionDeleteSuccess",(function(){return R})),a.d(t,"beginQuizContentsUpdate",(function(){return x})),a.d(t,"clearQuizContents",(function(){return L})),a.d(t,"fetchBegin",(function(){return D})),a.d(t,"setQuestionValid",(function(){return F})),a.d(t,"toggleQuizEditErrors",(function(){return U})),a.d(t,"gradingSubmissionsSort",(function(){return B})),a.d(t,"reset",(function(){return G})),a.d(t,"editNetworkError",(function(){return j})),a.d(t,"quizQuestionsFetchSuccess",(function(){return z})),a.d(t,"quizQuestionsReset",(function(){return q})),a.d(t,"showQuizAssignedModal",(function(){return H})),a.d(t,"hideQuizAssignedModal",(function(){return V})),a.d(t,"fetchQuizQuestions",(function(){return W})),a.d(t,"addQuestionToQuestionBank",(function(){return Q})),a.d(t,"hideQuestionFromQuestionBank",(function(){return Y})),a.d(t,"fetchQuizContents",(function(){return K})),a.d(t,"fetchQuiz",(function(){return J})),a.d(t,"updateQuiz",(function(){return Z})),a.d(t,"fetchQuizzes",(function(){return X})),a.d(t,"toggleLoadQuizModal",(function(){return $})),a.d(t,"editQuizFetchContents",(function(){return ee})),a.d(t,"createQuizContents",(function(){return te})),a.d(t,"deleteQuizContents",(function(){return ae})),a.d(t,"copyQuizContents",(function(){return ne})),a.d(t,"createQuizContentsQuestions",(function(){return re})),a.d(t,"updateOrCreateUserAnswer",(function(){return se})),a.d(t,"updateQuizContents",(function(){return ie})),a.d(t,"createQuestion",(function(){return oe})),a.d(t,"insertQuestion",(function(){return le})),a.d(t,"moveQuestion",(function(){return ce})),a.d(t,"updateQuestion",(function(){return de})),a.d(t,"duplicateQuestion",(function(){return ue})),a.d(t,"reorderQuestions",(function(){return he})),a.d(t,"deleteQuestion",(function(){return pe}));var n=a(15),r=a(1480),s=a(1466),i=a(435),o=a(63),l=a(36),c=a(29),d=a(1216),u=a(1232),h=a(1324);const p=e=>({type:c.a.Actions.QUIZ_FETCH_SUCCESS,payload:e}),m=e=>({type:c.a.Actions.QUIZZES_FETCH_SUCCESS,payload:e}),g=e=>({type:c.a.Actions.QUIZ_FETCH_FAILURE,payload:e}),f=(e,t)=>({type:c.a.Actions.QUIZ_UPDATE_STATUS,payload:{id:e,status:t}}),b=e=>({type:c.a.Actions.QUIZ_USER_ANSWER_MERGE,payload:e}),E=e=>({type:c.a.Actions.QUIZ_USER_ANSWER_UPDATE_FAILURE,payload:e}),y=e=>({type:c.a.Actions.QUIZ_CONTENTS_CREATE_SUCCESS,payload:e}),S=e=>({type:c.a.Actions.QUIZ_CONTENTS_FETCH_SUCCESS,payload:e}),v=e=>({type:c.a.Actions.QUIZ_CONTENTS_UPDATE_SUCCESS,payload:e}),C=e=>({type:c.a.Actions.QUIZ_CONTENTS_UPDATE_OPTIMISTIC,payload:e}),A=e=>({type:c.a.Actions.QUIZ_UPDATE_SUCCESS,payload:e}),I=e=>({type:c.a.Actions.QUIZ_CONTENTS_FETCH_FAILURE,payload:e}),T=(e,t)=>({type:c.a.Actions.QUIZ_QUESTION_CREATE_SUCCESS,payload:{quiz_contents_id:e,data:t}}),k=(e,t,a)=>({type:c.a.Actions.QUIZ_QUESTION_INSERT_SUCCESS,payload:{quiz_contents_id:e,quiz_question_id:t,data:a}}),O=(e,t,a)=>({type:c.a.Actions.QUIZ_QUESTION_UPDATE,payload:{quiz_contents_id:e,quiz_question_id:t,quiz_question:a}}),_=e=>({type:c.a.Actions.QUIZ_QUESTION_UPDATE_SUCCESS,payload:e}),M=(e,t,a)=>({type:c.a.Actions.QUIZ_QUESTION_MOVE_AFTER,payload:{quiz_contents_id:e,insert_after_quiz_question_id:t,quiz_question_id:a}}),N=(e,t)=>({type:c.a.Actions.QUIZ_QUESTION_DELETE,payload:{quiz_contents_id:e,quiz_question_id:t}}),w=e=>({type:c.a.Actions.QUIZ_QUESTION_HIDE,payload:e}),P=e=>({type:c.a.Actions.ADD_QUIZ_QUESTION,payload:e}),R=e=>({type:c.a.Actions.QUIZ_QUESTION_DELETE_SUCCESS,payload:e}),x=()=>({type:c.a.Actions.BEGIN_QUIZ_CONTENTS_UPDATE}),L=e=>({type:c.a.Actions.QUIZ_CONTENTS_CLEAR,payload:{id:e}}),D=()=>({type:c.a.Actions.QUIZ_FETCH_REQUEST}),F=(e,t,a)=>({type:c.a.Actions.QUIZ_QUESTION_SET_VALIDITY,payload:{quiz_contents_id:e,quiz_question_id:t,isValid:a}}),U=e=>({type:c.a.Actions.QUIZ_EDIT_TOGGLE_ERRORS,payload:{showErrors:e}}),B=(e,t)=>({type:c.a.Actions.GRADING_SUBMISSIONS_SORT,payload:{sort_by:e,sort_dir:t}}),G=()=>({type:c.a.Actions.QUIZ_RESET}),j=e=>({type:c.a.Actions.QUIZ_EDIT_NETWORK_ERROR,payload:e}),z=e=>({type:c.a.Actions.QUIZ_QUESTIONS_FETCH_SUCCESS,payload:e}),q=()=>({type:c.a.Actions.QUIZ_QUESTIONS_RESET}),H=(e,t)=>({type:c.a.Actions.QUIZ_ASSIGNED_MODAL_SHOW,payload:{quiz:Object(n.a)({newQuizExperience:t},e)}}),V=()=>({type:c.a.Actions.QUIZ_ASSIGNED_MODAL_HIDE}),W=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken,c=Object.assign(d.a.defaultQuestionBankParams(),e);return s.i(r,i,c).then(e=>(t(z(e.data)),e)).catch(e=>{l.a.notifyBugsnag(e,"QuizzesActionCreator.fetchQuizQuestions")})},Q=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken;t(P(e)),s.m(r,i,e.get("id"),{hidden:!1}).then(e=>e).catch(e=>{l.a.notifyBugsnag(e,"QuizOverviewActions.hideQuestionFromQuestionBank")})},Y=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken;t(w(e)),s.m(r,i,e,{hidden:!0}).then(e=>e).catch(e=>{l.a.notifyBugsnag(e,"QuizOverviewActions.hideQuestionFromQuestionBank")})},K=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken;return s.h(r,i,e).then(e=>(t(S(e.data)),e.data)).catch(e=>{t(I(e.message)),l.a.notifyBugsnag(e,"QuizOverviewActions.fetchQuizContents")})},J=(e,t={})=>function(a,n){const r=o.a(n),i=r.configInfo,c=r.accessToken;return s.g(i,c,e,t).then(e=>(a(p(e.data)),e)).catch(e=>{a(g(e)),l.a.notifyBugsnag(e,"QuizOverviewActions.fetchQuiz")})},Z=(e,t)=>function(a,n){const r=o.a(n),i=r.configInfo,c=r.accessToken;s.k(i,c,t,e).then(e=>{a(A(e.data))}).catch(e=>(l.a.notifyBugsnag(e,"QuizOverviewActions.updateQuiz"),Promise.reject(e)))},X=e=>function(t,a){const n=Object.assign(d.a.defaultListParams(),e);return i.f(n).then(e=>(t(m(e.data)),e)).catch(e=>{l.a.notifyBugsnag(e,"QuizzesActionCreator.fetchQuizzes")})},$=()=>function(e,t){e({type:c.a.Actions.TOGGLE_LOAD_QUIZ_MODAL,payload:!u.i(t())})},ee=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken;s.h(r,i,e).then(e=>{t(S(e.data))}).catch(e=>{t(I(e.message)),l.a.notifyBugsnag(e,"QuizOverviewActions.editQuizFetchContents")})},te=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken;return s.d(r,i,e).then(e=>(t(y(e.data)),Promise.resolve(e.data))).catch(e=>(l.a.notifyBugsnag(e,"QuizOverviewActions.createQuizContents"),Promise.reject(e)))},ae=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken;return s.a(r,i,e).then(e=>Promise.resolve(e.data)).catch(e=>Promise.reject(e))},ne=(e,t)=>function(a){const n={clone_item_id:0,resource_id:e,type:"quiz_content",description:t,permissions:"private"};return i.b(0,n).then(e=>Promise.resolve(e.data)).catch(e=>Promise.reject(e))},re=e=>function(t,a){const n=o.a(a),r=n.configInfo,i=n.accessToken;return e.time_limit=c.a.Defaults.TIME_LIMIT,s.d(r,i,e).then(a=>{t(h.trackQuizCreate({from:e.source}));const n=a.data.id,o={quiz_contents_id:n,question_type:"multi_choice"};return s.e(r,i,{quiz_question:o}).then(()=>Promise.resolve(n)).catch(e=>Promise.reject(e))}).catch(e=>Promise.reject(e))},se=(e,t,a)=>function(s,i){const l=o.a(i),c=l.configInfo,d=l.accessToken,u=Object(n.a)({quiz_id:e,quiz_question_id:t},a);return r.a(c,d,u).then(e=>(s(b(u)),Promise.resolve(e))).catch(e=>(s(E("quiz-update")),Promise.reject(e)))},ie=(e,t)=>function(a,n){const r=o.a(n),i=r.configInfo,c=r.accessToken;a(x()),a(C({id:e,data:t})),s.l(i,c,e,t).then(e=>{a(v(e.data))}).catch(e=>{l.a.notifyBugsnag(e,"QuizOverviewActions.updateQuizContents"),a(j(e))})},oe=(e,t)=>function(a,r){const i=o.a(r),c=i.configInfo,d=i.accessToken,u=Object(n.a)({quiz_contents_id:e},t);a(x()),s.e(c,d,{quiz_question:u}).then(t=>{a(T(e,t.data))}).catch(e=>{l.a.notifyBugsnag(e,"QuizOverviewActions.createQuestion"),a(j(e))})},le=(e,t,a)=>function(r,i){const c=o.a(i),d=c.configInfo,u=c.accessToken,h=Object(n.a)({quiz_contents_id:e},a);return r(x()),s.e(d,u,{quiz_question:h}).then(a=>(r(k(e,t,a.data)),r(he(e)),Promise.resolve(a.data))).catch(e=>(l.a.notifyBugsnag(e,"QuizOverviewActions.insertQuestion"),r(j(e)),Promise.reject(e)))},ce=(e,t,a)=>function(n,r){n(M(e,t,a)),n(he(e))},de=(e,t,a)=>function(r,i){const c=o.a(i),d=c.configInfo,u=c.accessToken,h=Object(n.a)({},a);r(x()),r(O(e,t,h)),s.m(d,u,t,{quiz_question:h}).then(e=>{r(_(e.data))}).catch(e=>{l.a.notifyBugsnag(e,"QuizOverviewActions.updateQuestion"),r(j(e))})},ue=(e,t)=>function(a,r){const i=o.a(r),c=i.configInfo,d=i.accessToken,h=u.c(r(),e).get("simplified_questions").find(e=>e.get("id")===t),p=Object(n.a)({quiz_contents_id:e},h.toJS(),{id:void 0,position:void 0});return a(x()),s.e(c,d,{quiz_question:p}).then(n=>(a(k(e,t,n.data)),a(he(e)),Promise.resolve(n.data))).catch(e=>(l.a.notifyBugsnag(e,"QuizOverviewActions.duplicateQuestion"),a(j(e)),Promise.reject(e)))},he=e=>function(t,a){const n=u.c(a(),e).get("simplified_questions"),r=[];if(n&&0!==n.size){for(let e=0;e<n.size;e++){const t=n.get(e);t&&r.push(t.get("id"))}t(ie(e,{quiz_content:{question_ids:r}}))}},pe=(e,t)=>function(a,n){const r=o.a(n),i=r.configInfo,c=r.accessToken;return a(x()),a(N(e,t)),s.f(i,c,t).then(e=>{a(R(e.data))}).catch(e=>(l.a.notifyBugsnag(e,"QuizOverviewActions.deleteQuestion"),a(j(e)),Promise.reject(e)))}},,function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"teacherBadgesLeftNavClick",(function(){return s})),a.d(t,"LeftNavOneDriveClick",(function(){return i})),a.d(t,"LeftNavLibraryClick",(function(){return o})),a.d(t,"LeftNavGoogleDriveClick",(function(){return l})),a.d(t,"libraryNewFileAdd",(function(){return c})),a.d(t,"libraryNewFolderAdd",(function(){return d})),a.d(t,"libraryNewBadgeAdd",(function(){return u})),a.d(t,"libraryNewLinkAdd",(function(){return h})),a.d(t,"libraryNewdocx",(function(){return p})),a.d(t,"libraryNewxlsx",(function(){return m})),a.d(t,"libraryNewpptx",(function(){return g})),a.d(t,"librarySearch",(function(){return f})),a.d(t,"updateLibraryItem",(function(){return b})),a.d(t,"libraryItemMoveToDone",(function(){return E})),a.d(t,"libraryItemCopyToDone",(function(){return y})),a.d(t,"libraryItemDeleteConfirm",(function(){return S})),a.d(t,"libraryItemShareFolderDone",(function(){return v})),a.d(t,"libraryItemAttachToConfirm",(function(){return C})),a.d(t,"connectToOneDrive",(function(){return A})),a.d(t,"connectToGoogleDrive",(function(){return I})),a.d(t,"awardBadgeSubmit",(function(){return T})),a.d(t,"downloadItemLinkClick",(function(){return k})),a.d(t,"libraryCreateQuizClick",(function(){return O})),a.d(t,"openLibraryItemInOffice",(function(){return _})),a.d(t,"isResourceShareable",(function(){return M})),a.d(t,"LeftNavClick",(function(){return N})),a.d(t,"libraryNewFromMS",(function(){return w})),a.d(t,"connectToDrive",(function(){return P}));var n=a(111),r=a(366);const s=()=>({type:n.a.TRACK_LIBRARY_PAGE_TEACHER_BADGES_NAV_CLICK}),i=()=>({type:n.a.TRACK_LIBRARY_PAGE_ONE_DRIVE_NAV_CLICK}),o=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NAV_CLICK}),l=()=>({type:n.a.TRACK_LIBRARY_PAGE_GOOGLE_DRIVE_NAV_CLICK}),c=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NEW_FILE_ADD}),d=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NEW_FOLDER_ADD}),u=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NEW_BADGE_ADD}),h=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NEW_LINK_ADD}),p=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NEW_DOCX_ADD}),m=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NEW_XLSX_ADD}),g=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_NEW_PPTX_ADD}),f=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_SEARCH}),b=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_ITEM_EDIT}),E=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_ITEM_MOVE_TO}),y=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_ITEM_COPY_TO}),S=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_ITEM_DELETE_CONFIRM}),v=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_ITEM_SHARE_DONE}),C=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_ITEM_ATTACH_TO_CONFIRM}),A=()=>({type:n.a.TRACK_LIBRARY_PAGE_CONNECT_TO_ONE_DRIVE}),I=()=>({type:n.a.TRACK_LIBRARY_PAGE_CONNECT_TO_GOOGLE_DRIVE}),T=()=>({type:n.a.TRACK_LIBRARY_PAGE_TEACHER_BADGES_SUBMIT}),k=()=>({type:n.a.TRACK_LIBRARY_PAGE_DOWNLOAD_LINK_CLICK}),O=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_CREATE_QUIZ_CLICK}),_=()=>({type:n.a.TRACK_LIBRARY_PAGE_LIBRARY_OPEN_ITEM_IN_OFFICE}),M=e=>({type:n.a.TRACK_LIBRARY_PAGE_IS_RESOURCE_SHAREABLE,payload:e}),N=e=>function(t,a){switch(e){case r.a.ONE_DRIVE:return t(i());case r.a.LIBRARY:return t(o());case r.a.GOOGLE_DRIVE:return t(l());default:return null}},w=e=>function(t,a){switch(e){case r.a.FILE_EXTENSION_DOCX_DOT:return t(p());case r.a.FILE_EXTENSION_XLSX_DOT:return t(m());case r.a.FILE_EXTENSION_PPTX_DOT:return t(g());default:return null}},P=e=>function(t,a){switch(e){case r.a.OFFICE_365_PROVIDER_NAME:return t(A());case r.a.GOOGLE_PROVIDER_NAME:return t(I());default:return null}}},,,,function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/radioOff",d:"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"}))}},function(e,t,a){var n,r,s,i,o,l,c,d={}.hasOwnProperty;r=a(4),n=a(2),l=a(1539),o=a(1540),c=a(1328),i=a(538),s=a(1541),e.exports=function(e){function t(e){var a,n;this.handleOnLoad=(a=this.handleOnLoad,n=this,function(){return a.apply(n,arguments)}),t.__super__.constructor.call(this,e),this.state=this.wrangleProps()}return function(e,t){for(var a in t)d.call(t,a)&&(e[a]=t[a]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.propTypes={src:n.oneOfType([n.string,n.array]).isRequired,checkIfRetinaImgExists:n.bool,forceOriginalDimensions:n.bool,retinaImageSuffix:n.string,handleOnLoad:n.func,onLoad:n.func,onError:n.func},t.defaultProps={checkIfRetinaImgExists:!0,forceOriginalDimensions:!0,retinaImageSuffix:"@2x",onError:function(){}},t.prototype.componentWillReceiveProps=function(e){if(!0,!(Array.isArray(this.props.src)&&Array.isArray(e.src)?s(this.props.src,e.src):this.props.src===e.src))return this.setState(i(this.wrangleProps(e),{width:null,height:null,imgLoaded:null,retinaImgExists:null,retinaCheckComplete:null}))},t.prototype.componentDidMount=function(){return this.checkForRetina(),this.checkLoaded()},t.prototype.componentDidUpdate=function(){return this.checkForRetina()},t.prototype.render=function(){var e;return delete(e=i({},this.props)).src,delete e.checkIfRetinaImgExists,delete e.forceOriginalDimensions,delete e.retinaImageSuffix,delete e.handleOnLoad,delete e.onLoad,delete e.onError,e.src=this.state.src,e.onLoad=this.handleOnLoad,e.onError=this.props.onError,this.state.width>=0&&(e.width=this.state.width),this.state.height>=0&&(e.height=this.state.height),r.createElement("img",Object.assign({},e,{ref:"img"}))},t.prototype.wrangleProps=function(e){return null==e&&(e=this.props),Array.isArray(e.src)?{src:e.src[0],srcIsArray:!0}:{src:e.src,srcIsArray:!1}},t.prototype.checkForRetina=function(){var e;if(!this.state.retinaCheckComplete)return l()&&this.props.checkIfRetinaImgExists?o(this.getRetinaPath(),(e=this,function(t){var a;return t&&(null!=(a=e.state)?a.imgLoaded:void 0)?e.setState({src:e.getRetinaPath()}):t&&e.setState({retinaImgExists:!0}),e.setState({retinaCheckComplete:!0})})):l()&&!this.props.checkIfRetinaImgExists?(this.setState({src:this.getRetinaPath()}),this.setState({retinaCheckComplete:!0})):void 0},t.prototype.checkLoaded=function(){var e;return!!(e=this.refs.img).complete&&(0!==e.naturalWidth&&this.handleOnLoad())},t.prototype.handleOnLoad=function(e){var t;if(null!=this.props.onLoad&&this.props.onLoad(e),null!=this.props.handleOnLoad&&this.props.handleOnLoad(e),this.props.forceOriginalDimensions&&this.setState({width:this.refs.img.clientWidth,height:this.refs.img.clientHeight}),this.setState({imgLoaded:!0}),(null!=(t=this.state)?t.retinaImgExists:void 0)||!this.props.checkIfRetinaImgExists)return this.setState({src:this.getRetinaPath()})},t.prototype.getRetinaPath=function(){var e;return this.state.srcIsArray?this.props.src[1]:(e=(e=c.basename(this.props.src,c.extname(this.props.src)))+this.props.retinaImageSuffix+c.extname(this.props.src),this.props.src.replace(c.basename(this.props.src),e))},t}(r.Component)},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/radioOn",d:"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18zm0-4a5 5 0 100-10 5 5 0 000 10z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/checkboxOff",d:"M6 7v10a1 1 0 001 1h10a1 1 0 001-1V7a1 1 0 00-1-1H7a1 1 0 00-1 1zm0-3h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/checkboxOn",d:"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2zm9.815 4.271l-5.702 5.357-1.928-1.811a1 1 0 10-1.37 1.457l3.298 3.098 7.072-6.643a1 1 0 00-1.37-1.458z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/link",d:"M10.94 5.927a1.167 1.167 0 01.34-.826 4.7 4.7 0 016.647 0l.778.778a5.027 5.027 0 010 7.11l-1.641 1.64a5.027 5.027 0 01-7.11 0l-.273-.274a1.16 1.16 0 011.64-1.64l.274.273a2.707 2.707 0 003.828 0l1.641-1.64a2.707 2.707 0 000-3.829l-.778-.778a2.381 2.381 0 00-2.909-.358 4.708 4.708 0 00-2.438-.456zm2.404 11.935a1.167 1.167 0 01-.34.826 4.7 4.7 0 01-6.647 0l-.778-.778a5.027 5.027 0 010-7.11l1.64-1.64a5.027 5.027 0 017.11 0l.274.273a1.16 1.16 0 11-1.64 1.641l-.274-.273a2.707 2.707 0 00-3.828 0L7.22 12.44a2.707 2.707 0 000 3.829l.778.778a2.381 2.381 0 002.909.358 4.708 4.708 0 002.437.456z"}))}},function(e,t){var a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return a.test(e)}},function(e,t,a){"use strict";a.r(t),a.d(t,"fetchCurrentUserGroupsFetchFailure",(function(){return m})),a.d(t,"bellNotificationGroupInviteAcceptanceSuccessAction",(function(){return g})),a.d(t,"bellNotificationGroupInviteDismissalSuccessAction",(function(){return f})),a.d(t,"batchInvitesSuccess",(function(){return b})),a.d(t,"groupInvitationsCreatedCleanResult",(function(){return E})),a.d(t,"createGroupInvitation",(function(){return y})),a.d(t,"acceptGroupInvitation",(function(){return S})),a.d(t,"declineGroupInvitation",(function(){return v})),a.d(t,"batchInvites",(function(){return C}));var n=a(441),r=a(126),s=a(13),i=a(18),o=a(25);const l=(e,t)=>o.a.get(i.a.GROUP_INVITATIONS,{params:{[s.a.GROUP_ID]:t,[s.a.USER_ID]:e}});var c=a(239),d=a(36),u=a(521),h=a(511),p=a(45);const m=e=>({type:n.a.CREATE_GROUP_INVITATION_FAILURE,payload:e}),g=e=>({type:r.a.BELL_NOTIFICATION_GROUP_INVITE_ACCEPTANCE_SUCCESS,payload:e}),f=e=>({type:r.a.BELL_NOTIFICATION_GROUP_INVITE_DISMISSAL_SUCCESS,payload:e}),b=e=>({type:n.a.BATCH_CREATE_GROUP_INVITATION_SUCCESS,payload:e}),E=e=>({type:n.a.GROUP_INVITATIONS_CREATED_CLEAN_RESULT,payload:e}),y=(e,t,a)=>function(e,n){return(r=t,o.a.post(i.a.GROUP_INVITATIONS,r)).then(e=>{a&&a()}).catch(e=>{console.log(e)});var r},S=(e,t,a=null)=>function(n,r){return l(e,t).then(e=>e.data[0].id).then(e=>{((e,t)=>{o.a.put("".concat(i.a.GROUP_INVITATIONS,"/").concat(e),t)})(e,{accept:!0})}).then(e=>{Object(p.a)("group invite accepted"),a&&n(g(a))}).catch(e=>{Object(p.a)("accept group invite failure",e),d.a.notifyBugsnag(e,"GroupInvitationsActionCreator.acceptGroupInvitation")})},v=(e,t,a=null)=>function(n,r){return l(e,t).then(e=>e.data[0].id).then(e=>{(e=>{o.a.delete("".concat(i.a.GROUP_INVITATIONS,"/").concat(e))})(e)}).then(e=>{Object(p.a)("group invite declined"),a&&n(f(a))}).catch(e=>{Object(p.a)("decline group invite failure",e),d.a.notifyBugsnag(e,"GroupInvitationsActionCreator.declineGroupInvitation")})},C=(e,t)=>function(t,a){const n=[];for(;e.requests.length>0;)n.push(c.a({requests:e.requests.splice(0,10)}));return Promise.all(n).then(e=>{let a=[],n=[],r=0,s=0;e.forEach(e=>{e.data.responses.forEach(e=>{const i=JSON.parse(e.body),o=400===e.status&&i.errors[0]&&i.errors[0].indexOf("invitation already exists");(201===e.status||o)&&a.push([++r,i]),e.accepted_at&&(n.psuh([++s,i]),t(u.setWaitForBatchStudentsCreation(!0)))})}),s>0&&(t(h.usersCreatedSuccess(n)),t(u.setWaitForBatchStudentsCreation(!1))),t(b(a)),t(u.setWaitForBatchInvites(!1))}).catch(e=>{e&&e.response&&404===e.response.status&&Object(p.a)(e),d.a.notifyBugsnag(e,"GrroupInvitationsActionCreator.batchInvites")})}},,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/share",d:"M12.877 15.534c-2.675.12-4.963.656-7.37 3.076-.192.194-.506.112-.506-.144 0-4.672 1.902-9.51 7.876-10.543V5.786c.006-.84.51-1.034 1.112-.45l6.112 5.942a.8.8 0 010 1.147l-6.214 6.041c-.612.596-1.016.6-1.01-.244v-2.688z"}))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(1199),o=a(134),l=a(534),c=a(1267),d=a(297),u=a(1562),h=a(383),p=a(522),m=a(10),g=a(145);var f=class{static generateContextFromLocation(e){return e?e.pathname===m.a.HOME_PAGE?g.a.HOME_PAGE_CONTEXT:void 0:""}};t.a=e=>t=>{class a extends n.Component{constructor(e){super(e),this.trackingContext=this.trackingContext.bind(this)}componentDidMount(){e&&this.props.trackingActions.trackEvent(e.eventType,e.properties,this.props.context)}trackingContext(){return f.generateContextFromLocation(this.props.location)}render(){return r.a.createElement(t,Object.assign({},this.props,{trackingContext:this.trackingContext}))}}return Object(i.a)(Object(s.connect)((function(e,t){return{}}),(function(e){return{groupPageTrackingActions:Object(o.bindActionCreators)(l,e),homePageTrackingActions:Object(o.bindActionCreators)(c,e),schoolDistrictPageTrackingActions:Object(o.bindActionCreators)(d,e),searchPageTrackingActions:Object(o.bindActionCreators)(u,e),trackingActions:Object(o.bindActionCreators)(h,e),profilePageTrackingActions:Object(o.bindActionCreators)(p,e)}}))(a))}},function(e,t,a){"use strict";a.r(t),a.d(t,"storeNewPageDestinationAction",(function(){return r}));var n=a(537);const r=e=>({type:n.a.STORE_NEW_DESTINATION,payload:e})},,,,function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)a.call(n,r)&&(e[r]=n[r])}return e};var a=Object.prototype.hasOwnProperty},function(e,t,a){"use strict";a.d(t,"k",(function(){return o})),a.d(t,"r",(function(){return l})),a.d(t,"p",(function(){return c})),a.d(t,"j",(function(){return d})),a.d(t,"q",(function(){return u})),a.d(t,"v",(function(){return m})),a.d(t,"w",(function(){return g})),a.d(t,"o",(function(){return f})),a.d(t,"n",(function(){return b})),a.d(t,"a",(function(){return E})),a.d(t,"d",(function(){return y})),a.d(t,"f",(function(){return S})),a.d(t,"e",(function(){return v})),a.d(t,"g",(function(){return C})),a.d(t,"i",(function(){return A})),a.d(t,"h",(function(){return I})),a.d(t,"x",(function(){return T})),a.d(t,"t",(function(){return k})),a.d(t,"u",(function(){return O})),a.d(t,"y",(function(){return _})),a.d(t,"c",(function(){return M})),a.d(t,"b",(function(){return w})),a.d(t,"m",(function(){return P})),a.d(t,"l",(function(){return R})),a.d(t,"s",(function(){return x}));var n=a(9),r=a(28),s=a(136),i=a(1);const o=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.EXISTING_LIBRARY_ITEMS)),l=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.NEW_LIBRARY_ITEMS)),c=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SEARCHED_LIBRARY_ITEMS)),d=Object(n.createSelector)([o],e=>e&&e.valueSeq().map(e=>parseInt(s.a.getLibraryItemGroupFolderId(e),10))),u=(Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_GROUP_FOLDER_IDS)),Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_GROUP_FOLDER_IDS_IN_GROUPS))),h=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_LIBRARY_FOLDER_CONTENTS)),p=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_GROUP_LIBRARY_FOLDER_CONTENTS)),m=Object(n.createSelector)([o],e=>s.a.sortContentsByModifiedDate(e)),g=(Object(n.createSelector)([o],e=>s.a.sortContentsByModifiedDate(e)),Object(n.createSelector)([o],e=>s.a.sortContentsByName(e))),f=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_LIBRARY_FOLDER_BREADCRUMBS)),b=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_GROUP_LIBRARY_FOLDER_BREADCRUMBS)),E=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.AVAILABLE_MOVE_TO_FOLDERS)),y=(Object(n.createSelector)([E],e=>e&&e.filter(e=>0===s.a.getParentId(e))),Object(n.createSelector)([E,r.bb],(e,t)=>{const a=t&&t.get(i.a.MOVE_TO_PARENT_FOLDER_ID);return e&&e.toArray().filter(e=>parseInt(s.a.getParentId(e),10)===parseInt(a,10))}),Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_LIBRARY_FOLDER_ID))),S=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_GROUP_LIBRARY_FOLDER_ID)),v=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_LIBRARY_FOLDER_NAME)),C=Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_GROUP_LIBRARY_FOLDER_NAME)),A=(Object(n.createSelector)([o,y],(e,t)=>{const a=parseInt(t,10);return a&&e&&parseInt(s.a.getLibraryItemGroupFolderId(e.get(a)),10)}),Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SHOW_SHARE_SUCCESS_MODAL)),Object(n.createSelector)([h,y],(e,t)=>t&&e&&e.get(t.toString()))),I=Object(n.createSelector)([p,S],(e,t)=>t&&e&&e.get(t.toString())),T=Object(n.createSelector)([A],e=>s.a.sortContentsByModifiedDate(e)),k=Object(n.createSelector)([I],e=>s.a.sortContentsByModifiedDate(e)),O=Object(n.createSelector)([I],e=>s.a.sortContentsByName(e)),_=Object(n.createSelector)([A],e=>s.a.sortContentsByName(e)),M=(Object(n.createSelector)([r.bb],e=>e&&e.get(i.a.SELECTED_LIBRARY_FOLDER_ID)),Object(n.createSelector)([r.bb,(e,t)=>t&&t.name],(e,t)=>e&&e.getIn([i.a.SELECTED_ATTACHMENT_LIST,t]))),N=Object(n.createSelector)([M],e=>e&&e.filter(e=>e)),w=Object(n.createSelector)([o,N,A,c],(e,t,a,n)=>{const r=t&&t.keySeq().toArray();return r&&r.map(t=>a?a&&a.get(t):n?n&&n.get(t):e&&e.get(t))}),P=Object(n.createSelector)([r.bb],e=>e&&!!e.get(i.a.END_OF_LIBRARY_ITEMS_REACHED)),R=Object(n.createSelector)([r.bb],e=>e&&!!e.get(i.a.END_OF_GROUP_LIBRARY_ITEMS_REACHED)),x=(Object(n.createSelector)([r.bb],e=>e.get(i.a.AWARDED_BADGES)),Object(n.createSelector)([r.bb],e=>e.get(i.a.SHARED_GROUPS_OF_RESOURCE)))},function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"g",(function(){return h})),a.d(t,"a",(function(){return p}));var n=a(9),r=a(28),s=a(1);const i=(e,t)=>t&&t.name,o=Object(n.createSelector)([r.wb,i],(e,t)=>e&&e.getIn([s.a.S3_UPLOAD_PARAMS,t])),l=Object(n.createSelector)([r.wb,i],(e,t)=>e&&e.getIn([s.a.BLOCKED_FILE_TYPES,t])),c=Object(n.createSelector)([r.wb,i],(e,t)=>e&&e.getIn([s.a.BLOCKED_FILE_SIZES,t])),d=Object(n.createSelector)([r.wb,i],(e,t)=>e&&e.getIn([s.a.FILE_UPLOAD_PROGRESS,t])),u=Object(n.createSelector)([r.wb,i],(e,t)=>e&&e.getIn([s.a.FILE_UPLOAD_BEGIN,t])),h=Object(n.createSelector)([r.wb],e=>e&&e.get(s.a.UPLOADED_S3_FILE_INFO)),p=Object(n.createSelector)([r.wb],e=>e&&e.get(s.a.FILE_UPLOAD_STATUS))},,function(e,t,a){"use strict";a.r(t),a.d(t,"getFileByIdSuccessAction",(function(){return u})),a.d(t,"getFileByIdFailureAction",(function(){return h})),a.d(t,"getFilesSuccessAction",(function(){return p})),a.d(t,"getFilesFailureAction",(function(){return m})),a.d(t,"getFilesCompletedAction",(function(){return g})),a.d(t,"resetFilesFailureAction",(function(){return f})),a.d(t,"translateSuccessAction",(function(){return b})),a.d(t,"translateFailureAction",(function(){return E})),a.d(t,"toggleIsTranslationDisplayedAction",(function(){return y})),a.d(t,"getFiles",(function(){return S})),a.d(t,"getFileById",(function(){return v})),a.d(t,"resetFilesFailure",(function(){return C})),a.d(t,"dynamicTranslate",(function(){return A})),a.d(t,"toggleIsTranslationDisplayedById",(function(){return I}));var n=a(135),r=a.n(n),s=a(118),i=a(144),o=a.n(i),l=a(183);const c={Accept:"application/json","Content-Type":"application/json"};var d=a(7);const u=e=>({type:l.a.GET_FILE_SUCCESS,payload:e}),h=e=>({type:l.a.GET_FILE_FAILURE,payload:e}),p=e=>({type:l.a.GET_FILES_SUCCESS,payload:e}),m=e=>({type:l.a.GET_FILES_FAILURE,payload:e}),g=()=>({type:d.a.COMPLETED_GD_FILES_REQUEST,payload:""}),f=()=>({type:l.a.RESET_FILE_FAILURE,payload:{}}),b=(e,t,a)=>({type:l.a.TRANSLATE_SUCCESS,payload:{uid:e,isTranslationDisplayed:t,data:a}}),E=e=>({type:l.a.TRANSLATE_FAILURE,payload:e}),y=(e,t)=>({type:l.a.TRANSLATE_TOGGLE,payload:{uid:e,isTranslationDisplayed:t}}),S=(e,t)=>function(a,n){((e,t)=>(c.Authorization="Bearer "+e,r()({method:s.a.GET,url:"".concat(l.a.DOMAIN).concat(l.a.FILES_PATH,"?")+"".concat(o.a.stringify(t)),headers:c}).then(e=>e).catch(e=>e)))(e,t).then(e=>{e&&e.data&&(e.data.error?a(m(e.data.error)):a(p(e.data)))}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status&&a(m(e))})},v=(e,t,a)=>function(n,i){((e,t,a)=>(c.Authorization="Bearer "+e,r()({method:s.a.GET,url:"".concat(l.a.DOMAIN).concat(l.a.FILES_PATH)+"/".concat(t)+"?".concat(o.a.stringify(a)),headers:c}).then(e=>e).catch(e=>e)))(e,t,a).then(e=>{e&&e.data&&(e.data.error?n(h(e.data.error)):n(u(e.data)))}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status&&n(h(e))})},C=()=>function(e,t){e(f())},A=(e,t,a)=>function(n,i){(e=>r()({method:s.a.GET,url:"".concat(l.a.DOMAIN).concat(l.a.TRANSLATE_PATH,"?")+"".concat(o.a.stringify(e)),headers:c}))(a).then(a=>{a&&a.data&&(a.data.error?n(E(a.data.error)):n(b(e,t,a.data.data)))}).catch(e=>{console.log(e),e&&n(E(e))})},I=(e,t)=>function(a){a(y(e,t))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/camera",d:"M7.23 5.579C7.569 4.659 8.478 4 9.546 4h4.91c1.068 0 1.977.66 2.314 1.579h2.595c.903 0 1.636.707 1.636 1.579V17.42c0 .872-.733 1.579-1.636 1.579H4.636C3.733 19 3 18.293 3 17.421V7.158c0-.872.733-1.58 1.636-1.58h2.595zM12 16.632c2.711 0 4.91-2.121 4.91-4.737S14.71 7.158 12 7.158c-2.711 0-4.91 2.12-4.91 4.737 0 2.616 2.199 4.737 4.91 4.737zm-3.2-5.4c.236.837 1.03 1.452 1.973 1.452 1.13 0 2.045-.883 2.045-1.973 0-.91-.637-1.676-1.505-1.905a3.4 3.4 0 01.687-.07c1.807 0 3.273 1.415 3.273 3.159 0 1.744-1.466 3.158-3.273 3.158-1.807 0-3.273-1.414-3.273-3.158 0-.228.025-.45.072-.663z"}))}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(376),i=a.n(s);t.a=({title:e,src:t,allowFullScreen:a,className:s,frameBorder:o})=>{const l=t&&-1!==t.indexOf("<iframe");return r.a.createElement(n.Fragment,null,l?i()(t):r.a.createElement("iframe",{title:e,src:t,frameBorder:o||"0",allowFullScreen:a,className:s}))}},function(e,t,a){},function(e,t,a){"use strict";t.a={SSO_AUTHENTICATION_BUTTON:"SSO_AUTHENTICATION_BUTTON",SSO_CONTACTS_UPLOAD_BUTTON:"SSO_CONTACTS_UPLOAD_BUTTON",SSO_LIBRARY_CONNECTION_BUTTON:"SSO_LIBRARY_CONNECTION_BUTTON",GOOGLE_PROVIDER_NAME:"google",CLEVER_PROVIDER_NAME:"clever",CLASSLINK_PROVIDER_NAME:"classlink",OFFICE_365_PROVIDER_NAME:"office365",YAHOO_PROVIDER_NAME:"yahoo",HOTMAIL_PROVIDER_NAME:"hotmail",LOGIN_USAGE_CONTEXT:"login",LIBRARY_USAGE_CONTEXT:"library",CONTACTS_UPLOAD_USAGE_CONTEXT:"contacts-upload",LIGHT_BUTTON_THEME:"btn-light",PRIMARY_BUTTON_THEME:"btn-primary",HOTMAIL_PROVIDER_BUTTON_TITLE:"Hotmail",OFFICE_365_PROVIDER_BUTTON_TITLE:"Office 365",GOOGLE_PROVIDER_BUTTON_TITLE:"Google",CLEVER_PROVIDER_BUTTON_TITLE:"Clever",CLASSLINK_PROVIDER_BUTTON_TITLE:"ClassLink",YAHOO_PROVIDER_BUTTON_TITLE:"Yahoo"}},,,function(e,t,a){e.exports=a(1498)()},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/edmodooutline",d:"M13.0857864,15 L15,15 C15.5522847,15 16,14.5522847 16,14 L16,9 C16,8.44771525 15.5522847,8 15,8 L9,8 C8.44771525,8 8,8.44771525 8,9 L8,14 C8,14.5522847 8.44771525,15 9,15 L10.9142136,15 L12,16.0857864 L13.0857864,15 Z M9,17 C7.34314575,17 6,15.6568542 6,14 L6,9 C6,7.34314575 7.34314575,6 9,6 L15,6 C16.6568542,6 18,7.34314575 18,9 L18,14 C18,15.6568542 16.6568542,17 15,17 L13.9142136,17 L12,18.9142136 L10.0857864,17 L9,17 Z",transform:"translate(0.000000, 6.000000)"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/school",d:"M7 17v-2a1 1 0 00-2 0v2h2zm-4 0v-4.7a2 2 0 011.188-1.828L7 9.222V7.43a1 1 0 01.481-.855l4-2.429a1 1 0 011.038 0l4 2.43a1 1 0 01.481.854v1.793l2.812 1.25A2 2 0 0121 12.3V17a1 1 0 011 1v1H2v-1a1 1 0 011-1zm16 0v-2a1 1 0 00-2 0v2h2zm-5 0v-1a1 1 0 00-1-1h-2a1 1 0 00-1 1v1h4zm-2-5a2 2 0 100-4 2 2 0 000 4z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#456ACB":r,o=e.viewBox,l=void 0===o?"0 0 36 36":o,c=e.preserveAspectRatio,d=void 0===c?"xMidYMid meet":c,u=Object(n.a)(e,["size","color","viewBox","preserveAspectRatio"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},u,{preserveAspectRatio:d}),s.a.createElement("g",{id:"Page-1-Copy",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},s.a.createElement("g",{id:"sharing_post_guides",transform:"translate(-364.000000, -919.000000)",fill:i,fillRule:"nonzero"},s.a.createElement("g",{id:"Group-19",transform:"translate(340.000000, 78.000000)"},s.a.createElement("g",{id:"Group-17",transform:"translate(0.000000, 68.000000)"},s.a.createElement("g",{id:"Group-12",transform:"translate(0.000000, 30.000000)"},s.a.createElement("g",{className:"qa-test-facebook-circle",id:"facebook-with-circle",transform:"translate(24.000000, 743.000000)"},s.a.createElement("path",{d:"M18,0.124137931 C8.12731034,0.124137931 0.124137931,8.12731034 0.124137931,18 C0.124137931,27.8726897 8.12731034,35.8758621 18,35.8758621 C27.8726897,35.8758621 35.8758621,27.8726897 35.8758621,18 C35.8758621,8.12731034 27.8726897,0.124137931 18,0.124137931 Z M22.2343448,12.4771034 L19.5473793,12.4771034 C19.2289655,12.4771034 18.8751724,12.896069 18.8751724,13.4528276 L18.8751724,15.3931034 L22.2362069,15.3931034 L21.7278621,18.1601379 L18.8751724,18.1601379 L18.8751724,26.4668276 L15.704069,26.4668276 L15.704069,18.1601379 L12.8271724,18.1601379 L12.8271724,15.3931034 L15.704069,15.3931034 L15.704069,13.7656552 C15.704069,11.4306207 17.324069,9.53317241 19.5473793,9.53317241 L22.2343448,9.53317241 L22.2343448,12.4771034 Z",id:"Shape"}))))))))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?36:t,r=e.color,i=void 0===r?"#27B4E5":r,o=e.viewBox,l=void 0===o?"0 0 36 36":o,c=e.preserveAspectRatio,d=void 0===c?"xMidYMid meet":c,u=Object(n.a)(e,["size","color","viewBox","preserveAspectRatio"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},u,{preserveAspectRatio:d}),s.a.createElement("g",{id:"Page-1-Copy",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},s.a.createElement("g",{id:"sharing_post_guides",transform:"translate(-422.000000, -919.000000)",fill:i,fillRule:"nonzero"},s.a.createElement("g",{id:"Group-19",transform:"translate(340.000000, 78.000000)"},s.a.createElement("g",{id:"Group-17",transform:"translate(0.000000, 68.000000)"},s.a.createElement("g",{id:"Group-12",transform:"translate(0.000000, 30.000000)"},s.a.createElement("g",{className:"qa-test-twitter-circle",id:"twitter-with-circle",transform:"translate(82.000000, 743.000000)"},s.a.createElement("path",{d:"M18,0.124137931 C8.12731034,0.124137931 0.124137931,8.12731034 0.124137931,18 C0.124137931,27.8726897 8.12731034,35.8758621 18,35.8758621 C27.8726897,35.8758621 35.8758621,27.8726897 35.8758621,18 C35.8758621,8.12731034 27.8726897,0.124137931 18,0.124137931 Z M25.2713793,14.7674483 C25.2788276,14.9201379 25.2806897,15.0728276 25.2806897,15.2217931 C25.2806897,19.8769655 21.7408966,25.2415862 15.2646207,25.2415862 C13.275931,25.2415862 11.4250345,24.6606207 9.86834483,23.6588276 C10.142069,23.6923448 10.4232414,23.7053793 10.7081379,23.7053793 C12.357931,23.7053793 13.8755172,23.1448966 15.0802759,22.1989655 C13.5403448,22.1691724 12.2406207,21.1524828 11.7918621,19.755931 C12.006,19.7950345 12.2257241,19.8173793 12.4528966,19.8173793 C12.7731724,19.8173793 13.086,19.7745517 13.3802069,19.6944828 C11.7695172,19.3704828 10.5554483,17.9478621 10.5554483,16.2422069 L10.5554483,16.1993793 C11.0302759,16.461931 11.574,16.622069 12.1512414,16.6406897 C11.2053103,16.0075862 10.5852414,14.9313103 10.5852414,13.707931 C10.5852414,13.0636552 10.7584138,12.4566207 11.061931,11.9371034 C12.7992414,14.0673103 15.3912414,15.4675862 18.3184138,15.6184138 C18.2569655,15.3595862 18.2271724,15.0914483 18.2271724,14.814 C18.2271724,12.8718621 19.8024828,11.2928276 21.7483448,11.2928276 C22.7594483,11.2928276 23.6755862,11.7211034 24.318,12.4063448 C25.1205517,12.2462069 25.8728276,11.9557241 26.5524828,11.5516552 C26.289931,12.3728276 25.7331724,13.0636552 25.0051034,13.5012414 C25.7182759,13.4137241 26.396069,13.2256552 27.0273103,12.9444828 C26.5562069,13.6502069 25.9584828,14.2721379 25.2713793,14.7674483 Z",id:"Shape"}))))))))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/video",d:"M5 4h14a1 1 0 011 1v14a1 1 0 01-1 1H5a1 1 0 01-1-1V5a1 1 0 011-1zm7 14a6 6 0 100-12 6 6 0 000 12zm3.303-5.523l-4.592 2.734a.667.667 0 01-1.007-.573V9.28A.667.667 0 0110.7 8.7l4.592 2.626a.667.667 0 01.01 1.151z"}))}},function(e,t,a){"use strict";a.r(t),a.d(t,"getFilesSuccessAction",(function(){return h})),a.d(t,"getFilesFailureAction",(function(){return p})),a.d(t,"createSharingLinkSuccessAction",(function(){return m})),a.d(t,"createSharingLinkFailureAction",(function(){return g})),a.d(t,"getFilesCompletedAction",(function(){return f})),a.d(t,"getFiles",(function(){return b})),a.d(t,"getFilesByFolder",(function(){return E})),a.d(t,"createSharingLink",(function(){return y}));var n=a(135),r=a.n(n),s=a(118),i=a(144),o=a.n(i),l=a(110);const c={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization"};var d=a(7),u=a(36);const h=e=>({type:l.a.GET_FILES_SUCCESS,payload:e}),p=e=>({type:l.a.GET_FILES_FAILURE,payload:e}),m=e=>({type:l.a.CREATE_SHARING_LINK_SUCCESS,payload:e}),g=e=>({type:l.a.CREATE_SHARING_LINK_FAILURE,payload:e}),f=()=>({type:d.a.COMPLETED_GD_FILES_REQUEST,payload:""}),b=(e,t)=>function(a,n){((e,t)=>(c.Authorization="Bearer "+e,r()({method:s.a.GET,url:"".concat(l.a.DOMAIN).concat(l.a.DRIVE_PATH)+"".concat(l.a.ROOT_CHILDREN_PATH,"?")+"".concat(o.a.stringify(t)),headers:c}).then(e=>(console.log("OneDriveApiService resp:",e),e)).catch(e=>e)))(e,t).then(e=>{e&&e.data&&(e.data.error?a(p(e.data.error)):a(h(e.data)))}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status?a(p(e)):u.a.notifyBugsnag(e,"OneDriveActionCreator.getFiles")})},E=(e,t,a)=>function(n,i){((e,t,a)=>{const n="/"+t+"/children";return c.Authorization="Bearer "+e,r()({method:s.a.GET,url:"".concat(l.a.DOMAIN).concat(l.a.DRIVE_PATH)+"".concat(l.a.ITEM_CHILDREN_PATH).concat(n,"?")+"".concat(o.a.stringify(a)),headers:c}).then(e=>(console.log("OneDriveApiService resp:",e),e)).catch(e=>e)})(e,t,a).then(e=>{e&&e.data&&(e.data.error?n(p(e.data.error)):n(h(e.data)))}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status?n(p(e)):u.a.notifyBugsnag(e,"OneDriveActionCreator.getFilesByFolder")})},y=(e,t)=>function(a,n){((e,t)=>(c.Authorization="Bearer "+e,r()({method:s.a.POST,url:"".concat(l.a.DOMAIN).concat(l.a.DRIVE_PATH)+"".concat(l.a.ITEMS_PATH).concat(t).concat(l.a.CREATE_LINK),headers:c,data:{scope:l.a.ANONYMOUS,type:l.a.VIEW}}).then(e=>e).catch(e=>e)))(e,t).then(e=>{if(e&&e.data)if(e.data.error)a(g(e.data.error));else{const n={id:t,data:e.data};a(m(n))}}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status?a(g(e)):u.a.notifyBugsnag(e,"OneDriveActionCreator.createSharingLink")})}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/checkcircle",d:"M12 21a9 9 0 110-18 9 9 0 010 18zm3.315-12.729l-5.702 5.357-1.928-1.811a1 1 0 10-1.37 1.457l3.298 3.098 7.072-6.643a1 1 0 00-1.37-1.458z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/district",d:"M6 7h12a1 1 0 010 2H6a1 1 0 110-2zm0 4h12a1 1 0 010 2H6a1 1 0 010-2zm4 7h4v-2.2a.8.8 0 00-.8-.8h-2.4a.8.8 0 00-.8.8V18zm-7 0V7a2 2 0 012-2h1.268A2 2 0 018 4h8a2 2 0 011.732 1H19a2 2 0 012 2v11h.2a.8.8 0 01.8.8V20H2v-1.2a.8.8 0 01.8-.8H3z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/thumb",d:"M4.61 10.66a1.2 1.2 0 112.303.68c-.048.16-.125.47-.204.877-.13.676-.209 1.357-.209 1.988 0 .587.112 1.233.301 1.878.115.39.228.687.295.837a1.2 1.2 0 11-2.192.978 9.458 9.458 0 01-.405-1.14c-.249-.847-.399-1.71-.399-2.553 0-.802.095-1.63.253-2.444.094-.488.19-.87.258-1.1zm7.247-5.932c.98-1.187 2.47-.728 3.048 0 .332.418.378 1.52.137 3.309a.8.8 0 00.793.907h1.18a1.6 1.6 0 011.583 1.362c.167 1.11.205 2.19.116 3.24a8.01 8.01 0 01-.478 2.1A3.6 3.6 0 0114.86 18H12a4 4 0 01-4-4c0-2 .039-2.768 1.571-4.184C12.62 7 11.857 6.546 11.857 4.728z"}))}},function(e,t,a){"use strict";a.r(t);var n=a(198),r=a(4),s=a.n(r);t.default=e=>{let t=e.size,a=void 0===t?24:t,r=e.color,i=void 0===r?"#b2b2b2":r,o=e.viewBox,l=void 0===o?"0 0 24 24":o,c=Object(n.a)(e,["size","color","viewBox"]);return s.a.createElement("svg",Object.assign({width:a,height:a,viewBox:l},c),s.a.createElement("path",{fill:i,fillRule:"evenodd",stroke:"none",strokeWidth:"1",id:"Icon/small/reply",d:"M20.914 9.163l.07 1.108c.012.297.016.588.016.869 0 2.117-.265 4.855-1.525 5.876-.576.466-1.568.788-3.033.986-.227.03-.831.088-1.152.115-.083.008-.977.036-1.038.08l-3.681 2.658a.8.8 0 01-1.256-.507l-.387-2.152c-.052-.118-1.144-.164-1.37-.194-1.465-.198-2.458-.52-3.033-.986C3.264 15.995 3 13.256 3 11.14c0-.28.005-.675.015-.865.01-.19.072-1.112.072-1.112.155-1.622.548-3.21 1.438-3.931C5.55 4.403 9 4 12.001 4c2.999 0 6.45.403 7.474 1.232.89.721 1.284 2.31 1.439 3.931zM11 8.999V8.08A1 1 0 009.375 7.3L6.976 9.22a1 1 0 000 1.56l2.4 1.92A1 1 0 0011 11.92V11l.051-.001c3.959-.204 4.685.851 3.242 2.294a1 1 0 001.414 1.414c2.92-2.92.836-5.974-4.707-5.708z"}))}},,,,function(e,t,a){"use strict";a.r(t),a.d(t,"fetchUserConnectionsSuccessAction",(function(){return p})),a.d(t,"fetchCurrentUserConnectionsSuccessAction",(function(){return m})),a.d(t,"fetchCurrentUserConnectionsSuccessCountAction",(function(){return g})),a.d(t,"fetchCurrentUserConnectionsFetchFailure",(function(){return f})),a.d(t,"fetchUserConnectionsFailureAction",(function(){return b})),a.d(t,"fetchCurrentUserConnectionRequestsSuccessAction",(function(){return E})),a.d(t,"fetchCurrentUserConnectionRequestsFetchFailure",(function(){return y})),a.d(t,"endOfConnectionRequestsForCurrentUser",(function(){return S})),a.d(t,"endOfConnectionsForCurrentUser",(function(){return v})),a.d(t,"connectionRequestSuccessAction",(function(){return C})),a.d(t,"connectionDismissalSuccessAction",(function(){return A})),a.d(t,"removeConnectionSuccessAction",(function(){return I})),a.d(t,"removePendingRequestAction",(function(){return T})),a.d(t,"inviteUserToConnectSuccessAction",(function(){return k})),a.d(t,"fetchSingleConnectionRequestSuccessAction",(function(){return O})),a.d(t,"fetchSingleConnectionRequestFailureAction",(function(){return _})),a.d(t,"bellNotificationConnectionAcceptanceSuccessAction",(function(){return M})),a.d(t,"bellNotificationConnectionDismissalSuccessAction",(function(){return N})),a.d(t,"removeExistingConnectionAction",(function(){return w})),a.d(t,"fetchConnections",(function(){return P})),a.d(t,"fetchConnectionRequestsForCurrentUser",(function(){return R})),a.d(t,"fetchSingleConnectionRequest",(function(){return x})),a.d(t,"checkConnectionExistence",(function(){return L})),a.d(t,"makeConnectionRequest",(function(){return D})),a.d(t,"acceptConnection",(function(){return F})),a.d(t,"dismissConnectionRequest",(function(){return U})),a.d(t,"inviteUserToConnect",(function(){return B}));var n=a(148),r=a(13),s=a(18),i=a(25);const o=e=>i.a.get(s.a.CONNECTIONS,{params:e});var l=a(36),c=a(61),d=a(126),u=a(210),h=a(7);const p=e=>({type:n.a.USER_CONNECTIONS_FETCH_SUCCESS,payload:e}),m=e=>({type:n.a.CURRENT_USER_CONNECTIONS_FETCH_SUCCESS,payload:e}),g=e=>({type:n.a.CURRENT_USER_CONNECTIONS_COUNT_FETCH_SUCCESS,payload:e}),f=e=>({type:n.a.CURRENT_USER_CONNECTIONS_FETCH_FAILURE,payload:e}),b=e=>({type:n.a.USER_CONNECTIONS_FETCH_FAILURE,payload:e}),E=e=>({type:n.a.CURRENT_USER_CONNECTION_REQUESTS_FETCH_SUCCESS,payload:e}),y=e=>({type:n.a.CURRENT_USER_CONNECTION_REQUESTS_FETCH_FAILURE,payload:e}),S=()=>({type:n.a.END_OF_USER_CONNECTION_REQUESTS_FETCH}),v=()=>({type:n.a.END_OF_USER_CONNECTION_FETCH}),C=e=>({type:n.a.CONNECTION_REQUEST_SUCCESS,payload:e}),A=e=>({type:n.a.CONNECTION_DISMISSAL_SUCCESS,payload:e}),I=e=>({type:n.a.CONNECTION_REMOVAL_SUCCESS,payload:e}),T=e=>({type:n.a.CONNECTION_REMOVE_PENDING_REQUEST_SUCCESS,payload:e}),k=e=>({type:n.a.CONNECTION_INVITATION_SUCCESS,payload:e}),O=e=>({type:n.a.SINGLE_CONNECTION_FETCH_SUCCESS,payload:e}),_=e=>({type:n.a.SINGLE_CONNECTION_FETCH_FAILURE,payload:e}),M=e=>({type:d.a.BELL_NOTIFICATION_CONNECTION_ACCEPTANCE_SUCCESS,payload:e}),N=e=>({type:d.a.BELL_NOTIFICATION_CONNECTION_DISMISSAL_SUCCESS,payload:e}),w=e=>({type:n.a.REMOVE_EXISTING_CONNECTION,payload:e}),P=(e,t=1,a=r.a.DEFAULT_CONNECTIONS_PER_PAGE_VALUE)=>function(n,s){const i={[r.a.PAGE]:t,[r.a.PER_PAGE]:a,[r.a.USER_ID]:e,[r.a.STATUS]:c.a.ACTIVE_STATUS,[r.a.INCLUDE_EXTRA_USER_INFO]:"true"};return n(Object(u.beginAjaxCallAction)(h.a.BEGIN_PROFILE_CONNECTIONS__CALL,h.a.LOADING)),o(i).then(r=>{const s=r&&r.headers&&r.headers["x-total-count"],i={userId:e.toString(),connections:r.data,totalCount:s,isEnd:r.data.length<a,currentPage:t};n(p(i))}).catch(e=>{e&&e.response&&404===e.response.status?n(b(e)):l.a.notifyBugsnag(e,"ConnectionActionCreator.fetchConnections")})},R=(e=1,t=r.a.DEFAULT_CONNECTIONS_PER_PAGE_VALUE)=>function(a,n){const s={[r.a.PAGE]:e,[r.a.PER_PAGE]:t,[c.a.STATUS]:c.a.PENDING_STATUS,[r.a.INCLUDE_EXTRA_USER_INFO]:"true"};return a(Object(u.beginAjaxCallAction)(h.a.BEGIN_PROFILE_CONNECTION_REQUSTS_CALL,h.a.LOADING)),o(s).then(n=>{const r={connectionRequests:n.data,isEnd:n.data.length<t,currentPage:e};a(E(r))}).catch(e=>{e&&e.response&&404===e.response.status?(a(y(e)),console.log(e)):l.a.notifyBugsnag(e,"ConnectionActionCreator.fetchConnectionRequestsForCurrentUser")})},x=e=>function(t,a){const n=Object.assign({},e);return n[c.a.STATUS]=c.a.PENDING_STATUS,n[r.a.INCLUDE_EXTRA_USER_INFO]="true",(o=e,i.a.get("".concat(s.a.CONNECTIONS,"/").concat(o.userId1,"-").concat(o.userId2))).then(e=>{const a={connection:e.data,connectionId:e.data.id};t(O(a))}).catch(a=>{a&&a.response&&404===a.response.status?t(_("".concat(e.userId1,"-").concat(e.userId2))):l.a.notifyBugsnag(a,"ConnectionActionCreator.fetchSingleConnectionRequest")});var o},L=e=>function(t,a){const n=Object.assign({},e);return n[c.a.STATUS]=c.a.PENDING_STATUS,n[r.a.INCLUDE_EXTRA_USER_INFO]="true",(o=e,i.a.get("".concat(s.a.CONNECTIONS,"/").concat(o.userId,"/check_existence"))).then(a=>{if(a.data.exists){const n={connection:a.data.connection,connectionId:e.twoIdsStr};t(O(n))}else t(_(e.twoIdsStr))}).catch(e=>{e&&e.response&&404===e.response.status&&console.log(e)});var o},D=e=>function(t,a){return(e=>i.a.post(s.a.CONNECTIONS,{user2_id:e}))(e).then(e=>{t(C(e.data))}).catch(e=>{e&&e.response&&404===e.response.status&&console.log(e),l.a.notifyBugsnag(e,"ConnectionActionCreator.makeConnectionRequest")})},F=(e,t,a)=>function(n,r){return((e,t)=>i.a.put("".concat(s.a.CONNECTIONS,"/").concat(e),{status:t}))(e,c.a.ACTIVE_STATUS).then(r=>{t?n(M(t)):(n(T(e)),n(P(a)))}).catch(e=>{e&&e.response&&404===e.response.status&&console.log(e),l.a.notifyBugsnag(e,"ConnectionActionCreator.acceptConnection")})},U=(e,t,a)=>function(n,r){return(e=>i.a.delete("".concat(s.a.CONNECTIONS,"/").concat(e)))(e).then(r=>{if(n(I({id:e,status:"not_connected"})),t)n(N(t));else{n(T(e));const t={connectionId:e,currentUserId:a};n(P(a)),n(w(t))}}).catch(e=>{e&&e.response&&404===e.response.status&&console.log(e),l.a.notifyBugsnag(e,"ConnectionActionCreator.dismissConnectionRequest")})},B=e=>function(t){return(e=>i.a.post(s.a.CONNECTIONS,{contact_ids:e}))(e).then(e=>{t(k(e.data))}).catch(e=>{e&&e.response&&404===e.response.status&&console.log(e),l.a.notifyBugsnag(e,"ConnectionActionCreator.inviteUserToConnect")})}},,function(e,t,a){"use strict";a.r(t),a.d(t,"openCreateClassGroup",(function(){return r})),a.d(t,"submitCreateClassGroup",(function(){return s})),a.d(t,"openJoinClassGroup",(function(){return i})),a.d(t,"submitJoinClassGroup",(function(){return o})),a.d(t,"openCopyClass",(function(){return l})),a.d(t,"submitCopyClassGroup",(function(){return c})),a.d(t,"submitArchiveClassGroup",(function(){return d}));var n=a(257);const r=(e,t,a,r={})=>({type:n.a.TRACK_CLASSGROUP_ACTIONS_CREATE_CLICK,payload:{context:e,productGroup:t,visualElement:a,properties:r}}),s=(e,t,a,r={})=>({type:n.a.TRACK_CLASSGROUP_ACTIONS_CREATE_SUBMIT,payload:{context:e,productGroup:t,visualElement:a,properties:r}}),i=(e,t,a,r={})=>({type:n.a.TRACK_CLASSGROUP_ACTIONS_JOIN_CLICK,payload:{context:e,productGroup:t,visualElement:a,properties:r}}),o=(e,t,a,r={})=>({type:n.a.TRACK_CLASSGROUP_ACTIONS_JOIN_SUBMIT,payload:{context:e,productGroup:t,visualElement:a,properties:r}}),l=(e,t,a={})=>({type:n.a.TRACK_CLASSGROUP_ACTIONS_COPY_CLICK,payload:{context:e,productGroup:t,properties:a}}),c=(e,t,a={})=>({type:n.a.TRACK_CLASSGROUP_ACTIONS_COPY_SUBMIT,payload:{context:e,productGroup:t,properties:a}}),d=(e,t,a={})=>({type:n.a.TRACK_CLASSGROUP_ACTIONS_ARCHIVE_SUBMIT,payload:{context:e,productGroup:t,properties:a}})},function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"c",(function(){return h})),a.d(t,"d",(function(){return p}));var n=a(9),r=a(1),s=a(28),i=a(20);const o=(e,t)=>t&&t===i.a.REDUCER?e:s.vb(e),l=Object(n.createSelector)([o],e=>e&&e.get(r.a.RELATIONSHIPS)),c=Object(n.createSelector)([o],e=>e&&e.get(r.a.GROUP_PARENTS_RELATIONSHIPS)),d=Object(n.createSelector)([o,(e,t)=>t.groupId],(e,t)=>t&&e.getIn([r.a.GROUP_PARENT_MEMBERS,t.toString()])),u=Object(n.createSelector)([o],e=>e&&e.get(r.a.PARENT_MEMBERS_FOR_CONNECT_PARENT_MODAL)),h=Object(n.createSelector)([o],e=>e&&e.get(r.a.NEWLY_ADDED_CHILD_ID)),p=Object(n.createSelector)([o],e=>e&&e.get(r.a.NEWLY_ADDED_CLASS_ID))},function(e,t,a){"use strict";t.a={PUBLIC:"public",SCHOOLS:"schools/",DISTRICTS:"districts/",PRIVATE:"",END_OF_LIST_REACHED:"END_OF_LIST_REACHED",SCHOOL_ADMIN_READ_ONLY:"school_admin_read_only",GROUP:"group"}},function(e,t,a){},,,function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"ssoTokenRefreshSuccessAction",(function(){return g})),a.d(t,"ssoTokenRefreshFailureAction",(function(){return f})),a.d(t,"updateSsoAuthStatusAction",(function(){return b})),a.d(t,"ssoDisconnectSuccessAction",(function(){return E})),a.d(t,"ssoDisconnectFailureAction",(function(){return y})),a.d(t,"ssoResetActionRequest",(function(){return S})),a.d(t,"refreshSsoAccessTokenAndFetchFiles",(function(){return v})),a.d(t,"disconnectSsoAccount",(function(){return C}));var n=a(299),r=a(63),s=a(118),i=a(135),o=a.n(i),l=a(13),c=a(18),d=a(48);const u={Accept:"application/json"};var h=a(255),p=a(1291),m=a(1305);const g=e=>({type:n.a.SSO_TOKEN_REFRESH_SUCCESS,payload:e}),f=e=>({type:n.a.SSO_TOKEN_REFRESH_FAILURE,payload:e}),b=e=>({type:n.a.UPDATE_SSO_AUTH_STATUS,payload:e}),E=e=>({type:n.a.SSO_DISCONNECT_SUCCESS,payload:e}),y=e=>({type:n.a.SSO_DISCONNECT_FAILURE,payload:e}),S=e=>({type:n.a.SSO_RESET_REQUEST,payload:e}),v=(e,t,a)=>function(n,i){const b=r.a(i);return((e,t,a,n)=>o()({method:s.a.POST,url:"".concat(e.get(d.a.BASE_URL)).concat(c.a.OMNIAUTH_ACCESS_TOKEN,"?")+"".concat(l.a.ACCESS_TOKEN,"=").concat(t.get(l.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:u,data:{omniauth_user:{user_id:n,provider:a}}}))(b.configInfo,b.accessToken,e,t).then(t=>{switch(n(g(t.data)),e){case h.a.GOOGLE_INFO:n(p.getFiles(t.data.access_token,a));break;case h.a.OFFICE_INFO:n(m.getFiles(t.data.access_token,a))}}).catch(t=>{const a=Object.assign(t.response,{provider:e});n(f(a)),console.log(t.response)})},C=(e,t,a)=>function(a,n){const i=r.a(n);return((e,t,a,n)=>o()({method:s.a.DELETE,url:"".concat(e.get(d.a.BASE_URL)).concat(c.a.OMNIAUTH_UNLINK,"?")+"".concat(l.a.ACCESS_TOKEN,"=").concat(t.get(l.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:u,data:{user_id:n,provider:a}}))(i.configInfo,i.accessToken,e,t).then(t=>{const n=Object.assign(t.data,{provider:e});a(E(n)),a(S(n))}).catch(e=>{a(y(e)),console.log(e)})}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(134),i=a(133),o=a(5),l=a.n(o),c=a(1684),d=a(7),u=a(69),h=a(529),p=a(192),m=a(45),g=a(1633),f=a(36),b=a(73),E=a(369),y=a(1289),S=a(366),v=a(32),C=a(516);t.a=e=>t=>{class a extends n.Component{constructor(e,t){super(e,t),this.state={name:this.props.name||"default",attachedFiles:[],selectedFiles:[],fileInputFieldValue:"",lastAttachedFile:null},this.handleSelectFiles=this.handleSelectFiles.bind(this),this.runAttachedChangeCB=this.runAttachedChangeCB.bind(this),this.runAttachedBeginCB=this.runAttachedBeginCB.bind(this),this.progressCb=this.progressCb.bind(this),this.resetBlockedFilesList=this.resetBlockedFilesList.bind(this)}UNSAFE_componentWillMount(){const e=this.props.fileUploadInstance&&this.props.fileUploadInstance.get();e&&this.setState({selectedFiles:e}),this.resetBlockedFilesList()}UNSAFE_componentWillReceiveProps(e){const t=e=>{const t=l.a.cloneDeep(this.state.attachedFiles);t.push(e),this.setState({attachedFiles:t,lastAttachedFile:e},this.runAttachedChangeCB),this.resetFileInputField()};if(e.s3UploadParamsStatus===d.a.RETRIEVAL_SUCCESS){this.props.s3FileActions.getUploadParamsCompletedAction(this.state.name),this.runAttachedBeginCB();const a=this.state.name===S.a.TEACHER_BADGES?u.a.BADGES_BUCKET_URL:u.a.BUCKET_URL,n=g.h(e.s3UploadParams,this.state.selectedFiles,this.progressCb,a);n&&n.then(e=>{t(e),this.progressCb(new Event("progress"),e)}).catch(e=>{t(e),f.a.notifyBugsnag(e,"FileUploadButtonFactory.uploadToS3")})}e.reset&&(this.reset(),this.props.resetCompleted&&this.props.resetCompleted()),e.removeFile&&(this.removeAttachedFile(e.removeFile),this.props.removeCompleted&&this.props.removeCompleted())}progressCb(e,t){this.props.s3FileActions.uploadProgress(e,this.props.name,t)}resetBlockedFilesList(){this.props.s3FileActions.resetBlockedFilesList(this.state.name)}resetFileInputField(){this.setState({fileInputFieldValue:""})}removeAttachedFile(e){let t=l.a.cloneDeep(this.state.attachedFiles);t=t.filter(t=>t.id!==e),this.setState({attachedFiles:t},this.runAttachedChangeCB)}handleSelectFiles(e){e.preventDefault();const t=[];[...e.target.files].forEach((e,a)=>{let n=g.b(e),r=!1;const s=g.g(e);if(this.state.name!==S.a.TEACHER_BADGES&&this.state.name!==v.a.SCHOOL_AVATAR&&this.state.name!==v.a.SCHOOL_COVER||(n=!!e.type.indexOf("image/"),this.state.name!==v.a.SCHOOL_AVATAR&&this.state.name!==v.a.SCHOOL_COVER||(r=g.b(e,{avatar:"upload"}))),n||s||r){if(n||r){Object(m.a)("BLOCKED_FILE_TYPES:",e);let t={};t[u.a.ORIGINAL_NAME]=e.name,t.type=e.type,this.props.s3FileActions.fileTypeBlockedAction(t,this.state.name)}else if(s){Object(m.a)("BLOCKED_FILE_SIZES:",e);let t={};t[u.a.ORIGINAL_NAME]=e.name,t.type=e.size,this.props.s3FileActions.fileSizeBlockedAction(t,this.state.name)}}else{const n=e;n.file_name=n.name,n.id=String(a),t.push(n)}}),this.props.fileUploadInstance&&this.props.fileUploadInstance.save(t),this.setState({selectedFiles:t,fileInputFieldValue:e.target.value},()=>{if(this.runAttachedBeginCB(),this.props.s3FileActions.uploadBegin(this.state.name),p.a.isValid(this.props.accessToken)){const e=Array.from(t);this.props.s3FileActions.getUploadParams(e,this.state.name),this.resetFileInputField()}})}reset(){this.setState({selectedFiles:[],attachedFiles:[]},this.runAttachedChangeCB)}runAttachedChangeCB(){const t=e.setLastAttachedFileAsCallBackArg?this.state.lastAttachedFile:this.state.attachedFiles;this.props.s3FileActions.uploadBeginReset(this.state.name),this.props.attachedFilesChangeCb&&this.props.attachedFilesChangeCb(t)}runAttachedBeginCB(){this.props.attachedFilesBeginCb&&this.props.attachedFilesBeginCb(this.state.selectedFiles)}render(){const e=this.props,a=e.filesUploadedBlockedByTypeList,n=e.filesUploadedBlockedBySizeList,s=g.a(a,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(t,Object.assign({},this.props,this.state,{fileInputFieldValue:this.state.fileInputFieldValue,handleSelectFiles:this.handleSelectFiles})),s&&r.a.createElement(c.a,{title:this.props.translate("title_files_not_sent","File(s) not sent"),messages:s,isOpen:!!s.length,close:this.resetBlockedFilesList}))}}return Object(i.connect)((function(e,t){return{accessToken:b.d(e),configInfo:E.a(e),s3UploadParams:y.e(e,{name:t&&t.name}),filesUploadedBlockedByTypeList:y.c(e,{name:t.name}),filesUploadedBlockedBySizeList:y.b(e,{name:t.name}),s3UploadParamsStatus:C.c(e,"".concat(d.a.S3_PARAMS_REQUEST,"-").concat(t.name))}}),(function(e){return{s3FileActions:Object(s.bindActionCreators)(h,e)}}))(a)}},function(e,t,a){"use strict";a.r(t),a.d(t,"trackQuizCreate",(function(){return s})),a.d(t,"trackQuizDisplay",(function(){return i})),a.d(t,"trackQuizSubmit",(function(){return o})),a.d(t,"trackQuizGradeDisplay",(function(){return l})),a.d(t,"trackQuizAssignDisplay",(function(){return c})),a.d(t,"trackQuizAssign",(function(){return d}));var n=a(280),r=a(145);const s=e=>({type:n.a.TRACK_QUIZ_CREATE,context:r.a.QUIZ_PAGE_CONTEXT,productGroup:n.a.PRODUCT_GROUP_CREATION,visualElement:n.a.QUIZ_CREATION_PAGE,payload:e}),i=e=>({type:n.a.TRACK_QUIZ_DISPLAY,context:r.a.QUIZ_PAGE_CONTEXT,productGroup:n.a.PRODUCT_GROUP_TAKING,visualElement:n.a.QUIZ_TAKING_PAGE,payload:e}),o=e=>({type:n.a.TRACK_QUIZ_SUBMIT,context:r.a.QUIZ_PAGE_CONTEXT,productGroup:n.a.PRODUCT_GROUP_TAKING,visualElement:n.a.SUBMIT_QUIZ_BTN,payload:e}),l=e=>({type:n.a.TRACK_QUIZ_GRADE_DISPLAY,context:r.a.QUIZ_PAGE_CONTEXT,productGroup:n.a.PRODUCT_GROUP_TAKING,visualElement:n.a.QUIZ_GRADING_PAGE,payload:e}),c=e=>({type:n.a.TRACK_QUIZ_ASSIGN_DISPLAY,context:r.a.QUIZ_PAGE_CONTEXT,productGroup:n.a.PRODUCT_GROUP_CREATION,visualElement:n.a.ASSIGN_QUIZ_MODAL,payload:e}),d=e=>({type:n.a.TRACK_QUIZ_ASSIGN,context:r.a.QUIZ_PAGE_CONTEXT,productGroup:n.a.PRODUCT_GROUP_CREATION,visualElement:n.a.ASSIGN_QUIZ_MODAL,payload:e})},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(9),r=a(1),s=a(20);const i=Object(n.createSelector)([e=>e.get(s.a.USER_ROSTER)],e=>e&&e.get(r.a.BATCH_FETCHED_USERS_WITH_EMAILS))},function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(366),r=a(192),s=a(36);const i=(e,t,a,n,i,o,l=!1)=>{const c={type:"file",parent_id:n||0,item:{name:"untitled".concat(e),size:0}};r.a.isValid(t)&&a.createLibraryMSItem(i,c,parseInt(c.parent_id,10)).then(e=>{let t=e.item.editnew_url;o.location.assign(t),o.focus()}).catch(e=>{console.log("something went wrong in making MS file",e),s.a.notifyBugsnag(e,"SsoUtils.createLibraryMSItem")})},o=e=>({office365:n.a.ONE_DRIVE,google:n.a.GOOGLE_DRIVE}[e])},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAADaklEQVR4nJWVz2scZRjHP8/sJNtW7UWC1pxc2migwd2yKKYe6iVgKmgIS2kLxUPBCt714GHR9tD0PxAkeCitqYL442QlYk0PKWTWioqUsr00UC9K212TzrzP42F2d2Z2djf6wMK7z/t9n+/ze4RRckIPEMoK8AJwGzjJFVnPYOrq8xufYHIMYRvjLFfkQhrijSSJ5BxYGUzA9gNLOczvsoByCrMiansxznPcnkpD/JEkGs1ilvwXGcthXDQLHYwBgmBjhf9GUtMJ3NYkCCkjjQGOVHr3sSePiNw7LP5TQrjK57uXh5NYq5KJAkAIgLgOv7aniaigYQVJAJiNg3zQMXKCxda94SSRK2Oa1XlS482/ztC4fxCsiBmIgHacEaGng/iMVbMktfsThGEFtIxFb8UkqXQ55vpDiw2ljXZ1nXvVO8LinwcI3TnMZoHJbMqyHL1zOj30kUiPuIWnF3l637s+W1sriJSHpi1dFu1LT7+I10L1NAUv4NAzt6h7Grsy3+zmZIDrOSsgNEECoAG8h9ljSWR2nW9Lh/tf+Zi73Rm00eLJ24wVVvjy2b8BqG1O8LD1YSZaGdDigE/BnSTSJYwxCtLAaYAnNYy5TI6LuxMCgIetChqmagBQCAaTfPPcOnAko5375UzvHL9vZggA2E7mqJddCairz/of0zgtUSzc4KvnN/NzUlef6zcP9g1i3kMXlnuN0MVKtMzaz1NAEYC2PGC+Uc2T/LQxjVkxoxMJeG1jgkgr8cKkgkZHexEk/sxkW5wnCGVhwMRH+XWCvM+2fZSbk36SPCkIkVBXnx/XFkBmUcp4HEJtbwfQN3z/U8S7S8FeFF794VPUTg02ugOL9dUEaYIFIA08b4PH96zydbXto+ExbNju2dHV5E1x1yTfvbI5COWj0TZIcdAlWLwqsJuYBVAI8C3A2TLGTC9KoTmMICZBz6J2Pv7E8ggYTxwVwJ3m2uuXe7ojqz7amopTRYdHBg5hVzyuHb3ALrePPTqJRUvgwKL4pxGoyxrQ9jQWFcHF9zjAjSSJW/j7N+4B8PIXpWw9rMXc4i3WUqqoXUpNeKf43g6RpEXCq2iYROLcxe66TjDjN0AfYJ2I0bs8Ob46iiTfmy99No9nVeAOM/sv8XE1zGEOX57C2QJmEb5cYu340KID/AvHkJmR47RzvQAAAABJRU5ErkJggg=="},function(e,t,a){(function(e){function a(e,t){for(var a=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),a++):a&&(e.splice(n,1),a--)}if(t)for(;a--;a)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var a=[],n=0;n<e.length;n++)t(e[n],n,e)&&a.push(e[n]);return a}t.resolve=function(){for(var t="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var i=s>=0?arguments[s]:e.cwd();if("string"!==typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,r="/"===i.charAt(0))}return(r?"/":"")+(t=a(n(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var s=t.isAbsolute(e),i="/"===r(e,-1);return(e=a(n(e.split("/"),(function(e){return!!e})),!s).join("/"))||s||(e="."),e&&i&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,a){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var a=e.length-1;a>=0&&""===e[a];a--);return t>a?[]:e.slice(t,a-t+1)}e=t.resolve(e).substr(1),a=t.resolve(a).substr(1);for(var r=n(e.split("/")),s=n(a.split("/")),i=Math.min(r.length,s.length),o=i,l=0;l<i;l++)if(r[l]!==s[l]){o=l;break}var c=[];for(l=o;l<r.length;l++)c.push("..");return(c=c.concat(s.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),a=47===t,n=-1,r=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!r){n=s;break}}else r=!1;return-1===n?a?"/":".":a&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var a=function(e){"string"!==typeof e&&(e+="");var t,a=0,n=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){a=t+1;break}}else-1===n&&(r=!1,n=t+1);return-1===n?"":e.slice(a,n)}(e);return t&&a.substr(-1*t.length)===t&&(a=a.substr(0,a.length-t.length)),a},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,a=0,n=-1,r=!0,s=0,i=e.length-1;i>=0;--i){var o=e.charCodeAt(i);if(47!==o)-1===n&&(r=!1,n=i+1),46===o?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!r){a=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===a+1?"":e.slice(t,n)};var r="b"==="ab".substr(-1)?function(e,t,a){return e.substr(t,a)}:function(e,t,a){return t<0&&(t=e.length+t),e.substr(t,a)}}).call(this,a(437))},,function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(9),r=a(20),s=a(193);const i=e=>e.get(r.a.BLUES_CLUES),o=(e,t)=>t,l=Object(n.createSelector)([i,o],(e,t)=>e.getIn([s.a.State.CLUES,t])),c=Object(n.createSelector)([i,o],(e,t)=>e.getIn([s.a.State.FETCHING_CLUES,t]))},function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(4),r=a.n(n),s=a(35),i=a.n(s),o=a(512);a(1589);const l=e=>{const t=e.toggle,a=e.isOpen,n=e.hideClose,s=i()({"hamburger-menu-wrapper":!0,open:a,"d-flex":!0,close:!a});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s},r.a.createElement("div",{className:"hamburger-menu-pane"},!n&&r.a.createElement("div",{className:"remove-icon qa-test-burger-menu-close-btn",onClick:t}),e.children)),r.a.createElement("div",{className:i()({"qa-test-overlay":!0,overlay:!0,open:a}),onClick:t}))},c=({children:e,className:t,style:a})=>r.a.createElement("ul",{className:t,style:a},e),d=({href:e,onClick:t,toggle:a,children:n,className:s,qaSelector:l,openInNewTab:c})=>{const d=()=>{a&&a(),t&&t()};return e?r.a.createElement("li",{className:i()("hamburgermenu-list-item-link",s),onClick:d,role:"button"},r.a.createElement(o.a,{href:e,className:l,target:c&&"_blank"},n)):r.a.createElement("li",{className:i()("hamburgermenu-list-item",s,l),role:"button",onClick:d},n)}},function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"m",(function(){return c})),a.d(t,"p",(function(){return p})),a.d(t,"n",(function(){return m})),a.d(t,"o",(function(){return g})),a.d(t,"h",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"d",(function(){return y})),a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return v})),a.d(t,"k",(function(){return A})),a.d(t,"j",(function(){return I})),a.d(t,"f",(function(){return T})),a.d(t,"l",(function(){return k})),a.d(t,"i",(function(){return O}));var n=a(9),r=a(28),s=a(1),i=a(8),o=a(293);const l=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.BELL_NOTIFICATIONS_LIST])),c=Object(n.createSelector)([r.u],e=>e&&e.get(s.a.UNREAD_NOTIFICATIONS_COUNT)),d=Object(n.createSelector)([l],e=>e&&e.filter(e=>o.a.isUnseen(e))),u=Object(n.createSelector)([l],e=>e&&e.filter(e=>o.a.isUnseenAdmin(e))),h=Object(n.createSelector)([l],e=>e&&e.filter(e=>o.a.isUnseenMarketingNotification(e))),p=Object(n.createSelector)([h],e=>e&&e.map(e=>o.a.getId(e))),m=Object(n.createSelector)([u],e=>e&&e.map(e=>o.a.getId(e))),g=Object(n.createSelector)([d],e=>e&&e.map(e=>o.a.getId(e))),f=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.LAST_FETCHED_BELL_NOTIFICATION_PAGE])||0),b=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.LAST_FETCHED_BELL_NOTIFICATION_FILTER])||i.a.ALL_FILTER),E=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.FETCHING_BELL_NOTIFICATIONS])),y=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.END_OF_UNREAD_BELL_NOTIFICATIONS_REACHED])||!1),S=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.NOTIFICATION_PAGINATION])),v=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.TOPIC_MESSAGES])),C=Object(n.createSelector)([l],e=>e&&e.filter(e=>o.a.isTopicsDigest(e))),A=Object(n.createSelector)([C],e=>{const t=e&&o.a.getFirstTopicsDigestTagsList(e);return o.a.getTagNamesFromTopicsList(t)}),I=Object(n.createSelector)([C],e=>e&&o.a.getFirstNewTopicPostCreatedSince(e)),T=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.FETCHING_TOPIC_MESSAGES])),k=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.TOPIC_MESSAGES_TOTAL_COUNT])),O=Object(n.createSelector)([r.u],e=>e&&e.getIn([s.a.BELL_NOTIFICATIONS,s.a.LAST_FETCHED_TOPIC_MESSAGES_PAGE])||0)},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatShortWeekday=t.formatWeekday=t.formatMonth=t.formatMonthYear=t.formatLongDate=t.formatDate=void 0;var n,r=(n=a(1731))&&n.__esModule?n:{default:n};function s(e){return function(t,a){return function(e){return function(t,a){return a.toLocaleString(t||(0,r.default)(),e)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(a))}}var i=s({day:"numeric",month:"numeric",year:"numeric"});t.formatDate=i;var o=s({day:"numeric",month:"long",year:"numeric"});t.formatLongDate=o;var l=s({month:"long",year:"numeric"});t.formatMonthYear=l;var c=s({month:"long"});t.formatMonth=c;var d=s({weekday:"long"});t.formatWeekday=d;var u=s({weekday:"short"});t.formatShortWeekday=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=l(a(4)),r=l(a(2)),s=l(a(1481)),i=a(1632),o=a(1209);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function p(e){for(var t=e.className,a=e.count,r=e.dateTransform,o=e.dateType,l=e.end,c=e.hover,d=e.offset,p=e.start,m=e.step,g=e.tile,f=e.value,b=e.valueType,E=h(e,["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"]),y=[],S=p;S<=l;S+=m){var v=r(S);y.push(n.default.createElement(g,u({key:v.getTime(),classes:(0,i.getTileClasses)({value:f,valueType:b,date:v,dateType:o,hover:c}),date:v,point:S},E)))}return n.default.createElement(s.default,{className:t,count:a,offset:d,wrap:!0},y)}p.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o.tileGroupProps,{activeStartDate:r.default.instanceOf(Date),count:r.default.number,dateTransform:r.default.func.isRequired,offset:r.default.number,step:r.default.number,tile:r.default.func.isRequired}),p.defaultProps={count:3,step:1}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(4)),r=o(a(2)),s=o(a(1631)),i=a(1209);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?m(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var b=function(e){function t(){var e,a;d(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return f(m(a=h(this,(e=p(t)).call.apply(e,[this].concat(r)))),"state",{}),a}var a,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),a=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.date,n=e.tileClassName,r=e.tileContent,s=e.view,i={};return n!==t.tileClassNameProps&&(i.tileClassName="function"===typeof n?n({date:a,view:s}):n,i.tileClassNameProps=n),r!==t.tileContentProps&&(i.tileContent="function"===typeof r?r({date:a,view:s}):r,i.tileContentProps=r),i}}],(r=[{key:"render",value:function(){var e=this.props,t=e.activeStartDate,a=e.children,r=e.classes,i=e.date,o=e.formatAbbr,l=e.locale,c=e.maxDate,d=e.maxDateTransform,u=e.minDate,h=e.minDateTransform,p=e.onClick,m=e.onMouseOver,g=e.style,f=e.tileDisabled,b=e.view,E=this.state,y=E.tileClassName,S=E.tileContent;return n.default.createElement("button",{className:(0,s.default)(r,y),disabled:u&&h(u)>i||c&&d(c)<i||f&&f({activeStartDate:t,date:i,view:b}),onClick:p&&function(){return p(i)},onFocus:m&&function(){return m(i)},onMouseOver:m&&function(){return m(i)},style:g,type:"button"},o?n.default.createElement("abbr",{"aria-label":o(l,i)},a):a,S)}}])&&u(a.prototype,r),i&&u(a,i),t}(n.Component);t.default=b,b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i.tileProps,{children:r.default.node.isRequired,formatAbbr:r.default.func,maxDateTransform:r.default.func.isRequired,minDateTransform:r.default.func.isRequired})},function(e,t,a){e.exports=function(e,t,a,n,r,s,i,o,l,c){"use strict";function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t,a=1;a<arguments.length;a++)t=null==arguments[a]?{}:arguments[a],a%2?d(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}));return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,a=a&&a.hasOwnProperty("default")?a.default:a,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,s=s&&s.hasOwnProperty("default")?s.default:s,i=i&&i.hasOwnProperty("default")?i.default:i,o=o&&o.hasOwnProperty("default")?o.default:o;var h="default"in l?l.default:l,p={},m=(c.node,c.node,c.bool,c.string,c.oneOfType([c.string,c.array]),c.func,c.func,c.func,function(l){function c(e){var a;t(this,c),a=n(this,r(c).call(this,e)),o(s(a),"srcToArray",(function(e){return(Array.isArray(e)?e:[e]).filter((function(e){return e}))})),o(s(a),"onLoad",(function(){p[a.sourceList[a.state.currentIndex]]=!0,a.i&&a.setState({isLoaded:!0})})),o(s(a),"onError",(function(){if(p[a.sourceList[a.state.currentIndex]]=!1,!a.i)return!1;for(var e,t=a.state.currentIndex+1;t<a.sourceList.length;t++){if(!((e=a.sourceList[t])in p)){a.setState({currentIndex:t});break}if(!0===p[e])return a.setState({currentIndex:t,isLoading:!1,isLoaded:!0}),!0;p[e]}return t===a.sourceList.length?a.setState({isLoading:!1}):void a.loadImg()})),o(s(a),"loadImg",(function(){a.i=new Image,a.i.src=a.sourceList[a.state.currentIndex],a.props.crossorigin&&(a.i.crossOrigin=a.props.crossorigin),a.props.decode&&a.i.decode?a.i.decode().then(a.onLoad).catch(a.onError):(a.i.onload=a.onLoad,a.i.onerror=a.onError)})),o(s(a),"unloadImg",(function(){a.i.onerror=null,a.i.onload=null,a.i.src="";try{delete a.i.src}catch(e){}delete a.i})),a.loaderContainer=e.loaderContainer||e.container,a.unloaderContainer=e.unloaderContainer||e.container,a.sourceList=a.srcToArray(a.props.src);for(var i=0;i<a.sourceList.length&&a.sourceList[i]in p;i++)if(!0===p[a.sourceList[i]])return a.state={currentIndex:i,isLoading:!1,isLoaded:!0},n(a);return a.state=a.sourceList.length?{currentIndex:0,isLoading:!0,isLoaded:!1}:{isLoading:!1,isLoaded:!1},a}return i(c,l),a(c,[{key:"componentDidMount",value:function(){this.state.isLoading&&this.loadImg()}},{key:"componentWillUnmount",value:function(){this.i&&this.unloadImg()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.loaderContainer=e.loaderContainer||e.container,this.unloaderContainer=e.unloaderContainer||e.container;var a=this.srcToArray(e.src),n=a.filter((function(e){return-1===t.sourceList.indexOf(e)})),r=this.sourceList.filter((function(e){return-1===a.indexOf(e)}));if(n.length||r.length){if(this.sourceList=a,!a.length)return this.setState({isLoading:!1,isLoaded:!1});this.setState({currentIndex:0,isLoading:!0,isLoaded:!1},this.loadImg)}}},{key:"render",value:function(){var t=this.props,a=t.container,n=t.loader,r=t.unloader,s=(t.src,t.decode,t.loaderContainer,t.unloaderContainer,t.mockImage,e(t,["container","loader","unloader","src","decode","loaderContainer","unloaderContainer","mockImage"]));if(this.state.isLoaded){var i=u({},{src:this.sourceList[this.state.currentIndex]},{},s);return a(h.createElement("img",i))}return!this.state.isLoaded&&this.state.isLoading?n?this.loaderContainer(n):null:this.state.isLoaded||this.state.isLoading?void 0:r?this.unloaderContainer(r):null}}]),c}(l.Component));return o(m,"defaultProps",{loader:!1,unloader:!1,decode:!0,src:[],container:function(e){return e}}),m.propTypes={},m}(a(1508),a(1509),a(1510),a(1511),a(1512),a(1286),a(1513),a(1451),a(4),a(2))},function(e,t,a){"use strict";t.a={ONE_DRIVE:"microsoft-onedrive",ONE_DRIVE_CONNECT:"connect-with-onedrive-office365",GDRIVE:"gdocs",GDRIVE_OVERVIEW:"gDocsFeatureUpdate",ONE_DRIVE_DISCONNECT:"disconnectOneDriveAccount",GDRIVE_DISCONNECT:"disconnectGoogleAccount",DISCONNECT:"disconnectAccount",GDRIVE_ERR:"connectGoogleError",GDRIVE_ERR_INSTRUCTIONS:"connectGoogleErrorInstructions",DISCONNECT_CONFIRM:"gDocsRemoveConf1",YES_DISCONNECT:"yesDisconnectGdocs",CANCEL:"admin_pages,cancel"}},,,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return m})),a.d(t,"e",(function(){return g})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"h",(function(){return E}));var n=a(9),r=a(1),s=a(28),i=a(256);const o=Object(n.createSelector)([s.O],e=>e&&e.get(r.a.GOOGLE_DRIVE_ERROR)),l=Object(n.createSelector)([s.O],e=>e&&e.get(r.a.GOOGLE_DRIVE_FILES)),c=(Object(n.createSelector)([s.O],e=>e&&e.getIn([r.a.GOOGLE_DRIVE_FILE,"parents"])),Object(n.createSelector)([s.O],e=>e&&e.getIn([r.a.GOOGLE_DRIVE_FILES]))),d=Object(n.createSelector)([c],e=>e&&i.a.getFolders(e)),u=Object(n.createSelector)([c],e=>e&&i.a.getFiles(e)),h=Object(n.createSelector)([s.bb,(e,t)=>t&&t.name],(e,t)=>e&&e.getIn([r.a.SELECTED_ATTACHMENT_LIST,t])),p=Object(n.createSelector)([h],e=>e&&e.filter(e=>e)),m=Object(n.createSelector)([c,p],(e,t)=>{const a=t&&t.keySeq().toArray();return a&&a.map(t=>e&&e.get(t))}),g=Object(n.createSelector)([u],e=>{const t=i.a.sortByModifiedDate(e);return t&&t.valueSeq()}),f=Object(n.createSelector)([u],e=>{const t=i.a.sortByName(e);return t&&t.valueSeq()}),b=Object(n.createSelector)([d],e=>{const t=i.a.sortByModifiedDate(e);return t&&t.valueSeq()}),E=Object(n.createSelector)([d],e=>{const t=i.a.sortByName(e);return t&&t.valueSeq()})},,,,function(e,t,a){},,,function(e,t,a){var n=a(513),r=a(1357);e.exports=function(e){return r(n(e).toLowerCase())}},function(e,t,a){var n=a(1358)("toUpperCase");e.exports=n},function(e,t,a){var n=a(1359),r=a(1276),s=a(1361),i=a(513);e.exports=function(e){return function(t){t=i(t);var a=r(t)?s(t):void 0,o=a?a[0]:t.charAt(0),l=a?n(a,1).join(""):t.slice(1);return o[e]()+l}}},function(e,t,a){var n=a(1360);e.exports=function(e,t,a){var r=e.length;return a=void 0===a?r:a,!t&&a>=r?e:n(e,t,a)}},function(e,t){e.exports=function(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(a=a>r?r:a)<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var s=Array(r);++n<r;)s[n]=e[n+t];return s}},function(e,t,a){var n=a(1362),r=a(1276),s=a(1363);e.exports=function(e){return r(e)?s(e):n(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var a="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+r+")"+"?",c="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[s,i,o].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),d="(?:"+[s+n+"?",n,i,o,a].join("|")+")",u=RegExp(r+"(?="+r+")|"+d+c,"g");e.exports=function(e){return e.match(u)||[]}},function(e,t,a){var n=a(1365),r=a(1366),s=a(1369),i=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return n(s(r(t).replace(i,"")),e,"")}}},function(e,t){e.exports=function(e,t,a,n){var r=-1,s=null==e?0:e.length;for(n&&s&&(a=e[++r]);++r<s;)a=t(a,e[r],r,e);return a}},function(e,t,a){var n=a(1367),r=a(513),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(s,n).replace(i,"")}},function(e,t,a){var n=a(1368)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=n},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,a){var n=a(1370),r=a(1371),s=a(513),i=a(1372);e.exports=function(e,t,a){return e=s(e),void 0===(t=a?void 0:t)?r(e)?i(e):n(e):e.match(t)||[]}},function(e,t){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(a)||[]}},function(e,t){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return a.test(e)}},function(e,t){var a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+a+"]",r="\\d+",s="[\\u2700-\\u27bf]",i="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+a+r+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",d="[A-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:"+i+"|"+o+")",h="(?:"+d+"|"+o+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",m="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,c].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),g="(?:"+[s,l,c].join("|")+")"+m,f=RegExp([d+"?"+i+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[n,d,"$"].join("|")+")",h+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[n,d+u,"$"].join("|")+")",d+"?"+u+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",d+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,g].join("|"),"g");e.exports=function(e){return e.match(f)||[]}},,,,,,,,,,,function(e,t,a){var n=a(1356),r=a(1364)((function(e,t,a){return t=t.toLowerCase(),e+(a?n(t):t)}));e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var n={"./ActivinspireIcon":[1384,9,39],"./ActivinspireIcon.js":[1384,9,39],"./ActivityIcon":[1385,9,40],"./ActivityIcon.js":[1385,9,40],"./AddBackpackIcon":[1386,9,41],"./AddBackpackIcon.js":[1386,9,41],"./AddGroupIcon":[1227,9,42],"./AddGroupIcon.js":[1227,9,42],"./AddLibraryIcon":[1387,9,43],"./AddLibraryIcon.js":[1387,9,43],"./AddMemberIcon":[1388,9,44],"./AddMemberIcon.js":[1388,9,44],"./AddMembersIcon":[1254,9,45],"./AddMembersIcon.js":[1254,9,45],"./AddedBackpackIcon":[1389,9,46],"./AddedBackpackIcon.js":[1389,9,46],"./ArchiveIcon":[1390,9,47],"./ArchiveIcon.js":[1390,9,47],"./ArrowLeftIcon":[1391,9,48],"./ArrowLeftIcon.js":[1391,9,48],"./ArrowRightIcon":[1392,9,49],"./ArrowRightIcon.js":[1392,9,49],"./AssignmentCenterIcon":[1225,9,50],"./AssignmentCenterIcon.js":[1225,9,50],"./AssignmentIcon":[1256,9,51],"./AssignmentIcon.js":[1256,9,51],"./AudioIcon":[1393,9,52],"./AudioIcon.js":[1393,9,52],"./BackpackIcon":[1220,9,53],"./BackpackIcon.js":[1220,9,53],"./BellIcon":[1224,9,54],"./BellIcon.js":[1224,9,54],"./BellOffIcon":[1394,9,55],"./BellOffIcon.js":[1394,9,55],"./BreadcrumbFolderIcon":[1395,9,56],"./BreadcrumbFolderIcon.js":[1395,9,56],"./BroadcastingIcon":[1396,9,57],"./BroadcastingIcon.js":[1396,9,57],"./CalendarIcon":[1397,9,58],"./CalendarIcon.js":[1397,9,58],"./CameraIcon":[1292,9,59],"./CameraIcon.js":[1292,9,59],"./CartIcon":[1398,9,60],"./CartIcon.js":[1398,9,60],"./ChatBubblesIcon":[1399,9,61],"./ChatBubblesIcon.js":[1399,9,61],"./ChatIcon":[1230,9,62],"./ChatIcon.js":[1230,9,62],"./CheckCircleIcon":[1306,9,63],"./CheckCircleIcon.js":[1306,9,63],"./CheckIcon":[1212,9,64],"./CheckIcon.js":[1212,9,64],"./CheckboxOffIcon":[1273,9,65],"./CheckboxOffIcon.js":[1273,9,65],"./CheckboxOnIcon":[1274,9,66],"./CheckboxOnIcon.js":[1274,9,66],"./ClassIcon":[1240,9,67],"./ClassIcon.js":[1240,9,67],"./ClipIcon":[1285,9,68],"./ClipIcon.js":[1285,9,68],"./Clipboard":[1400,9,69],"./Clipboard.js":[1400,9,69],"./ClockIcon":[1401,9,70],"./ClockIcon.js":[1401,9,70],"./CodeIcon":[1342,9,71],"./CodeIcon.js":[1342,9,71],"./ColorPickerIcon":[1402,9,72],"./ColorPickerIcon.js":[1402,9,72],"./CopyIcon":[1377,9,73],"./CopyIcon.js":[1377,9,73],"./CopyIconSlim":[1403,9,74],"./CopyIconSlim.js":[1403,9,74],"./DistrictCircleIcon":[1404,9,75],"./DistrictCircleIcon.js":[1404,9,75],"./DistrictIcon":[1307,9,76],"./DistrictIcon.js":[1307,9,76],"./DownIcon":[1248,9,77],"./DownIcon.js":[1248,9,77],"./DownloadIcon":[1350,9,78],"./DownloadIcon.js":[1350,9,78],"./DragHandleIcon":[1234,9,79],"./DragHandleIcon.js":[1234,9,79],"./EdmodoOutlineIcon":[1300,9,80],"./EdmodoOutlineIcon.js":[1300,9,80],"./EllipsisIcon":[1215,9,81],"./EllipsisIcon.js":[1215,9,81],"./EmojiIcon":[1262,9,82],"./EmojiIcon.js":[1262,9,82],"./EventIcon":[1405,9,83],"./EventIcon.js":[1405,9,83],"./ExcelIcon":[1375,9,84],"./ExcelIcon.js":[1375,9,84],"./ExpandIcon":[1351,9,85],"./ExpandIcon.js":[1351,9,85],"./EyeIcon":[1345,9,86],"./EyeIcon.js":[1345,9,86],"./EyeLockIcon":[1406,9,87],"./EyeLockIcon.js":[1406,9,87],"./EyeOffIcon":[1407,9,88],"./EyeOffIcon.js":[1407,9,88],"./FacebookCircleIcon":[1302,9,89],"./FacebookCircleIcon.js":[1302,9,89],"./FileIcon":[1293,9,90],"./FileIcon.js":[1293,9,90],"./FileIconColored":[1408,9,91],"./FileIconColored.js":[1408,9,91],"./FilterIcon":[1409,9,92],"./FilterIcon.js":[1409,9,92],"./FlagIcon":[1410,9,93],"./FlagIcon.js":[1410,9,93],"./FlameIcon":[1252,9,94],"./FlameIcon.js":[1252,9,94],"./FolderIcon":[1382,9,95],"./FolderIcon.js":[1382,9,95],"./FormattingIcon":[1312,9,96],"./FormattingIcon.js":[1312,9,96],"./GearIcon":[1241,9,97],"./GearIcon.js":[1241,9,97],"./GhostIcon":[1411,9,98],"./GhostIcon.js":[1411,9,98],"./GifIcon":[1412,9,99],"./GifIcon.js":[1412,9,99],"./GiphyLogoIcon":[1413,9,100],"./GiphyLogoIcon.js":[1413,9,100],"./GlobeIcon":[1244,9,101],"./GlobeIcon.js":[1244,9,101],"./GoogleDocumentIcon":[1414,9,102],"./GoogleDocumentIcon.js":[1414,9,102],"./GoogleDrawingIcon":[1415,9,103],"./GoogleDrawingIcon.js":[1415,9,103],"./GoogleFormIcon":[1416,9,104],"./GoogleFormIcon.js":[1416,9,104],"./GooglePresentationIcon":[1417,9,105],"./GooglePresentationIcon.js":[1417,9,105],"./GoogleSitesIcon":[1418,9,106],"./GoogleSitesIcon.js":[1418,9,106],"./GoogleSpreadsheetIcon":[1419,9,107],"./GoogleSpreadsheetIcon.js":[1419,9,107],"./GroupIcon":[1258,9,108],"./GroupIcon.js":[1258,9,108],"./HamburgerIcon":[1257,9,109],"./HamburgerIcon.js":[1257,9,109],"./ImageIcon":[1290,9,110],"./ImageIcon.js":[1290,9,110],"./InfoCircleIcon":[1341,9,111],"./InfoCircleIcon.js":[1341,9,111],"./LeftIcon":[1355,9,112],"./LeftIcon.js":[1355,9,112],"./LibraryIcon":[1219,9,113],"./LibraryIcon.js":[1219,9,113],"./LinkFileIcon":[1420,9,114],"./LinkFileIcon.js":[1420,9,114],"./LinkIcon":[1275,9,115],"./LinkIcon.js":[1275,9,115],"./LocationIcon":[1381,9,116],"./LocationIcon.js":[1381,9,116],"./LocationPinIcon":[1421,9,117],"./LocationPinIcon.js":[1421,9,117],"./LockIcon":[1352,9,118],"./LockIcon.js":[1352,9,118],"./LockSlimIcon":[1422,9,119],"./LockSlimIcon.js":[1422,9,119],"./LockUnlockedIcon":[1423,9,120],"./LockUnlockedIcon.js":[1423,9,120],"./LogoIcon":[1223,9,121],"./LogoIcon.js":[1223,9,121],"./LogoutIcon":[1261,9,122],"./LogoutIcon.js":[1261,9,122],"./MessageIcon":[1380,9,123],"./MessageIcon.js":[1380,9,123],"./MoveIcon":[1424,9,124],"./MoveIcon.js":[1424,9,124],"./NetworkIcon":[1243,9,125],"./NetworkIcon.js":[1243,9,125],"./PdfIcon":[1425,9,126],"./PdfIcon.js":[1425,9,126],"./PencilIcon":[1373,9,127],"./PencilIcon.js":[1373,9,127],"./PencilPlusIcon":[1426,9,128],"./PencilPlusIcon.js":[1426,9,128],"./PinIcon":[1427,9,129],"./PinIcon.js":[1427,9,129],"./PlayArrowIcon":[1428,9,130],"./PlayArrowIcon.js":[1428,9,130],"./PlusIcon":[1222,9,131],"./PlusIcon.js":[1222,9,131],"./PollIcon":[1429,9,132],"./PollIcon.js":[1429,9,132],"./PowerPointIcon":[1376,9,133],"./PowerPointIcon.js":[1376,9,133],"./PrinterIcon":[1430,9,134],"./PrinterIcon.js":[1430,9,134],"./ProfileIcon":[1260,9,135],"./ProfileIcon.js":[1260,9,135],"./QuestionCircleIcon":[1250,9,136],"./QuestionCircleIcon.js":[1250,9,136],"./QuizIcon":[1259,9,137],"./QuizIcon.js":[1259,9,137],"./RadioOffIcon":[1270,9,138],"./RadioOffIcon.js":[1270,9,138],"./RadioOnIcon":[1272,9,139],"./RadioOnIcon.js":[1272,9,139],"./ReloadIcon":[1432,9,141],"./ReloadIcon copy":[1431,9,140],"./ReloadIcon copy.js":[1431,9,140],"./ReloadIcon.js":[1432,9,141],"./ReplyIcon":[1309,9,142],"./ReplyIcon.js":[1309,9,142],"./RightIcon":[1378,9,143],"./RightIcon.js":[1378,9,143],"./RocketIcon":[1239,9,144],"./RocketIcon.js":[1239,9,144],"./SchoolCircleIcon":[1433,9,145],"./SchoolCircleIcon.js":[1433,9,145],"./SchoolIcon":[1301,9,146],"./SchoolIcon.js":[1301,9,146],"./SearchIcon":[1434,9,147],"./SearchIcon.js":[1434,9,147],"./ShareIcon":[1281,9,148],"./ShareIcon.js":[1281,9,148],"./ShieldIcon":[1245,9,149],"./ShieldIcon.js":[1245,9,149],"./SketchpadIcon":[1435,9,150],"./SketchpadIcon.js":[1435,9,150],"./SmallIcon":[1436,9,151],"./SmallIcon.js":[1436,9,151],"./SnapshotIcon":[1437,9,152],"./SnapshotIcon.js":[1437,9,152],"./SpotlightIcon":[1438,9,153],"./SpotlightIcon.js":[1438,9,153],"./SquareIcon":[1439,9,154],"./SquareIcon.js":[1439,9,154],"./StarIcon":[1242,9,155],"./StarIcon.js":[1242,9,155],"./StarStrokeIcon":[1440,9,156],"./StarStrokeIcon.js":[1440,9,156],"./StickerIcon":[1226,9,157],"./StickerIcon.js":[1226,9,157],"./SwapHorizIcon":[1379,9,158],"./SwapHorizIcon.js":[1379,9,158],"./SwapVertIcon":[1441,9,159],"./SwapVertIcon.js":[1441,9,159],"./TagIcon":[1442,9,160],"./TagIcon.js":[1442,9,160],"./TaskIcon":[1443,9,161],"./TaskIcon.js":[1443,9,161],"./ThumbIcon":[1308,9,162],"./ThumbIcon.js":[1308,9,162],"./TilesIcon":[1255,9,163],"./TilesIcon.js":[1255,9,163],"./TimeIcon":[1344,9,164],"./TimeIcon.js":[1344,9,164],"./TrashIcon":[1343,9,165],"./TrashIcon.js":[1343,9,165],"./TriangleDownIcon":[1444,9,166],"./TriangleDownIcon.js":[1444,9,166],"./TriangleUpIcon":[1445,9,167],"./TriangleUpIcon.js":[1445,9,167],"./TrophyIcon":[1446,9,168],"./TrophyIcon.js":[1446,9,168],"./TwitterCircleIcon":[1303,9,169],"./TwitterCircleIcon.js":[1303,9,169],"./UnlockSlimIcon":[1447,9,170],"./UnlockSlimIcon.js":[1447,9,170],"./UnlockedIcon":[1448,9,171],"./UnlockedIcon.js":[1448,9,171],"./UpIcon":[1249,9,172],"./UpIcon.js":[1249,9,172],"./VertBarIcon":[1449,9,173],"./VertBarIcon.js":[1449,9,173],"./VideoIcon":[1304,9,174],"./VideoIcon.js":[1304,9,174],"./WarningIcon":[1354,9,175],"./WarningIcon.js":[1354,9,175],"./WordIcon":[1374,9,176],"./WordIcon.js":[1374,9,176],"./XIcon":[1206,9],"./XIcon.js":[1206,9],"./chat_messages/illustrations2schat.png":[1710,7,354],"./chat_messages/illustrations2schat@2x.png":[1711,7,355],"./chat_messages/illustrations2schat@3x.png":[1712,7,356],"./messages/eyelock-small.png":[1713,7,357],"./messages/eyelock-small@2x.png":[1709,7,358],"./messages/eyelock-tiny.png":[1714,7,359],"./messages/eyelock-tiny@2x.png":[1708,7,360],"./resource_types/course.png":[1715,7,361],"./resource_types/doc.png":[1716,7,362],"./resource_types/link.png":[1717,7,363],"./resource_types/pdf.png":[1718,7,364],"./resource_types/ppt.png":[1719,7,365]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(2).map(a.e)).then((function(){return a.t(r,t[1])}))}r.keys=function(){return Object.keys(n)},r.id=1450,e.exports=r},,function(e,t,a){"use strict";t.a={Breakpoints:{EXTRA_SMALL:0,SMALL:576,MEDIUM:768,LARGE:992,EXTRA_LARGE:1140}}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156);t.a=({isDeleteModalOpen:e,textConstant:t,messageId:a,replyId:n,toggle:o,close:l,handleDeleteConfirm:c,itemToDeleteId:d,groupId:u,isMultipleSelected:h,handleDeleteMultipleItemsConfirm:p})=>r.a.createElement("div",null,r.a.createElement(s.M,{isOpen:e,toggle:o,className:"composer-library-modal"},r.a.createElement(s.P,{toggle:l},r.a.createElement(i.default,{string:"delete",fallbackString:"Delete"})),r.a.createElement(s.N,null,r.a.createElement("div",{className:"delete-modal-body"},r.a.createElement("div",{className:"delete-modal-image"}),r.a.createElement("div",{className:"delete-modal-strong"},r.a.createElement(i.default,{string:"are-you-sure",fallbackString:"Are you sure?"})),r.a.createElement("p",{className:"delete-modal-warning"},t))),r.a.createElement(s.O,{className:"move-modal-footer"},r.a.createElement("button",{className:"qa-test-move-item-cancel move-item-cancel btn",onClick:l},r.a.createElement(i.default,{string:"admin_pages,cancel",fallbackString:"Cancel"})),r.a.createElement("button",{className:"qa-test-delete-red-btn delete-item-confirm btn","data-id":a,"data-replyid":n,"data-itemtodeleteid":d,"data-groupid":u,onClick:e=>{h?p():c(e)}},r.a.createElement(i.default,{string:"delete",fallbackString:"Delete"})))))},function(e,t,a){},,function(e,t,a){"use strict";t.a=class{static truncateText(e,t=35){if("string"===typeof e){const a=e.split(" ");return a.length<=t?e:"".concat(a.slice(0,t).join(" "),"...")}}}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,a){"use strict";a.r(t),a.d(t,"createQuizSuccessAction",(function(){return p})),a.d(t,"createQuizFailureAction",(function(){return m})),a.d(t,"updateQuizSuccessAction",(function(){return g})),a.d(t,"updateQuizFailureAction",(function(){return f})),a.d(t,"fetchQuizContentsSuccessAction",(function(){return b})),a.d(t,"fetchQuizContentsFailureAction",(function(){return E})),a.d(t,"createQuizCompletedAction",(function(){return y})),a.d(t,"deleteQuizSuccessAction",(function(){return S})),a.d(t,"deleteQuizFailureAction",(function(){return v})),a.d(t,"setQuizList",(function(){return C})),a.d(t,"createQuiz",(function(){return A})),a.d(t,"updateQuiz",(function(){return I})),a.d(t,"assignQuizFromLibrary",(function(){return T})),a.d(t,"fetchQuizContents",(function(){return k})),a.d(t,"softDelete",(function(){return O})),a.d(t,"DeleteQuiz",(function(){return _})),a.d(t,"fetchQuizList",(function(){return M}));var n=a(1466),r=a(435),s=a(63),i=a(36),o=a(253),l=a(1263),c=a(1324),d=a(46),u=a(259),h=a(7);const p=(e,t)=>({type:u.a.QUIZ_CREATION_SUCCESS,payload:{message:e,groupId:t}}),m=e=>({type:u.a.QUIZ_CREATION_FAILURE,payload:e}),g=e=>({type:u.a.QUIZ_UPDATE_SUCCESS,payload:e}),f=e=>({type:u.a.QUIZ_UPDATE_FAILURE,payload:e}),b=e=>({type:u.a.FETCH_QUIZ_CONTENTS_SUCCESS,payload:e}),E=e=>({type:u.a.FETCH_QUIZ_CONTENTS_FAILURE,payload:e}),y=()=>({type:h.a.COMPLETED_QUIZ_REQUEST,payload:""}),S=e=>({type:u.a.DELETE_QUIZ_SUCCESS,payload:e}),v=e=>({type:u.a.DELETE_QUIZ_FAILURE,payload:e}),C=(e,t,a)=>({type:u.a.SET_QUIZ_LIST,payload:{resp:e,headers:t,loadMore:a}}),A=e=>function(t,a){const r=s.a(a),l=r.configInfo,c=r.accessToken,u=r.currentUserId;return n.c(l,c,e).then(a=>{if(a.data.user_can_grade=a.data.quiz_content&&a.data.quiz_content.creator&&a.data.quiz_content.creator.id===u,!(a.data&&a.data.recipients&&a.data.recipients.groups))return t(p(a.data)),Promise.resolve(a.data);for(let n in a.data.recipients.groups){const r=a.data.recipients.groups[n],s=r&&r.id;t(p(a.data,s)),e&&e.post_at&&t(o.fetchScheduledPosts(s))}e&&e.post_at&&(t(o.incrementScheduledCountAction()),t(o.scheduledPostsAddedAction(!0)),t(Object(d.showSuccessGlobalAlert)("scheduled-posts-send-message","Your post has been scheduled.")))}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status?t(m(e)):i.a.notifyBugsnag(e,"QuizzesActionCreator.createQuiz")})},I=(e,t)=>function(a,r){const o=s.a(r),l=o.configInfo,c=o.accessToken;n.k(l,c,e,t).then(e=>{a(g(e.data))}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status?a(f(e)):i.a.notifyBugsnag(e,"QuizzesActionCreator.updateQuiz")})},T=(e,t=!1)=>function(a,r){const o=s.a(r),d=o.configInfo,u=o.accessToken;return n.b(d,u,e).then(e=>(a(l.showQuizAssignedModal(e.data,t)),a(c.trackQuizAssign({status:"success"})),Promise.resolve(e.data))).catch(e=>{a(c.trackQuizAssign({status:"fail"})),e&&e.response&&404===e.response.status?a(m(e)):i.a.notifyBugsnag(e,"QuizzesActionCreator.assignQuizFromLibrary")})},k=(e,t={})=>function(a,r){const o=s.a(r),l=o.configInfo,c=o.accessToken;n.h(l,c,e,t).then(e=>{a(b(e.data))}).catch(e=>{console.log(e),e&&e.response&&404===e.response.status?a(E(e)):i.a.notifyBugsnag(e,"QuizzesActionCreator.fetchQuizContents")})},O=(e,t)=>function(a,r){const i=s.a(r),o=i.configInfo,l=i.accessToken;n.j(o,l,e,t).then(e=>{a(S(e.data))}).catch(e=>{e&&e.response&&(a(v(e)),console.log(e))})},_=e=>function(t,a){const r=s.a(a),i=r.configInfo,o=r.accessToken;n.a(i,o,e).then(e=>{t(S(e.data))}).catch(e=>{e&&e.response&&(t(v(e)),console.log(e))})},M=(e,t)=>function(a){r.f(e).then(e=>{a(C(e.data,e.headers,t))}).catch(e=>{console.log(e),i.a.notifyBugsnag(e,"QuizzesActionCreator.fetchQuizContents")})}},function(e,t,a){"use strict";var n=a(65);t.a=class{static getKaTextStylesheet(){!function(e,t,a){let n,r=e.getElementsByTagName(t)[0];e.getElementById(a)||(n=e.createElement(t),n.id=a,n.rel="stylesheet",n.href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css",r.parentNode.insertBefore(n,r))}(document,"link","katex-styles")}static getFBSDK(){window.fbAsyncInit=function(){window.FB.init({appId:n.b.facebookAppId,xfbml:!0,version:"v3.3"}),window.FB.AppEvents.logPageView()},function(e,t,a){var n,r=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk")}static getTwitterSDK(){window.twttr=function(e,t,a){var n,r=e.getElementsByTagName(t)[0],s=window.twttr||{};return e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(n,r),s._e=[],s.ready=function(e){s._e.push(e)}),s}(document,"script","twitter-wjs")}}},function(e,t,a){"use strict";a.r(t),a.d(t,"createAssignmentSuccessAction",(function(){return d})),a.d(t,"createAssignmentFailureAction",(function(){return u})),a.d(t,"createAssignmentCompletedAction",(function(){return h})),a.d(t,"updateAssignmentSuccessAction",(function(){return p})),a.d(t,"updateAssignmentFailureAction",(function(){return m})),a.d(t,"createAssignment",(function(){return g})),a.d(t,"assignmentFromLibrary",(function(){return f})),a.d(t,"updatePostAssignment",(function(){return b}));var n=a(1628),r=a(63),s=a(7),i=a(27),o=a(253),l=a(46),c=a(36);const d=(e,t)=>({type:i.a.ASSIGNMENT_CREATION_SUCCESS,payload:{assignment:e,groupId:t}}),u=e=>({type:i.a.ASSIGNMENT_CREATION_FAILURE,payload:e}),h=()=>({type:s.a.COMPLETED_ASSIGNMENTS_REQUEST,payload:""}),p=(e,t,a)=>({type:i.a.ASSIGNMENT_UPDATE_SUCCESS,payload:{data:e,groupId:t,streamName:a,messageId:e.id}}),m=e=>({type:i.a.ASSIGNMENT_UPDATE_FAILURE,payload:e}),g=(e,t)=>function(a,s){const i=r.a(s).currentUserId;n.b(e).then(n=>{n.data.user_can_grade=n.data.creator&&n.data.creator.id===i,e.recipients&&e.recipients.groups?a(d(n.data,t)):a(d(n.data,null)),e&&e.post_at&&(a(o.incrementScheduledCountAction()),a(o.scheduledPostsAddedAction(!0)),a(o.fetchScheduledPosts(t)),a(Object(l.showSuccessGlobalAlert)("scheduled-posts-send-message","Your post has been scheduled.")))}).catch(e=>{e&&e.response&&404===e.response.status&&(a(u(e)),c.a.notifyBugsnag(e,"AssignmentActionCreator.createAssignment"))})},f=e=>function(t,a){return n.a(e).then(e=>(t(Object(l.showSuccessGlobalAlert)("msg-item-sent","The item has been sent")),Promise.resolve(e.data))).catch(e=>{e&&e.response&&404===e.response.status&&(t(u(e)),c.a.notifyBugsnag(e,"AssignmentActionCreator.assignmentFromLibrary"))})},b=(e,t,a,r)=>function(s,i){n.e(e,t).then(e=>{s(p(e.data,a,r))}).catch(e=>{s(m(e)),c.a.notifyBugsnag(e,"AssignmentActionCreator.updatePostAssignment")})}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=(a(1237),a(1463)),i=a(16),o=a(524);a(1674);let l;class c extends n.Component{constructor(e){super(e);const t=this.props,a=t.maxVisible,n=t.attachments,r=!(n&&n.count()>0)||n&&n.count()<=a,s=0===a||r;this.state={showingAll:s,moreAttachmentVisible:!1},l=e.TranslateComponent,this.toggleMoreAttachments=this.toggleMoreAttachments.bind(this)}componentDidUpdate(e){const t=this.props,a=t.maxVisible,n=t.attachments;if(a!==e.maxVisible||n!==e.attachments){const e=!(n&&n.count()>0)||n&&n.count()<=a,t=0===a||e;this.setState({showingAll:t})}}toggleMoreAttachments(){this.setState({moreAttachmentVisible:!this.state.moreAttachmentVisible})}renderNoAttachments(){return r.a.createElement("div",{className:"__attachment-list-empty-drop-container"},this.props.customMessage||r.a.createElement(l,{string:"drag-files-here",fallbackString:"Drag files here to attach them"}))}renderErrors(){const e=this.props,t=e.invalidFiles,a=e.oversizedFiles,n=e.imageErrors,s=t&&t.map((e,t)=>r.a.createElement("div",{className:"__file-attachment-invalid-file",key:"invalid-file-".concat(t)},r.a.createElement(l,{string:"file-extension-invalid",fallback:'The extension type of file "%{file}" is not allowed.',insertions:{file:e}}))),i=a&&a.map((e,t)=>r.a.createElement("div",{className:"__file-attachment-invalid-file",key:"oversized-file-".concat(t)},r.a.createElement(l,{string:"file-too-large",fallback:'The file size for file "%{file}" is too large.',insertions:{file:e}}))),o=n&&n.map((e,t)=>r.a.createElement("div",{className:"__file-attachment-invalid-file",key:t},r.a.createElement(l,{string:"file-not-valid-image",fallback:"The file <strong>%{file}</strong> is not a valid image.",insertions:{file:e},parseHtml:!0})));return r.a.createElement(r.a.Fragment,null,s,i,o)}render(){const e=this.props,t=e.attachments,a=e.layout,n=e.maxVisible,i=e.userType,o=e.dragAndDropMessage,c=e.timelineId,d=e.creatorId,u=e.showMedia,h=e.onAddToLibrary,p=e.removeIconColor;if(!t||0===t.count())return this.props.editEnabled?r.a.createElement(r.a.Fragment,null,o&&this.renderNoAttachments(),this.renderErrors()):this.renderErrors();const m=t.count()-n,g=this.state.moreAttachmentVisible||this.state.showingAll?t.count():n,f=t.valueSeq().slice(0,g).map(e=>r.a.createElement(s.b,{key:e.id,attachment:e,uploadProgress:e.uploadProgress,layout:a,layoutSmall:this.props.layoutSmall,editEnabled:this.props.editEnabled,makeCopiesEnabled:this.props.makeCopiesEnabled,updateAttachment:this.props.updateAttachment,userType:i,onRemove:this.props.onRemove,onWorksheetEdit:this.props.onWorksheetEdit,timelineId:c,creatorId:d,showMedia:u,onAddToLibrary:h,removeIconColor:p,onImageError:this.props.showImageErrors&&this.props.onImageError,hideAltText:this.props.hideAltText}));return r.a.createElement("div",{className:"__attachment-list"},this.props.showCounter&&r.a.createElement("div",{className:"counter-container"},r.a.createElement("span",null,"- ",r.a.createElement(l,{string:"attachment-count",fallbackString:"%{smart_count} attachments",insertions:{smart_count:t.count()}})," -")),r.a.createElement("div",{className:"attachments"},f,this.renderErrors()),!this.state.showingAll&&t.count()>n&&r.a.createElement("div",{className:"more-container"},r.a.createElement("button",{onClick:this.toggleMoreAttachments,onTouchEnd:this.toggleMoreAttachments,className:"qa-test-attachments-toggleshow qa-test-more-button"},this.state.moreAttachmentVisible?r.a.createElement(l,{string:"hide-attachments",fallbackString:"Hide %{smart_count} attachments...",insertions:{smart_count:m}}):r.a.createElement(l,{string:"show-attachments-more",fallbackString:"Show %{smart_count} more attachments...",insertions:{smart_count:m}}))))}}c.defaultProps={attachments:null,maxVisible:0,layout:s.a.NORMAL,layoutSmall:!1,editEnabled:!1,makeCopiesEnabled:!1,userType:i.a.TEACHER,dragAndDropMessage:!0,showCounter:!0,customMessage:null,onWorksheetEdit:null,onAddToLibrary:null,showMedia:!0,showImageErrors:!1,hideAltText:!1};t.a=Object(o.a)(c)},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(1651),o=a.n(i),l=a(194);const c={ka_GE:"ka",en_GB:"en-gb",lt_LT:"lt-lt",fr_CA:"fr-ca",sr_RS:"sr-rs"},d=["da","es","en-gb","it","ru","fr","ko","zh"];t.a=Object(s.connect)((function(e){return{locale:l.h(e)}}))((function(e){let t=Object.assign({},e),a=c[t.locale]||t.locale||"en",n="US";return"ar"===a?n="Arabic":"he"===a?n="Hebrew":d.includes(a)&&(n="ISO 8601"),r.a.createElement(o.a,Object.assign({},t,{calendarType:n,locale:a}))}))},function(e,t,a){"use strict";a.d(t,"a",(function(){return H}));var n=a(4),r=a.n(n),s=a(364),i=a(375),o=a(370),l=a(388),c=a(273),d=a(198),u=a(1294),h=a(201),p=a(202),m=a(254),g=a(1204);const f=(e,t={})=>{const a=e.filetype,n=e.type;t.name=p.f(a,n),t.size=t.size||30,t.className=t.className?t.className+" icon":"icon";const s=e.url||e.linkUrl;if("link"===n&&m.a.isGoogleDoc(s)){const e=s.split("/")[3];t.name=p.e(e)||t.name}return r.a.createElement(g.a,t)},b=e=>{let t=null;return e&&e.name&&(t=r.a.createElement("span",{className:"name flexbox-overflow-prevent qa-test-attachment-title"},e.name)),t},E=e=>{return e&&e.sizeKb?(t=e.sizeKb)>1024?(t/1024).toFixed(2)+"MB":t+"KB":null;var t},y=e=>e&&e<100?r.a.createElement("div",{className:"upload"},r.a.createElement("div",{className:"upload-bar"},r.a.createElement("div",{className:"attachment-progress",style:{width:"".concat(e,"%")}}))):null,S=(e,t,a)=>e&&t&&t.isFromUpload&&a>=100?r.a.createElement("span",{className:"upload-check"},r.a.createElement("i",{className:"fas fa-check"})):null,v=(e,t,a)=>e&&e<100?"attachment-progress":null!==t?"copies":null!==a?"copies-msg":"",C=e=>{if(!e)return null;const t=h.f(e.content)||e.content;return r.a.createElement(u.a,{src:t,title:e.title,frameBorder:0,allowFullScreen:!0,className:"embed-responsive-item"})},A=(e,t)=>e&&e.title?e.linkUrl&&e.linkUrl.length>0?r.a.createElement("div",{className:"name flexbox-overflow-prevent qa-test-attachment-title",onClick:()=>{t&&t(e.type,e.original_resource_id,e.assignment_id)}},r.a.createElement("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer"},e.title)):r.a.createElement("span",{className:"name flexbox-overflow-prevent"},e.title):null,I=({editEnabled:e,uploadProgress:t,attachment:a,makeCopiesSelector:n,makeCopiesMessage:s,actions:i,Translate:o})=>{const l=a.filetype?r.a.createElement(o,{string:"file-type",fallback:"%{file_type} type",insertions:{file_type:a.filetype.toUpperCase()}}):r.a.createElement(o,{string:"unknown-file-type",fallback:"Unknown file type"});return r.a.createElement("div",{className:"main"},f(a),r.a.createElement("div",{className:"__attachment-content"},r.a.createElement("div",{className:"attachment-name"},b(a),S(e,a,t)),r.a.createElement("span",{className:"attachment-meta"},l," \u2022 ",E(a)),s&&r.a.createElement("span",{className:"makecopies-message"},r.a.createElement("span",{className:"makecopies-icon"},r.a.createElement("i",{className:"far fa-copy"})),s),a.uploadFailed?r.a.createElement("div",{className:"upload-failed"},r.a.createElement(o,{string:"file-upload-failed",fallback:"Your file failed to upload correctly. Please check your connection and try again."})):y(t)||n&&r.a.createElement("div",{className:"makecopies"},n)),r.a.createElement("div",{className:"actions"},i))},T=({editEnabled:e,uploadProgress:t,attachment:a,makeCopiesSelector:s,makeCopiesMessage:i,actions:o,Translate:l})=>r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},f(a,{size:42}),r.a.createElement("div",{className:"__attachment-content"},r.a.createElement("div",{className:"attachment-name"},b(a),r.a.createElement("span",{className:"attachment-size"},E(a)),S(e,a,t)),i&&r.a.createElement("span",{className:"makecopies-message"},r.a.createElement("span",{className:"makecopies-icon"},r.a.createElement("i",{className:"far fa-copy"})),i),r.a.createElement("div",{className:"additional ".concat(v(t,s,null))},a.uploadFailed?r.a.createElement("div",{className:"upload-failed"},r.a.createElement(l,{string:"file-upload-failed",fallback:"Your file failed to upload correctly. Please check your connection and try again."})):y(t)||s)),r.a.createElement("div",{className:"actions"},o))),k=({editEnabled:e,uploadProgress:t,attachment:a,makeCopiesSelector:s,makeCopiesMessage:i,actions:o,Translate:l})=>r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},f(a),r.a.createElement("div",{className:"__attachment-content"},r.a.createElement("div",{className:"attachment-name"},b(a),r.a.createElement("span",{className:"attachment-size"},E(a)),S(e,a,t)),a.uploadFailed?r.a.createElement("div",{className:"upload-failed"},r.a.createElement(l,{string:"file-upload-failed",fallback:"Your file failed to upload correctly. Please check your connection and try again."})):(t&&t<100||s||i)&&r.a.createElement("div",{className:"additional ".concat(v(t,s,i))},y(t)||s||i)),r.a.createElement("div",{className:"actions"},o))),O=e=>{let t=e.attachment,a=e.actions,s=e.onImageError,i=e.LayoutType,o=e.hideAltText,l=Object(d.a)(e,["attachment","actions","onImageError","LayoutType","hideAltText"]);const u=Object(n.useState)(0),h=Object(c.a)(u,2),p=h[0],m=h[1],g=Object(n.useState)(!1),f=Object(c.a)(g,2),b=f[0],E=f[1];if(Object(n.useEffect)(()=>{p>1&&s&&s(t.name,t.id)},[p,s,t.name,t.id]),p>1)return r.a.createElement(i,Object.assign({attachment:t,actions:a},l));const y=o?"-":t.name;return r.a.createElement("div",{className:"main media-preview"},r.a.createElement("a",{className:"qa-test-open-attachment-image qa-test-image-attachment __show-media-background",href:t.url,target:"_blank",rel:"noopener noreferrer",key:"".concat(p,"-").concat(b?"loaded":"")},r.a.createElement("img",{className:"__full-size",src:t.url||t.blob,alt:y,onError:()=>m(p+1),onLoad:()=>E(!0)})),a&&b&&r.a.createElement("span",{className:"actions"},a))},_=e=>{let t=e.attachment,a=e.actions,s=e.LayoutType,i=Object(d.a)(e,["attachment","actions","LayoutType"]);const o=Object(n.useState)(0),l=Object(c.a)(o,2),u=l[0],h=l[1];return u>4?r.a.createElement(s,Object.assign({attachment:t,actions:a},i)):r.a.createElement("div",{className:"main media-preview"},r.a.createElement("div",{className:"__show-media-background"},r.a.createElement("video",{key:u,className:"__full-size",controls:!0,src:t.url||t.blob,alt:t&&t.name,onError:()=>h(u+1)})),r.a.createElement("span",{className:"actions"},a))};var M=a(77);const N=({attachment:e,makeCopiesSelector:t,makeCopiesMessage:a,actions:s,onWorksheetEdit:i})=>r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},f(e),r.a.createElement("div",{className:"__attachment-content"},r.a.createElement("div",{className:"attachment-name"},A(e,i)),r.a.createElement("div",{className:"domain"},M.a.extractRootDomain(e&&e.url)),a&&r.a.createElement("span",{className:"makecopies-message"},r.a.createElement("span",{className:"makecopies-icon"},r.a.createElement("i",{className:"far fa-copy"})),a),t&&r.a.createElement("div",{className:"makecopies"},t)),r.a.createElement("div",{className:"actions"},s))),w=({attachment:e,makeCopiesSelector:t,makeCopiesMessage:a,actions:s})=>r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},f(e),r.a.createElement("div",{className:"__attachment-content"},r.a.createElement("div",{className:"attachment-name"},A(e)),t&&r.a.createElement("div",{className:"makecopies"},t)||a),r.a.createElement("div",{className:"actions"},s))),P=({attachment:e,actions:t})=>r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main embed"},r.a.createElement("div",{className:"__attachment-content embed-container"},r.a.createElement("div",{className:"embed-content embed-responsive embed-responsive-16by9"},C(e))),t&&r.a.createElement("div",{className:"actions"},t))),R=({attachment:e,actions:t})=>r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main embed"},r.a.createElement("div",{className:"__attachment-content embed-container"},t?r.a.createElement(n.Fragment,null,f(e),r.a.createElement("div",{className:"attachment-name"},r.a.createElement("span",{className:"name"},e&&e.title)),r.a.createElement("div",{className:"actions"},t)):r.a.createElement("div",{className:"embed-content embed-responsive embed-responsive-16by9"},C(e)))));var x=a(336),L=a(16),D=a(1203),F=a.n(D),U=a(524),B=(a(1672),a(1673),a(1253));let G;const j=["jpg","jpeg","gif","png"],z=["mp4","webm","ogg","mov","mkv"];class q extends n.Component{constructor(e){super(e),G=this.props.TranslateComponent,this.state={removePopoverOpen:!1,actionsDropdownOpen:!1,makeCopiesOption:e.attachment.makeCopiesOption||l.a.VIEWONLY,makeCopiesPopoverOpen:!1,runRemoveAnimation:!1},this.removeRef=null,this.setRemoveRef=e=>{this.removeRef=e},this.makeCopiesRef=null,this.setMakeCopiesRef=e=>{this.makeCopiesRef=e},this.onHoverRemove=this.onHoverRemove.bind(this),this.onHoverLeaveRemove=this.onHoverLeaveRemove.bind(this),this.hidePopoverRemove=this.hidePopoverRemove.bind(this),this.togglePopoverRemove=this.togglePopoverRemove.bind(this),this.onHoverMakeCopies=this.onHoverMakeCopies.bind(this),this.onHoverLeaveMakeCopies=this.onHoverLeaveMakeCopies.bind(this),this.hidePopoverMakeCopies=this.hidePopoverMakeCopies.bind(this),this.togglePopoverMakeCopies=this.togglePopoverMakeCopies.bind(this),this.handleAction=this.handleAction.bind(this),this.onMakeCopiesOptionSelected=this.onMakeCopiesOptionSelected.bind(this),this.handleAddToLibrary=this.handleAddToLibrary.bind(this),this.handleClick=this.handleClick.bind(this),this.getAttachmentAction=this.getAttachmentAction.bind(this),this._hidePopoverRemoveTimeout=null}componentWillUnmount(){clearTimeout(this._hidePopoverRemoveTimeout)}handleAction(e){switch(e){case x.a.Actions.REMOVE:this.removeAnimation();break;case x.a.Actions.DOWNLOAD:{const e=this.props.attachment;p.h(e.downloadUrl,e.fileName);break}case x.a.Actions.LIBRARY:this.handleAddToLibrary()}}removeAnimation(){this.setState({runRemoveAnimation:!0}),this.hidePopoverRemove()}handleRemove(){this.props.onRemove&&this.props.onRemove(this.props.attachment.id)}handleClick(e){const t=this.props,a=t.onWorksheetEdit,n=t.attachment,r=t.editEnabled,s=t.timelineId,i=t.creatorId;B.a.preventDefaultAndStopPropagation(e),this.state.makeCopiesOption===l.a.MAKECOPIES&&a?a(n.type,n.original_resource_id,n.assignment_id,s):r&&n.editUrl&&n.editUrl.length>0?M.a.openURL(M.a.addParamsIfNecessary(n.editUrl,s,i)):n.url&&n.url.length>0&&M.a.openURL(M.a.addParamsIfNecessary(n.url,s,i))}handleAddToLibrary(){this.props.onAddToLibrary?this.props.onAddToLibrary(this.props.attachment):console.log("WARNING: add to library action requested and no callback specified.")}renderLayout(){const e=this.props,t=e.attachment,a=e.layout;switch(t.type){case"embed":switch(a){case H.SLIM:return R;case H.NORMAL:default:return P}case"link":switch(a){case H.SLIM:return w;case H.NORMAL:default:return N}case"file":default:switch(a){case H.COMPACT:return T;case H.SLIM:return k;case H.NORMAL:default:return I}}}renderMediaLayout(){const e=this.props,t=e.attachment;if(e.showMedia&&t&&!t.uploadFailed&&(!t.uploadProgress||100===t.uploadProgress)){const e=p.c(t.name);if(j.includes(e))return O;if(z.includes(e))return _}return null}renderActions(e){const t=this.props,a=t.editEnabled,n=t.onRemove,r=t.onAddToLibrary;let s;return s=a?e&&e.filter(e=>!e.filter.includes("readonly")):e.filter(e=>!e.filter.includes("edit")),n||(s=s.filter(e=>e.id!==x.a.Actions.REMOVE)),([L.a.TEACHER,L.a.STUDENT].indexOf(this.props.userType)<0||!r)&&(s=s.filter(e=>e.id!==x.a.Actions.LIBRARY)),s.length>0?1===s.length&&s[0].id===x.a.Actions.REMOVE?this.renderRemoveAction(s[0]):this.renderActionsDropdown(s):null}renderRemoveAction(e){const t=this.getAttachmentAction(e.id);return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{ref:this.setRemoveRef,className:"action action-remove qa-test-attachment-remove",onClick:()=>this.handleAction(e.id),onMouseEnter:this.onHoverRemove,onMouseLeave:this.onHoverLeaveRemove},r.a.createElement(g.a,{className:"action-outline",name:t.iconName,size:20,color:this.props.removeIconColor||F.a.gray[60]})),this.removeRef&&r.a.createElement(s.Z,{placement:"top",isOpen:this.state.removePopoverOpen,target:this.removeRef,toggle:this.togglePopoverRemove},r.a.createElement(s.ab,null,r.a.createElement(G,{string:t.textKey,fallback:t.fallbackText})))):null}renderActionsDropdown(e){const t=e.map(e=>{const t=this.getAttachmentAction(e.id);return t?r.a.createElement(o.c,{key:e.id,onSelect:()=>this.handleAction(e.id),className:"action action-"+e.id+" qa-test-attachment-actions-"+e.id},r.a.createElement(g.a,{className:"action-icon",name:t.iconName,size:20,color:F.a.gray[60]})," ",r.a.createElement(G,{string:t.textKey,fallback:t.fallbackText})):null});return r.a.createElement(o.a,{className:"actions-dropdown-selector",align:"end",hideArrow:!0,disableEventBubble:!0},r.a.createElement("span",{className:"actions-dropdown qa-test-attachment-actions"},r.a.createElement("i",{className:"fas fa-angle-down action-outline"})),r.a.createElement(o.b,null,t))}renderMakeCopiesPicker(){return this.props.editEnabled&&this.props.makeCopiesEnabled&&this.props.attachment.allowMakeCopies&&this.props.userType===L.a.TEACHER?r.a.createElement(l.b,{initialFilterId:this.state.makeCopiesOption,onOptionSelected:this.onMakeCopiesOptionSelected}):null}renderMakeCopiesMessage(){return this.state.makeCopiesOption===l.a.MAKECOPIES?this.props.userType===L.a.TEACHER?r.a.createElement(G,{string:"recipient-get-copy",fallback:"Each recipient will get a copy"}):this.props.userType===L.a.STUDENT?r.a.createElement(G,{string:"teacher-created-file-for-you",fallback:"Your teacher created this file for you"}):r.a.createElement(G,{string:"teacher-created-file",fallback:"The teacher created this file"}):null}renderMakeCopiesMessagePopup(e){return r.a.createElement(n.Fragment,null,r.a.createElement("span",{ref:this.setMakeCopiesRef,className:"makecopies-icon",onMouseEnter:this.onHoverMakeCopies,onMouseLeave:this.onHoverLeaveMakeCopies},r.a.createElement("i",{className:"far fa-copy"})),this.makeCopiesRef&&r.a.createElement(s.Z,{placement:"top",isOpen:this.state.makeCopiesPopoverOpen,target:this.makeCopiesRef,toggle:this.togglePopoverMakeCopies},r.a.createElement(s.ab,null,e)))}getAttachmentAction(e){const t=this.props.userType===L.a.TEACHER;return{[x.a.Actions.REMOVE]:{textKey:"remove",fallbackText:"Remove",iconName:"x-icon"},[x.a.Actions.DOWNLOAD]:{textKey:"download",fallbackText:"Download",iconName:"download-icon"},[x.a.Actions.LIBRARY]:{textKey:t?"add-to-library":"add-to-backpack",fallbackText:t?"Add to Library":"Add to Backpack",iconName:t?"add-library-icon":"add-backpack-icon"}}[e]||{}}onMakeCopiesOptionSelected(e){this.setState({makeCopiesOption:e}),this.props.updateAttachment?this.props.updateAttachment(this.props.attachment.id,{makeCopiesOption:e}):console.log("WARNING: if you're allowing copies on your attachments, you should pass the updateAttachment function to the AttachmentList component")}render(){const e=this.props,t=e.attachment,a=e.timelineId,n=e.creatorId,s=this.renderLayout(),o=this.renderMediaLayout(),l=o||s,c=this.renderMakeCopiesPicker(),d=this.renderActions(t.actions),u="file"===t.type?"__file-attachment":"__link-embed-attachment",h=o?"__show-media":"",p=!h&&this.props.layoutSmall?"layout-small":"";let m=this.renderMakeCopiesMessage();return null!==m&&this.props.layout===H.SLIM&&(m=this.renderMakeCopiesMessagePopup(m)),r.a.createElement(i.CSSTransition,{timeout:500,in:this.state.runRemoveAnimation,onEntered:this.handleRemove.bind(this),classNames:"remove-transition"},t&&r.a.createElement("div",{className:"".concat(u," layout-").concat(this.props.layout," ").concat(p," ").concat(h),onClick:this.handleClick},r.a.createElement(l,{editEnabled:this.props.editEnabled,uploadProgress:this.props.uploadProgress,attachment:t,makeCopiesSelector:c,makeCopiesMessage:m,timelineId:a,creatorId:n,actions:d,Translate:G,LayoutType:s,onImageError:this.props.onImageError,hideAltText:this.props.hideAltText})))}onHoverRemove(){this.setState({removePopoverOpen:!0}),clearTimeout(this._hidePopoverRemoveTimeout)}onHoverLeaveRemove(){clearTimeout(this._hidePopoverRemoveTimeout),this._hidePopoverRemoveTimeout=setTimeout(this.hidePopoverRemove,x.a.Defaults.HOVER_TIMEOUT)}hidePopoverRemove(){this.setState({removePopoverOpen:!1})}togglePopoverRemove(e){e.preventDefault(),e.stopPropagation(),this.setState({removePopoverOpen:!this.state.removePopoverOpen})}onHoverMakeCopies(){this.setState({makeCopiesPopoverOpen:!0}),clearTimeout(this._hidePopoverMakeCopiesTimeout)}onHoverLeaveMakeCopies(){clearTimeout(this._hidePopoverMakeCopiesTimeout),this._hidePopoverMakeCopiesTimeout=setTimeout(this.hidePopoverMakeCopies,x.a.Defaults.HOVER_TIMEOUT)}hidePopoverMakeCopies(){this.setState({makeCopiesPopoverOpen:!1})}togglePopoverMakeCopies(e){e.preventDefault(),e.stopPropagation(),this.setState({makeCopiesPopoverOpen:!this.state.makeCopiesPopoverOpen})}}const H={NORMAL:"normal",COMPACT:"compact",SLIM:"slim"};q.defaultProps={attachment:null,layout:H.NORMAL,layoutSmall:!1,uploadProgress:100,editEnabled:!1,makeCopiesEnabled:!1,userType:L.a.TEACHER,onWorksheetEdit:null,onAddToLibrary:null,showMedia:!0};t.b=Object(U.a)(q)},function(e,t,a){"use strict";a.d(t,"c",(function(){return b})),a.d(t,"h",(function(){return E})),a.d(t,"j",(function(){return y})),a.d(t,"d",(function(){return S})),a.d(t,"k",(function(){return v})),a.d(t,"m",(function(){return C})),a.d(t,"n",(function(){return A})),a.d(t,"p",(function(){return I})),a.d(t,"l",(function(){return k})),a.d(t,"i",(function(){return O})),a.d(t,"o",(function(){return _})),a.d(t,"b",(function(){return M})),a.d(t,"e",(function(){return N})),a.d(t,"g",(function(){return w})),a.d(t,"f",(function(){return P})),a.d(t,"a",(function(){return R}));var n=a(9),r=a(0),s=a(19),i=a(371),o=a(167),l=a(1),c=a(20),d=a(199);const u=(e,t)=>e.get(c.a.GROUP_MEMBERS_REDUCER),h=(e,t,a)=>a,p=(e,t)=>{const a=t.assignment||t.quiz;if(a){const e=i.a.getRecipients(a)||Object(r.Map)();return o.a.getRecipientGroups(e)}return t.smallGroupRecipients||Object(r.Map)()},m=Object(n.createSelector)([u,d.s],(e,t)=>t&&e.getIn([l.a.MEMBERS_BY_GROUP_ID,t.toString()])),g=Object(n.createSelector)([u,d.s],(e,t)=>t&&e.getIn([l.a.TEACHER_MEMBERS_BY_GROUP_ID,t.toString()])),f=Object(n.createSelector)([u,d.s],(e,t)=>t&&e.getIn([l.a.STUDENT_MEMBERS_BY_GROUP_ID,t.toString()])),b=Object(n.createSelector)([u,d.s],(e,t)=>t&&e.getIn([l.a.GROUP_MEMBERS,t.toString()])),E=Object(n.createSelector)([u,m],(e,t)=>{let a=Object(r.OrderedMap)();return t&&t.forEach(t=>a=a.set("".concat(t),e.getIn([l.a.ENTITIES,"".concat(t)]))),a}),y=(Object(n.createSelector)([u,d.s],(e,t)=>t&&e.getIn([l.a.GROUP_STUDENT_MEMBERS,t.toString()])),Object(n.createSelector)([u,f],(e,t)=>{let a=Object(r.OrderedMap)();return t&&t.forEach(t=>a=a.set("".concat(t),e.getIn([l.a.ENTITIES,"".concat(t)]))),a})),S=Object(n.createSelector)([u,d.s],(e,t)=>t&&e.getIn([l.a.GROUP_TEACHER_MEMBERS,t.toString()])),v=Object(n.createSelector)([u,g],(e,t)=>{let a=Object(r.OrderedMap)();return t&&t.forEach(t=>a=a.set("".concat(t),e.getIn([l.a.ENTITIES,"".concat(t)]))),a}),C=Object(n.createSelector)([u,p,h],(e,t,a)=>{let n=Object(r.Map)();return t&&0!==t.size?t.reduce((t,n)=>{let i=r.Map.isMap(n)?n.get("id").toString():n.toString(),o=e.getIn([l.a.GROUP_MEMBERS,i]);return a&&(o=s.a.getGroupMembershipsStudentsByLastname(o)),o&&o.size>0?t.set(i,o):t},n):Object(r.Map)()}),A=Object(n.createSelector)([u,p,h],(e,t,a)=>{let n=Object(r.Map)();return t&&0!==t.size?t.reduce((t,n)=>{let i=r.Map.isMap(n)?n.get("id").toString():n.toString(),o=e.getIn([l.a.MEMBERS_BY_GROUP_ID,i]),c=Object(r.OrderedMap)();return o&&o.size>0&&o.forEach(t=>c=c.set("".concat(t),e.getIn([l.a.ENTITIES,"".concat(t)]))),a&&(c=s.a.getGroupMembershipsStudentsByLastname(c)),c&&c.size>0?t.set(i,c):t},n):Object(r.Map)()}),I=Object(n.createSelector)([u,d.s],(e,t)=>t&&s.a.sortGroupMembershipsForMemberList(e.getIn([l.a.SEARCHED_GROUP_MEMBERSHIPS,t.toString()]))),T=Object(n.createSelector)([u,d.s],(e,t)=>t&&e.getIn([l.a.SEARCHED_GROUP_MEMBERSHIPS_BY_ID,t.toString()])),k=(Object(n.createSelector)([u,T],(e,t)=>{let a=Object(r.OrderedMap)();return t&&t.forEach(t=>a=a.set("".concat(t),e.getIn([l.a.ENTITIES,"".concat(t)]))),a.size>0?a:null}),Object(n.createSelector)([u],e=>e.get(l.a.GROUP_PENDING_MEMBERSHIPS))),O=Object(n.createSelector)([b],e=>e&&s.a.sortGroupMembershipsForMemberList(e)),_=Object(n.createSelector)([u,d.w],(e,t)=>e&&t&&e.getIn([l.a.GROUP_MEMBERS,t.toString()])),M=Object(n.createSelector)([u],e=>e.get(l.a.BATCH_INVITES_CREATED)),N=Object(n.createSelector)([u,d.s],(e,t)=>!!(e&&t&&e.getIn([l.a.END_OF_GROUP_MEMBERS_LIST_REACHED,t.toString()]))),w=Object(n.createSelector)([u,d.s],(e,t)=>!!(e&&t&&e.getIn([l.a.END_OF_GROUP_TEACHER_MEMBERS_LIST_REACHED,t.toString()]))),P=Object(n.createSelector)([u,d.s],(e,t)=>!!(e&&t&&e.getIn([l.a.END_OF_GROUP_STUDENT_MEMBERS_LIST_REACHED,t.toString()]))),R=(Object(n.createSelector)([u],e=>e&&e.get(l.a.STUDENT_CHAT_ENABLED)),Object(n.createSelector)([u],e=>e.get(l.a.BATCH_UPDATE_GROUPMEMBERSHIPS_STATUS).first()))},,function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"k",(function(){return h})),a.d(t,"b",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"i",(function(){return g})),a.d(t,"d",(function(){return f})),a.d(t,"l",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"m",(function(){return y})),a.d(t,"f",(function(){return S})),a.d(t,"g",(function(){return v})),a.d(t,"j",(function(){return C})),a.d(t,"a",(function(){return A}));var n=a(135),r=a.n(n),s=a(118),i=(a(144),a(13)),o=a(18),l=a(48),c=a(223);const d={Accept:"application/json","Content-Type":"application/json"},u=(e,t,a)=>r()({method:s.a.POST,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.QUIZZES,"?")+"".concat(i.a.ACCESS_TOKEN,"=").concat(t.get(i.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:d,data:{title:a.title,due_at:a.due_at,recipients:a.recipients,post_at:a.post_at,save_to_gradebook:a.gradebook,quiz_content_id:a.quiz_content_id,preview:a.preview}}),h=(e,t,a,n)=>r()({method:s.a.PUT,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.QUIZZES,"/")+"".concat(n,"?").concat(i.a.ACCESS_TOKEN,"=").concat(t.get(i.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:d,data:{due_at:a.due_at,save_to_gradebook:a.save_to_gradebook,show_results:a.show_results,lock_after_due:a.lock_after_due,locked:a.locked}}),p=(e,t,a)=>r()({method:s.a.POST,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.QUIZZES,"?")+"".concat(i.a.ACCESS_TOKEN,"=").concat(t.get(i.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:d,data:a}),m=(e,t,a,n={})=>c.c({configInfo:e,accessToken:t,params:n,path:[o.a.QUIZ_CONTENTS,a]}),g=(e,t,a={})=>c.c({configInfo:e,accessToken:t,params:a,path:o.a.QUIZ_QUESTIONS}),f=(e,t,a)=>c.a({configInfo:e,accessToken:t,data:a,path:o.a.QUIZ_CONTENTS}),b=(e,t,a,n)=>c.e({configInfo:e,accessToken:t,data:n,path:[o.a.QUIZ_CONTENTS,a]}),E=(e,t,a)=>c.a({configInfo:e,accessToken:t,data:a,path:o.a.QUIZ_QUESTIONS}),y=(e,t,a,n)=>c.e({configInfo:e,accessToken:t,data:n,path:[o.a.QUIZ_QUESTIONS,a]}),S=(e,t,a)=>c.b({configInfo:e,accessToken:t,path:[o.a.QUIZ_QUESTIONS,a]}),v=(e,t,a,n={})=>c.c({configInfo:e,accessToken:t,params:n,path:[o.a.QUIZZES,a]}),C=(e,t,a,n)=>r()({method:s.a.PUT,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.QUIZ_CONTENTS,"/").concat(a)+"?".concat(i.a.ACCESS_TOKEN,"=").concat(t.get(i.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:d,data:{deleted:!0,quiz_content:n}}),A=(e,t,a)=>r()({method:s.a.DELETE,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.QUIZ_CONTENTS,"/").concat(a)+"?".concat(i.a.ACCESS_TOKEN,"=").concat(t.get(i.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:d})},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(156),i=a(1207),o=a(1492);a(1503);const l={showMoreText:r.a.createElement(s.default,{string:"show_more",fallbackString:"show more"}),showLessText:r.a.createElement(s.default,{string:"show_less",fallbackString:"show less"})};class c extends n.Component{constructor(e){super(e),this.state={showFull:!1,showMore:!1},this.handleShowMore=this.handleShowMore.bind(this),this.handleOverflowChange=this.handleOverflowChange.bind(this)}handleOverflowChange(e){this.setState({showMore:e})}handleShowMore(){!0===this.state.showFull?this.setState({showFull:!1}):this.setState({showFull:!0})}render(){const e=this.state,t=e.showMore,a=e.showFull,n=this.props,s=n.text,l=n.showMoreText,c=n.showLessText;return r.a.createElement("div",{className:"__text-collapse"},r.a.createElement(o.OverflowDetector,{onOverflowChange:this.handleOverflowChange,className:a?"__collapse-on":"__collapse-off"},s),a?r.a.createElement(i.a,{onClick:this.handleShowMore,qaSelector:"qa-test-hide-title"},c):t&&r.a.createElement(i.a,{onClick:this.handleShowMore,qaSelector:"qa-test-show-more-title"},l))}}c.defaultProps=l,t.a=c},function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(18),r=a(25);const s=e=>r.a.post(n.a.WEBPAGES,e),i=e=>r.a.get("".concat(n.a.WEBPAGES,"/").concat(e))},function(e,t,a){},function(e,t,a){"use strict";var n=a(1287),r=a(1816),s=a(1828),i=a(2),o=a(1884),l=a(1886),c=a(1887),d=a(1888),u=a(1889),h=a(1890),p=a(1891),m=a(1892),g=Object.keys(m),f=function(e){var t=e.source||e.children||"";if(e.allowedTypes&&e.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");var a=n(m,e.renderers),i=[s].concat(e.plugins||[]).reduce(b,r()).parse(t),p=n(e,{renderers:a,definitions:h(i)}),f=function(e){var t=[u,o()],a=e.disallowedTypes;e.allowedTypes&&(a=g.filter((function(t){return"root"!==t&&-1===e.allowedTypes.indexOf(t)})));var n=e.unwrapDisallowed?"unwrap":"remove";a&&a.length>0&&t.push(c.ofType(a,n));e.allowNode&&t.push(c.ifNotMatch(e.allowNode,n));e.escapeHtml||e.skipHtml||t.push(l);return e.astPlugins?t.concat(e.astPlugins):t}(e).reduce((function(e,t){return t(e,p)}),i);return d(f,p)};function b(e,t){return Array.isArray(t)?e.use.apply(e,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(t)):e.use(t)}f.defaultProps={renderers:{},escapeHtml:!0,skipHtml:!1,sourcePos:!1,rawSourcePos:!1,transformLinkUri:p,astPlugins:[],plugins:[]},f.propTypes={className:i.string,source:i.string,children:i.string,sourcePos:i.bool,rawSourcePos:i.bool,escapeHtml:i.bool,skipHtml:i.bool,allowNode:i.func,allowedTypes:i.arrayOf(i.oneOf(g)),disallowedTypes:i.arrayOf(i.oneOf(g)),transformLinkUri:i.oneOfType([i.func,i.bool]),linkTarget:i.oneOfType([i.func,i.string]),transformImageUri:i.func,astPlugins:i.arrayOf(i.func),unwrapDisallowed:i.bool,renderers:i.object,plugins:i.array},f.types=g,f.renderers=m,f.uriTransformer=p,e.exports=f},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1199),i=a(134),o=a(133),l=a(272),c=a(364),d=a(1238),u=a(12),h=a(156);class p extends n.Component{render(){const e=this.props,t=e.isOpen,a=e.toggle,n=e.groupType,s=e.translate,i=e.submitGroupJoin,o=e.handleSubmit,p=e.submitting,m=e.membershipAwaitingApproval,g="qa-test-create-".concat(n&&n.toLowerCase(),"-header");let f=r.a.createElement(h.default,{string:"join-a-class",fallbackString:"Join a Class"});n===u.a.GROUP?f=r.a.createElement(h.default,{string:"join-a-group",fallbackString:"Join a Group"}):n===u.a.CLASS_OR_GROUP&&(f=r.a.createElement(h.default,{string:"join-a-class-or-group",fallbackString:"Join a Class or Group"}));const b=m&&"pending_member"===m.type,E=m&&m.group.title;return r.a.createElement(c.M,{isOpen:t,toggle:a,size:"sm"},r.a.createElement(l.Form,{onSubmit:o(i)},r.a.createElement(c.P,{className:g,toggle:a},f),b?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.N,null,r.a.createElement("div",{className:"qa-test-joinClass-prompt"},r.a.createElement(h.default,{string:"added-approval-queue",fallbackString:"You have been added to the approval queue for "}),r.a.createElement("strong",null," ".concat(E)))),r.a.createElement(c.O,null,r.a.createElement(c.c,{color:"primary",onClick:a,className:"qa-test-joinClass-doneButton"},r.a.createElement(h.default,{string:"done",fallbackString:"Done"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.N,{className:"qa-test-join-content"},r.a.createElement(l.Field,{name:"group-code",component:d.a,autoFocus:!0,className:"qa-test-join-input",placeholder:s&&s("code","Code")})),r.a.createElement(c.O,null,r.a.createElement(c.c,{color:"white",onClick:a},r.a.createElement(h.default,{string:"cancel",fallbackString:"Cancel"})),r.a.createElement(c.c,{type:"submit",disabled:p,className:"qa-test-join-btn",color:"primary"},r.a.createElement(h.default,{string:"join-js",fallbackString:"Join"}))))))}}var m=p,g=a(14),f=a(174),b=a(78),E=a(86),y=a(114),S=a(199),v=a(73),C=a(368),A=a(1314),I=a(1516),T=a(509),k=a(511),O=a(372),_=a(200),M=a(1315),N=a(330),w=a(1213),P=a(5),R=a.n(P);class x extends n.PureComponent{render(){const e=this.props,t=e.isOpen,a=e.toggle,n=e.isClass,s=e.newSchoolName,i=e.currentUserSchoolName,o=e.handleConfirmSwitchSchool,l=e.handleStayingInCurrentSchool;let d,u,p;return d=n?r.a.createElement(h.default,{string:"class-joined-successfully",fallbackString:"Class joined successfully"}):r.a.createElement(h.default,{string:"group-joined-successfully",fallbackString:"Group joined successfully"}),u=n?r.a.createElement(h.default,{string:"you-joined-class-new-school",fallbackString:"You joined a class at %{newSchoolName}. Would you like to change your school to %{newSchoolName}?",insertions:{newSchoolName:s}}):r.a.createElement(h.default,{string:"you-joined-group-new-school",fallbackString:"You joined a group at %{newSchoolName}. Would you like to change your school to %{newSchoolName}?",insertions:{newSchoolName:s}}),p=R.a.isEmpty(i)?r.a.createElement(h.default,{string:"no-im-still-without-school",fallbackString:"I am not in this school.",insertions:{currentUserSchoolName:i}}):r.a.createElement(h.default,{string:"no-im-still-with-school",fallbackString:"I am still at %{currentUserSchoolName}.",insertions:{currentUserSchoolName:i}}),r.a.createElement(c.M,{className:"switch-school-modal",isOpen:t,toggle:a},r.a.createElement(c.P,{className:"border-bottom"},d),r.a.createElement(c.N,null,r.a.createElement("div",{className:"switch-school-modal-subheader "},u),r.a.createElement("div",null,r.a.createElement(w.a,{weight:"loud",qaSelector:"qa-test-yes-i-moved-to-new-school",className:"switch-school-yes-btn",onClick:o},r.a.createElement(h.default,{string:"yes",fallbackString:"Yes"})),r.a.createElement(h.default,{string:"i-moved-to-school",fallbackString:"I moved to %{newSchoolName}.",insertions:{newSchoolName:s}})),r.a.createElement("div",null,r.a.createElement(w.a,{qaSelector:"qa-test-no-i-did-not-move",className:"switch-school-no-btn",onClick:l},r.a.createElement(h.default,{string:"no",fallbackString:"No"})),p)))}}var L=x;class D extends n.Component{constructor(e){super(e),this.state={isSwitchSchoolModalOpen:!0,newSchoolId:null,newSchoolName:null},this.submitGroupJoin=this.submitGroupJoin.bind(this),this.trackClassGroupJoined=this.trackClassGroupJoined.bind(this),this.toggleSwitchSchoolModal=this.toggleSwitchSchoolModal.bind(this),this.handleConfirmSwitchSchool=this.handleConfirmSwitchSchool.bind(this),this.handleStayingInCurrentSchool=this.handleStayingInCurrentSchool.bind(this),this.checkIsStudentAndPromptToSwitchSchool=this.checkIsStudentAndPromptToSwitchSchool.bind(this)}handleConfirmSwitchSchool(){const e=this.props,t=e.currentUser,a=e.userActions,n=e.history,r=e.newGroupUrl;a.updateUserSchool(g.a.getId(t),this.state.newSchoolId,!0),this.toggleSwitchSchoolModal(),n.push(r)}submitGroupJoin(e){const t={membership:{access_code:e.get("group-code")}};return this.props.groupMembershipActions.createGroupMembership(this.props.history,t,!1,!0,this.trackClassGroupJoined.bind(this,"success"),this.trackClassGroupJoined.bind(this,"fail"),this.props.trackingContext)}toggleSwitchSchoolModal(){this.setState({isSwitchSchoolModalOpen:!this.state.isSwitchSchoolModalOpen,newSchoolId:null,newSchoolName:null})}handleStayingInCurrentSchool(){const e=this.props,t=e.newGroupUrl,a=e.history;this.toggleSwitchSchoolModal(),a.push(t)}trackClassGroupJoined(e){const t=this.props,a=t.classGroupTrackingActions,n=t.trackingContext,r=t.trackingProductGroup,s=t.groupType,i={form_status:e};a.submitJoinClassGroup(n,r,"join_".concat(s,"_modal"),i)}componentDidMount(){this.props.groupActions.setNewGroupUrl(null)}componentDidUpdate(e){const t=this.props,a=t.isOpen,n=t.classGroupTrackingActions,r=t.trackingContext,s=t.trackingProductGroup,i=t.groupType,o=t.membershipAwaitingApproval;!e.isOpen&&a&&n.openJoinClassGroup(r,s,"join_".concat(i)),e.location.pathname!==this.props.location.pathname&&a&&this.props.toggle(),e.isOpen&&!a&&o&&this.props.groupMembershipActions.resetMembershipAwaitingApproval(),this.checkIsStudentAndPromptToSwitchSchool(e)}checkIsStudentAndPromptToSwitchSchool(e){const t=this.props,a=t.isOpen,n=t.history,r=t.redirectAfterJoin,s=t.currentUser,i=t.currentUserIsStudent,o=t.newGroupUrl,l=t.currentGroupId,c=t.currentGroupOwner,d=t.teacherProfile;if(i&&!g.a.isSyncUser(s))if(!l||e.currentGroupId===l||c){if(o&&c){let e;if(c&&d&&d.size>0&&(e=y.a.getConnectionDetails(d,g.a.getId(c))),!this.state.newSchoolId&&e){const t=f.a.getSchool(e);if(E.a.getId(t)&&g.a.getSchoolId(s)!==E.a.getId(t)){const e=E.a.getId(t),n=E.a.getName(t);return a&&this.props.toggle(),void this.setState({newSchoolId:e,newSchoolName:n,isSwitchSchoolModalOpen:!0})}return void n.push(o)}}c&&e.currentGroupOwner!==c&&this.props.connectionProfileActions.fetchConnectionProfile(g.a.getId(c))}else this.props.groupActions.fetchCurrentGroup(l);else r&&o&&n.push(o)}render(){const e=this.props,t=e.currentUserIsStudent,a=e.currentGroup,s=e.currentUserSchoolName,i=this.state.newSchoolName;return r.a.createElement(n.Fragment,null,r.a.createElement(m,Object.assign({},this.props,{submitGroupJoin:this.submitGroupJoin})),t&&i&&r.a.createElement(L,{isOpen:this.state.isSwitchSchoolModalOpen,toggle:this.toggleSwitchSchoolModal,isClass:b.a.isClass(a),currentUserSchoolName:s,newSchoolName:i,handleConfirmSwitchSchool:this.handleConfirmSwitchSchool,handleStayingInCurrentSchool:this.handleStayingInCurrentSchool}))}}const F=Object(l.reduxForm)({form:"joinClassGroupForm"})(D);D.defaultProps={redirectAfterJoin:!0};t.a=Object(o.connect)((function(e){return{currentUser:v.c(e),currentUserIsStudent:v.l(e),membershipAwaitingApproval:S.H(e),newGroupUrl:C.j(e),currentGroup:S.v(e),currentGroupId:S.s(e),currentGroupOwner:C.b(e),currentUserSchoolName:v.s(e),newSchoolName:A.i(e),teacherProfile:I.d(e)}}),(function(e){return{userActions:Object(i.bindActionCreators)(k,e),groupActions:Object(i.bindActionCreators)(O,e),groupMembershipActions:Object(i.bindActionCreators)(_,e),classGroupTrackingActions:Object(i.bindActionCreators)(M,e),connectionProfileActions:Object(i.bindActionCreators)(N,e)}}))(Object(s.a)(Object(T.a)(F)))},,,function(e,t,a){var n,r,s;r=[e,t,a(4),a(2)],void 0===(s="function"===typeof(n=function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(a),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;l(this,t);for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.onResize=function(){n.rafId&&window.cancelAnimationFrame(n.rafId),n.rafId=window.requestAnimationFrame(n.update.bind(n))},n.onToggled=function(e){"function"===typeof n.props.onToggled&&setTimeout((function(){return n.props.onToggled(e)}),0)},n.onTruncated=function(){"function"===typeof n.props.onTruncated&&setTimeout((function(){return n.props.onTruncated()}),0)},n.onCalculated=function(){"function"===typeof n.props.onCalculated&&setTimeout((function(){return n.props.onCalculated()}),0)},n.update=function(){var e=window.getComputedStyle(n.scope),t=[e["font-weight"],e["font-style"],e["font-size"],e["font-family"],e["letter-spacing"]].join(" ");n.canvas.font=t,n.forceUpdate()},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=document.createDocumentFragment(),a=window.getComputedStyle(this.scope),n=[a["font-weight"],a["font-style"],a["font-size"],a["font-family"]].join(" ");t.appendChild(e),this.canvas=e.getContext("2d"),this.canvas.font=n,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(e){return Math.ceil(this.canvas.measureText(e).width)}},{key:"getRenderText",value:function(){var e=this.props,t=(e.containerClassName,e.element,e.line),n=(e.onCalculated,e.onTruncated,e.onToggled,e.text),s=e.textElement,i=e.textTruncateChild,l=e.truncateText,c=e.maxCalculateTimes,d=o(e,["containerClassName","element","line","onCalculated","onTruncated","onToggled","text","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),u=this.scope.getBoundingClientRect().width;if(0===u)return null;if(u>=this.measureWidth(n))return this.onToggled(!1),(0,a.createElement)(s,d,n);var h="";if(i&&"string"===typeof i.type){var p=i.type;(p.indexOf("span")>=0||p.indexOf("a")>=0)&&(h=i.props.children)}for(var m=1,g=n.length,f="",b=0,E=0,y=t,S=0,v=!1,C=!1,A=0,I=-1,T="",k=0;y-- >0;){for(T=y?"":l+(h?" "+h:"");m<=g;){if(f=n.substr(E,m),!((S=this.measureWidth(f+T))<u)){do{if(k++>=c)break;f=n.substr(E,m),y||m--," "===f[f.length-1]&&(f=n.substr(E,m-1)),v&&(I=f.lastIndexOf(" "))>-1?(m=I,y&&m++,f=n.substr(E,m)):(m--,f=n.substr(E,m)),S=this.measureWidth(f+T)}while(S>=u&&f.length>0);E+=m;break}-1===(b=n.indexOf(" ",m+1))?(m+=1,v=!1):(v=!0,m=b)}if(m>=g){E=g;break}v&&!C&&-1===n.substr(A,m).indexOf(" ")&&(C=-1===n.substr(A,m).indexOf(" "),y--),A=m+1}return E===g?(this.onToggled(!1),(0,a.createElement)(s,d,n)):(this.onTruncated(),this.onToggled(!0),r.default.createElement("div",d,(0,a.createElement)(s,d,n.substr(0,E)+l+" "),i))}},{key:"render",value:function(){var e=this,t=this.props,n=t.element,r=t.text,s=t.style,i=void 0===s?{}:s,l=t.containerClassName,c=t.line,d=(t.onCalculated,t.onTruncated,t.onToggled,t.textElement),u=(t.textTruncateChild,t.truncateText,t.maxCalculateTimes,o(t,["element","text","style","containerClassName","line","onCalculated","onTruncated","onToggled","textElement","textTruncateChild","truncateText","maxCalculateTimes"])),h=i.fontWeight,p=i.fontStyle,m=i.fontSize,g=i.fontFamily,f=this.scope&&c?this.getRenderText():(0,a.createElement)(d,u,r),b={ref:function(t){e.scope=t},className:l,style:{overflow:"hidden",fontWeight:h,fontStyle:p,fontSize:m,fontFamily:g}};return this.scope&&this.onCalculated(),(0,a.createElement)(n,b,f)}}]),t}(a.Component);u.propTypes={containerClassName:s.default.string,element:s.default.string,line:s.default.oneOfType([s.default.number,s.default.bool]),onCalculated:s.default.func,onTruncated:s.default.func,onToggled:s.default.func,text:s.default.string,textElement:s.default.node,textTruncateChild:s.default.node,truncateText:s.default.string,maxCalculateTimes:s.default.number},u.defaultProps={element:"div",line:1,text:"",textElement:"span",truncateText:"\u2026",maxCalculateTimes:10},t.default=u,e.exports=t.default})?n.apply(t,r):n)||(e.exports=s)},function(e,t,a){"use strict";var n=a(15),r=a(4),s=a.n(r),i=a(1199),o=a(133),l=a(134),c=a(272),d=a(1517),u=a(73),h=a(78),p=a(14),m=a(1561),g=a(200),f=a(372),b=a(511),E=a(297),y=a(1315),S=a(156),v=a(509),C=a(12),A=a(32),I=a(53),T=a(300),k=a(64),O=a(1610),_=a(526),M=a(77),N=a(10),w=a(86),P=a(182),R=a(5),x=a.n(R);a(1214);class L extends r.Component{constructor(e){super(e);const t=Math.floor(10*Math.random());this.initialGroupColorHexCode=d.a[t][0],this.state={groupUserType:this.props.groupOrClass,createGroupParams:h.a.createParams(),useRange:!1,selectedColor:d.a[t][1],userSchoolId:p.a.userSchoolId(this.props.currentUser),currentSchoolId:w.a.getId(this.props.currentSchool),userDistrictId:p.a.userDistrictId(this.props.currentUser),createdGroupDirectory:null,createGroupDirectorySuccess:!1,loadingStatus:!1,askAddMemberGroupDirectory:!1,searchMemberString:null,selectedUsersIds:[]},this.handleCreateGroupSubmitClick=this.handleCreateGroupSubmitClick.bind(this),this.createGroupOrClass=this.createGroupOrClass.bind(this),this.handleToggleRange=this.handleToggleRange.bind(this),this.handleFormatRangeLabel=this.handleFormatRangeLabel.bind(this),this.handleGroupColorChange=this.handleGroupColorChange.bind(this),this.handleCreateGroupSuccess=this.handleCreateGroupSuccess.bind(this),this.handleCreateGroupError=this.handleCreateGroupError.bind(this),this.toggleLoading=this.toggleLoading.bind(this),this.canAddMembersForGroup=this.canAddMembersForGroup.bind(this),this.searchQueryForMembers=this.searchQueryForMembers.bind(this),this.handleMemberSelection=this.handleMemberSelection.bind(this),this.handleMemberSelectionSubmit=this.handleMemberSelectionSubmit.bind(this),this.toggleMemberSelection=this.toggleMemberSelection.bind(this),this.handleGroupUrlClick=this.handleGroupUrlClick.bind(this),this.handleCancel=this.handleCancel.bind(this),this.getUsersOptions=this.getUsersOptions.bind(this),this.fetchUserEmptyOrError=this.fetchUserEmptyOrError.bind(this),this.trackClassGroupCreated=this.trackClassGroupCreated.bind(this),this.createGroupSuccess=this.createGroupSuccess.bind(this),this.toggleModalVisibility=this.toggleModalVisibility.bind(this)}static translationFiles(){return["common"]}UNSAFE_componentWillReceiveProps(e){e&&e.communityUsers&&e.communityUsers.size&&(e.communityUsers===this.props.communityUsers||this.props.context!==A.a.SCHOOL_COMMUNITY&&this.props.context!==I.a.DISTRICT_COMMUNITY||this.canAddMembersForGroup(e.communityUsers)),p.a.userSchoolId(this.props.currentUser)!==p.a.userSchoolId(e.currentUser)&&this.setState({userSchoolId:p.a.userSchoolId(e.currentUser)}),w.a.getId(this.props.currentSchool)!==w.a.getId(e.currentSchool)&&this.setState({currentSchoolId:w.a.getId(e.currentSchool)}),p.a.userDistrictId(this.props.currentUser)!==p.a.userDistrictId(e.currentUser)&&this.setState({userDistrictId:p.a.userDistrictId(e.currentUser)})}componentDidUpdate(e){const t=this.props,a=t.isOpen,n=t.classGroupTrackingActions,r=t.trackingContext,s=t.trackingProductGroup,i=t.visualElement;!e.isOpen&&a&&n.openCreateClassGroup(r,s,i)}handleGroupColorChange(e){this.setState({selectedColor:e})}handleCreateGroupSubmitClick(e){e&&e.preventDefault&&e.preventDefault(),this.props.groupActions.setNewGroupUrl(null);const t=this.props.formValues.get(C.a.SELECT_GRADE),a=this.props.formValues.get(C.a.GRADE_RANGE),n=this.props.formValues.get(C.a.USE_RANGE),r=h.a.getGradeLevelForCreateGroup(n,a,t),s=r.startLevel,i=r.endLevel;let o;o=this.props.context===A.a.SCHOOL_COMMUNITY||this.props.context===I.a.DISTRICT_COMMUNITY?m.a.getPublicLevel(this.props.selectedPublicLevel,this.state.userSchoolId,this.state.userDistrictId).toLowerCase():m.a.getPublicLevel(parseInt(this.props.formValues.get(C.a.SELECT_PUBLIC_LEVEL),10),this.state.userSchoolId,this.state.userDistrictId).toLowerCase();const l=this.props.formValues.get(C.a.SELECT_SCHOOL),c=this.props.formValues.get(C.a.SELECT_TEACHER_EMAIL_AREA),d=this.props.formValues.get(C.a.COLOR)||this.state.selectedColor,u={title:this.props.formValues.get(C.a.GROUP_NAME_FIELD),description:this.props.formValues.get(C.a.GROUP_DESCRIPTION_FIELD),start_level:s,end_level:i,subject:this.props.formValues.get(C.a.SELECT_SUBJECT_COURSE),group_user_type:c?"student":this.state.groupUserType,moderated:!1,groupColor:d,directory:o};c&&(u.owner_id=parseInt(c,10)),l&&"0"!==l&&(u.schoolId=l),this.toggleLoading(!0),this.setState({createGroupParams:u},()=>{this.props.groupActions.createGroup(u,this.props.context,this.handleCreateGroupError,this.trackClassGroupCreated).then(e=>this.createGroupSuccess(e.data)).catch(e=>{})}),this.props.context!==A.a.SCHOOL_COMMUNITY&&this.props.context!==I.a.DISTRICT_COMMUNITY&&this.props.toggleVisibility&&this.props.toggleVisibility()}createGroupSuccess(e){x.a.isFunction(this.props.handleCreateGroupSuccess)?this.props.handleCreateGroupSuccess(e):this.handleCreateGroupSuccess(e)}trackClassGroupCreated(e){const t=this.props,a=t.classGroupTrackingActions,n=t.trackingContext,r=t.trackingProductGroup,s=t.visualElement;let i={form_status:e?"success":"fail"};e&&(i=Object.assign({group_id:e.group.id},i)),a.submitCreateClassGroup(n,r,s,i)}handleCreateGroupSuccess(e){const t=this.props,a=t.context,r=t.groupType,s=t.trackingContext,i=N.a.GROUP_PAGE,o=e.group.title,l=e.group.id;let c=M.a.makePageUrlFromTitleAndId(i,o,l),d=[];if(s&&d.push("utm_source="+s),e.group.group_user_type===C.a.STUDENT_GROUP_TYPE&&d.push("welcomeclass=true"),d.length>0&&(c=c+"?"+d.join("&")),a!==A.a.SCHOOL_COMMUNITY&&a!==I.a.DISTRICT_COMMUNITY)return this.props.groupActions.setNewGroupUrl(c),r===C.a.GROUP&&this.props.history.push(c),this.toggleLoading(!1),void(this.props.openGroupPageWithSuccessModal&&this.props.history.push(c));this.setState({createdGroupDirectory:e});const u=p.a.getId(this.props.currentUser),m=e.group,g=Object(_.f)(m.subject),f=Object(_.b)(m.start_level),b=Object(_.b)(m.end_level),E=h.a.generateSubjectGradeId(g,f,b);if(this.props.context===A.a.SCHOOL_COMMUNITY?w.a.canUserAdministrateSchool(this.props.currentUser,this.props.currentSchool):P.a.canUserAdministrateDistrict(this.props.currentUser,this.props.currentDistrict)){let e=this.state.currentSchoolId;this.props.context===I.a.DISTRICT_COMMUNITY&&(e="0"===this.state.createGroupParams.schoolId?null:this.state.createGroupParams.schoolId),this.props.userActions.fetchCommunityUserByQuery(e,this.state.userDistrictId,this.state.groupUserType,C.a.INSTITUTION_VERIFIED,u,E,"",this.fetchUserEmptyOrError)}else this.setState(Object(n.a)({},this.state,{createGroupDirectorySuccess:!0}),()=>{this.toggleLoading(!1)})}fetchUserEmptyOrError(){this.setState({createGroupDirectorySuccess:!0,askAddMemberGroupDirectory:!1,loadingStatus:!1})}handleCreateGroupError(e){this.toggleLoading(!1)}handleToggleRange(){this.setState({useRange:!this.state.useRange})}handleFormatRangeLabel(e){return h.a.getRangeNumberToString(e,this.props.translate)}createGroupOrClass(){return this.props.groupType===C.a.GROUP?s.a.createElement(S.default,{string:"create-a-group",fallbackString:"Create a Group"}):this.props.groupType===C.a.GROUP_DIRECTORY?this.state.askAddMemberGroupDirectory?s.a.createElement(S.default,{string:"group-directory-add-member-header",fallbackString:"Add group members"}):s.a.createElement(S.default,{string:"create-professional-group",fallbackString:"Create A Professional Development Group"}):this.props.groupType===C.a.CLASS_DIRECTORY?this.state.askAddMemberGroupDirectory?s.a.createElement(S.default,{string:"class-directory-add-member-header",fallbackString:"Add class members"}):null:s.a.createElement(S.default,{string:"create-a-class",fallbackString:"Create a Class"})}toggleLoading(e){this.setState(Object(n.a)({},this.state,{loadingStatus:e}))}getUsersOptions(e){return e&&e.valueSeq().map(e=>p.a.getId(e)).toArray()}canAddMembersForGroup(e){if(e)if(e.size>0)if(this.state.askAddMemberGroupDirectory||this.state.createGroupDirectorySuccess)this.setState(Object(n.a)({},this.state,{askAddMemberGroupDirectory:!0}),()=>{this.toggleLoading(!1)});else{const t=this.getUsersOptions(e);this.setState(Object(n.a)({},this.state,{askAddMemberGroupDirectory:!0,selectedUsersIds:t}),()=>{this.toggleLoading(!1)})}else null===this.state.searchMemberString&&this.setState(Object(n.a)({},this.state,{createGroupDirectorySuccess:!0,askAddMemberGroupDirectory:!1}),()=>{this.toggleLoading(!1)})}searchQueryForMembers(e){this.setState(Object(n.a)({},this.state,{searchMemberString:e.target.value}));const t="&query="+e.target.value,a=p.a.getId(this.props.currentUser),r=this.state.createdGroupDirectory.group,s=Object(_.f)(r.subject),i=Object(_.b)(r.start_level),o=Object(_.b)(r.end_level),l=h.a.generateSubjectGradeId(s,i,o);let c=this.state.currentSchoolId;this.props.context===I.a.DISTRICT_COMMUNITY&&(c="0"===this.state.createGroupParams.schoolId?null:this.state.createGroupParams.schoolId),this.props.userActions.fetchCommunityUserByQuery(c,this.state.userDistrictId,this.state.groupUserType,C.a.INSTITUTION_VERIFIED,a,l,t)}handleMemberSelection(e){let t,a=[...this.state.selectedUsersIds];const r=this.getUsersOptions(this.props.communityUsers);e.target.checked?"all"===e.target.value?a=r:a.push(parseInt(e.target.value,10)):"all"===e.target.value?a=[]:(t=a.indexOf(parseInt(e.target.value,10)),a.splice(t,1)),this.setState(Object(n.a)({},this.state,{selectedUsersIds:a}))}handleMemberSelectionSubmit(e){e.preventDefault();const t=this.state.selectedUsersIds,a={};switch(this.props.trackingContext){case T.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.instantPlcAddMembersSubmit(a,k.a.SCHOOL_COMMUNITY);break;case T.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.instantPlcAddMembersSubmit(a,k.a.DISTRICT_COMMUNITY)}t&&t.length>0?(this.toggleLoading(!0),t&&t.forEach(e=>{const t={group_id:parseInt(this.state.createdGroupDirectory.group.id,10),user_id:parseInt(e,10),type:"read_write_member"};this.props.groupMembershipActions.createGroupMembership(this.props.history,t,!0).then(e=>this.toggleMemberSelection()).catch(e=>this.toggleMemberSelection())}),this.toggleLoading(!1)):this.setState(Object(n.a)({},this.state,{createGroupDirectorySuccess:!0,askAddMemberGroupDirectory:!1}))}toggleMemberSelection(){this.setState(Object(n.a)({},this.state,{createGroupDirectorySuccess:!0,askAddMemberGroupDirectory:!1}))}handleGroupUrlClick(e){e&&e.preventDefault&&e.preventDefault();const t=N.a.GROUP_PAGE,a=this.state.createdGroupDirectory.group.title,n=this.state.createdGroupDirectory.group.id,r=M.a.makePageUrlFromTitleAndId(t,a,n);this.props.history.push(r)}handleCancel(e){const t={};if(this.props.flashData&&this.props.flashData(),"group-dir-member-cancel"===e.currentTarget.id)switch(this.props.trackingContext){case T.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.instantPlcAddMembersDismiss(t,k.a.SCHOOL_COMMUNITY);break;case T.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.instantPlcAddMembersDismiss(t,k.a.DISTRICT_COMMUNITY)}else if("group-dir-success-cancel"===e.currentTarget.id)switch(this.props.trackingContext){case T.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.instantPlcSuccessModalDismiss(t,k.a.SCHOOL_COMMUNITY);break;case T.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.instantPlcSuccessModalDismiss(t,k.a.DISTRICT_COMMUNITY)}this.setState(Object(n.a)({},this.state,{useRange:!1,createGroupParams:h.a.createParams(),selectedUsersIds:[],createdGroupDirectory:null,createGroupDirectoryModalOpen:!1,createGroupDirectorySuccess:!1,askAddMemberGroupDirectory:!1})),this.props.toggleVisibility()}toggleModalVisibility(){this.props.toggleVisibility&&this.props.toggleVisibility()}render(){const e=this.props,t=e.isOpen,a=e.groupType,n=e.context,i=e.communityUsers,o=e.currentUser,l=e.currentSchool,c=e.currentDistrict,d=e.subview,u=i&&i.size,h=this.getUsersOptions(i),p=h&&this.state.selectedUsersIds&&x.a.isEqual(h.sort(),this.state.selectedUsersIds.sort());let m;this.props.context!==A.a.SCHOOL_COMMUNITY&&this.props.context!==I.a.DISTRICT_COMMUNITY||(m=this.props.context===A.a.SCHOOL_COMMUNITY?w.a.canUserAdministrateSchool(o,l):P.a.canUserAdministrateDistrict(o,c));const g={subview:d,isOpen:t,toggleVisibility:this.toggleModalVisibility,groupType:a,context:n,communityUsers:i,communityUsersCount:u,currentUser:o,canAdministrate:m,isSelectAllChecked:p,handleToggleRange:this.handleToggleRange,createGroupOrClass:this.createGroupOrClass,loadingStatus:this.state.loadingStatus,selectedUsersIds:this.state.selectedUsersIds,createGroupDirectorySuccess:this.state.createGroupDirectorySuccess,askAddMemberGroupDirectory:this.state.askAddMemberGroupDirectory,useRange:this.state.useRange,formatRangeLabel:this.handleFormatRangeLabel,handleCancel:this.handleCancel,handleCreateGroupSubmitClick:this.handleCreateGroupSubmitClick,handleGroupColorChange:this.handleGroupColorChange,initialGroupColorHexCode:this.initialGroupColorHexCode,handleGroupUrlClick:this.handleGroupUrlClick,searchQueryForMembers:this.searchQueryForMembers,handleMemberSelection:this.handleMemberSelection,handleMemberSelectionSubmit:this.handleMemberSelectionSubmit};return s.a.createElement(r.Fragment,null,s.a.cloneElement(this.props.children,g))}}t.a=Object(i.a)(Object(o.connect)((function(e,t){return{accessToken:u.d(e),formValues:Object(c.getFormValues)(C.a.CREATE_GROUP_FORM_ID)(e),currentUser:u.c(e),communityUsers:O.b(e)}}),(function(e){return{groupMembershipActions:Object(l.bindActionCreators)(g,e),groupActions:Object(l.bindActionCreators)(f,e),userActions:Object(l.bindActionCreators)(b,e),schoolDistrictPageTrackingActions:Object(l.bindActionCreators)(E,e),classGroupTrackingActions:Object(l.bindActionCreators)(y,e)}}))(Object(v.a)(L)))},,function(e,t,a){"use strict";a.r(t),a.d(t,"fetchRequest",(function(){return c})),a.d(t,"fetchSuccess",(function(){return d})),a.d(t,"fetchChecklistRequest",(function(){return u})),a.d(t,"fetchChecklistSuccess",(function(){return h})),a.d(t,"fetchChecklistFailure",(function(){return p})),a.d(t,"updateChecklist",(function(){return m})),a.d(t,"updateChecklistCollapsedState",(function(){return g})),a.d(t,"fetchOnboardings",(function(){return f})),a.d(t,"nextStep",(function(){return b})),a.d(t,"previousStep",(function(){return E})),a.d(t,"gotoNextStepOptimistic",(function(){return y})),a.d(t,"gotoPreviousStepOptimistic",(function(){return S})),a.d(t,"fetchChecklist",(function(){return v})),a.d(t,"updateChecklistOptimistic",(function(){return C})),a.d(t,"updateChecklistCollapsed",(function(){return A}));var n=a(223),r=a(18);const s=(e,t,a,s)=>n.e({configInfo:e,accessToken:t,path:[r.a.ONBOARDINGS,a],data:s});var i=a(55),o=a(63),l=a(36);const c=()=>({type:i.a.Actions.FETCH_REQUEST}),d=e=>({type:i.a.Actions.FETCH_SUCCESS,payload:e}),u=()=>({type:i.a.Actions.FETCH_CHECKLIST_REQUEST}),h=e=>({type:i.a.Actions.FETCH_CHECKLIST_SUCCESS,payload:e}),p=e=>({type:i.a.Actions.FETCH_CHECKLIST_FAILURE,payload:e}),m=e=>({type:i.a.Actions.UPDATE_CHECKLIST_REQUEST,payload:e}),g=e=>({type:i.a.Actions.UPDATE_CHECKLIST_COLLAPSED,payload:e}),f=()=>function(e,t){e(c());const a=o.a(t);((e,t,a)=>n.c({configInfo:e,accessToken:t,path:[r.a.ONBOARDINGS,a]}))(a.configInfo,a.accessToken,a.currentUserId).then(t=>{e(d(t.data))}).catch(e=>{l.a.notifyBugsnag(e,"OnboardingActionCreator.fetchOnboardings")})},b=()=>({type:i.a.Actions.NEXT_STEP}),E=()=>({type:i.a.Actions.PREVIOUS_STEP}),y=()=>function(e,t){const a=o.a(t),n=a.configInfo,r=a.accessToken,l=a.currentUserId,c={[i.a.Steps.NEXT]:!0};return e(b()),s(n,r,l,c)},S=()=>function(e,t){const a=o.a(t),n=a.configInfo,r=a.accessToken,l=a.currentUserId,c={onboarding:{[i.a.Steps.PREVIOUS]:!0}};e(E()),s(n,r,l,c)},v=()=>function(e,t){e(u());const a=o.a(t);((e,t,a)=>n.c({configInfo:e,accessToken:t,path:[r.a.ONBOARDING_CHECKLISTS,a]}))(a.configInfo,a.accessToken,a.currentUserId).then(t=>{e(h(t.data))}).catch(t=>{e(p(t))})},C=(e,t)=>function(a,n){a(m({key:e,timeTag:t}))},A=e=>function(t,a){t(g(e));const s=o.a(a);((e,t,a,s)=>{n.e({configInfo:e,accessToken:t,path:[r.a.ONBOARDING_CHECKLISTS,a],data:s})})(s.configInfo,s.accessToken,s.currentUserId,{collapsed:e})}},function(e,t,a){"use strict";t.a={CANCEL:"cancel",CLASS:"class",CLASSES:"intro-tour-teacher,classes-title",CODE:"code",COMMUNITIES:"communities",CREATE:"create",SAVE:"save",EDIT_DESCRIPTION:"edit_description",GROUP:"group",GROUPS:"intro-tour-teacher,groups-title",JOIN:"join-js",LEARN_MORE:"learnMore",NAME_YOUR_CLASS:"name-your-class",NAME_YOUR_GROUP:"name-your-group",SELECT_GRADE:"select-grade",SELECT_SUBJECT:"select-subject",SELECT_SUB_SUBJECT:"select-sub-subject",SELECT_SCHOOL_CLASS_OWNER:"select-school-class_owner",SETTINGS:"settings-index-title",TOPICS:"topics,topics",ENTER_PARENT_EMAIL:"parents,enter_parent_email",INVITE_SCHOOL_DIRECTORY:"invite-school-directory",INVALID_CODE:"invalid-code",DESCRIBE_YOUR_GROUP:"describe_your_group",DESCRIBE_YOUR_CLASS:"describe_your_class",PUBLIC_LEVEL:"select-who-can-find-and-join-this-group-class"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(9),r=a(28);const s=Object(n.createSelector)([r.L],e=>e)},function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(223),r=a(18);const s=(e,t,a,s)=>n.e({configInfo:e,accessToken:t,data:s,path:[r.a.QUIZ_USER_ANSWERS,a]}),i=(e,t,a)=>n.a({configInfo:e,accessToken:t,path:r.a.QUIZ_USER_ANSWERS,data:a})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=s(a(4)),r=s(a(2));function s(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function u(e){return"".concat(e,"%")}function h(e){var t=e.children,a=e.className,r=e.direction,s=e.count,o=e.offset,c=e.style,h=e.wrap,p=d(e,["children","className","direction","count","offset","style","wrap"]);return n.default.createElement("div",i({className:a,style:l({display:"flex",flexDirection:r,flexWrap:h?"wrap":"no-wrap"},c)},p),n.default.Children.map(t,(function(e,t){return n.default.cloneElement(e,l({},e.props,{style:{flexBasis:u(100/s),maxWidth:u(100/s),overflow:"hidden",marginLeft:o&&0===t?u(100*o/s):null}}))})))}h.propTypes={children:r.default.node,className:r.default.string,count:r.default.number.isRequired,direction:r.default.string,offset:r.default.number,style:r.default.objectOf(r.default.oneOfType([r.default.string,r.default.number])),wrap:r.default.bool}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(515),o=a.n(i),l=a(156),c=a(509);t.a=Object(c.a)(({toggle:e,isModalOpen:t,handleAttachLinkTextBlur:a,selectedLink:n,handleAttachLinkTitleChange:i,handleAttachLinkCTAClick:c,handleAttachLinkCancelClick:d,handleAttachLinkPaste:u,isEmbed:h,messageId:p,translate:m,disableLinkTitleChange:g})=>{const f=!(n&&n.uri),b=o()(e=>a(e),100),E=n?n.title:"",y=["polling"];return!n||n.title||!n||n.timed_out||h||y.push("in-progress"),r.a.createElement("div",null,r.a.createElement(s.M,{isOpen:t,toggle:e,className:""},r.a.createElement(s.P,{toggle:e},r.a.createElement(l.default,{string:"attach_link",fallbackString:"Attach Link"})),r.a.createElement(s.N,null,r.a.createElement(s.D,{placeholder:m&&m("url-or-embed-instruction","http:// or <embed>"),className:"mb-3 qa-test-attch-link-modal-textbox",onBlur:a,onChange:e=>{f||(e.persist(),b(e))},onPaste:u}),r.a.createElement(s.D,{placeholder:m&&m("profile,title","Title"),className:"mb-5 qa-test-attch-link-title-modal-textbox",value:E||"",onChange:e=>i(e),disabled:g}),r.a.createElement("p",{className:y&&y.join(" ")},r.a.createElement(l.default,{string:"post_stream,fetching_title",fallbackString:"Fetching Title..."}))),r.a.createElement(s.O,null,r.a.createElement(s.c,{color:"white",onClick:d},r.a.createElement(l.default,{string:"admin_pages,cancel",fallbackString:"Cancel"})),r.a.createElement("span",{className:"action-delimiter"},r.a.createElement(l.default,{string:"admin_pages,or",fallbackString:"or"})),r.a.createElement(s.c,{color:"primary","data-messageid":p,onClick:c,disabled:!E,className:"attach-confirm ml-3 qa-test-attch-link-modal-ok-button"},r.a.createElement(l.default,{string:"global,ok",fallbackString:"Ok"})))))})},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(134),o=a(42),l=a(510),c=a(156),d=a(1282),u=a(23);const h={eventType:u.a.TRACK_SCHOOL_DISTRICT_PAGE_INSTANT_PLC_SUCCESS_MODAL_DISPLAY,properties:{}};var p=Object(d.a)(h)(({handleCancel:e,handleGroupUrlClick:t,subview:a})=>r.a.createElement("div",null,r.a.createElement(s.N,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{alt:"",className:"group-create-success-img",width:"62",src:"https://a.edim.co/images_v2/group/ico-success-stream.png"})),r.a.createElement("div",{className:"success-message text-center"},"groups"===a?r.a.createElement(c.default,{string:"group-directory-success-message",fallbackString:"Your Professional Development Group has been created!"}):r.a.createElement(c.default,{string:"class-directory-success-message",fallbackString:"Class is created!"}))),r.a.createElement(s.O,null,r.a.createElement(s.c,{id:"group-dir-success-cancel",color:"primary",onClick:e,outline:!0,className:"qa-test-group-dir-success-cancel"},r.a.createElement(c.default,{string:"close",fallbackString:"Close"})),r.a.createElement(s.c,{type:"button",color:"primary",onClick:t,className:"qa-test-goto-group-dir"},"groups"===a?r.a.createElement(c.default,{string:"group-directory-got-to-btn",fallbackString:"Go to your Group"}):r.a.createElement(c.default,{string:"class-directory-got-to-btn",fallbackString:"Go to your Class"}))))),m=a(14),g=a(77);a(1578);var f=({communityUser:e,checkedStatus:t,handleMemberSelection:a,currentUser:n})=>{const i=m.a.getId(e),o=m.a.getFullName(e),l=m.a.getSmallAvatar(e),c=m.a.getUserEmail(e),d=m.a.getType(e),u=g.a.makeProfilePageUrl(n,e);return r.a.createElement(s.db,{className:"group-member-lists"},r.a.createElement(s.s,{xs:"1",className:"group-member-selection-section"},r.a.createElement("div",{className:"group-member-selection"},r.a.createElement("input",{type:"checkbox",className:"group-dir-member-list-check",value:i,onChange:a,checked:t}),r.a.createElement("label",null,r.a.createElement("span",{className:"body"})))),r.a.createElement(s.s,{xs:"3",className:"avatar-section"},r.a.createElement("img",{alt:"",src:l})),r.a.createElement(s.s,{className:"details-section"},r.a.createElement("div",{className:"user-info"},r.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"name qa-test-user-name"},o),r.a.createElement("span",{className:"mail"}," / ",c)),r.a.createElement("div",{className:"user-type"}," ",d," ")))};a(1617);var b=({communityUsers:e,selectedUsersIds:t,handleMemberSelection:a,currentUser:n})=>{const s=e&&e.valueSeq().map(e=>{const s=m.a.getId(e),i=t.includes(s);return r.a.createElement(f,{key:s,checkedStatus:i,communityUser:e,handleMemberSelection:a,currentUser:n})});return r.a.createElement("div",{className:"group-members-list-cont"},s)},E=a(509);const y={eventType:u.a.TRACK_SCHOOL_DISTRICT_PAGE_INSTANT_PLC_ADD_MEMBERS_DISPLAY,properties:{}};var S=Object(E.a)(Object(d.a)(y)(({communityUsers:e,communityUsersCount:t,selectedUsersIds:a,translate:n,subview:i,searchQueryForMembers:o,handleMemberSelection:l,handleMemberSelectionSubmit:d,handleCancel:u,isSelectAllChecked:h,currentUser:p})=>r.a.createElement("div",{className:"group-directory-members-suggestion"},r.a.createElement(s.N,{className:"add-members-modal"},r.a.createElement("p",{className:"add-members-description"},"groups"===i?r.a.createElement(c.default,{string:"group-directory-member-select-message",fallbackString:" Based on subject, grade, and school criteria for this group, included below is a list of [%{count}] teachers that you can add to this group.",insertions:{count:t}}):r.a.createElement(c.default,{string:"class-directory-member-select-message",fallbackString:" Based on subject, grade, and school criteria for this class, included below is a list of [%{count}] teachers that you can add to this class.",insertions:{count:t}})),r.a.createElement("div",{className:"header-section"},r.a.createElement("div",{className:"select-all-container"},r.a.createElement("div",{className:"styled-checkbox select-all"},r.a.createElement("input",{type:"checkbox",value:"all",onChange:l,checked:h}),r.a.createElement("label",null,r.a.createElement("span",{className:"subtext body"},r.a.createElement("span",{className:"select-all-span"},r.a.createElement(c.default,{string:"group-directory-select-all",fallbackString:"Select All"})),"(",t,")")))),r.a.createElement("div",{id:"search-bar-section"},r.a.createElement("div",{className:"searchbar-content"},r.a.createElement("input",{type:"text",className:"form-control search-input qa-test-group-member-search-input",placeholder:n&&n("group-directory-search-members","Search Members..."),onChange:o}),r.a.createElement("span",{className:"search-icons"},r.a.createElement("img",{alt:"",className:"search-icon",src:"//assets.edmodo.com/adminpages/images/header-searchbar.png",width:"14"}))))),r.a.createElement(b,{communityUsers:e,selectedUsersIds:a,handleMemberSelection:l,currentUser:p})),r.a.createElement(s.O,null,r.a.createElement(s.c,{id:"group-dir-member-cancel",color:"primary",onClick:u,outline:!0,className:"qa-test-group-dir-member-cancel"},r.a.createElement(c.default,{string:"close",fallbackString:"Close"})),r.a.createElement(s.c,{type:"button",color:"primary",onClick:d,className:"qa-test-group-dir-member-add"},r.a.createElement(c.default,{string:"add-members",fallbackString:"Add Members"})))))),v=(a(1214),a(133)),C=a(73),A=a(1611),I=a(1615);const T=Object(o.a)(()=>Promise.all([a.e(9),a.e(292)]).then(a.bind(null,3100)));class k extends n.Component{constructor(e){super(e),this.state={teacherEmailGroupFetched:!1}}componentDidUpdate(e){this.props.canAdministrate!==e.canAdministrate&&this.props.canAdministrate&&!this.state.teacherEmailGroupFetched&&this.setState({teacherEmailGroupFetched:!0},()=>{this.props.memberActions.clearTeacherEmailGroup(),this.fetchTotalTeacherEmailGroup({school_id:m.a.userSchoolId(this.props.currentUser),page:1,per_page:30,include_self:!0})})}fetchTotalTeacherEmailGroup(e){this.props.memberActions.fetchTeacherEmailGroupSuccess(!1),this.props.memberActions.fetchTeacherEmailGroup(e,t=>{e.page++,t?this.fetchTotalTeacherEmailGroup(e):this.props.memberActions.fetchTeacherEmailGroupSuccess(!0)})}render(){const e=this.props,t=e.groupType,a=e.canAdministrate,n=e.getTeacherEmailGroupSuccess,i="qa-test-create-".concat(t.toLowerCase(),"-header"),o=()=>!a||n;return r.a.createElement(s.M,{isOpen:this.props.isOpen,className:"create-group-modal-container"},r.a.createElement(s.P,{toggle:this.props.toggleVisibility,className:i},this.props.createGroupOrClass&&this.props.createGroupOrClass()),!this.props.loadingStatus&&!this.props.createGroupDirectorySuccess&&!this.props.askAddMemberGroupDirectory&&o()&&r.a.createElement(T,{subview:this.props.subview,groupType:this.props.groupType,context:this.props.context,toggleRange:this.props.handleToggleRange,useRange:this.props.useRange,rangeValue:this.props.rangeValue,rangeMinMax:this.props.gradeRange,formatRangeLabel:this.props.formatRangeLabel,handleCancel:this.props.toggleVisibility,handleCreateGroupSubmitClick:this.props.handleCreateGroupSubmitClick,handleGroupColorChange:this.props.handleGroupColorChange,initialGroupColorHexCode:this.props.initialGroupColorHexCode,onSubmit:this.props.handleCreateGroupSubmitClick,canAdministrate:this.props.canAdministrate,translate:this.props.translate}),(this.props.loadingStatus||!o())&&r.a.createElement(s.N,{className:"loading-modal"},r.a.createElement(l.a,null)),!this.props.loadingStatus&&this.props.createGroupDirectorySuccess&&r.a.createElement(p,{handleCancel:this.props.handleCancel,handleGroupUrlClick:this.props.handleGroupUrlClick,subview:this.props.subview}),!this.props.loadingStatus&&this.props.askAddMemberGroupDirectory&&r.a.createElement(S,{subview:this.props.subview,communityUsers:this.props.communityUsers,communityUsersCount:this.props.communityUsersCount,selectedUsersIds:this.props.selectedUsersIds,searchQueryForMembers:this.props.searchQueryForMembers,handleMemberSelection:this.props.handleMemberSelection,handleMemberSelectionSubmit:this.props.handleMemberSelectionSubmit,handleCancel:this.props.handleCancel,isSelectAllChecked:this.props.isSelectAllChecked,currentUser:this.props.currentUser}))}}t.a=Object(v.connect)(e=>({currentUser:C.c(e),getTeacherEmailGroupSuccess:A.f(e)}),e=>({memberActions:Object(i.bindActionCreators)(I,e)}))(k)},function(e,t,a){"use strict";a.r(t),a.d(t,"fetchSuccess",(function(){return h})),a.d(t,"fetchFailure",(function(){return p})),a.d(t,"createSuccess",(function(){return m})),a.d(t,"createFailure",(function(){return g})),a.d(t,"updateSuccess",(function(){return f})),a.d(t,"updateFailure",(function(){return b})),a.d(t,"mergeSubmissionAnswer",(function(){return E})),a.d(t,"setSubmissionAsGraded",(function(){return y})),a.d(t,"deleteRequest",(function(){return S})),a.d(t,"deleteSuccess",(function(){return v})),a.d(t,"deleteFailure",(function(){return C})),a.d(t,"reset",(function(){return A})),a.d(t,"fetchQuizSubmission",(function(){return I})),a.d(t,"fetchQuizSubmissions",(function(){return T})),a.d(t,"createQuizSubmission",(function(){return k})),a.d(t,"updateQuizSubmission",(function(){return O})),a.d(t,"deleteQuizSubmission",(function(){return _})),a.d(t,"updateSubmissionAnswer",(function(){return M}));var n=a(15),r=a(223),s=a(13),i=a(18);var o=a(1480),l=a(63),c=a(91),d=a(253),u=a(46);const h=(e,t=null)=>({type:c.a.Actions.FETCH_SUCCESS,payload:{data:e,orderedQuestionIds:t}}),p=e=>({type:c.a.Actions.FETCH_FAILURE,payload:e}),m=e=>({type:c.a.Actions.CREATE_SUCCESS,payload:e}),g=e=>({type:c.a.Actions.CREATE_FAILURE,payload:e}),f=e=>({type:c.a.Actions.UPDATE_SUCCESS,payload:e}),b=e=>({type:c.a.Actions.UPDATE_FAILURE,payload:e}),E=(e,t,a,n,r)=>({type:c.a.Actions.MERGE_USER_ANSWER,payload:{quiz_submission_id:e,orderedQuestionIndex:t,data:a,gradeDifference:n,totalPoints:r}}),y=e=>({type:c.a.Actions.SET_AS_GRADED,payload:{quiz_submission_id:e}}),S=()=>({type:c.a.Actions.DELETE_REQUEST}),v=e=>({type:c.a.Actions.DELETE_SUCCESS,payload:{creator_id:e}}),C=()=>({type:c.a.Actions.DELETE_FAILURE}),A=()=>({type:c.a.Actions.RESET}),I=(e,t)=>function(a,n){const o=l.a(n);return((e,t,a,n)=>r.c({configInfo:e,accessToken:t,path:i.a.QUIZ_SUBMISSIONS,params:{[s.a.QUIZ_IDS]:a,[s.a.USER_IDS]:n}}))(o.configInfo,o.accessToken,e,t).then(e=>{a(h(e.data))}).catch(e=>{e&&(console.log(e),a(p(e.message)))})},T=(e,t,a=!1,n=null,o=s.a.DEFAULT_PAGE_NUMBER,d=s.a.DEFAULT_PER_PAGE_VALUE)=>function(u,m){const g=l.a(m),f=g.configInfo,b=g.accessToken;a&&(o=1,d=c.a.Constants.MAX_PER_PAGE);let E={[s.a.QUIZ_IDS]:e,[s.a.PAGE]:o,[s.a.PER_PAGE]:d};return n&&(E[s.a.USER_IDS]=n),((e,t,a)=>r.c({configInfo:e,accessToken:t,path:i.a.QUIZ_SUBMISSIONS,params:a,timeout:0}))(f,b,E).then(r=>{if(a&&r.headers["x-total-count"]>d)for(let a=2;(a-1)*d<r.headers["x-total-count"];a++)u(T(e,t,!1,n,a,d));u(h(r.data,t))}).catch(e=>{e&&(console.log(e),u(p(e.message)))})},k=(e,t,a="quiz-take")=>function(n,s){const o=l.a(s);return((e,t,a)=>r.a({configInfo:e,accessToken:t,path:i.a.QUIZ_SUBMISSIONS,data:a}))(o.configInfo,o.accessToken,{quiz_id:e,user_id:t}).then(e=>(n(d.needRefreshStreamAction(!0)),n(m(e.data)),Promise.resolve(e.data))).catch(e=>(n(g(a)),Promise.reject(e)))},O=(e,t,a="quiz-take")=>function(n,s){const o=l.a(s);return((e,t,a,n)=>r.e({configInfo:e,accessToken:t,data:n,path:[i.a.QUIZ_SUBMISSIONS,a]}))(o.configInfo,o.accessToken,e,t).then(e=>{n(d.needRefreshStreamAction(!0)),n(f(e.data))}).catch(e=>{n(b(a))})},_=(e,t)=>function(a,n){const s=l.a(n),o=s.configInfo,c=s.accessToken;a(S()),((e,t,a)=>r.b({configInfo:e,accessToken:t,path:[i.a.QUIZ_SUBMISSIONS,a]}))(o,c,e).then(e=>{a(d.needRefreshStreamAction(!0)),a(Object(u.showSuccessGlobalAlert)("the-students-submission-has-been-deleted","The student's submission has been deleted")),a(v(t))}).catch(()=>{a(Object(u.showErrorGlobalAlert)("network-request-error","There was a problem with your request. Please refresh this page to try again.")),a(C())})},M=(e,t,a,r,s,i)=>function(c,d){const h=l.a(d),p=h.configInfo,m=h.accessToken,g=Object(n.a)({},r);return c(E(e,t,g,s,i)),o.b(p,m,a,g).then(e=>Promise.resolve(e)).catch(e=>(c(Object(u.showErrorGlobalAlert)("network-request-error","There was a problem with your request. Please refresh this page to try again.")),Promise.reject(e)))}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1199),i=a(133),o=a(134),l=a(1778),c=a(1764),d=a(1683),u=a(1630),h=a(1773),p=a(1765),m=a(1774),g=a(1772),f=a(38),b=a(254),E=a(1216),y=a(331),S=a(547),v=a(178),C=a(371),A=a(328),I=a(523),T=a(1458),k=a(1233),O=a(1775),_=a(202),M=a(30),N=a(3);a(1776);class w extends n.Component{constructor(e){super(e),this.state={showingMore:!1,modalOpen:!1},this.toggleShowing=this.toggleShowing.bind(this),this.toggleModal=this.toggleModal.bind(this),this.handleQuizAddToLibrary=this.handleQuizAddToLibrary.bind(this)}toggleShowing(){this.setState({showingMore:!this.state.showingMore})}toggleModal(){if(this.setState({modalOpen:!this.state.modalOpen}),this.props.attachments.quiz_contents){this.props.attachments.quiz_contents.forEach(e=>{this.props.quizzesActions.fetchQuizContents("".concat(e.get("id")))})}}handleQuizAddToLibrary(e){e.preventDefault(),e.stopPropagation();const t={item:{clone:!0,id:e.currentTarget.dataset.id},type:"quiz_content"};this.props.libraryActions.createLibraryItem(null,t),this.setState({modalOpen:!1})}render(){const e=this.props,t=e.attachments,a=e.messageId,n=e.showRemove,s=e.handleDismissClick,i=e.size,o=e.filesInProgressAttaching;let T=[],k=0;const O=f.a.getAttachedLinks(t),w=f.a.getAttachedFiles(t),P=f.a.getAttachedQuizzes(t),R=f.a.getAttachedAssignments(t),x=f.a.getAttachedEmbeds(t),L=f.a.getAttachedMultimediaItems(t),D=f.a.getAttachedWorksheets(t),F=0,U=1,B=2,G=3,j=4,z=5,q=6,H=7,V=8,W=9,Q=(w?w.size:0)+(P?P.size:0)+(R?R.size:0)+(x?x.size:0)+(D?D.size:0);return L&&L.forEach(e=>{T.push(r.a.createElement(g.a,{orderBy:F,multimediaItem:e,attachmentType:N.a.MULTIMEDIA_ITEMS,key:I.a.getId(e),id:I.a.getId(e),messageId:a,showRemove:!0,handleDismissClick:s}))}),R&&R.forEach(e=>{T.push(r.a.createElement(p.a,{orderBy:q,key:C.a.getId(e),id:C.a.getId(e),messageId:a,index:k++,title:C.a.getAssignmentTemplateTitle(e),showRemove:n,toggleModal:this.toggleModal,handleDismissClick:s}))}),D&&D.forEach((e,t)=>{T.push(r.a.createElement(m.a,{key:"worksheet-".concat(t),orderBy:H,title:v.a.getTitle(e),viewUrl:v.a.getViewUrl(e),downloadUrl:v.a.getDownloadUrl(e),thumbUrl:v.a.getThumbUrl(e),messageId:a,id:v.a.getId(e),resourceType:v.a.getResourceType(e),showRemove:n,handleDismissClick:s}))}),O&&O.forEach(e=>{0===Q&&1===O.size&&S.a.hasPasteThumbUrl(e)?T.push(r.a.createElement(h.a,{orderBy:G,key:S.a.getId(e),id:S.a.getId(e),messageId:a,title:S.a.getTitle(e),url:S.a.getUrl(e),thumbUrl:S.a.getThumbUrl(e),size:i,googleType:v.a.getGoogleDocType(e),showRemove:!0,handleDismissClick:s})):T.push(r.a.createElement(u.a,{orderBy:G,key:S.a.getId(e),id:S.a.getId(e),messageId:a,title:S.a.getTitle(e),url:S.a.getLinkUrl(e)||S.a.getUrl(e),thumbUrl:S.a.getThumbUrl(e),showRemove:n,handleDismissClick:s,size:i,googleType:v.a.getGoogleDocType(e)}))}),w&&w.forEach(e=>{const t=Object(_.b)(b.a.getType(e)),o={id:b.a.getId(e),thumbUrl:b.a.getThumbUrl(e)||Object(_.g)(b.a.getType(e))||Object(_.g)(M.a.DOCUMENT),fileName:b.a.getFileName(e),fileSize:b.a.getSize(e),fileSizeFormatted:Object(_.a)(b.a.getSize(e)),fileType:b.a.getType(e),downloadUrl:b.a.getDownloadUrl(e),viewUrl:b.a.getViewUrl(e),key:A.a.generateRandomKey(),showRemove:n,messageId:a,handleDismissClick:s};t===M.a.IMAGE?T.push(r.a.createElement(l.a,Object.assign({orderBy:B,index:k++,size:i},o))):t===M.a.AUDIO?T.push(r.a.createElement(l.a,Object.assign({orderBy:V,index:k++,size:i},o))):t===M.a.VIDEO?T.push(r.a.createElement(l.a,Object.assign({orderBy:U,index:k++,size:i},o))):T.push(r.a.createElement(l.a,Object.assign({orderBy:j,index:k++,size:i},o)))}),o&&o.forEach(e=>{if(e){const t=e.type||e.file_type,o={id:e.id,thumbUrl:e.thumb_url||Object(_.g)(e.type)||Object(_.g)(M.a.DOCUMENT),fileName:e.file_name,fileSize:e.size,fileSizeFormatted:Object(_.a)(e.size),fileType:t,downloadUrl:e.download_url,viewUrl:e.view_url,key:A.a.generateRandomKey(),fileProgress:e.progress,fromLibrary:"false",showRemove:n,messageId:a,handleDismissClick:s};t===M.a.IMAGE?T.push(r.a.createElement(l.a,Object.assign({orderBy:B,index:k++,size:i},o))):t===M.a.AUDIO?T.push(r.a.createElement(l.a,Object.assign({orderBy:V,size:i},o))):t===M.a.VIDEO?T.push(r.a.createElement(l.a,Object.assign({orderBy:U,index:k++,size:i},o))):T.push(r.a.createElement(l.a,Object.assign({orderBy:j,index:k++,size:i},o)))}}),P&&P.forEach(e=>{T.push(r.a.createElement(c.a,{orderBy:z,key:E.a.getId(e),id:E.a.getId(e),messageId:a,index:k++,title:E.a.getTitle(e),questionsAmount:E.a.getNumberOfQuestions(e),showRemove:n,toggleModal:this.toggleModal,handleDismissClick:s}))}),x&&x.forEach(e=>{T.push(r.a.createElement(d.a,{embed:e,orderBy:W,key:y.a.getId(e),id:y.a.getId(e),messageId:a,index:k++,content:y.a.getContent(e),showRemove:n,handleDismissClick:s}))}),T=T.sort((e,t)=>e.props.orderBy-t.props.orderBy),r.a.createElement("div",{className:"AttachmentList  pb-2_5",id:a},r.a.createElement("div",{className:"mb-1"},T.map(e=>e)))}}t.a=Object(s.a)(Object(i.connect)((function(e,t){return{quizQuestions:O.a(e)}}),(function(e){return{quizzesActions:Object(o.bindActionCreators)(T,e),libraryActions:Object(o.bindActionCreators)(k,e)}}))(w))},,,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(134),o=a(200),l=a(199),c=a(73),d=a(192),u=a(19);t.a=e=>{class t extends n.Component{constructor(e){super(e),this.fetchCurrentGroupInfo=this.fetchCurrentGroupInfo.bind(this)}componentDidMount(){this.fetchCurrentGroupInfo()}fetchCurrentGroupInfo(){const e=this.props.groupId;if(e){const t={group_ids:e,user_id:d.a.getUserId(this.props.accessToken)};this.props.groupMembershipActions.fetchSingleGroupMembershipByGroupId(t,!0)}}render(){const t=this.props,a=t.userGroupMemberships,n=t.groupId,s=u.a.getGroupMembershipByGroupId(a,n);return r.a.createElement(e,Object.assign({currentGroupMembership:s},this.props))}}return Object(s.connect)((function(e,t){return{accessToken:c.d(e),userGroupMemberships:l.I(e)}}),(function(e){return{groupMembershipActions:Object(i.bindActionCreators)(o,e)}}))(t)}},function(e,t,a){"use strict";a.r(t),a.d(t,"geolocationsLookupSuccessAction",(function(){return d})),a.d(t,"getGeolocationForCurrentRequest",(function(){return u}));var n=a(13),r=a(18),s=a(25);var i=a(63),o=a(36),l=a(539),c=a(48);const d=e=>({type:l.a.GEOLOCATION_LOOKUP_SUCCESS_ACTION,payload:e}),u=()=>function(e,t){const a=i.a(t).configInfo;return(l=a.get(c.a.CLIENT_ID),s.a.get(r.a.GEOLOCATIONS_LOOKUP,{params:{[n.a.CLIENT_ID]:l}})).then(t=>{e(d(t.data))}).catch(e=>{console.log(e),o.a.notifyBugsnag(e,"GeolocationActionCreator.getGeolocationForCurrentRequest")});var l}},function(e,t,a){"use strict";var n=a(4),r=a.n(n);t.a=({avatar1:e,avatar2:t,avatar3:a})=>{const n={backgroundImage:"url(".concat(e,")")},s={backgroundImage:"url(".concat(t,")")},i={backgroundImage:"url(".concat(a,")")};return r.a.createElement("div",{className:"chat-room-list-item-left-avatar-wrapper"},r.a.createElement("div",{className:"avatar-topleft",style:n}),r.a.createElement("div",{className:"avatar-middle",style:s}),r.a.createElement("div",{className:"avatar-bottomright",style:i}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverflowDetector=void 0;var n,r=a(1497),s=(n=r)&&n.__esModule?n:{default:n};t.OverflowDetector=s.default},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(294),o=a(509),l=a(1462);a(1669);class c extends n.Component{constructor(e){super(e),this.state={isCalendarOpen:!1,selectedDate:e.selectedDate||null,selectedDateText:e.selectedDateText||null,selectedTime:e.selectedTime||{hour:"11",minute:"59",meridian:"PM"}},this.toggleCalendar=this.toggleCalendar.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.handleDateTimeChange=this.handleDateTimeChange.bind(this),this.insertQaIds=this.insertQaIds.bind(this),this.handleDateTimeChange(),this.calendarElement=r.a.createRef()}componentDidMount(){this.insertQaIds()}componentDidUpdate(e){this.insertQaIds(),(e.selectedDate&&e.selectedDate.getTime())!==(this.props.selectedDate&&this.props.selectedDate.getTime())&&this.setState({selectedDate:this.props.selectedDate,selectedTime:this.props.selectedTime,selectedDateText:this.props.selectedDateText})}insertQaIds(){const e=this.calendarElement.current;if(e){const t=e.querySelector(".react-calendar__month-view__days");Array.from(t.children).forEach(e=>{if(!e.hasAttribute("disabled")){let t=1*e.firstChild.innerHTML;e.classList.add("qa-test-day-input-".concat(t))}})}}toggleCalendar(){this.setState({isCalendarOpen:!this.state.isCalendarOpen})}handleDateChange(e){this.setState({selectedDate:e,selectedDateText:i.i(e)},this.handleDateTimeChange),this.toggleCalendar()}handleDateTimeChange(){this.props.handleDateTimeChange(this.state.selectedDate,this.state.selectedTime&&this.state.selectedTime.hour,this.state.selectedTime&&this.state.selectedTime.minute,this.state.selectedTime&&this.state.selectedTime.meridian)}selectedHourChange(e){let t=this.state.selectedTime;t.hour=e.target.value,this.setState({selectedTime:t},this.handleDateTimeChange)}selectedMinuteChange(e){let t=this.state.selectedTime;t.minute=e.target.value,this.setState({selectedTime:t},this.handleDateTimeChange)}selectedMeridianChange(e){let t=this.state.selectedTime;t.meridian=e.target.value,this.setState({selectedTime:t},this.handleDateTimeChange)}render(){const e=this.props.customLabel?this.props.customLabel:this.props.translate("select-date","Select Date"),t=this.state.selectedDateText||e;let a=[];for(let s=1;s<=12;s++)a.push(r.a.createElement("option",{key:s,value:"".concat(s)},s));const n=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"].map(e=>r.a.createElement("option",{key:e,value:e},e));return r.a.createElement("div",{className:"__classroom-datetime-picker",ref:this.calendarElement},r.a.createElement(s.w,{className:"time-dropdown qa-test-assignModal-toggleCalendar",isOpen:this.state.isCalendarOpen,toggle:this.toggleCalendar},r.a.createElement(s.z,{caret:!0},r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-calendar"}),t)),r.a.createElement(s.y,{right:"rtl"===document.body.dir},r.a.createElement(l.a,{className:"qa-test-assignModal-editDueDate",value:this.state.selectedDate,minDate:new Date,onChange:e=>this.handleDateChange(e)}))),this.state.selectedDate&&r.a.createElement("div",{className:"date-picker-time"},r.a.createElement(s.D,{type:"select",className:"date-picker-time-hour qa-test-date-picker-time-hour",onChange:e=>this.selectedHourChange(e),defaultValue:this.state.selectedTime&&this.state.selectedTime.hour?this.state.selectedTime.hour:"11"},a),r.a.createElement("span",{className:"hour-minute-delimiter"},":"),r.a.createElement(s.D,{type:"select",className:"date-picker-time-minute qa-test-date-picker-time-minute",onChange:e=>this.selectedMinuteChange(e),defaultValue:this.state.selectedTime&&this.state.selectedTime.minute?this.state.selectedTime.minute:"59"},n),r.a.createElement(s.D,{type:"select",className:"date-picker-time-meridiem qa-test-date-picker-time-meridiem",onChange:e=>this.selectedMeridianChange(e),defaultValue:this.state.selectedTime&&this.state.selectedTime.meridian?this.state.selectedTime.meridian:"PM"},r.a.createElement("option",{value:"AM"},"AM"),r.a.createElement("option",{value:"PM"},"PM"))))}}t.a=Object(o.a)(c)},function(e,t,a){"use strict";a.r(t),a.d(t,"signupDisplay",(function(){return s})),a.d(t,"signupSubmit",(function(){return i})),a.d(t,"trackSignupPageGoogleSignInBtnClick",(function(){return o})),a.d(t,"trackSignupPageOffice365SignInBtnClick",(function(){return l})),a.d(t,"trackUnifiedSignupButtonClicked",(function(){return c})),a.d(t,"trackUsertypePickerButtonClicked",(function(){return d}));var n=a(278),r=a(145);const s=e=>({type:n.a.TRACK_SIGNUP_PAGE_DISPLAY,payload:e}),i=e=>({type:n.a.TRACK_SIGNUP_PAGE_SUBMIT,payload:e}),o=e=>({type:n.a.TRACK_SIGNUP_PAGE_GOOGLE_SIGN_IN_BTN_CLICK,payload:e}),l=e=>({type:n.a.TRACK_SIGNUP_PAGE_OFFICE_365_SIGN_IN_BTN_CLICK,payload:e}),c=(e,t,a={})=>({type:n.a.TRACK_SIGNUP_PAGE_UNIFIED_BTN_CLICK,context:e,visualElement:t,trackingAction:"click",payload:a}),d=(e,t={})=>({type:n.a.TRACK_SIGNUP_PAGE_USERTYPE_PICKER_BTN_CLICK,context:r.a.USERTYPE_PICKER_PAGE,visualElement:e,trackingAction:"click",payload:t})},,function(e,t,a){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(4),i=c(s),o=c(a(1299)),l=c(a(1502));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.isOverflowed=!1,a.domElement=null,a.setDOMElement=a.setDOMElement.bind(a),a.checkOverflow=a.checkOverflow.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.checkOverflow()}},{key:"componentDidUpdate",value:function(){this.checkOverflow()}},{key:"setDOMElement",value:function(e){this.domElement=e}},{key:"checkOverflow",value:function(){var e=this.domElement.scrollWidth>this.domElement.clientWidth||this.domElement.scrollHeight>this.domElement.clientHeight;e!==this.isOverflowed&&(this.isOverflowed=e,this.props.onOverflowChange&&this.props.onOverflowChange(e))}},{key:"render",value:function(){var e=this.props,t=e.style,a=e.className,r=e.children;return i.default.createElement("div",{ref:this.setDOMElement,style:n({},t,{position:"relative"}),className:a},r,i.default.createElement(l.default,{onResize:this.checkOverflow}))}}]),t}(s.Component);d.propTypes={onOverflowChange:o.default.func,children:o.default.node,style:o.default.object,className:o.default.string},d.defaultProps={style:{}},t.default=d},function(e,t,a){"use strict";var n=a(1499),r=a(1500),s=a(1501);e.exports=function(){function e(e,t,a,n,i,o){o!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return a.checkPropTypes=n,a.PropTypes=a,a}},function(e,t,a){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,a){"use strict";e.exports=function(e,t,a,n,r,s,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,n,r,s,i,o],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(4),s=o(r),i=o(a(1299));function o(e){return e&&e.__esModule?e:{default:e}}var l={display:"block",position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:-1},c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isMounted:!1},a.setDOMElement=a.setDOMElement.bind(a),a.handleLoad=a.handleLoad.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"componentWillUnmount",value:function(){this.domElement.contentDocument&&this.domElement.contentDocument.defaultView.removeEventListener("resize",this.props.onResize)}},{key:"setDOMElement",value:function(e){this.domElement=e}},{key:"handleLoad",value:function(){this.domElement.contentDocument.defaultView.addEventListener("resize",this.props.onResize)}},{key:"render",value:function(){return s.default.createElement("object",{style:l,type:"text/html",data:this.state.isMounted?"about:blank":null,ref:this.setDOMElement,onLoad:this.handleLoad})}}]),t}(r.Component);c.propTypes={onResize:i.default.func.isRequired},t.default=c},function(e,t,a){},function(e,t,a){"use strict";t.a={LIBRARY_ITEM_REDUCER:"libraryItemReducer",ITEM_URL:"itemUrl",ITEM_TITLE:"itemTitle",ITEM_DESCRIPTION:"itemDescription",ITEM_IMAGE:"itemImage",ITEM_GRADE_SELECT:"itemGradeSelect",ITEM_SUBJECT_SELECT:"itemSubjectSelect"}},function(e,t,a){},,,function(e,t,a){var n=a(1472);e.exports=function(e,t){if(null==e)return{};var a,r,s=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}},function(e,t,a){var n=a(1473),r=a(1286);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?r(e):t}},function(e,t){function a(t){return e.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(t)}e.exports=a},function(e,t,a){var n=a(1514);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t){function a(t,n){return e.exports=a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(t,n)}e.exports=a},function(e,t,a){},function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return c}));var n=a(9),r=a(1),s=a(28);const i=Object(n.createSelector)([s.A],e=>e&&e.get(r.a.CONNECTION_PROFILE)),o=(Object(n.createSelector)([i],e=>e&&e.get(r.a.CONNECTION_PROFILE)),Object(n.createSelector)([s.A],e=>e&&e.get(r.a.CONNECTION_PROFILE_NOT_FOUND_AFTER_REQUEST))),l=Object(n.createSelector)([s.A],e=>e&&e.get(r.a.CONNECTION_PROFILE_DENIED_AFTER_REQUEST)),c=Object(n.createSelector)([s.A],e=>e&&e.get(r.a.HAS_AWARDED_BADGES))},function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(5),r=a.n(n);const s=[["#e33c37","color_41"],["#e66838","color_42"],["#3583e5","color_43"],["#28a992","color_44"],["#e5368c","color_45"],["#39c9e6","color_46"],["#7f42c9","color_47"],["#4cb855","color_48"],["#717991","color_49"],["#fecb00","color_21"]],i=e=>r.a.reduce(s,(t,a,n)=>(a[0]===e?t[a[1]]=1:t[a[1]]=0,t),{}),o=e=>s.find(t=>e===t[1])[0]},function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u}));var n=a(9),r=a(1),s=a(28),i=a(20);const o=(e,t)=>t&&t===i.a.REDUCER?e:s.hb(e),l=Object(n.createSelector)([o],e=>e&&e.get(r.a.PARENT_PHONE_INVITATION_ERR)),c=Object(n.createSelector)([o],e=>e&&e.get(r.a.PARENT_EMAIL_INVITATION_ERR)),d=Object(n.createSelector)([o],e=>e&&e.get(r.a.NOTIFY_PARENT_SUCCESS)),u=Object(n.createSelector)([o],e=>e&&e.get(r.a.INVITED_PARENTS_INFO_FROM_USER_ROSTER))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(295);t.a=e=>t=>{class a extends n.Component{constructor(t){super(t),this.state={collapseOpen:!1,collapseTargetId:e&&e.targetId||"target-".concat(Object(s.a)(6)),isTrue1:!1},this.toggleCollapse=this.toggleCollapse.bind(this)}toggleCollapse(){this.setState({collapseOpen:!this.state.collapseOpen})}render(){return r.a.createElement(t,Object.assign({},this.state,this.props,{toggleCollapse:this.toggleCollapse}))}}return a}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(364),o=a(1662),l=a(156),c=a(14),d=a(73);t.a=Object(s.connect)((function(e){return{currentUser:d.c(e)}}))(({toggle:e,isModalOpen:t,attachLibraryItem:a,currentUser:n})=>{const s=c.a.isStudent(n);return r.a.createElement("div",null,r.a.createElement(i.M,{isOpen:t,toggle:e,className:"modal-lg composer-library-modal"},r.a.createElement(i.P,{toggle:e},s?r.a.createElement(l.default,{string:"add-from-backpack",fallbackString:"Add from Backpack"}):r.a.createElement(l.default,{string:"postbox-add-from-library",fallbackString:"Add from Library"})),r.a.createElement(i.N,null,r.a.createElement(o.a,{hasMenu:!1,name:"PostLibraryModal",inModal:!0,isAttachmentPicker:!0,isModalOpen:t})),r.a.createElement(i.O,null,r.a.createElement(i.c,{color:"primary",onClick:a,className:"qa-test-attach-confirm attach-confirm"},r.a.createElement(l.default,{string:"attach-to-post",fallbackString:"Attach to Post"})))))})},function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return g}));var n=a(9),r=a(28),s=a(255),i=a(1),o=a(20);const l=(e,t)=>t&&t===o.a.REDUCER?e.get(i.a.USER_SSO_INFO):c(e),c=Object(n.createSelector)([r.Db],e=>e&&e.get(i.a.USER_SSO_INFO)),d=Object(n.createSelector)([r.Db],e=>e&&e.get(s.a.GOOGLE_INFO)),u=Object(n.createSelector)([d],e=>e&&e.get(s.a.ACCESS_TOKEN)),h=Object(n.createSelector)([r.Db],e=>e&&e.get(s.a.OFFICE_INFO)),p=Object(n.createSelector)([r.Db],e=>e&&e.get(s.a.OFFICE_ERROR)),m=Object(n.createSelector)([h],e=>e&&e.get(s.a.ACCESS_TOKEN)),g=Object(n.createSelector)([r.Db],e=>e&&e.get(s.a.DISCONNECT)),f=Object(n.createSelector)([l],e=>e&&e.get(s.a.YAHOO_INFO)),b=(Object(n.createSelector)([f],e=>e&&e.get(s.a.ACCESS_TOKEN)),Object(n.createSelector)([l],e=>e&&e.get(s.a.HOTMAIL_INFO)));Object(n.createSelector)([b],e=>e&&e.get(s.a.ACCESS_TOKEN))},function(e,t,a){"use strict";var n=a(15),r=a(4),s=a.n(r),i=a(5),o=a.n(i),l=a(294),c=a(136),d=a(1253),u=a(19),h=a(11),p=a.n(h),m=a(36);class g extends r.Component{constructor(e){super(e),this.state={recipients:null,dueDate:null,attachments:null,postAt:null,addToGradebook:!0,scheduleForLater:!1,enableAssignBtn:!1,showResults:!0,randomOrder:!1,validTimeDetails:!0,networkError:!1},this.handleTypeAhead=this.handleTypeAhead.bind(this),this.handleDueDateChange=this.handleDueDateChange.bind(this),this.handleAssign=this.handleAssign.bind(this),this.handleSchedulerChange=this.handleSchedulerChange.bind(this),this.handleScheduleForLater=this.handleScheduleForLater.bind(this),this.updateUIState=this.updateUIState.bind(this),this.handleDateTimeChangeForKey=this.handleDateTimeChangeForKey.bind(this),this.handleAddToGradebook=this.handleAddToGradebook.bind(this),this.getDefaultRecipient=this.getDefaultRecipient.bind(this)}handleTypeAhead(e){this.setState({recipients:e.length?e:null},this.updateUIState)}getDateTimeStringFromParams(e,t,a,n){return l.f(e,t,a,n)}handleAddToGradebook(){this.setState({addToGradebook:!this.state.addToGradebook})}handleDateTimeChangeForKey(e,t,a,n,r){const s=[t,a,n,r].every(e=>!!e);this.setState({[e]:s?this.getDateTimeStringFromParams(t,a,n,r):null},this.updateUIState)}handleDueDateChange(e,t,a,n){this.handleDateTimeChangeForKey("dueDate",e,t,a,n)}handleSchedulerChange(e,t,a,n){this.handleDateTimeChangeForKey("postAt",e,t,a,n)}handleScheduleForLater(){this.setState({postAt:null,scheduleForLater:!this.state.scheduleForLater},this.updateUIState)}getDefaultRecipient(){const e=this.props.currentGroupMembership;let t=[];return e&&(t=[[2,u.a.getGroupId(e),u.a.getGroupTitle(e),u.a.getGroupColor(e)]]),t}handleAssign(e){d.a.preventDefaultAndStopPropagation(e),this.setState({enableAssignBtn:!1,networkError:!1});const t=c.a.formatRecipients(this.state.recipients),a=this.state,n={due_at:a.dueDate,post_at:a.postAt,viewable_in_gradebook:a.addToGradebook,recipients:t},r=o.a.assign(n,this.getParams());this.assignAction(r).then(e=>{const a=e.id;this.afterAssign(t&&t.groups,a),this.setState({enableAssignBtn:!0})}).catch(e=>{m.a.notifyBugsnag(e,"ClassroomAssignModalContainer.handleAssign"),this.setState({networkError:!0}),this.updateUIState()})}updateUIState(){const e=this.state,t=e.recipients,a=e.dueDate,n=e.scheduleForLater,r=e.postAt,s=e.validTimeDetails,i=p()(a),o=p()(r);let l,c;i.isValid()&&i<=p()()&&(l=!0),o.isValid()&&(o<=p()()||i.isValid()&&i<=o)&&(c=!0),this.setState({errorDueDate:l,errorPostAt:c,enableAssignBtn:t&&a&&!l&&!c&&!!n===!!r&&s})}getParams(){return{}}getProps(){return{}}assignAction(e){}afterAssign(){}render(){const e=this.props,t=e.children,a=e.toggle,r=e.isOpen,i=e.title,o=e.currentGroupMembership,l=this.state,c=l.enableAssignBtn,d=l.scheduleForLater,u=l.errorDueDate,h=l.errorPostAt,p=l.networkError;return s.a.cloneElement(t,Object(n.a)({toggle:a,isOpen:r,title:i,enableAssignBtn:c,errorDueDate:u,errorPostAt:h,networkError:p,scheduleForLater:d,currentGroupMembership:o,getDefaultRecipient:this.getDefaultRecipient,handleTypeAhead:this.handleTypeAhead,handleDueDateChange:this.handleDueDateChange,handleSchedulerChange:this.handleSchedulerChange,handleAddToGradebook:this.handleAddToGradebook,handleScheduleForLater:this.handleScheduleForLater,handleAssign:this.handleAssign},this.getProps()))}}t.a=g},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(35),o=a.n(i),l=a(1246),c=a(381),d=a(1476),u=a(1203),h=a.n(u),p=a(1493),m=a(1655),g=a(1650),f=a(156),b=a(1204),E=a(1656),y=(a(1697),a(1485),a(1469),a(1671));t.a=({isOpen:e,toggle:t,handleTypeAhead:a,handleDueDateChange:n,handleAssign:i,title:u,handleScheduleForLater:S,scheduleForLater:v,addToGradebook:C,handleAddToGradebook:A,randomizeQuestions:I,handleRandomizeQuestions:T,lockAfterDue:k,handleSchedulerChange:O,enableAssignBtn:_,quizLoading:M,showQuizResults:N,handleShowQuizResults:w,errorPostAt:P,isQuiz:R,networkError:x,getDefaultRecipient:L,children:D,errorDueDate:F,timeLimit:U,handleChangeTimeLimit:B,errorMaxMinutes:G,errorMinutesNan:j})=>{let z=r.a.Children.toArray(D);const q=o()("assign-modal-body","qa-test-assign-modal",{mobile:c.a.isMobile()});let H=r.a.createElement(f.default,{string:"select-due-date",fallback:"Select Due Date"}),V=R?"quiz-icon":"assignment-icon";return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{show:x}),r.a.createElement(s.M,{className:"__classroom-assign-modal qa-test-assignModal-toggle",isOpen:e,toggle:t},r.a.createElement(s.P,{toggle:t},r.a.createElement("div",{className:"quiz-icon"},r.a.createElement(b.a,{name:V,color:h.a.white[0],size:20})),r.a.createElement("div",{className:"quiz-info"},r.a.createElement("div",{className:"qa-test-quiz-title quiz-title"},u))),r.a.createElement(s.N,{className:q},r.a.createElement("section",{className:"assign-modal-section mt-3 mb-7"},r.a.createElement("div",{className:"section__title"},r.a.createElement(f.default,{string:"modal,assign_to",fallbackString:"Assign To"})),r.a.createElement("div",{className:"section__content"},r.a.createElement(g.a,{setDefaultSelected:L,selectedItemsChangeCb:a,apiRequestMethod:l.b,filterBy:e=>e&&e.length&&e.filter(e=>d.a.getRecipientsForClassroom().includes(e[0]))}))),r.a.createElement("section",{className:"assign-modal-section mt-3 mb-5 with-divider"},r.a.createElement("div",{className:"section__title mb-2"},r.a.createElement(f.default,{string:"modal,due_on",fallbackString:"Due On"})),r.a.createElement("div",{className:"section__content time-content"},r.a.createElement(p.a,{handleDateTimeChange:n,customLabel:H}),k&&r.a.createElement("div",{className:"lock-warning-container qa-test-assignModal-quizLockWarningContainer"},r.a.createElement(b.a,{name:"LockIcon",className:"small-lock-icon",size:20,color:h.a.gray[90]}),r.a.createElement("span",{className:"locks-warning"},r.a.createElement(f.default,{string:"locks-after-due-date",fallbackString:"Lock after due date"})))),r.a.createElement("div",{className:"section__content"},z[0],F&&r.a.createElement(f.default,{paragraph:!0,className:"date-error",string:"invalid-due-date-message",fallback:"Please select a due date in the future."}))),R&&r.a.createElement("section",{className:"assign-modal-section mt-3 mb-5 with-divider"},r.a.createElement("div",{className:"section__title mb-2"},r.a.createElement(f.default,{string:"time-limit",fallbackString:"Time Limit"})),r.a.createElement("div",{className:"section__content"},r.a.createElement("div",{className:"time-limit-container"},r.a.createElement(s.D,{value:U,className:"time-limit-input qa-test-quizEdit-inputTimeLimit",onChange:B}),r.a.createElement("span",{className:"time-limit-text"},r.a.createElement(f.default,{string:"minutes",fallback:"Minutes"})),j&&r.a.createElement(E.a,{string:"error-enter-positive-number",fallback:"Please enter a positive number"}),G&&r.a.createElement(E.a,{string:"error-total-time",fallback:"Total time cannot exceed 1440 minutes (24 hours)"})))),r.a.createElement("section",{className:"assign-modal-section mt-3"},r.a.createElement("div",{className:"section__title mb-2"},r.a.createElement(f.default,{string:"modal,options",fallbackString:"Other Options"})),z[1],r.a.createElement("div",{className:"section__content"},R&&r.a.createElement("div",{className:"checkbox-group"},r.a.createElement("div",{className:"checkbox-item"},r.a.createElement("label",{className:"input-container"},r.a.createElement("input",{type:"checkbox",className:"qa-test-assignModal-quizRandomizeQuestionsCheckbox",checked:I,onChange:T}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"assign-modal-checkbox-label"},r.a.createElement(f.default,{string:"modal,randomize-questions",fallbackString:"Randomize Questions"})))),r.a.createElement("div",{className:"checkbox-group"},r.a.createElement("div",{className:"checkbox-item"},r.a.createElement("label",{className:"input-container"},r.a.createElement("input",{type:"checkbox",className:"qa-test-assignModal-addToGradebook",checked:C,onChange:A}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"assign-modal-checkbox-label"},r.a.createElement(f.default,{string:"add-quiz-to-gradebook",fallbackString:"Add to Gradebook (Progress)"})))),R&&r.a.createElement("div",{className:"checkbox-group"},r.a.createElement("div",{className:"checkbox-item"},r.a.createElement("label",{className:"input-container"},r.a.createElement("input",{type:"checkbox",className:"qa-test-assignModal-quizShowResultsCheckbox",checked:N,onChange:w}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"assign-modal-checkbox-label"},r.a.createElement(f.default,{string:"modal,show_results",fallbackString:"Show results to students upon completion"})))),r.a.createElement(m.a,{isOpen:v,toggle:S,handleSchedulerChange:O}),P&&r.a.createElement(f.default,{paragraph:!0,className:"date-error",string:"invalid-schedule-date-message",fallback:"Your quiz must be scheduled after the current time and date and before your due date."})))),r.a.createElement(s.O,{className:"assign-modal-footer"},!v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{name:"time-icon",size:20,color:h.a.gray[50]}),r.a.createElement(s.c,{color:"link",className:"schedule-later-link qa-test-assignModal-scheduleForLater",onClick:S},r.a.createElement(f.default,{string:"modal,schedule_for_later",fallbackString:"Schedule for later"}))),v&&r.a.createElement("div",{className:"scheduling-container"},r.a.createElement(b.a,{name:"time-icon",size:20,color:h.a.white[0]}),r.a.createElement("span",{className:"scheduling-text"},r.a.createElement(f.default,{string:"scheduling",fallbackString:"Scheduling"}))),r.a.createElement(s.c,{disabled:!_||M,color:"primary",className:"qa-test-assignModal-submit",onClick:i},r.a.createElement(f.default,{string:"assign",fallbackString:"Assign"})))))}},function(e,t,a){"use strict";a.r(t),a.d(t,"deleteParentAssociation",(function(){return f})),a.d(t,"deleteParentAssociationFromGroupToAssociationsMap",(function(){return b})),a.d(t,"parentAddClass",(function(){return E})),a.d(t,"fetchAssociationForGroupSuccess",(function(){return v})),a.d(t,"fetchCurrentGroupParentMembersFetchFailure",(function(){return C})),a.d(t,"deleteParentAssociationOptimistic",(function(){return A})),a.d(t,"fetchParentMembersWithNoStudent",(function(){return I}));var n=a(272),r=a(15),s=a(18),i=a(223),o=a(25);var l=a(63),c=a(298),d=a(200),u=a(373),h=a(36),p=a(385),m=a(181),g=a(147);const f=(e,t)=>({type:g.a.Actions.DELETE_PARENT_ASSOCIATION,payload:{associationId:e,groupId:t}}),b=(e,t)=>({type:g.a.Actions.DELETE_PARENT_ASSOCIATION_FROM_GROUP_MAP,payload:{associationId:e,groupId:t}}),E=e=>function(t){return(a=e,o.a.post(s.a.PARENT_ASSOCIATIONS,a)).then(y.bind(null,e,t)).catch(S.bind(null,e,t));var a},y=(e,t,a)=>{const n={type:"class",result:"success",is_prompt:e.is_prompt,context:e.context};t(c.addChildOrClassSubmit(n));const r=a&&a.data&&a.data.entity&&a.data.entity.id,s=a&&a.data&&a.data.entity&&a.data.entity.title;return r&&s&&(t(d.setCurrentGroupId(r)),t(u.setNewlyAddedClassId(r))),Promise.resolve(["class",r,s])},S=(e,t,a)=>{const r={type:"class",result:"failure",is_prompt:e.is_prompt,context:e.context};if(a&&a.response&&409===a.response.status){throw a.response.data.message===p.a.CHILD_IN_GROUP?(r.error="already_connected",t(c.addChildOrClassSubmit(r)),new n.SubmissionError({parentCodeInput:m.a.CHILD_IN_GROUP,_error:"failure"})):(r.error="already_in_class",t(c.addChildOrClassSubmit(r)),new n.SubmissionError({parentCodeInput:m.a.ALREADY_IN_CLASS,_error:"failure"}))}throw r.error="invalid",t(c.addChildOrClassSubmit(r)),new n.SubmissionError({parentCodeInput:m.a.INVALID_CODE,_error:"failure"})},v=(e,t)=>({type:g.a.Actions.FETCH_FOR_GROUP_SUCCESS,payload:{associations:e,groupId:t}}),C=e=>({type:g.a.Actions.FETCH_FOR_GROUP_FAILURE,payload:e}),A=e=>function(t,a){const n=l.a(a),r=n.configInfo,o=n.accessToken;return t(f(e)),((e,t,a)=>i.b({configInfo:e,accessToken:t,path:[s.a.PARENT_ASSOCIATIONS,a]}))(r,o,e).catch(e=>{h.a.notifyBugsnag(e,"ParentAssociationsActionCreator.deleteParentAssociationOptimistic")})},I=(e,t,a,n=!1)=>function(i,l){return n&&(t=1,a=g.a.MAX_PER_PAGE),(c={entity_id:e,entity_type:"group",page:t,perPage:a},o.a.get(s.a.PARENT_ASSOCIATIONS,{params:Object(r.a)({},c)})).then(t=>{if(!(n&&t.headers["x-total-count"]>a))return i(v(t.data,e)),Promise.resolve();for(let n=2;(n-1)*a<t.headers["x-total-count"];n++)i(I(e,n,a,!1))}).catch(e=>{e&&e.response&&404===e.response.status&&(i(C(e)),h.a.notifyBugsnag(e,"ParentAssociationsActionCreator.fetchAssociationFroGroup"))});var c}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1758),i=a.n(s),o=a(364),l=a(272),c=a(1530),d=a.n(c),u=a(1208),h=a(378),p=a(181),m=a(509);const g=e=>{let t={};t={name:e&&e.input&&e.input.name,autoFocus:!!e.initialValue,autoComplete:"tel-national",className:e.className};let a=null;return a=e.initialValue?e.initialValue:e.countryCode===h.a.US_COUNTRY_NAME||e.countryCode===h.a.CANADA_COUNTRY_NAME?h.a.US_CANADA_COUNTRY_CODE:e.initialValue,r.a.createElement(o.C,null,e.initialValue?r.a.createElement(i.a,{defaultCountry:e.countryCode,onChange:e.input.onChange,onBlur:e.input.onBlur,onFocus:e.input.onFocus,inputProps:t,flagsImagePath:d.a,value:a}):r.a.createElement(i.a,{defaultCountry:e.countryCode,onChange:e.input&&e.input.onChange,onBlur:e.input&&e.input.onBlur,onFocus:e.input&&e.input.onFocus,inputProps:t,flagsImagePath:d.a,initialValue:a}),e.meta&&e.meta.touched&&e.meta.error&&r.a.createElement("small",{className:"qa-test-required-error required-error"},(()=>{switch(e&&e.meta.error){case p.a.REQUIRED:return e.translate("required","Required");case p.a.INVALID_US_CA_PHONE_NUMBER:return e.translate("settings,phone-number-invalid","Invalid Phone Number");default:return e.translate("required","Required")}})()))};t.a=Object(m.a)(({initialValue:e,onChange:t,countryCode:a,isForConnectParent:n=!1,translate:s})=>r.a.createElement(l.Field,{name:"phoneNumber",component:g,initialValue:e,countryCode:a,className:"qa-test-phone-input",translate:s,onChange:t,validate:n?[u.g,u.T]:null}))},function(e,t,a){"use strict";var n=a(0),r=a(18),s=a(1317);class i{static preprocessFavoriteRankingOrder(e,t){let a=[];return e&&e.keySeq().forEach(e=>{a.push(parseInt(e,10))}),a&&a.unshift(t),a&&a.reduce((e,t,a)=>(e[t]=a+1,e),{})}static preprocessFavoriteRankingBatchRequest(e,t){let a=i.preprocessFavoriteRankingOrder(e,t);return a&&Object.keys(a).map((e,t)=>({method:"PUT",url:"".concat(r.a.GROUP_MEMBERSHIPS,"/").concat(e),body:{membership:{favorite_ranking:a[e]}}}))}static getGroupMembershipsCurrentOrder(e){let t=[];return e&&e.keySeq().forEach(e=>{t.push(parseInt(e,10))}),t}static generateGroupMembershipsFavoriteRanking(e){return e&&e.reduce((e,t,a)=>(e[t]=a+1,e),{})}static generateGroupMembershipsFavoriteRankingBatchRequest(e){return e&&Object.keys(e).map((t,a)=>({method:"PUT",url:"".concat(r.a.GROUP_MEMBERSHIPS,"/").concat(t),body:{favorites_ranking:e[t]}}))}static isSchoolAdminReadOnly(e){return!!n.Map.isMap(e)&&e.get(s.a.SCHOOL_ADMIN_READ_ONLY)}static generateParamsforUpdateGroupMembershipBatchCall(e,t){const a=e.get("id");return{method:"PUT",url:"".concat(r.a.GROUP_MEMBERSHIPS,"/").concat(a),body:t}}static generateParamsforDeleteGroupMembershipBatchCall(e){const t=e.get("id");return{method:"DELETE",url:"".concat(r.a.GROUP_MEMBERSHIPS,"/").concat(t)}}}t.a=i},function(e,t,a){"use strict";var n=a(15),r=a(133),s=a(134),i=a(1199),o=a(1522),l=a(1458),c=a(253),d=a(1477),u=a(1263),h=a(1232),p=a(1489),m=a(294),g=a(55),f=a(1216);class b extends o.a{constructor(e){super(e),this.state=Object(n.a)({},this.state,{showQuizResults:e.showQuizResults||!1,randomizeQuestions:e.randomizeQuestions||!1,lockAfterDue:e.lockAfterDue||!1,addTimeLimit:e.addTimeLimit||!1,errorMinutesNan:!1,errorMaxMinutes:!1,timeLimit:"60"}),this.firstTimePageLoad=!0,this.handleRandomizeQuestions=this.handleRandomizeQuestions.bind(this),this.handleAddTimeLimit=this.handleAddTimeLimit.bind(this),this.handleShowQuizResults=this.handleShowQuizResults.bind(this),this.handleLockAfterDue=this.handleLockAfterDue.bind(this),this.handleChangeTimeLimit=this.handleChangeTimeLimit.bind(this),this.verifyDetails=this.verifyDetails.bind(this)}componentDidMount(){this.props.loadQuizContents&&this.loadQuizContents()}componentDidUpdate(e){const t=this.props,a=t.randomizeQuestions,n=t.showQuizResults,r=t.lockAfterDue,s=t.quizContentsId,i=t.loadQuizContents;n!==e.showQuizResults&&this.setState({showQuizResults:n}),a!==e.randomizeQuestions&&this.setState({randomizeQuestions:a}),r!==e.lockAfterDue&&this.setState({lockAfterDue:r}),i&&s&&s!==e.quizContentsId&&this.loadQuizContents()}loadQuizContents(){const e=this.props,t=e.quizContentsId,a=e.quizOverviewActions;a.clearQuizContents(t),a.editQuizFetchContents(t)}getParams(){const e=this.state,t=e.showQuizResults,a=e.randomizeQuestions,n=e.lockAfterDue,r=e.timeLimit;return{quiz_content_id:this.props.quizContentsId,preview:!1,show_results:t,random_order:a,lock_after_due:n,time_limit:60*r}}getProps(){const e=this.props.quizContents;return{randomizeQuestions:this.state.randomizeQuestions,handleRandomizeQuestions:this.handleRandomizeQuestions,showQuizResults:this.state.showQuizResults,handleShowQuizResults:this.handleShowQuizResults,lockAfterDue:this.state.lockAfterDue,handleLockAfterDue:this.handleLockAfterDue,addTimeLimit:this.state.addTimeLimit,handleAddTimeLimit:this.handleAddTimeLimit,timeLimit:this.state.timeLimit,errorMinutesNan:this.state.errorMinutesNan,errorMaxMinutes:this.state.errorMaxMinutes,handleChangeTimeLimit:this.handleChangeTimeLimit,addToGradebook:this.state.addToGradebook,quizLoading:!e,newQuizExperience:f.a.newQuizExperience(e)}}assignAction(e){const t=this.props,a=t.quizContents,n=t.quizzesActions,r=f.a.newQuizExperience(a);return n.assignQuizFromLibrary(e,r)}afterAssign(e,t){const a=this.props,n=a.onboardingActions,r=a.streamActions,s=a.onAssigned;n.updateChecklistOptimistic(g.a.ChecklistItems.CREATE_QUIZ,m.c()),n.updateChecklistCollapsed(!0),e&&e.forEach(e=>r.groupPageResetStream(e.id)),r.needRefreshStreamAction(!0),s&&s(t)}handleRandomizeQuestions(){this.setState({randomizeQuestions:!this.state.randomizeQuestions})}handleAddTimeLimit(){this.setState({addTimeLimit:!this.state.addTimeLimit})}handleShowQuizResults(){this.setState({showQuizResults:!this.state.showQuizResults})}handleChangeTimeLimit(e){const t=e.target.value;if(t!==this.state.timeLimit){const e=""!==t&&(t.match(/[a-z]/i)||isNaN(t)||parseInt(t,10)<=0||!Number.isInteger(parseFloat(t))),a=!isNaN(t)&&parseInt(t,10)>1440;this.setState({timeLimit:t,errorMinutesNan:e,errorMaxMinutes:a},()=>this.verifyDetails())}}handleLockAfterDue(){this.setState({lockAfterDue:!this.state.lockAfterDue})}verifyDetails(){const e=this.state,t=e.timeLimit,a=e.errorMinutesNan,n=e.errorMaxMinutes,r=!0===(t&&!a&&!n);this.setState({validTimeDetails:r},super.updateUIState)}}t.a=Object(r.connect)((function(e,t){return{quizContents:h.c(e,t.quizContentsId)}}),(function(e){return{quizzesActions:Object(s.bindActionCreators)(l,e),onboardingActions:Object(s.bindActionCreators)(d,e),streamActions:Object(s.bindActionCreators)(c,e),quizOverviewActions:Object(s.bindActionCreators)(u,e)}}))(Object(i.a)(Object(p.a)(b)))},function(e,t,a){"use strict";var n=a(198),r=a(4),s=a.n(r),i=a(1523),o=a(156);var l=({randomizeQuestions:e,handleRandomizeQuestions:t,showQuizResults:a,handleShowQuizResults:n,lockAfterDue:r,handleLockAfterDue:i})=>s.a.createElement("div",{className:"section__content"},s.a.createElement("div",{className:"checkbox-group"},s.a.createElement("div",{className:"checkbox-item"},s.a.createElement("label",{className:"input-container"},s.a.createElement("input",{type:"checkbox",className:"qa-test-assignModal-quizLockAfterDueCheckbox",checked:r,onChange:i}),s.a.createElement("span",{className:"checkmark"})),s.a.createElement("label",{className:"assign-modal-checkbox-label"},s.a.createElement(o.default,{string:"modal,lock_after_due",fallbackString:"Lock after due date"})))));t.a=e=>{let t=e.randomizeQuestions,a=e.handleRandomizeQuestions,r=e.handleScheduleForLater,o=e.scheduleForLater,c=e.showQuizResults,d=e.handleShowQuizResults,u=e.addTimeLimit,h=e.handleAddTimeLimit,p=e.lockAfterDue,m=e.handleLockAfterDue,g=e.handleSchedulerChange,f=Object(n.a)(e,["randomizeQuestions","handleRandomizeQuestions","handleScheduleForLater","scheduleForLater","showQuizResults","handleShowQuizResults","addTimeLimit","handleAddTimeLimit","lockAfterDue","handleLockAfterDue","handleSchedulerChange"]);return s.a.createElement(i.a,Object.assign({showQuizResults:c,handleShowQuizResults:d,randomizeQuestions:t,handleRandomizeQuestions:a,addTimeLimit:u,lockAfterDue:p,handleAddTimeLimit:h,scheduleForLater:o,handleScheduleForLater:r,isQuiz:!0,handleSchedulerChange:g},f),s.a.createElement(l,{randomizeQuestions:t,handleRandomizeQuestions:a,showQuizResults:c,handleShowQuizResults:d,lockAfterDue:p,handleLockAfterDue:m}))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(35),i=a.n(s),o=a(156);a(1605);t.a=({titleTranslationKey:e,titleTranslationFallbackKey:t,subTitleTranslationKey:a,subTitleTranslationFallbackKey:n,className:s})=>{const l=i()("EmptyState",s);return r.a.createElement("div",{className:l},e&&r.a.createElement("span",{className:"header-1-text EmptyState__title"},r.a.createElement(o.default,{string:e,fallbackString:t})),a&&r.a.createElement("span",{className:"EmptyState__subtitle body-text"},r.a.createElement(o.default,{string:a,fallbackString:n})))}},function(e,t,a){e.exports=a.p+"static/media/flags.723494a4.png"},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156);t.a=function({isOpen:e,toggle:t,onEdit:a}){return r.a.createElement(s.M,{isOpen:e,size:"sm",toggle:t},r.a.createElement(s.P,{toggle:t},r.a.createElement(i.default,{string:"assign-quiz",fallback:"Assign Quiz"})),r.a.createElement(s.N,null,r.a.createElement(i.default,{string:"quiz-invalid-details",fallback:"Your quiz needs a title, a time limit, and all questions complete before it can be assigned."})),r.a.createElement(s.O,null,r.a.createElement(s.c,{color:"link",className:"qa-test-quizEdit-closeInvalidQuizModal",onClick:t},r.a.createElement(i.default,{string:"close",fallback:"Close"})),r.a.createElement(s.c,{color:"primary",className:"qa-test-quizEdit-closeInvalidQuizModal",onClick:a},r.a.createElement(i.default,{string:"edit-quiz",fallback:"Edit Quiz"}))))}},function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d}));var n=a(9),r=a(1),s=a(28),i=a(98);Object(n.createSelector)([s.T],e=>e&&e.get(r.a.GROUP_ADD_NEW_STUDENTS));const o=Object(n.createSelector)([s.T],e=>e&&e.get(i.a.WAIT_FOR_BATCH_STUDENTS_CREATION)),l=Object(n.createSelector)([s.T],e=>e&&e.get(i.a.WAIT_FOR_BATCH_INVITES)),c=Object(n.createSelector)([s.T],e=>e&&e.get(i.a.BULK_GRID_VALID)),d=Object(n.createSelector)([s.T],e=>e&&e.get(i.a.SET_EMAIL_CHECK_ROW_IDX))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1228);a(1235);t.a=e=>{let t,a="btn-icon p-2";e.size&&"large"===e.size&&(t="lg",a=a.replace("p-2","p-2_5"),a+=" rounded-circle header-2-text"),e.weight&&"standard"===e.weight&&(a+=" dark-gray-icon"),e.weight&&"loud"===e.weight&&(e.size&&"large"===e.size||(a+=" blue-icon"));const n=i.b(e,a);return r.a.createElement(s.c,Object.assign({key:e.key,color:"link",size:t,className:n,onClick:t=>{if(!e.onClick)return;const a=e.onClick;"function"===typeof a&&a(t,e.options)},disabled:e.disabled},e.dataSet))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(509),o=a(156);t.a=Object(i.a)(({showConfirmEmailModal:e,handleToggleConfirmEmailModal:t,handleEmailVerification:a,verificationEmailSent:n,emailForVerification:i})=>r.a.createElement("div",{className:"email-verification-container"},r.a.createElement(s.M,{isOpen:e,toggle:t,className:"modal-md",backdrop:"static"},r.a.createElement(s.P,{toggle:t},n?r.a.createElement(o.default,{string:"verify-your-email",fallbackString:"Verify Your Email Address"}):r.a.createElement(o.default,{string:"resend-confirmation-email",fallbackString:"Resend Confirmation Email"})),r.a.createElement(s.N,null,n?r.a.createElement("div",{className:"email-verification-message-body"},r.a.createElement(o.default,{string:"email-verification-sent",fallbackString:"A verification email has been sent to %{email}",insertions:{email:i}})):r.a.createElement("div",{className:"email-verification-message-body"},r.a.createElement("p",null,i),r.a.createElement(s.c,{color:"primary",className:"qa-test-resend-email-submit",onClick:a},r.a.createElement(o.default,{string:"resend_confirmation_email",fallbackString:"Re-send Confirmation Email"})))),r.a.createElement(s.O,null))))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(1199),o=a(134),l=a(1266),c=a(511),d=a(1322),u=a(1494),h=a(73),p=a(369),m=a(368),g=a(192),f=a(78),b=a(1296),E=a(10),y=a(377),S=a(18),v=a(13),C=a(48),A=a(77),I=a(99),T=a(36);const k=e=>t=>{class a extends n.Component{constructor(t,a){super(t,a),this.state=Object.assign(e,t),this.handleClick=this.handleClick.bind(this)}handleClick(t){t.preventDefault();const a="usage_context:".concat(this.state.usageContext,"-provider:").concat(this.state.provider);let n="".concat(this.props.configInfo.get("baseUrl")).concat(S.a.SSO_AUTH,"/").concat(this.state.provider,"?")+"".concat(v.a.SSO_DEVICE_TYPE_PARAM,"&client_id=")+"".concat(this.props.configInfo.get(C.a.CLIENT_ID),"&returnable_params=").concat(a),r=this.props.location&&this.props.location.pathname;try{const t=this.props.signupTrackingActions;if(r&&r===E.a.STUDENT_SIGNUP){const a={onboarding_page_name:E.a.STUDENT_SIGNUP};e&&"google"===e.provider&&t.trackSignupPageGoogleSignInBtnClick(a),e&&"office365"===e.provider&&t.trackSignupPageOffice365SignInBtnClick(a)}}catch(o){T.a.notifyBugsnag(o,"SsoButtonFactory.handleClick")}r&&r===E.a.STUDENT_REGISTRATION?n="".concat(n,"&signup_user_type=STUDENT"):r&&r===E.a.TEACHER_SIGNUP?n="".concat(n,"&signup_user_type=TEACHER"):r&&r===E.a.PARENT_SIGNUP&&(n="".concat(n,"&signup_user_type=PARENT")),I.a.isLocalDev()&&(n="".concat(n,"&web_app_development_env=true")),g.a.isValid(this.props.accessToken)&&(n="".concat(n,"&user_").concat(v.a.ACCESS_TOKEN,"=").concat(this.props.accessToken.get(v.a.ACCESS_TOKEN)));const s=this.props.currentGroup&&f.a.getGroupCodeOrPublicCode(this.props.currentGroup);s&&(n="".concat(n,"&group_code=").concat(s));const i=this.props.referrerId;if(i&&(n+="&referrer_id=".concat(i,"&allow_referrer_only=true")),e.usageContext===b.a.LIBRARY_USAGE_CONTEXT)n="".concat(n,"&redirect_to=").concat(window.location.protocol,"//").concat(window.location.host).concat(E.a.LIBRARY_PAGE);else if(this.props.go2url){const e=A.a.isUrlAbsolute(this.props.go2url)?this.props.go2url:A.a.getBaseUrlFromLocation()+this.props.go2url;n="".concat(n,"&redirect_to=").concat(encodeURIComponent(e))}!0!==e.newWindow?window.location=n:window.open(n),this.props.libraryPageTrackingActions.connectToDrive(this.state.provider)}render(){return r.a.createElement(t,Object.assign({},this.props,this.state,{handleClick:this.handleClick,disabled:this.props.disabled}))}}return Object(i.a)(Object(s.connect)((function(e,t){return{currentUser:h.c(e),accessToken:h.d(e),configInfo:p.a(e),currentGroup:m.a(e),go2url:y.c(e)}}),(function(e){return{userActions:Object(o.bindActionCreators)(c,e),ssoActions:Object(o.bindActionCreators)(d,e),libraryPageTrackingActions:Object(o.bindActionCreators)(l,e),signupTrackingActions:Object(o.bindActionCreators)(u,e)}}))(a))};k.defaultProps={formName:"standard"},t.a=k},function(e,t,a){"use strict";var n=a(4),r=a.n(n);a(1318);t.a=({provider:e,providerDisplayName:t,usageContext:a,handleClick:n,btnTheme:s,btnClass:i,disabled:o})=>r.a.createElement("div",{className:"sso-".concat(a,"-button btn ").concat(s," ").concat(i," ").concat(o?"disabled":""),onClick:o?null:n},r.a.createElement("div",{className:"sso-".concat(a,"-icon-container")},r.a.createElement("div",{className:"".concat(e,"-sso-").concat(a,"-icon")}),r.a.createElement("div",{className:"sso-provider-name"},t)))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156),o=a(509);t.a=Object(o.a)(({toggleCreateSmallGroupModal:e,isCreateSmallGroupModalOpen:t,createSmallGroupSubmit:a,smallGroupName:n,handleSmallGroupInput:o,isInvalidState:l,translate:c})=>{const d=l?"is-invalid":"";return r.a.createElement(s.M,{toggle:e,isOpen:t},r.a.createElement(s.P,null,r.a.createElement(i.default,{string:"create-small-group",fallbackString:"Create Small Group"})),r.a.createElement(s.N,null,r.a.createElement(s.D,{placeholder:c&&c("small-group-name","Small Group Name"),onChange:o,value:n,className:"qa-test-name-input ".concat(d)}),l&&r.a.createElement(s.B,null,r.a.createElement(i.default,{string:"empty-name-error",fallbackString:"Please enter a name less than 60 characters"}))),r.a.createElement(s.O,null,r.a.createElement(s.c,{color:"white",onClick:e,className:"qa-test-cancel"},r.a.createElement(i.default,{string:"cancel",fallbackString:"Cancel"})),r.a.createElement(s.c,{color:"primary",onClick:a,className:"qa-test-create"},r.a.createElement(i.default,{string:"create",fallbackString:"Create"}))))})},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364);a(1321);t.a=({className:e,disabledState:t,handleClick:a,title:n,desc:i,img:o})=>r.a.createElement("button",{className:"big-button-text-image text-left ".concat(e),onClick:a,size:"lg",disabled:t},r.a.createElement(s.db,null,r.a.createElement(s.s,{xs:"3",className:"image-col"},o),r.a.createElement(s.s,{xs:"15",className:"desc-col"},r.a.createElement("div",{className:"button-title"},n),r.a.createElement("div",{className:"button-description"},i))))},function(e,t){e.exports=function(){if("undefined"!==typeof window&&null!==window){if("(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25)return!0;if(window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)").matches)return!0}return!1}},function(e,t){var a={};e.exports=function(e,t){if(e in a)return t(a[e]);var n=new Image;n.onload=function(){a[e]=!0,t(!0)},n.onerror=function(){a[e]=!1,t(!1)},n.src=e}},function(e,t){e.exports=function(e,t){var a=e.length;if(a!==t.length)return!1;for(var n=0;n<a;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,a){"use strict";var n=a(0);t.a=class{static createParams(){return{creator_id:"",user_id:"",group_id:"",message:""}}static getRequestParamsForBatch(e){let t={};return"object"===typeof e&&n.Map.isMap(e)&&e?(t.creator_id=e.get("creator_id")||null,t.user_id=e.get("user_id")||null,t.group_id=e.get("group_id")||null,t.message=e.get("message")||null,t.email=e.get("email")||null):(t.creator_id=null,t.user_id=null,t.group_id=null,t.message=null,t.email=null),{method:"POST",url:"/group_invitations",body:t}}static makeImmutableinvite(e){if(e){return Object(n.Map)(e)}return Object(n.Map)()}}},function(e,t,a){"use strict";t.a={ADD_FROM_LIB:"postbox-add-from-library",GOOGLE_DRIVE:"gdocs",FORMAT_TEXT:"post_box,format_text_with_markdown",SCHEDULE_POST:"schedule-post",BACKPACK:"backpack",INSTRUCTIONS:"type-peer",FORMATTING_OPTIONS:"formatting-options"}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(35),i=a.n(s),o=a(136);a(1505);var l=({folder:e,position:t,activeFolder:a,itemToBeMoved:n,itemToBeCopied:s,itemActedOnParentFolderId:l,clickHandler:c})=>{const d=parseInt(o.a.getId(e),10),u=parseInt(a,10),h=o.a.getName(e),p=parseInt(n,10)===d||parseInt(s,10)===d||l===d;let m;m="rtl"===document.body.dir?{marginRight:25*(t+1),cursor:p?"default":"pointer"}:{marginLeft:25*(t+1),cursor:p?"default":"pointer"};const g=i()({"library-folder-list-item":!0,active:u===d,disabled:p});return r.a.createElement("div",{key:d,className:g,"data-folderid":d,style:m,role:"presentation",onClick:p?null:c,onKeyPress:p?null:c},h)},c=a(509);t.a=Object(c.a)(({folders:e,activeFolder:t,itemToBeMoved:a,itemToBeCopied:n,inRoot:s,isStudent:c,clickHandler:d,itemActedOnParentFolderId:u,translate:h})=>{const p=[],m=parseInt(t,10),g=i()({"library-folder-list-item":!0,active:0===m&&!s,disabled:s}),f={cursor:s?"default":"pointer"},b=r.a.createElement("div",{key:0,className:g,style:f,"data-folderid":0,onClick:s?null:d},c?h&&h("backpack","Backpack"):h&&h("added_by_me","Library")),E=(s,i)=>{let c=s;e&&e.forEach((e,s)=>{let h=parseInt(o.a.getParentId(e),10),m=parseInt(o.a.getId(e),10);h===c&&(p.push(r.a.createElement(l,{"data-folderid":m,key:s,position:i,folder:e,activeFolder:t,itemToBeMoved:a,itemToBeCopied:n,clickHandler:d,itemActedOnParentFolderId:u})),E(m,i+1))})};return E(0,0),r.a.createElement("div",{className:"library-folder-list-container"},b,p)})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement("div",{className:"react-calendar__century-view"},n.default.createElement(r.default,e))};var n=s(a(4)),r=s(a(1733));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement("div",{className:"react-calendar__decade-view"},n.default.createElement(r.default,e))};var n=s(a(4)),r=s(a(1735));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.default.createElement("div",{className:"react-calendar__year-view"},n.default.createElement(r.default,e))};var n=s(a(4)),r=s(a(1737));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(a(4)),r=c(a(2)),s=c(a(1739)),i=c(a(1741)),o=c(a(1742)),l=a(1209);function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function h(e){var t=e.activeStartDate,a=e.locale,r=e.onMouseLeave,l=e.showFixedNumberOfWeeks,c=e.calendarType,h=e.formatShortWeekday,p=e.onClickWeekNumber,m=e.showWeekNumbers,g=u(e,["calendarType","formatShortWeekday","onClickWeekNumber","showWeekNumbers"]),f=function(){if(c)return c;switch(a){case"en-CA":case"en-US":case"es-AR":case"es-BO":case"es-CL":case"es-CO":case"es-CR":case"es-DO":case"es-EC":case"es-GT":case"es-HN":case"es-MX":case"es-NI":case"es-PA":case"es-PE":case"es-PR":case"es-SV":case"es-VE":case"pt-BR":return"US";case"ar":case"ar-AE":case"ar-BH":case"ar-DZ":case"ar-EG":case"ar-IQ":case"ar-JO":case"ar-KW":case"ar-LY":case"ar-OM":case"ar-QA":case"ar-SA":case"ar-SD":case"ar-SY":case"ar-YE":case"dv":case"dv-MV":case"ps":case"ps-AR":return"Arabic";case"he":case"he-IL":return"Hebrew";default:return"ISO 8601"}}();var b="react-calendar__month-view";return n.default.createElement("div",{className:[b,m?"".concat(b,"--weekNumbers"):""].join(" ")},n.default.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},m?n.default.createElement(o.default,{activeStartDate:t,calendarType:f,onClickWeekNumber:p,onMouseLeave:r,showFixedNumberOfWeeks:l}):null,n.default.createElement("div",{style:{flexGrow:1,width:"100%"}},n.default.createElement(i.default,{calendarType:f,formatShortWeekday:h,locale:a,onMouseLeave:r}),n.default.createElement(s.default,d({calendarType:f},g)))))}h.propTypes={activeStartDate:r.default.instanceOf(Date).isRequired,calendarType:l.isCalendarType,formatShortWeekday:r.default.func,locale:r.default.string,maxDate:l.isMaxDate,minDate:l.isMinDate,onChange:r.default.func,onClickWeekNumber:r.default.func,onMouseLeave:r.default.func,setActiveRange:r.default.func,showFixedNumberOfWeeks:r.default.bool,showNeighboringMonth:r.default.bool,showWeekNumbers:r.default.bool,value:l.isValue,valueType:r.default.string}},function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return b}));var n=a(9),r=a(1),s=a(28),i=a(306);const o=Object(n.createSelector)([s.fb],e=>e&&e.get(r.a.ONE_DRIVE_ERROR)),l=Object(n.createSelector)([s.fb],e=>e&&e.getIn([r.a.ONE_DRIVE_FILES])),c=Object(n.createSelector)([l],e=>e&&i.a.getFolders(e)),d=Object(n.createSelector)([l],e=>e&&i.a.getFiles(e)),u=Object(n.createSelector)([d],e=>{const t=i.a.sortByModifiedDate(e);return t&&t.valueSeq()}),h=Object(n.createSelector)([d],e=>{const t=i.a.sortByName(e);return t&&t.valueSeq()}),p=Object(n.createSelector)([c],e=>{const t=i.a.sortByModifiedDate(e);return t&&t.valueSeq()}),m=Object(n.createSelector)([c],e=>{const t=i.a.sortByName(e);return t&&t.valueSeq()}),g=Object(n.createSelector)([s.bb,(e,t)=>t&&t.name],(e,t)=>e&&e.getIn([r.a.SELECTED_ATTACHMENT_LIST,t])),f=Object(n.createSelector)([g],e=>e&&e.filter(e=>e)),b=Object(n.createSelector)([l,f],(e,t)=>{const a=t&&t.keySeq().toArray();return a&&a.map(t=>e&&e.get(t))})},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(134),i=a(1199),o=a(133),l=a(15),c=a(1624);var d=({messageTranslationKey:e,messageTranslationFallback:t,translate:a,options:n,isSearchable:s,loadCompactListForSearch:i,onSelectCallback:o,groupType:d,showPlaceholder:u,clearPlaceholder:h})=>{const p=a&&a("try-searching-something-else","Try searching something else"),m=a&&a("loading-ellipsis","Loading...");return r.a.createElement("div",{className:"left-pane-group-membership-search-container"},r.a.createElement(c.a,{className:"react-select-container",classNamePrefix:"react-select",options:n,isSearchable:s,closeMenuOnScroll:!0,menuPlacement:"auto",escapeClearsValue:!0,onBlurResetsInput:!0,blurInputOnSelect:!0,clearValue:()=>"cleared",noOptionsMessage:e=>"".concat(p),loadingMessage:e=>"".concat(m),placeholder:h?"":a&&a(e,t),onChange:e=>o(e,d),onFocus:()=>i(d),onBlur:()=>u(d),components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},theme:e=>Object(l.a)({},e,{colors:Object(l.a)({},e.colors,{primary25:"#F7F7F7"})})}))},u=a(144),h=a.n(u),p=a(1537),m=a(1568),g=a(364),f=a(1218),b=a(0),E=a(1626),y=a.n(E),S=a(1560),v=a.n(S),C=a(77),A=a(78),I=a(19),T=a(10);var k=e=>{const t=e.group,a=e.handleGroupItemClick,n=e.connectDragSource,s=e.connectDropTarget,i=e.onGroupPage,o=T.a.GROUP_PAGE,l=I.a.getGroupTitleFromCompactGroupMembership(t)||A.a.getGroupTitle(t),c=I.a.getGroupIdFromCompactGroupMembership(t)||A.a.getGroupId(t),d=I.a.getGroupColor(t),u=C.a.makePageUrlFromTitleAndId(o,l,c);return i?r.a.createElement("div",{className:"on-group-page-left-col-nav"},r.a.createElement(g.J,{action:!0,tag:"a",href:u,className:"mb-0_5",onClick:a},r.a.createElement("div",{className:"group-border",style:{backgroundColor:d}}),r.a.createElement("span",{className:"group-title"}," ",l," "))):n&&s&&n(s(r.a.createElement("div",{className:"off-group-page-left-col-nav"},r.a.createElement(g.J,{action:!0,tag:"a",href:u,className:"mb-0_5 qa-test-home-page-group-nav",onClick:a},r.a.createElement("div",{className:"group-border",style:{backgroundColor:d}}),r.a.createElement("span",{className:"group-title"}," ",l," "),r.a.createElement("span",{className:"gripper"},r.a.createElement("img",{alt:"",src:v.a}))))))};var O=({smallGroup:e,handleSmallGroupItemClick:t,userGroupColor:a,currentSmallGroupId:n,isDragging:s,connectDragSource:i,connectDropTarget:o})=>{const l=T.a.SMALL_GROUP_PAGE,c=I.a.getGroupTitleFromCompactGroupMembership(e),d=A.a.getGroupId(e),u=C.a.makePageUrlFromTitleAndId(l,c,d),h=parseInt(n,10)===parseInt(d,10);return i&&o&&i(o(r.a.createElement("div",null,r.a.createElement(g.J,{className:h?"selected-small-group-item":"small-group-item qa-test-small-group-item",key:d,href:u,style:h?{backgroundColor:a}:{},onClick:t,action:!0,draggable:!0},r.a.createElement("span",{className:"color-box",style:{backgroundColor:a}}),r.a.createElement("span",{className:"small-group-title"},c)))))},_=a(156),M=a(200),N=a(199),w=a(14),P=a(1222),R=a(1203),x=a.n(R);const L="smallGroup",D={drop:e=>({id:e.id,index:e.index})},F={beginDrag:e=>({id:e.id}),endDrag(e,t){if(!t.didDrop())return;const a=t.getItem(),n=t.getDropResult();a.id!==n.id&&e.moveGroup(a.id,n.index)}},U=Object(f.DropTarget)(L,D,e=>({connectDropTarget:e.dropTarget()}))(Object(f.DragSource)(L,F,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(O));class B extends n.Component{constructor(e){super(e),this.state={sortedSmallGroups:this.props.sortedSmallGroups},this.moveSmallGroup=this.moveSmallGroup.bind(this)}UNSAFE_componentWillReceiveProps(e){this.setState({sortedSmallGroups:e.sortedSmallGroups}),e.currentUserSmallGroupMemberships&&this.setState({sortedSmallGroups:e.currentUserSmallGroupMemberships})}moveSmallGroup(e,t){const a=this.state.sortedSmallGroups,n=a.find(t=>A.a.getGroupId(t)===e),r=a.filter(t=>A.a.getGroupId(t)!==e),s={};s[e]=n;const i=r.slice(0,t).concat(Object(b.fromJS)(s)).concat(r.slice(t)),o=[];let l=0,c=0;i.forEach((e,t)=>{l+=1,c=I.a.getSmallGroupMembershipId(e),o.push({method:"PUT",url:"/group_memberships/".concat(c),body:{favorites_ranking:l}})}),this.props.groupMembershipActions.updateGroupMembershipFavoriteRankings({requests:o}),this.setState({sortedSmallGroups:i})}render(){const e=this.props,t=e.toggleCreateSmallGroupModal,a=e.mainGroupTitle,n=e.handleGroupItemClick,s=e.handleSmallGroupItemClick,i=e.currentSmallGroupId,o=e.parentGroupColor,l=e.currentUser,c=e.currentUserGroupMemberships,d=e.match,u=T.a.GROUP_PAGE,h=C.a.getIdFromSlug(d.params.group_slug),p=C.a.makePageUrlFromTitleAndId(u,a,h),m=w.a.isTeacher(l),f=I.a.getGroupMembershipByGroupId(c,h),b=I.a.isOwnerOrCoTeacher(f),E=this.state.sortedSmallGroups||this.props.sortedSmallGroups;return r.a.createElement("div",{className:"left-col-subheaders"},r.a.createElement(g.J,{onClick:n,className:"parent-group-or-class",tag:"a",href:p,action:!0},r.a.createElement("div",{className:"group-border",style:{backgroundColor:o}}),a),E&&E.valueSeq().map((e,t)=>{const a=A.a.getGroupId(e);return r.a.createElement(U,{smallGroup:e,key:a,handleSmallGroupItemClick:s,userGroupColor:o,currentSmallGroupId:i,moveGroup:this.moveSmallGroup,id:a,index:t})}),m&&b&&r.a.createElement(g.J,{className:"small-group-option qa-test-small-group-option d-flex",onClick:t},r.a.createElement(P.default,{color:x.a.gray[30],size:20}),r.a.createElement(_.default,{string:"create-small-group",fallbackString:"Create Small Group",style:{fontSize:"0.75rem"}})))}}var G=Object(i.a)(Object(o.connect)((function(e){return{currentUserSmallGroupMemberships:N.S(e),currentUserGroupMemberships:N.I(e),currentParentGroupMembership:N.x(e),sortedSmallGroups:N.Y(e),currentSmallGroupId:N.s(e)}}),(function(e){return{groupMembershipActions:Object(s.bindActionCreators)(M,e)}}))(B));const j="smallGroup",z={drop:e=>({id:e.id,index:e.index})},q={beginDrag:e=>({id:e.id}),endDrag(e,t){if(!t.didDrop())return;const a=t.getItem(),n=t.getDropResult();a.id!==n.id&&e.moveGroup(a.id,n.index)}},H=Object(f.DropTarget)(j,z,e=>({connectDropTarget:e.dropTarget()}))(Object(f.DragSource)(j,q,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(O));var V=({groupTitle:e,groupId:t,toggleCreateSmallGroupModal:a,userGroupColor:n,sortedSmallGroups:s,smallGroupMemberships:i,handleGroupItemClick:o,handleSmallGroupItemClick:l,currentUser:c,currentGroupMembership:d,moveSmallGroup:u})=>{const h=T.a.GROUP_PAGE,p=C.a.makePageUrlFromTitleAndId(h,e,t),m=w.a.isTeacher(c),f=I.a.isOwnerOrCoTeacher(d);return r.a.createElement("div",{className:"selected-parent-group-or-class-left-nav"},r.a.createElement(g.J,{className:"selected-parent-group-or-class",style:{backgroundColor:n},onClick:o,tag:"a",href:p},e),s&&s.valueSeq().map((e,t)=>{const a=A.a.getGroupId(e);return r.a.createElement(H,{smallGroup:e,key:a,index:t,id:a,handleSmallGroupItemClick:l,userGroupColor:n,moveGroup:u})}),m&&f?r.a.createElement(g.J,{className:"small-group-option qa-test-small-group-option d-flex",onClick:a},r.a.createElement(P.default,{color:x.a.gray[30],size:20}),r.a.createElement(_.default,{string:"create-small-group",fallbackString:"Create Small Group",style:{fontSize:"0.75rem"}})):"")};var W=({groupTitle:e,groupId:t,toggleCreateSmallGroupModal:a,userGroupColor:n,smallGroupMemberships:s,sortedSmallGroups:i,handleGroupItemClick:o,handleSmallGroupItemClick:l,isSmallGroup:c,currentSmallGroupId:d,parentGroup:u,parentGroupColor:h,currentUser:p,currentGroupMembership:m,groupMemberships:g,moveSmallGroup:f})=>{let b=null;const E=A.a.getGroupTitle(u);return b=c?r.a.createElement(G,{currentUser:p,smallGroupMemberships:s,sortedSmallGroups:i,groupTitle:e,groupId:t,toggleCreateSmallGroupModal:a,userGroupColor:n,handleGroupItemClick:o,handleSmallGroupItemClick:l,currentSmallGroupId:d,parentGroupColor:h,currentGroupMembership:m,groupMemberships:g,mainGroupTitle:E}):r.a.createElement(V,{currentUser:p,smallGroupMemberships:s,sortedSmallGroups:i,groupTitle:e,groupId:t,toggleCreateSmallGroupModal:a,userGroupColor:n,handleGroupItemClick:o,handleSmallGroupItemClick:l,currentGroupMembership:m,groupMemberships:g,moveSmallGroup:f}),r.a.createElement("div",null,b)};a(1214);const Q="group",Y={drop:e=>({id:e.id,index:e.index})},K={beginDrag:e=>({id:e.id}),endDrag(e,t){if(!t.didDrop())return;const a=t.getItem(),n=t.getDropResult();a.id!==n.id&&e.moveGroup(a.id,n.index)}},J=Object(f.DropTarget)(Q,Y,e=>({connectDropTarget:e.dropTarget()}))(Object(f.DragSource)(Q,K,(e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()}))(k));class Z extends n.Component{constructor(e){super(e),this.state={sortedNonSelectedGroups:this.props.sortedNonSelectedGroups,sortedSmallGroups:null},this.moveGroup=this.moveGroup.bind(this),this.moveSmallGroup=this.moveSmallGroup.bind(this)}setUp(e){e.sortedNonSelectedGroups&&this.setState({sortedNonSelectedGroups:e.sortedNonSelectedGroups});const t=e.currentUserSmallGroupMemberships;this.setState({sortedSmallGroups:t})}UNSAFE_componentWillMount(){this.setUp(this.props)}UNSAFE_componentWillReceiveProps(e){this.setUp(e)}moveGroup(e,t){const a=this.state.sortedNonSelectedGroups,n=a.find(t=>A.a.getGroupId(t)===e),r=a.filter(t=>A.a.getGroupId(t)!==e),s={};s[e]=n;const i=r.slice(0,t).concat(Object(b.fromJS)(s)).concat(r.slice(t)),o=[];let l=0;i.forEach((e,t)=>{l+=1,o.push({method:"PUT",url:"/group_memberships/".concat(t),body:{favorites_ranking:l}})}),this.props.groupMembershipActions.updateGroupMembershipFavoriteRankings({requests:o}),this.setState({sortedNonSelectedGroups:i})}moveSmallGroup(e,t){const a=this.state.sortedSmallGroups,n=a.find(t=>A.a.getGroupId(t)===e),r=a.filter(t=>A.a.getGroupId(t)!==e),s={};s[e]=n;const i=r.slice(0,t).concat(Object(b.fromJS)(s)).concat(r.slice(t)),o=[];let l=0,c=0,d={};i.forEach((e,t)=>{l+=1,d[I.a.getSmallGroupMembershipId(e)]=l,c=I.a.getSmallGroupMembershipId(e),o.push({method:"PUT",url:"/group_memberships/".concat(c),body:{favorites_ranking:l}})}),this.props.groupMembershipActions.updateGroupMembershipFavoriteRankings({requests:o}),this.props.groupMembershipActions.fetchUpdatedMembershipRankings(d),this.setState({sortedSmallGroups:i})}render(){const e=this.props,t=e.handleGroupItemClick,a=e.selectedGroup,n=e.currentGroupMembership,s=e.groupMemberships,i=e.currentParentGroupMembership,o=e.toggleCreateSmallGroupModal,l=e.handleSmallGroupItemClick,c=e.isSmallGroup,d=e.currentSmallGroupId,u=e.parentGroupColor,h=e.currentUser,p=e.onGroupPage,m=e.currentCompactGroupMembership,g=e.currentSmallGroup,f=A.a.getGroupTitle(m)||I.a.getGroupTitle(n)||A.a.getGroupTitle(g),b=A.a.getGroupId(m)||I.a.getGroupId(n),E=I.a.getGroupColor(m)||I.a.getGroupColor(n),y=I.a.getGroupFromGroupMembership(i),S=this.state.sortedSmallGroups;return r.a.createElement("div",null,(p||c)&&a?r.a.createElement(W,{currentSmallGroupId:d,currentUser:h,groupId:b,groupTitle:f,handleGroupItemClick:t,handleSmallGroupItemClick:l,isSmallGroup:c,parentGroupColor:u,sortedSmallGroups:S,toggleCreateSmallGroupModal:o,userGroupColor:E,currentGroupMembership:n,groupMemberships:s,moveSmallGroup:this.moveSmallGroup,parentGroup:y}):null,this.state.sortedNonSelectedGroups&&this.state.sortedNonSelectedGroups.valueSeq().map((e,a)=>r.a.createElement(J,{key:A.a.getGroupId(e),group:e,handleGroupItemClick:t,index:a,moveGroup:this.moveGroup,id:I.a.getGroupId(e),onGroupPage:p,currentCompactGroupMembership:m})))}}var X=Object(o.connect)((function(e){return{currentUserGroupMemberships:N.I(e),currentUserSmallGroupMemberships:N.S(e),currentGroupMembership:N.t(e),currentParentGroupMembership:N.x(e),currentCompactGroupMembership:N.p(e),currentCompactParentGroupMembership:N.q(e),currentSmallGroup:N.y(e),currentSmallGroupMemberships:N.Y(e)}}),(function(e){return{groupMembershipActions:Object(s.bindActionCreators)(M,e)}}))(Object(f.DragDropContext)(y.a)(Z)),$=a(819),ee=a(1255);a(1321);var te=({titleText:e,subTitleText:t,ctaText:a,handleCTAClick:n,ctaLinkTo:s,isCompleteUrl:i})=>r.a.createElement("div",{className:"text-center p-3"},r.a.createElement("strong",null,r.a.createElement("p",{className:"mb-0",style:{fontSize:"13px"}},e)),r.a.createElement("p",{className:"mb-2",style:{fontSize:"13px"}},t),s?i?r.a.createElement("a",{href:s},r.a.createElement(g.c,{color:"light-blue"},r.a.createElement(ee.default,{color:x.a.blue[50]}),a)):r.a.createElement($.a,{to:{pathname:s}},r.a.createElement(g.c,{color:"light-blue"},a)):r.a.createElement(g.c,{color:"light-blue",size:"sm",onClick:n},r.a.createElement(ee.default,{color:x.a.blue[50]}),a)),ae=a(510),ne=a(1471),re=a(1475),se=a(1483),ie=a(1215),oe=a(509),le=a(12),ce=a(145);var de=Object(oe.a)(({handleCreateGroupSubmitClick:e,joinGroupModalOpen:t,toggleCreateGroupModal:a,toggleJoinGroupModal:n,currentUser:s,createGroupModalOpen:i,groupType:o,groupOrClass:l,handleManageGroups:c,translate:d})=>{const u=l===le.a.STUDENT_GROUP_TYPE?d&&d("join-or-manage-classes","Join or manage classes"):d&&d("join-or-manage-groups","Join or manage groups");return r.a.createElement(g.Q,{navbar:!0,color:"faded"},r.a.createElement(g.kb,null,r.a.createElement(g.z,{id:"group-options-dropdown qa-test-group-options-dropdown",className:"p-0 "+(o===le.a.CLASS?"qa-test-class-list":"qa-test-group-list"),nav:!0,style:{lineHeight:"0"}},r.a.createElement(ie.default,{className:"group-options-ellipsis",title:u})),r.a.createElement(g.y,{className:"qa-test-group-options-menu",id:"group-options-dropdown-menu"},r.a.createElement(g.x,{className:"group-options qa-test-group-option-menu-list menu-item secondary-body",onClick:c},w.a.isTeacher(s)?o===le.a.CLASS?r.a.createElement(_.default,{string:"group-management,manage_classes",fallbackString:"Manage Classes"}):r.a.createElement(_.default,{string:"group-management,manage_groups",fallbackString:"Manage Groups"}):r.a.createElement(_.default,{string:"user_list_component,show_all",fallbackString:"Show All"})),w.a.isTeacher(s)&&(w.a.isTeacher(s)&&o===le.a.CLASS?r.a.createElement(g.x,{className:"group-options qa-test-group-option-menu-list menu-item",onClick:a},r.a.createElement(_.default,{string:"create-a-class",fallbackString:"Create a Class"})):r.a.createElement(g.x,{className:"group-options qa-test-group-option-menu-list menu-item",onClick:a},r.a.createElement(_.default,{string:"create-a-group",fallbackString:"Create a Group"}))),r.a.createElement(re.a,{isOpen:i,toggleVisibility:a,groupType:o,groupOrClass:l,handleCreateGroupSubmitClick:e,trackingContext:ce.a.GROUP_OPTIONS_CONTEXT,trackingProductGroup:"left_nav",visualElement:"create_".concat(o)},r.a.createElement(se.a,null)),r.a.createElement(g.x,{className:"group-options qa-test-group-option-menu-list menu-item",onClick:n},o===le.a.CLASS?r.a.createElement(_.default,{string:"join-a-class",fallbackString:"Join a Class"}):r.a.createElement(_.default,{string:"join-a-group",fallbackString:"Join a Group"})),r.a.createElement(ne.a,{isOpen:t,toggle:n,groupType:o,trackingContext:ce.a.GROUP_OPTIONS_CONTEXT,trackingProductGroup:"left_nav"}))))}),ue=a(1478);var he=({userGroups:e,toggleCreateGroupModal:t,toggleJoinGroupModal:a,handleUpdateGroupSubmitClick:n,handleCreateGroupSubmitClick:s,handleGroupItemClick:i,createGroupModalOpen:o,joinGroupModalOpen:l,joinGroupByCode:c,joinCodeInputChange:d,handleManageGroups:u,selectedGroup:h,currentGroupMembership:p,groupMemberships:m,currentGroupId:f,toggleCreateSmallGroupModal:b,handleSmallGroupItemClick:E,isSmallGroup:y,currentSmallGroupId:S,parentGroupColor:v,fetchingAllGroups:C,currentUser:A,onGroupPage:T,joinGroupHasError:k,membershipAwaitingApproval:O,groupOrClass:M,groupType:N,toggleCreateGroupSuccessModal:P,compactMembershipList:R,groupMembershipsSearchBox:x,currentParentGroupMembership:L,compactMembershipsFullyLoaded:D,fullCompactMembershipList:F,loadMoreMembershipsButton:U,showAllGroupMembershipsInLeftRail:B})=>{let G,j,z,q,H;const V=w.a.isStudent(A),W=w.a.isParent(A);let Q;if(y){const e=I.a.getId(L);Q=R&&R.valueSeq().filter(t=>e!==I.a.getId(t))}else Q=T?R&&R.valueSeq().filter(e=>I.a.getGroupId(e)!==f):R;const Y=R?R.size:0,K=Q&&Q.sort((e,t)=>I.a.getFavoritesRanking(e)-I.a.getFavoritesRanking(t)),J=F?F.size:0,Z=!(D&&J<1)&&Y>4;N===le.a.GROUP?(G=ue.a.GROUPS,j="Groups",z=r.a.createElement(_.default,{string:"navigation-group-list-empty-state-title",fallbackString:"Collaborate with teachers"}),q=r.a.createElement(_.default,{string:"navigation-group-list-empty-state-sub-title",fallbackString:"Connect with other educators through communication and resource sharing"}),H=r.a.createElement(_.default,{string:"navigation-group-list-empty-state-cta",fallbackString:"Create a Group"})):(G=ue.a.CLASSES,j="Classes",z=r.a.createElement(_.default,{string:"navigation-class-list-empty-state-title",fallbackString:"Engage your students"}),q=r.a.createElement(_.default,{string:"navigation-class-list-empty-state-sub-title",fallbackString:"Extend conversations, share resources and create a classroom community"}),H=r.a.createElement(_.default,{string:"navigation-class-list-empty-state-cta",fallbackString:"Create a Class"}));let $=t;V&&(z=r.a.createElement(_.default,{string:"navigation-class-list-student-empty-state-title",fallbackString:"No classes yet"}),q=r.a.createElement(_.default,{string:"navigation-class-list-student-empty-state-sub-title",fallbackString:"Start by joining a Class"}),H=r.a.createElement(_.default,{string:"join-a-class",fallbackString:"Join a Class"}),$=a);const ee=!C||W?"invisible":"visible";return r.a.createElement("div",{className:"user-group-container"},r.a.createElement(g.I,{className:"qa-test-group-list rounded pb-2"},r.a.createElement("h3",{className:"left-col-headers rounded-top p-3 d-flex justify-content-between"},r.a.createElement(_.default,{string:G,fallbackString:j}),!W&&r.a.createElement(de,{createGroupModalOpen:o,currentUser:A,groupOrClass:M,groupType:N,handleCreateGroupSubmitClick:s,handleManageGroups:u,handleUpdateGroupSubmitClick:n,joinCodeInputChange:d,joinGroupModalOpen:l,joinGroupByCode:c,toggleCreateGroupModal:t,toggleJoinGroupModal:a,joinGroupHasError:k,membershipAwaitingApproval:O,toggleCreateGroupSuccessModal:P})),Z&&x,R&&!R.isEmpty()?r.a.createElement(X,{currentUser:A,selectedGroup:h,userGroups:e,currentGroupId:f,onGroupPage:T,currentSmallGroupId:S,currentGroupMembership:p,groupMemberships:m,isSmallGroup:y,parentGroupColor:v,toggleCreateSmallGroupModal:b,handleGroupItemClick:i,handleSmallGroupItemClick:E,sortedNonSelectedGroups:K,compactMembershipList:R}):r.a.createElement(te,{titleText:z,subTitleText:q,ctaText:H,handleCTAClick:$}),!B&&U),r.a.createElement("div",{className:"qa-test-load-stream-infinite "+"stream-infinite-scroll-loading-indicator-container ".concat(ee)},!e&&r.a.createElement(ae.a,null)))},pe=a(1551),me=a(438);var ge=({parentAssociations:e,handleGroupItemClick:t,currentGroupId:a})=>r.a.createElement("div",{className:"user-group-container mb-2_5"},r.a.createElement(g.I,{className:"qa-test-floating-class-list floating-class-list rounded"},r.a.createElement("h3",{className:"left-col-headers rounded-top p-3 d-flex justify-content-between"},r.a.createElement(_.default,{string:"classes",fallbackString:"Classes"})),e&&e.valueSeq().map(e=>{const n=me.a.getEntityFromParentStream(e),s=T.a.GROUP_PAGE,i=A.a.getGroupTitle(n),o=A.a.getGroupId(n),l=C.a.makePageUrlFromTitleAndId(s,i,o);return r.a.createElement(g.J,{className:"qa-test-floating-class",style:{marginBottom:"0px",borderBottom:"1px solid #F7F7F7",cursor:"pointer",backgroundColor:a===o?"rgb(113, 121, 145)":"white",color:a===o?"white":"#546986"},key:o,tag:"a",action:!0,href:l,onClick:t},i)}))),fe=a(35),be=a.n(fe);var Ee=({classesForSingleChild:e,handleGroupItemClick:t,isStudentSelected:a,currentGroupId:n,onGroupPage:s,studentId:i})=>r.a.createElement(g.I,{style:{boxShadow:"none"}},e&&e.valueSeq().map(e=>{const o=I.a.getGroupTitle(e),l=I.a.getGroupColor(e),c=I.a.getGroupId(e),d=T.a.GROUP_PAGE,u=C.a.makePageUrlFromTitleAndId(d,o,c),h=s&&c===n,p=h?l:null,m=h?"#FFFFFF":"#333333";return r.a.createElement(g.J,{key:c,action:!0,tag:"a",style:{padding:"0 12px",cursor:"pointer",height:"48px",backgroundColor:p},href:u,className:be()({"selected-student":a,"qa-test-parents-page-group-nav":!0,"d-flex":!0,"align-items-center":!0}),onClick:e=>t(e,i)},r.a.createElement("div",{style:{backgroundColor:l,width:"12px",height:"12px",borderRadius:"2px",display:"inline-block"}}),r.a.createElement("span",{style:{color:m,fontSize:"14px",fontWeight:"400",margin:"0 8px",width:"180px",overflow:"hidden",textOverflow:"ellipsis"}},o))})),ye=a(240),Se=a(1319),ve=a(36),Ce=a(9),Ae=a(1),Ie=a(1763),Te=a.n(Ie);const ke=Object(Ce.createSelector)(e=>e.get(Ae.a.USER_SETTINGS),e=>Te()(t=>e&&!!e.get(t)));a(1581);class Oe extends r.a.Component{constructor(e){super(e);const t=this.props.arrayPopover.map((e,t)=>(e.onClick=t=>{this.localOnClickHandler(t,e)},e.isOpen=!1,e));this.state={popoverDefs:t,currentPopover:0,popoversFetched:!1,isPopoverShown:!1},this.handleClose=this.handleClose.bind(this),this.updateIsOpenPopover=this.updateIsOpenPopover.bind(this),this.fetchAllPopovers=this.fetchAllPopovers.bind(this),this.setPopoversFetched=this.setPopoversFetched.bind(this)}componentDidMount(){this.fetchAllPopovers()}componentDidUpdate(e,t){if(!this.state.popoversFetched||this.state.isPopoverShown){if(this.state.isPopoverShown&&e.location.pathname!==this.props.location.pathname){return this.state.popoverDefs[this.state.currentPopover].isOpen=!1,void this.setState({isPopoverShown:!1})}}else this.updateIsOpenPopover()}fetchAllPopovers(){let e=[];this.state.popoverDefs.forEach(t=>{e.push(this.props.userSettingsActions.fetchPopoverCalloutShown(t.popoverFetchAction,t.popoverPathUrl))}),Promise.all(e).then(this.setPopoversFetched).catch(e=>{ve.a.notifyBugsnag(e,"PopoverSequence.fetchAllPopovers")})}setPopoversFetched(){this.setState({popoversFetched:!0})}updateIsOpenPopover(){let e=this.state.currentPopover;for(var t=0;t<this.state.popoverDefs.length;t++){const a=this.state.popoverDefs[t];a.target&&"function"===typeof a.target&&!a.target()||(t===e?this.props.selectUserSettingAnyPopover(a.popoverStoreKey)?e++:(a.isOpen=!0,this.setState({isPopoverShown:!0,currentPopover:t})):a.isOpen=!1)}}handleClose(e){e.currentTarget.disabled=!0;const t=this.state.popoverDefs[this.state.currentPopover];t&&t.onCloseCallback&&t.onCloseCallback(),t.callbackTimeout?(this.setState({isPopoverShown:!1}),setTimeout(()=>{this.props.userSettingsActions.updatePopoverCalloutShown(t.popoverFetchAction,t.popoverStoreKey,t.popoverPathUrl),this.setState({currentPopover:this.state.currentPopover+1,isPopoverShown:!1})},t.callbackTimeout)):(this.props.userSettingsActions.updatePopoverCalloutShown(t.popoverFetchAction,t.popoverStoreKey,t.popoverPathUrl),this.setState({currentPopover:this.state.currentPopover+1,isPopoverShown:!1}))}render(){const e=(e,t)=>r.a.createElement(g.Z,{placement:e.placement,className:e.popoverClassName,isOpen:e.isOpen,target:e.target,toggle:e.toggle,modifiers:{flip:{enabled:e.isFlipEnabled}},key:e.key},r.a.createElement(g.ab,null,!e.hideTitle&&r.a.createElement(g.db,{className:"popover-title"},r.a.createElement(g.s,null,r.a.createElement("h3",null,r.a.createElement(_.default,{string:e.titleTranslateString,fallbackString:e.titleTranslateFallbackString})))),r.a.createElement(g.db,{className:"popover-content"},r.a.createElement("div",null,r.a.createElement(_.default,{string:e.bodyTranslateString,fallbackString:e.bodyTranslateFallbackString}))),r.a.createElement(g.db,{className:"popover-navigation"},r.a.createElement(g.s,null,r.a.createElement(g.c,{className:"qa-test-dismiss-callout-btn float-right",onClick:this.handleClose},r.a.createElement(_.default,{string:e.btnTextTranslateString,fallbackString:e.btnTextFallbackString}))))));var t=[];if(this.state.popoverDefs&&this.state.popoverDefs.length>0){var a,n=this.state.popoverDefs.length;for(a=0;a<n;a++)t.push(e(this.state.popoverDefs[a]))}return r.a.createElement(r.a.Fragment,null,t)}}var _e=Object(i.a)(Object(o.connect)((function(e,t){return{selectUserSettingAnyPopover:ke(e)}}),(function(e){return{userSettingsActions:Object(s.bindActionCreators)(Se,e)}}))(Object(oe.a)(Oe))),Me=a(1217),Ne=a(1236),we=a(276),Pe=a(1204),Re=a(1248),xe=a(1249),Le=a(1211);class De extends r.a.Component{constructor(e){super(e),this.state={popoverProps:this.getPopovers(),expandedChild:e.currentSelectedChildId},this.toggleCollapse=this.toggleCollapse.bind(this),this.getStudentList=this.getStudentList.bind(this),this.onFirstPopoverClose=this.onFirstPopoverClose.bind(this),this.onSecondPopoverClose=this.onSecondPopoverClose.bind(this)}componentDidUpdate(e){e.currentSelectedChildId!==this.props.currentSelectedChildId&&this.setState({expandedChild:this.props.currentSelectedChildId})}toggleCollapse(e){this.state.expandedChild?this.setState({expandedChild:this.state.expandedChild.toString()===e.toString()?0:e}):this.setState({expandedChild:e})}getPopovers(){const e=[],t=Me.a();return e.push({popoverClassName:"sequence-single-popover",placement:"right",target:t?"hamburger-menu-item":"parent-sidebar",isFlipEnabled:!1,titleTranslateString:"side-bar-popover-title",titleTranslateFallbackString:"Get A Closer Look",bodyTranslateString:"side-bar-popover-body",bodyTranslateFallbackString:"Stay updated on the latest class activity, school news, and more. Filter to see each student\u2019s activity or Posts from a particular class.",key:"popoverProps-1",btnTextTranslateString:"next-uppercase-n",btnTextFallbackString:"Next",popoverFetchAction:Se.parentsOnBoardingSidebarPopoverShownSuccessAction,popoverKey:we.a.PARENTS_ONBOARDING_SIDEBAR_POPOVER_KEY,popoverPathUrl:we.a.PARENTS_ONBOARDING_SIDEBAR_POPOVER_PATH,popoverStoreKey:Ae.a.PARENTS_ONBOARDING_SIDEBAR_POPOVER_SHOWN,onCloseCallback:this.onFirstPopoverClose.bind(this),callbackTimeout:300}),e.push({popoverClassName:"sequence-single-popover",placement:"auto",target:"whats-due-link",isFlipEnabled:!1,titleTranslateString:"whatsdue-popover-title",titleTranslateFallbackString:"Help Your Student Stay On Track",bodyTranslateString:"whatsdue-popover-body",bodyTranslateFallbackString:"See What\u2019s Due, so you\u2019ll know which assignments, quizzes, or events are coming up next.",key:"popoverProps-2",btnTextTranslateString:t?"done":"next-uppercase-n",btnTextFallbackString:t?"Done":"Next",popoverFetchAction:Se.parentsOnBoardingWhatsduePopoverShownSuccessAction,popoverKey:we.a.PARENTS_ONBOARDING_WHATSDUE_POPOVER_KEY,popoverPathUrl:we.a.PARENTS_ONBOARDING_WHATSDUE_POPOVER_PATH,popoverStoreKey:Ae.a.PARENTS_ONBOARDING_WHATSDUE_POPOVER_SHOWN}),e.push({popoverClassName:t?"sequence-single-popover mweb":"sequence-single-popover",placement:t?"top":"bottom",target:t?"profile-nav-items":"logged-in-user-link-web",isFlipEnabled:!1,titleTranslateString:"settings-popover-title",titleTranslateFallbackString:"Manage Your Account Settings",bodyTranslateString:"settings-popover-body",bodyTranslateFallbackString:"Connect with and manage your family's accounts or reset an account's password.",key:"popoverProps-3",btnTextTranslateString:t?"next-uppercase-n":"done",btnTextFallbackString:t?"Next":"Done",popoverFetchAction:Se.parentsOnBoardingSettingsPopoverShownSuccessAction,popoverKey:we.a.PARENTS_ONBOARDING_SETTINGS_POPOVER_KEY,popoverPathUrl:we.a.PARENTS_ONBOARDING_SETTINGS_POPOVER_PATH,popoverStoreKey:Ae.a.PARENTS_ONBOARDING_SETTINGS_POPOVER_SHOWN,onCloseCallback:this.onSecondPopoverClose.bind(this)}),t&&(e[1]=e.splice(2,1,e[1])[0]),e}onFirstPopoverClose(){Me.a()&&this.props.hamburgerMenuHandler&&this.props.hamburgerMenuHandler(!0)}onSecondPopoverClose(){Me.a()&&this.props.hamburgerMenuHandler&&this.props.hamburgerMenuHandler(!1)}getStudentList(){const e=this.props,t=e.parentRelationships,a=e.handleStudentClick,n=e.currentSelectedChildId,s=e.handleGroupItemClick,i=e.currentGroupId,o=e.onGroupPage;return t&&0!==t.size?t.valueSeq().map(e=>{const t=e.get("relationship"),l=e.get("student_memberships"),c=ye.a.getStudentMember(t),d=w.a.getFullName(c),u=w.a.getId(c),h=!!this.state.expandedChild&&this.state.expandedChild.toString()===u.toString();let p=!1;return u&&n&&u.toString()===n.toString()&&(p=!0),r.a.createElement(g.J,{key:u,style:{padding:"0px",cursor:"pointer",borderBottom:"1px solid #F7F7F7",marginBottom:"0"},className:be()({"selected-student":p,rounded:!0})},r.a.createElement("div",{className:"parents-page-student-nav qa-test-parents-page-student-nav"},r.a.createElement(Le.a,{className:"student-avatar",alt:"student avatar",user:c,onClick:e=>{a(e,u)},size:"16",role:"button"}),r.a.createElement("span",{className:"student-name",onClick:e=>{a(e,u)}},d),r.a.createElement("div",{className:"student-options pull-end",onClick:e=>{this.toggleCollapse(u)}},h?r.a.createElement(xe.default,{color:x.a.gray[30],style:{verticalAlign:"bottom",zIndex:100}}):r.a.createElement(Re.default,{color:x.a.gray[30],style:{verticalAlign:"bottom",zIndex:100}}))),r.a.createElement(g.t,{isOpen:h},r.a.createElement(Ee,{classesForSingleChild:l,handleGroupItemClick:s,isStudentSelected:p,currentGroupId:i,onGroupPage:o,studentId:u})))}):null}render(){const e=this.props,t=e.parentRelationships,a=e.parentAssociations,n=e.toggleAddChildOrClassModal,s=this.getStudentList(),i=this.state.popoverProps&&(t&&t.size||a&&a.size);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-group-container mb-2_5"},r.a.createElement(g.I,{className:"qa-test-group-list rounded"},r.a.createElement("h3",{className:"left-col-headers rounded-top p-3 d-flex justify-content-between",id:"parent-sidebar"},r.a.createElement(_.default,{string:"your-students",fallbackString:"Your Students",insertions:{smart_count:t&&t.size||0}})),s,r.a.createElement(g.c,{color:"white",style:{textAlign:"start"},onClick:n,className:"qa-test-add-a-child-or-class-btn add-a-child-or-class-btn d-flex align-items-center"},r.a.createElement(Pe.a,{name:"plus-icon",color:x.a.gray[20]}),r.a.createElement(_.default,{string:"add-a-child",fallbackString:"Add a child"})))),!this.props.isAddClassSuccessModalOpen&&!!i&&r.a.createElement(_e,{arrayPopover:this.state.popoverProps}))}}var Fe=Object(o.connect)((function(e){return{currentSelectedChildId:Ne.a(e)}}))(De),Ue=a(1553),Be=a(1556),Ge=a(1557);var je=({loadMoreMemberships:e,handleLoadMoreGroupMembershipsButtonClick:t})=>r.a.createElement(g.c,{color:"link",onClick:()=>{e(),t()}},r.a.createElement(_.default,{string:"load-more",fallbackString:"Load More"})),ze=a(514),qe=a(368),He=a(73),Ve=a(1316),We=a(372),Qe=a(1267),Ye=a(373),Ke=a(533),Je=a(1524),Ze=a(298),Xe=a(98),$e=a(1526);class et extends n.Component{constructor(e,t){super(e,t);const a=h.a.parse(e.location&&e.location.search),n=h.a.parse(e.location&&e.location.hash.replace("#/?","")),r=w.a.isTeacher(e.currentUser);this.state={createGroupMembershipParams:I.a.createParams(),createClassModal:r&&(n.classmodal||"true"===a.classmodal),createGroupModal:r&&(n.groupmodal||"true"===a.groupmodal),joinClassModal:!1,joinGroupModal:!1,isCreateSmallGroupModalOpen:!1,smallGroupName:"",currentSmallGroupId:null,isInvalidState:null,isCreateGroupSuccessModalOpen:!1,isUserRosterOpen:!1,isAddChildOrClassModalOpen:!!this.props.forceAddChildModal,isAddClassSuccessModalOpen:!1,isAddChildSuccessModalOpen:!1,parentRelationship:null,clearGroupSearchPlaceholder:!1,clearClassSearchPlaceholder:!1,isPrompt:0},this.handleGroupItemClick=this.handleGroupItemClick.bind(this),this.handleManageGroups=this.handleManageGroups.bind(this),this.toggleCreateSmallGroupModal=this.toggleCreateSmallGroupModal.bind(this),this.createSmallGroupSubmit=this.createSmallGroupSubmit.bind(this),this.handleSmallGroupInput=this.handleSmallGroupInput.bind(this),this.handleSmallGroupItemClick=this.handleSmallGroupItemClick.bind(this),this.toggleCreateGroupSuccessModal=this.toggleCreateGroupSuccessModal.bind(this),this.toggleUserRoster=this.toggleUserRoster.bind(this),this.handleStudentClick=this.handleStudentClick.bind(this),this.toggleAddChildOrClassModal=this.toggleAddChildOrClassModal.bind(this),this.toggleAddClassSuccessModal=this.toggleAddClassSuccessModal.bind(this),this.toggleAddChildSuccessModal=this.toggleAddChildSuccessModal.bind(this),this.dismissSuccessAndStartOver=this.dismissSuccessAndStartOver.bind(this),this.handleAddChildOrClassFormSubmit=this.handleAddChildOrClassFormSubmit.bind(this),this.handleLeftPaneListSearched=this.handleLeftPaneListSearched.bind(this),this.loadCompactListForSearch=this.loadCompactListForSearch.bind(this),this.handleLoadMoreGroupMembershipsButtonClick=this.handleLoadMoreGroupMembershipsButtonClick.bind(this),this.handleLoadMoreClassMembershipsButtonClick=this.handleLoadMoreClassMembershipsButtonClick.bind(this),this.showPlaceholder=this.showPlaceholder.bind(this)}componentDidMount(){w.a.isParent(this.props.currentUser)&&this.props.parentAssociations&&0===this.props.parentAssociations.size&&this.props.parentRelationships&&0===this.props.parentRelationships.size&&this.props.promptAddChildOrClassModal&&this.toggleAddChildOrClassModal({is_prompt:1}),w.a.isParent(this.props.currentUser)&&this.checkForParentSuccessModals(this.props)}componentDidUpdate(e){const t=this.props,a=t.currentUser,n=t.forceAddChildModal;w.a.isParent(a)&&this.checkForParentSuccessModals(e),e.forceAddChildModal!==n&&this.setState({isAddChildOrClassModalOpen:!this.state.isAddChildOrClassModalOpen})}checkForParentSuccessModals(e){const t=this.props,a=t.currentDisplayedGroup,n=t.parentRelationships,r=t.newlyAddedChildId,s=t.newlyAddedClassId,i=t.currentSelectedChildId;if(a&&a!==e.currentDisplayedGroup&&(isNaN(parseInt(s))||s!==A.a.getGroupId(a)||(this.toggleAddClassSuccessModal(),this.props.relationshipActions.clearNewlyAddedClassId())),n&&!isNaN(parseInt(r))&&r===parseInt(i,10)){const e=n.find((e,t)=>parseInt(t,10)===r);e&&(this.setState({parentRelationship:e}),this.toggleAddChildSuccessModal(),this.props.relationshipActions.clearNewlyAddedChildId())}}groupId(){return C.a.getIdFromSlug(this.props.match.params.slug)}toggleCreateGroupModal(e){const t={};"createClassModal"===e?(this.setState({createClassModal:!this.state.createClassModal}),this.state.createClassModal||this.props.homePageTrackingActions.classMenuCreateClassClick(t)):(this.setState({createGroupModal:!this.state.createGroupModal}),this.state.createGroupModal||this.props.homePageTrackingActions.groupsMenuCreateGroupClick(t))}toggleCreateGroupSuccessModal(){this.setState({isCreateGroupSuccessModalOpen:!this.state.isCreateGroupSuccessModalOpen})}toggleJoinGroupModal(e){"joinClassModal"===e?this.setState({joinClassModal:!this.state.joinClassModal}):this.setState({joinGroupModal:!this.state.joinGroupModal})}toggleCreateSmallGroupModal(){this.setState({isCreateSmallGroupModalOpen:!this.state.isCreateSmallGroupModalOpen})}toggleUserRoster(){this.state.isUserRosterOpen||ze.a.trackAddStudentsModalOpen(this.props,Xe.a.AFTER_CREATE_CLASS),this.setState({isUserRosterOpen:!this.state.isUserRosterOpen})}toggleAddChildOrClassModal(e){const t=e&&e.hasOwnProperty("is_prompt")?1:0;this.setState({isAddChildOrClassModalOpen:!this.state.isAddChildOrClassModalOpen,isPrompt:t}),this.state.isAddChildOrClassModalOpen||this.props.parentsTrackingActions.addChildOrClassModalDisplay({is_prompt:t,context:ce.a.HOME_PAGE_CONTEXT})}toggleAddClassSuccessModal(){this.setState({isAddClassSuccessModalOpen:!this.state.isAddClassSuccessModalOpen})}toggleAddChildSuccessModal(){this.setState({isAddChildSuccessModalOpen:!this.state.isAddChildSuccessModalOpen})}dismissSuccessAndStartOver(){this.state.isAddClassSuccessModalOpen&&this.toggleAddClassSuccessModal(),this.state.isAddChildSuccessModalOpen&&this.toggleAddChildSuccessModal(),setTimeout(()=>{this.toggleAddChildOrClassModal()},400)}handleSmallGroupInput(e){this.setState({smallGroupName:e.target.value},()=>{A.a.isValidSmallGroupName(this.state.smallGroupName)&&this.setState({isInvalidState:!1})})}handleAddChildOrClassFormSubmit(e){const t=this.props.currentUser,a={parent_code:e.get("parentCodeInput"),relationship_error:!1,show_list:!1,is_prompt:this.state.isPrompt,context:ce.a.HOME_PAGE_CONTEXT};return this.props.relationshipActions.createParentChildRelationship(a,w.a.getId(t)).then(([e,t,a])=>{if(this.toggleAddChildOrClassModal(),"child"===e)this.props.history.push(C.a.makeChildPageUrl(t));else{const e=T.a.GROUP_PAGE;this.props.history.push(C.a.makePageUrlFromTitleAndId(e,a,t))}})}createSmallGroupSubmit(){const e=this.props,t=e.groupActions,a=e.currentGroup,n=e.isSmallGroup,r=e.selectedClass,s=e.selectedGroup;if(A.a.isValidSmallGroupName(this.state.smallGroupName))if(n){const e="".concat(T.a.GROUP_PAGE,"/").concat(this.props.match.params.group_slug),a={title:this.state.smallGroupName,parent_group_id:A.a.getGroupId(r||s)};t.createSmallGroup(this.props.history,a,e),this.toggleCreateSmallGroupModal()}else{const e="".concat(T.a.GROUP_PAGE,"/").concat(this.props.match.params.slug),n={title:this.state.smallGroupName,parent_group_id:A.a.getGroupId(a)};t.createSmallGroup(this.props.history,n,e),this.toggleCreateSmallGroupModal()}else this.setState({isInvalidState:!0})}handleGroupItemClick(e,t){e.preventDefault(),e.stopPropagation();const a=e.currentTarget.getAttribute("href"),n=C.a.getIdFromPageUrl(a);this.props.groupMembershipActions.setCurrentGroupId(n),t?this.props.history.push("".concat(a,"?studentId=").concat(t)):this.props.history.push(a)}handleStudentClick(e,t){e.preventDefault(),this.props.parentStreamsActions.setCurrentChildId(t),this.props.history.push(C.a.makeChildPageUrl(t)),this.props.hamburgerMenuHandler&&this.props.hamburgerMenuHandler(!1)}handleSmallGroupItemClick(e){e.preventDefault(),e.stopPropagation();const t=this.props.isSmallGroup,a=e.currentTarget.getAttribute("href"),n=C.a.getIdFromPageUrl(a),r="".concat(T.a.GROUP_PAGE,"/").concat(this.props.match.params.slug).concat(a),s="".concat(T.a.GROUP_PAGE,"/").concat(this.props.match.params.group_slug).concat(a);t?(this.setState({currentSmallGroupId:n}),this.props.groupMembershipActions.setCurrentGroupId(n),this.props.history.push(s)):this.props.history.push(r)}handleManageGroups(e){e.preventDefault(),e.stopPropagation(),this.props.history.push("".concat(T.a.MANAGE_GROUPS_PAGE,"?tab=active"))}handleLeftPaneListSearched(e,t){const a=t===le.a.STUDENT_GROUP_TYPE?this.props.minimalClassMembershipList:this.props.minimalGroupMembershipList,n=$e.a.preprocessFavoriteRankingOrder(a,e.value),r=$e.a.preprocessFavoriteRankingBatchRequest(a,e.value);this.props.groupMembershipActions.updateGroupMembershipFavoriteRankings({requests:r}),this.props.groupMembershipActions.optimisticallyUpdateFavoriteRankingsAction(n),this.goToPageOfGroupSelectedFromLeftPaneDropdown(e)}goToPageOfGroupSelectedFromLeftPaneDropdown(e){const t=T.a.GROUP_PAGE,a=C.a.makePageUrlFromTitleAndId(t,e.label,e.groupId);this.props.groupMembershipActions.setCurrentGroupId(e.groupId),this.props.history.push(a)}loadCompactListForSearch(e){switch(!this.props.compactMembershipsFullyLoaded&&this.props.fetchFullCompactGroupMemberships&&this.props.fetchFullCompactGroupMemberships(),e){case le.a.TEACHER_GROUP_TYPE:return this.setState({clearGroupSearchPlaceholder:!0});case le.a.STUDENT_GROUP_TYPE:default:return this.setState({clearClassSearchPlaceholder:!0})}}showPlaceholder(e){switch(e){case le.a.TEACHER_GROUP_TYPE:return this.setState({clearGroupSearchPlaceholder:!1});case le.a.STUDENT_GROUP_TYPE:default:return this.setState({clearClassSearchPlaceholder:!1})}}handleLoadMoreGroupMembershipsButtonClick(){this.props.groupMembershipActions.showAllMembershipsInLeftRailAction(!0)}handleLoadMoreClassMembershipsButtonClick(){this.props.groupMembershipActions.showClassMembershipsInLeftRailAction(!0)}render(){const e=this.props,t=e.currentGroupMembership,a=e.currentGroupId,s=e.groupMemberships,i=e.isSmallGroup,o=e.currentUser,l=e.selectedClass,c=e.selectedGroup,u=e.currentSmallGroupId,h=e.parentGroupColor,g=e.onGroupPage,f=e.userClasses,b=e.userGroups,E=e.membershipAwaitingApproval,y=e.newlyCreatedGroup,S=e.parentAssociations,v=e.parentRelationships,C=e.currentParentSelectedGroupMembership,T=e.externalHandleStudentClick,k=e.externalHandleGroupItemClick,O=e.minimalGroupMembershipList,_=e.minimalClassMembershipList,M=e.translate,N=e.currentParentGroupMembership,P=e.unlistedCompactGroupMemberships,R=e.unlistedCompactClassMemberships,x=e.compactMembershipsFullyLoaded,L=e.showAllGroupMembershipsInLeftRail,D=e.showAllClassMembershipsInLeftRail,F=e.currentDisplayedGroup,U=e.hamburgerMenuHandler,B=e.abTestPlacementInfo,G=w.a.isTeacher(o),j=w.a.isParent(o),z=A.a.getGroupId(y),q=A.a.getGroupTitle(y);let H=f,V=l;w.a.isStudent(o)&&(H=f.merge(b),V=l||c);let W=null,Q=null;const Y=I.a.convertCompactListToSearchOptions(P),K=I.a.convertCompactListToSearchOptions(R),J=T||this.handleStudentClick,Z=k||this.handleGroupItemClick;let X="",$="",ee="",te="";this.props.groupLoadMoreEnabled&&!this.props.showAllGroupMembershipsInLeftRail&&(ee=r.a.createElement(je,{loadMoreMemberships:this.loadCompactListForSearch,handleLoadMoreGroupMembershipsButtonClick:this.handleLoadMoreGroupMembershipsButtonClick}),X=r.a.createElement(d,{options:Y,isSearchable:!0,messageTranslationKey:"search-more-groups",messageTranslationFallback:"Search more groups...",translate:M,tooltipMessageTranslationKey:" type-to-search-classes",tooltipMessageTranslationFallback:"Start typing to search for more groups.",onSelectCallback:this.handleLeftPaneListSearched,loadCompactListForSearch:this.loadCompactListForSearch,groupType:le.a.TEACHER_GROUP_TYPE,clearPlaceholder:this.state.clearGroupSearchPlaceholder,showPlaceholder:this.showPlaceholder})),this.props.classLoadMoreEnabled&&!this.props.showAllClassMembershipsInLeftRail&&(te=r.a.createElement(je,{loadMoreMemberships:this.loadCompactListForSearch,handleLoadMoreGroupMembershipsButtonClick:this.handleLoadMoreClassMembershipsButtonClick}),$=r.a.createElement(d,{options:K,isSearchable:!0,messageTranslationKey:"search-more-classes",messageTranslationFallback:"Search more classes...",translate:M,tooltipMessageTranslationKey:"type-to-search-classes",tooltipMessageTranslationFallback:"Start typing to search for more classes.",onSelectCallback:this.handleLeftPaneListSearched,loadCompactListForSearch:this.loadCompactListForSearch,groupType:le.a.STUDENT_GROUP_TYPE,clearPlaceholder:this.state.clearClassSearchPlaceholder,showPlaceholder:this.showPlaceholder})),W=r.a.createElement(he,{currentUser:o,userGroups:H,groupOrClass:le.a.STUDENT_GROUP_TYPE,groupType:le.a.CLASS,toggleCreateGroupModal:this.toggleCreateGroupModal.bind(this,"createClassModal"),toggleJoinGroupModal:this.toggleJoinGroupModal.bind(this,"joinClassModal"),createGroupModalOpen:this.state.createClassModal,joinGroupModalOpen:this.state.joinClassModal,handleGroupItemClick:this.handleGroupItemClick,handleSmallGroupItemClick:this.handleSmallGroupItemClick,handleManageGroups:this.handleManageGroups,selectedGroup:V,currentGroupMembership:t,groupMemberships:s,currentGroupId:a,toggleCreateSmallGroupModal:this.toggleCreateSmallGroupModal,isSmallGroup:i,currentSmallGroupId:this.state.currentSmallGroupId||u,parentGroupColor:h,onGroupPage:g,membershipAwaitingApproval:E,fetchingAllGroups:this.props.fetchingAllGroups,isCreateGroupSuccessModalOpen:this.state.isCreateGroupSuccessModalOpen,toggleCreateGroupSuccessModal:this.toggleCreateGroupSuccessModal,compactMembershipList:_,groupMembershipsSearchBox:$,currentParentGroupMembership:N,compactMembershipsFullyLoaded:x,fullCompactMembershipList:R,loadMoreMembershipsButton:te,showAllGroupMembershipsInLeftRail:D}),Q=G&&r.a.createElement(he,{currentUser:o,userGroups:b,groupOrClass:le.a.TEACHER_GROUP_TYPE,groupType:le.a.GROUP,toggleCreateGroupModal:this.toggleCreateGroupModal.bind(this,"createGroupModal"),toggleJoinGroupModal:this.toggleJoinGroupModal.bind(this,"joinGroupModal"),createGroupModalOpen:this.state.createGroupModal,joinGroupModalOpen:this.state.joinGroupModal,handleGroupItemClick:this.handleGroupItemClick,handleSmallGroupItemClick:this.handleSmallGroupItemClick,handleManageGroups:this.handleManageGroups,selectedGroup:c,currentGroupMembership:t,groupMemberships:s,currentGroupId:a,toggleCreateSmallGroupModal:this.toggleCreateSmallGroupModal,isSmallGroup:i,currentSmallGroupId:this.state.currentSmallGroupId||u,parentGroupColor:h,onGroupPage:g,membershipAwaitingApproval:E,fetchingAllGroups:this.props.fetchingAllGroups,compactMembershipList:O,groupMembershipsSearchBox:X,currentParentGroupMembership:N,compactMembershipsFullyLoaded:x,fullCompactMembershipList:P,loadMoreMembershipsButton:ee,showAllGroupMembershipsInLeftRail:L});const ae=j&&S&&S.size>0&&r.a.createElement(ge,{parentAssociations:S,handleGroupItemClick:this.handleGroupItemClick,currentGroupId:a}),ne=j&&r.a.createElement(Fe,{parentRelationships:v,parentAssociations:S,isAddClassSuccessModalOpen:this.state.isAddClassSuccessModalOpen,handleGroupItemClick:Z,handleStudentClick:J,currentParentSelectedGroupMembership:C,currentGroupId:a,onGroupPage:g,toggleAddChildOrClassModal:this.toggleAddChildOrClassModal,hamburgerMenuHandler:U});let re;c&&!j?re=r.a.createElement("div",null,Q,W):c||j||(re=r.a.createElement("div",null,W,Q));const se=g?ce.a.GROUP_PAGE_CONTEXT:ce.a.HOME_PAGE_CONTEXT;return r.a.createElement("div",null,re,ne,ae,r.a.createElement(p.a,{toggleCreateSmallGroupModal:this.toggleCreateSmallGroupModal,isCreateSmallGroupModalOpen:this.state.isCreateSmallGroupModalOpen,createSmallGroupSubmit:this.createSmallGroupSubmit,handleSmallGroupInput:this.handleSmallGroupInput,isInvalidState:this.state.isInvalidState}),r.a.createElement(m.a,{isCreateGroupSuccessModalOpen:this.state.isCreateGroupSuccessModalOpen,toggleCreateGroupSuccessModal:this.toggleCreateGroupSuccessModal,toggleUserRoster:this.toggleUserRoster,abTestPlacementInfo:B,trackingContext:se}),r.a.createElement(pe.a,{isUserRosterOpen:this.state.isUserRosterOpen,toggleUserRoster:this.toggleUserRoster,groupId:z,groupTitle:q}),j&&r.a.createElement(n.Fragment,null,r.a.createElement(Ue.a,{isOpen:this.state.isAddChildOrClassModalOpen,toggle:this.toggleAddChildOrClassModal,handleAddChildOrClassFormSubmit:this.handleAddChildOrClassFormSubmit}),r.a.createElement(Be.a,{isOpen:this.state.isAddClassSuccessModalOpen,toggle:this.toggleAddClassSuccessModal,startOver:this.dismissSuccessAndStartOver,group:F}),r.a.createElement(Ge.a,{isOpen:this.state.isAddChildSuccessModalOpen,toggle:this.toggleAddChildSuccessModal,startOver:this.dismissSuccessAndStartOver,parentRelationship:this.state.parentRelationship})))}}t.a=Object(o.connect)((function(e){return{currentUser:He.c(e),currentUserProfile:He.p(e),accessToken:He.d(e),groups:qe.d(e),onGroupPage:qe.f(e),currentGroupMembership:N.t(e),currentParentGroupMembership:N.x(e),groupMemberships:N.I(e),currentGroupId:N.s(e),currentGroup:N.r(e),currentActiveUserGroupMemberships:N.a(e),userClasses:N.D(e),userGroups:N.E(e),membershipAwaitingApproval:N.H(e),newlyCreatedGroup:N.Q(e),minimalGroupMembershipList:N.P(e),minimalClassMembershipList:N.O(e),compactMembershipsFullyLoaded:N.n(e),unlistedCompactGroupMemberships:N.cb(e),unlistedCompactClassMemberships:N.bb(e),currentCompactGroupMembership:N.p(e),showAllGroupMembershipsInLeftRail:N.R(e),currentDisplayedGroup:qe.a(e),currentSelectedChildId:Ne.a(e),newlyAddedChildId:Ve.c(e),newlyAddedClassId:Ve.d(e),activeCompactMainMembershipsSortedByTitle:N.b(e),groupLoadMoreEnabled:N.G(e),classLoadMoreEnabled:N.h(e)}}),(function(e){return{groupMembershipActions:Object(s.bindActionCreators)(M,e),groupActions:Object(s.bindActionCreators)(We,e),homePageTrackingActions:Object(s.bindActionCreators)(Qe,e),relationshipActions:Object(s.bindActionCreators)(Ye,e),parentAssociationsActions:Object(s.bindActionCreators)(Je,e),parentStreamsActions:Object(s.bindActionCreators)(Ke,e),parentsTrackingActions:Object(s.bindActionCreators)(Ze,e)}}))(Object(i.a)(et))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(0),i=a(133),o=a(134),l=a(1199),c=a(364),d=a(272),u=a(5),h=a.n(u),p=a(509),m=a(14),g=a(1542),f=a(514),b=a(200),E=a(511),y=a(210),S=a(1277),v=a(521),C=a(73),A=a(516),I=a(199),T=a(1464),k=a(1532),O=a(369),_=a(368),M=a(98),N=a(16),w=a(7),P=a(48),R=a(31),x=a(1238),L=a(1208),D=a(156),F=a(181);let U=class extends n.Component{constructor(e){super(e),this.validateDuplicateEmail=this.validateDuplicateEmail.bind(this)}validateDuplicateEmail(e){const t=this.props.studentsToAddList,a=t&&t.toJS();for(let n in a)if(a[n].email&&a[n].email===e)return F.a.DUPLICATE_EMAIL}render(){const e=this.props,t=e.handleSubmit,a=e.invalid,n=e.submitting,s=e.pristine,i=e.translate;return r.a.createElement(d.Form,{onSubmit:t},r.a.createElement("div",{className:"name-container"},r.a.createElement(d.Field,{name:"first_name",component:x.a,label:i("first-name","First Name"),validate:[L.g,L.y],className:"firstName qa-test-add-student-first-name-input"}),r.a.createElement(d.Field,{name:"last_name",component:x.a,label:i("last-name","Last Name"),validate:[L.g,L.D],className:"lastName qa-test-add-student-last-name-input"})),r.a.createElement(d.Field,{name:"email",component:x.a,label:i("email-optional","Email (optional)"),validate:[this.validateDuplicateEmail,L.x],className:"email qa-test-add-student-email-input"}),r.a.createElement("div",{className:"add-btn-wrapper"},r.a.createElement(c.c,{className:"qa-test-add-student-btn",color:"primary",block:!0,disabled:a||n||s,type:"submit"},r.a.createElement(D.default,{string:"add",fallbackString:"Add"}))))}};U=Object(d.reduxForm)({form:M.a.ADD_STUDENTS_ONE_BY_ONE_FORM})(U);var B=Object(p.a)(U),G=a(510),j=a(1569);var z=({studentsToAddList:e,onRemoveStudentFromList:t,onAddStudentToList:a,onAddSubmitList:n,studentsToAddCount:s,emailHash:i,createdStudents:o,createdInvites:l,onDownloadPdfClick:d,onContinueWithoutDownloadClick:u,onCancelClick:h,submittingBatch:p,groupTitle:g,currentUser:f,toggleAddParentsModal:b,toggleAddStudentsModal:E})=>{const y=o?o.size:0,S=l?l.size:0,v=0===s?"reduced":"";let C=null;if(0===s){const e="When you add a student, Edmodo will create a student account with a temporary username and password. Students will be required to reset their password the first time they sign in to Edmodo.";C=r.a.createElement("div",{className:"example-info"},r.a.createElement("div",{className:"top-arrow"}),r.a.createElement("p",{className:"subtext"},r.a.createElement(D.default,{string:"when-yo-add-a-student-help-message",fallbackString:e})))}let A=[];return A.push(r.a.createElement("div",{key:6,className:"add-students-one-by-one-container"},r.a.createElement(c.P,{toggle:h},r.a.createElement("div",{className:"title"},r.a.createElement(D.default,{string:"add-students-to-class",fallbackString:"Add Students to %{classTitle}",insertions:{classTitle:g}}))),r.a.createElement("p",{className:"subtitle"},r.a.createElement(D.default,{string:"add-students-message",fallbackString:"Add students to your Class by entering their names or email addresses."})),r.a.createElement(B,{handleSubmit:a,emailHash:i,studentsToAddList:e}),r.a.createElement("div",{className:"add-student-form-title"},r.a.createElement(D.default,{string:"students",fallbackString:"Students"}),0!==s&&r.a.createElement("span",{className:"student-count"},"\xa0","(".concat(s,")"))),r.a.createElement(c.I,{className:v},e&&e.valueSeq().map((e,a)=>r.a.createElement(c.J,{key:a},(e=>{const a=m.a.getFullName(e);let n=null,s=null;return e.get("email")&&e.get("email").length>0&&(i[e.get("email")]===w.a.LOADING?n=r.a.createElement("span",{className:"loading"},r.a.createElement(D.default,{string:"utils, checking-email",fallbackString:"checking email"})):i[e.get("email")]?(n=r.a.createElement("span",{className:"email"},e.get("email")),s=r.a.createElement("span",{className:"existing-user"},r.a.createElement(D.default,{string:"existing-user",fallbackString:"Existing User"}))):n=r.a.createElement("span",{className:"email"},e.get("email"))),r.a.createElement("div",null,r.a.createElement("div",{className:"nameAndEmail"},r.a.createElement("span",{className:"name with-email"},a),n),r.a.createElement("div",null,s,r.a.createElement(c.c,{className:"remove remove-student qa-test-remove-student-btn",outline:!0,color:"secondary",onClick:t.bind(void 0,e)},"\xd7")))})(e)))),C,r.a.createElement("div",{className:"submit-list-wrapper"},r.a.createElement(c.c,{className:"add-students-btn qa-test-add-students-btn",color:"primary",onClick:n,disabled:0===s},r.a.createElement(D.default,{string:"add-students",fallbackString:"Add Students"}))))),r.a.createElement("div",null,!y&&!S||p?r.a.createElement("div",null,p?r.a.createElement("div",{className:"add-students-one-by-one-container"},r.a.createElement(c.P,{toggle:h},r.a.createElement("div",{className:"title"},r.a.createElement(D.default,{string:"add-students-to-class",fallbackString:"Add Students to %{classTitle}",insertions:{classTitle:g}}))),r.a.createElement("p",{className:"subtitle"},r.a.createElement(D.default,{string:"add-students-message",fallbackString:"Add students to your Class by entering their names or email addresses."})),r.a.createElement(B,{handleSubmit:a}),r.a.createElement(G.a,null)):A):r.a.createElement(j.a,{studentsCreatedCount:y,studentsInvitedCount:S,onDownloadPdfClick:d,onContinueWithoutDownloadClick:u,currentUser:f,emailHash:i,onCancelClick:h,toggleAddParentsModal:b,toggleAddStudentsModal:E}))};var q=()=>r.a.createElement("div",{className:"reset-and-regenerate-password"}),H=a(34),V=a(19),W=a(536);class Q extends n.Component{constructor(e){super(e),this.example={example:{temp_id:"example",first_name:"Liam",last_name:"Boyle",email:"lboyle@edmodo.edu"}},this.idSeed=0,this.state={mode:M.a.ADD_STUDENTS_ONE_BY_ONE,showConfirmationMessage:!1,showAddByCopyPasteEmptyState:!1,showCopyPasteTextAsInputs:!1,canContinue:!1,studentsToAddList:Object(s.fromJS)(this.example),copyPasteStudentsList:{},passwordsHash:{},studentsToAddCount:0,errorsCount:0,goupMembershipsMap:null,selectedGroupMemberships:null,usertsToResetPassword:{},submittingBatch:!1,batchCallCounter:0,existingStudentCount:0},this.handleAddStudentToList=this.handleAddStudentToList.bind(this),this.handleRemoveStudentFromList=this.handleRemoveStudentFromList.bind(this),this.handleAddSubmitList=this.handleAddSubmitList.bind(this),this.batchAction=this.batchAction.bind(this),this.handlePdfClick=this.handlePdfClick.bind(this),this.handleContinueWithoutDownloadClick=this.handleContinueWithoutDownloadClick.bind(this),this.handleCancel=this.handleCancel.bind(this)}UNSAFE_componentWillMount(){this.emailHash={"lboyle@edmodo.edu":!1},this.props.userActions.usersCreatedClean({})}UNSAFE_componentWillReceiveProps(e){!1===e.waitForInvites&&this.props.waitForInvites&&this.setState({batchCallCounter:this.state.batchCallCounter+1}),!1===e.waitForCreateUsers&&this.props.waitForCreateUsers&&this.setState({batchCallCounter:this.state.batchCallCounter+1}),2===this.state.batchCallCounter&&this.setState({submittingBatch:!1}),e.emailValid&&e.emailValid.get("email")!==this.props.emailValid.get("email")&&(this.emailHash[e.emailValid.get("email")]=e.emailValid.get("taken"),e.emailValid.get("taken")&&this.setState({existingStudentCount:this.state.existingStudentCount+1}))}componentDidUpdate(e){const t=this.props.createdUsers&&this.props.createdUsers.size&&e.createdUsers!==this.props.createdUsers,a=this.props.createdInvites&&this.props.createdInvites.size&&e.createdInvites!==this.props.createdInvites;if((t||a)&&!this.state.submittingBatch){f.a.trackStudentsAdded(this.props,R.a.TRACK_GROUP_PAGE_ADD_STUDENTS_ONE_BY_ONE_SUBMIT);const e=V.a.defaultGroupListingFetchParams().per_page;this.props.groupMembershipActions.fetchMembersForGroup(this.props.groupId,1,e,!1,!1,null,H.a.STUDENT)}e.emailValid&&e.emailValid.get("email")!==this.props.emailValid.get("email")&&(this.emailHash[e.emailValid.get("email")]=e.emailValid.get("taken"),e.emailValid.get("taken")&&this.setState({existingStudentCount:this.state.existingStudentCount+1}))}componentWillUnmount(){this.passwordHash=[],this.setState({}),this.props.userActions.clearEmailValid(),this.props.groupInvitationActions.groupInvitationsCreatedCleanResult({}),this.props.groupAddNewStudentsActions.resetState(),this.emailHash=null}getUserForList(e,t){let a=m.a.makeImmutableUser(e,t);return a=a.set(N.a.TYPE,N.a.STUDENT),a=a.set("temp_id",t),a=m.a.autogeneratePassword(a),a}batchAction(e,t,a){const n=t.length,r=[];let s=!t.length;for(let i=0;i<n;i+=e){const o=i,l=i+e;let c=[];l<=n?(c=t.slice(o,l),s=l===n):(c=t.slice(o),s=!0),a({requests:c},{done:s,entityBatchStorer:r})}}handleAddSubmitList(){this.state.submittingBatch||(this.setLoadingFlags(),this.setState({submittingBatch:!0},()=>{const e=[],t=[];this.passwordHash=[],this.state.studentsToAddList.forEach(a=>{let n=a.get("email");if(!n||n.length>0&&!this.emailHash[n])this.passwordHash.push(a.get("password")),e.push(m.a.getRequestParamsForBatch(a,this.props.groupId));else{let e=g.a.makeImmutableinvite({email:n,group_id:this.props.groupId});t.push(g.a.getRequestParamsForBatch(e))}}),this.batchAction(10,e,this.props.userActions.batchCreateUsers),this.batchAction(10,t,this.props.groupInvitationActions.batchInvites)}))}handleAddStudentToList(e){if(e.preventDefault(),this.state.submittingBatch)return;let t=null;const a=this.updateUserIdSeed(),n=this.getUserForList(this.props.formValues,a);0===this.state.studentsToAddCount?(t=this.state.studentsToAddList.delete("example"),t=t.set(a,n)):t=this.state.studentsToAddList.set(a,n);let r=this.state.studentsToAddCount+1;this.setState({studentsToAddList:t,studentsToAddCount:r},()=>{n.get("email")&&(this.emailHash[n.get("email")]=w.a.LOADING,this.props.ajaxStatusActions.beginAjaxCallAction(w.a.BEGIN_EMAIL_VERIFICATION_AJAX_CALL),this.props.userActions.checkUserEmail(n.get("email"))),this.props.formActions.reset(M.a.ADD_STUDENTS_ONE_BY_ONE_FORM)})}handleCancel(){this.emailHash={},this.props.toggleAddStudentsModal(),this.props.newGroupUrl&&this.props.history.push(this.props.newGroupUrl,{goToMembersTab:!0})}handleRemoveStudentFromList(e){if(!this.state.studentsToAddCount)return;e.get("email")&&this.emailHash[e.get("email")]?this.setState({studentsToAddCount:this.state.studentsToAddCount-1,existingStudentCount:this.state.existingStudentCount-1}):this.setState({studentsToAddCount:this.state.studentsToAddCount-1}),delete this.emailHash[e.get("email")];let t=null;t=this.state.studentsToAddCount-1>0?this.state.studentsToAddList.filter(t=>t.get("temp_id")!==e.get("temp_id")):Object(s.fromJS)(this.example);let a=this.state.studentsToAddCount-1;this.setState({studentsToAddList:t,studentsToAddCount:a},()=>{this.props.userActions.emailCleanResult(Object(s.Map)())})}handlePdfClick(){f.a.trackStudentRosterBasicAction(this.props,R.a.TRACK_GROUP_PAGE_ADD_STUDENTS_ONE_BY_ONE_PDF_CLICK);const e=window.$;let t=this.props.configInfo.get(P.a.BASE_URL),a=e("<form>",{method:"POST",action:t+"/group_memberships/handout",target:"_blank"}).hide();document.createElement("form"),this.props.createdUsers.forEach((t,n)=>{a.append(e("<input>",{type:"hidden",name:"members[][user_id]",value:t.id})),a.append(e("<input>",{type:"hidden",name:"members[][password]",value:this.passwordHash[n]}))}),a.append(e("<input>",{type:"hidden",name:"group_id",value:this.props.groupId})),a.append(e("<input>",{type:"hidden",name:"access_token",value:this.props.accessToken.get("access_token")})),e("body").append(a),a.submit(),a.remove(),this.props.toggleAddStudentsModal(),this.props.toggleAddParentsModal()}handleContinueWithoutDownloadClick(){f.a.trackStudentRosterBasicAction(this.props,R.a.TRACK_GROUP_PAGE_ADD_STUDENTS_CONTINUE_CLICK),this.props.toggleAddStudentsModal(),this.props.toggleAddParentsModal()}updateUserIdSeed(){return 0===this.state.studentsToAddCount?this.idSeed=0:++this.idSeed,this.idSeed}invitesActive(){return h.a.values(this.emailHash).filter(e=>!0===e).length>=1}creatingActive(){return this.state.studentsToAddCount!==h.a.values(this.emailHash).filter(e=>!0===e).length}setLoadingFlags(){this.creatingActive()?this.props.groupAddNewStudentsActions.setWaitForBatchStudentsCreation(!0):this.setState({batchCallCounter:this.state.batchCallCounter+1}),this.invitesActive()?this.props.groupAddNewStudentsActions.setWaitForBatchInvites(!0):this.setState({batchCallCounter:this.state.batchCallCounter+1})}render(){const e=this.state.submittingBatch;let t=null;const a=this.props,n=a.createdStudents,s=a.createdUsers,i=a.createdInvites,o=a.translate,l=a.groupTitle,c=a.toggleAddParentsModal,d=a.currentUser,u=a.toggleAddStudentsModal;switch(this.state.mode){case M.a.PRINT_AND_REGENERATE_PASSWORDS:t=r.a.createElement(q,{groupMemberships:this.groupMemberships,selectedGroupMemberships:this.state.selectedGroupMemberships});break;default:t=r.a.createElement(z,{studentsToAddList:this.state.studentsToAddList,studentsToAddCount:this.state.studentsToAddCount,onAddStudentToList:this.handleAddStudentToList,onRemoveStudentFromList:this.handleRemoveStudentFromList,onAddSubmitList:this.handleAddSubmitList,onDownloadPdfClick:this.handlePdfClick,onContinueWithoutDownloadClick:this.handleContinueWithoutDownloadClick,emailHash:this.emailHash,showSuccessAdd:n&&n.size>0,createdStudents:s,createdInvites:i,onCancelClick:this.handleCancel,submittingBatch:e,translate:o,groupTitle:l,existingStudentCount:this.state.existingStudentCount,currentUser:d,toggleAddParentsModal:c,toggleAddStudentsModal:u})}return r.a.createElement("div",{className:"group-add-new-students"},t)}}Q.defaultProps={waitForCreateUsers:!1,waitForInvites:!1,emailValid:Object(s.Map)()};var Y=Object(l.a)(Object(i.connect)((function(e,t,a){return{formValues:Object(d.getFormValues)(M.a.ADD_STUDENTS_ONE_BY_ONE_FORM)(e),emailValid:C.v(e),checkingEmailStatus:A.c(e,w.a.EMAIL_VERIFICATION_LOADING_STATUS),createdUsers:C.a(e),createdInvites:T.b(e),accessToken:C.d(e),waitForCreateUsers:k.c(e),waitForInvites:k.d(e),configInfo:O.a(e),currentUser:C.c(e),currentGroup:I.r(e),newGroupUrl:_.j(e)}}),(function(e){return{groupMembershipActions:Object(o.bindActionCreators)(b,e),groupInvitationActions:Object(o.bindActionCreators)(S,e),userActions:Object(o.bindActionCreators)(E,e),ajaxStatusActions:Object(o.bindActionCreators)(y,e),groupInviteActions:Object(o.bindActionCreators)(S,e),formActions:Object(o.bindActionCreators)(d,e),groupAddNewStudentsActions:Object(o.bindActionCreators)(v,e)}}))(Object(W.a)(Object(p.a)(Q))));var K=({isOpen:e,groupId:t,groupTitle:a,toggleAddStudentsModal:n,toggleAddParentsModal:s})=>r.a.createElement(c.M,{className:"add-students-modal",isOpen:e,toggle:n,backdrop:"static"},r.a.createElement(Y,{groupId:t,groupTitle:a,toggleAddParentsModal:s,toggleAddStudentsModal:n})),J=a(1566),Z=a(1325),X=a(1316),$=a(1479),ee=a(1518),te=a(373),ae=a(1490),ne=a(532),re=a(379),se=a(18),ie=a(10),oe=a(78),le=a(77),ce=a(145);class de extends n.Component{constructor(e){super(e),this.state={isAddParentsModalOpen:!1,isConnectParentsFormDisplayed:{},isAddParentsSuccessDisplayed:!1},this.toggleAddParentsModal=this.toggleAddParentsModal.bind(this),this.handleMaybeLaterClicked=this.handleMaybeLaterClicked.bind(this),this.setIsConnectParentsFormDisplayed=this.setIsConnectParentsFormDisplayed.bind(this),this.resetIsConnectParentsFormDisplayed=this.resetIsConnectParentsFormDisplayed.bind(this),this.handleSubmitAddParentsFinish=this.handleSubmitAddParentsFinish.bind(this)}componentDidMount(){}componentDidUpdate(e){const t=this.props,a=t.groupId,n=t.relationshipActions,r=t.fetchedUsersWithEmails;if(this.props.fetchedUsersWithEmails!==e.fetchedUsersWithEmails&&a){let e=[];r&&r.valueSeq().forEach(t=>{e.push(m.a.getId(t))}),n.batchFetchParentsWithStudentIds(e,a)}}setIsConnectParentsFormDisplayed(e){f.a.trackStudentRosterBasicAction(this.props,R.a.TRACK_GROUP_PAGE_ADD_PARENTS_CONNECT_PARENT_CLICK);const t=Object.assign({},this.state.isConnectParentsFormDisplayed);Object.entries(t).forEach(e=>{t[e[0]]=!1}),t[e]=!0,this.setState({isConnectParentsFormDisplayed:t})}resetIsConnectParentsFormDisplayed(e){const t=Object.assign({},this.state.isConnectParentsFormDisplayed);t[e]=!1,this.setState({isConnectParentsFormDisplayed:t})}handleSubmitAddParentsFinish(){const e=this.props.invitedParentsInfo;0===re.d(e)?this.toggleAddParentsModal():this.setState({isAddParentsSuccessDisplayed:!0}),f.a.trackAddParentsFinishClicked(this.props,R.a.TRACK_GROUP_PAGE_ADD_PARENTS_FINISH_CLICK)}handleMaybeLaterClicked(){f.a.trackStudentRosterBasicAction(this.props,R.a.TRACK_GROUP_PAGE_ADD_PARENTS_MAYBE_LATER_CLICK),this.toggleAddParentsModal()}toggleAddParentsModal(){const e=this.props,t=e.newGroupUrl,a=e.history,n=e.currentGroup,r=e.groupId;if(this.state.isAddParentsModalOpen){const e={entity_type:"group",entity_id:r};let s,i,o;this.props.relationshipActions.getParentCountForCurrentGroup(e),t||(s=ie.a.GROUP_PAGE,i=oe.a.getGroupTitle(n),o=le.a.makePageUrlFromTitleAndId(s,i,r));const l=t||o;a.push(l.includes(se.a.GROUP_MEMBERS)?l:"".concat(l).concat(se.a.GROUP_MEMBERS),{goToMembersTab:!0})}this.setState({isAddParentsModalOpen:!this.state.isAddParentsModalOpen,isAddParentsSuccessDisplayed:!1}),this.props.parentInvitationActions.resetInvitedParentsInfoFromUserRoster()}render(){const e=this.props,t=e.isUserRosterOpen,a=e.toggleUserRoster,n=e.groupId,i=e.createdUsers,o=e.fetchedUsersWithEmails,l=e.geolocation,c=e.invitedParentsInfo,d=e.currentGroup,u=e.parentsMembersForCurrentGroup;let h=[];i&&(h=i.valueSeq().toArray().map(e=>Object(s.fromJS)(e)));let p=[];o&&(p=o.valueSeq().toArray());const m=u&&new s.List([...u.values()])||Object(s.List)();return r.a.createElement("div",null,r.a.createElement(K,{isOpen:t,toggleAddStudentsModal:a,groupId:n,groupTitle:this.props.groupTitle,toggleAddParentsModal:this.toggleAddParentsModal}),r.a.createElement(J.a,{trackingContext:ce.a.GROUP_PAGE_CONTEXT,isOpen:this.state.isAddParentsModalOpen,toggle:this.toggleAddParentsModal,onMaybeLaterClicked:this.handleMaybeLaterClicked,newStudents:h,existingStudents:p,parentsInGroupRelationships:m,geolocation:l,invitedParentsInfo:c,isConnectParentsFormDisplayed:this.state.isConnectParentsFormDisplayed,setIsConnectParentsFormDisplayed:this.setIsConnectParentsFormDisplayed,resetIsConnectParentsFormDisplayed:this.resetIsConnectParentsFormDisplayed,handleSubmitAddParentsFinish:this.handleSubmitAddParentsFinish,isAddParentsSuccessDisplayed:this.state.isAddParentsSuccessDisplayed,currentGroup:d}))}}t.a=Object(l.a)(Object(i.connect)((function(e){return{fetchedUsersWithEmails:Z.a(e),createdUsers:C.a(e),parentsMembersForCurrentGroup:X.e(e,{groupId:I.s(e)}),parentsInGroupRelationships:X.a(e),geolocation:$.a(e),invitedParentsInfo:ee.a(e),newGroupUrl:_.j(e),currentGroup:I.r(e)}}),(function(e){return{relationshipActions:Object(o.bindActionCreators)(te,e),geolocationActions:Object(o.bindActionCreators)(ae,e),parentInvitationActions:Object(o.bindActionCreators)(ne,e),groupMembershipActions:Object(o.bindActionCreators)(b,e)}}))(de))},function(e,t,a){"use strict";var n=a(144),r=a.n(n),s=a(77),i=a(146),o=a(51),l=a(102),c=a(10),d="avatars",u="small",h="large",p="text",m="title",g="first_name",f="last_name",b="name",E="user_type",y="thumb",S="school_name",v="id",C="image_urls",A="connection_status",I="follow_status",T="active",k="subjects",O="grades",_="categories",M="content",N="hashtags",w="num_reactions",P="num_replies",R="creator",x="created_at",L="avatar_url",D="url",F="share_url",U="description",B="follower_count",G="vanity";a(1570);t.a=class{static getCardTrackingCallback(e,t,a,n,r){return e?()=>{n({key:t,id:a})}:()=>{r({key:t,id:a})}}static getResultsByCategory(e,t){switch(t){case l.a.POST:return e&&e.filter(e=>e&&e.type===l.a.MESSAGE);case l.a.PEOPLE:return e&&e.filter(e=>e&&e.type===l.a.USER);case l.a.BRAND_PAGE:return e&&e.filter(e=>e&&e.type===l.a.BRAND_PAGE);case l.a.DISCOVER_RESOURCES:return e&&e.filter(e=>e&&e.type===l.a.DISCOVER_RESOURCES);default:return e}}static isUserOnSearchPage(e){return e.location.pathname.includes("/search")}static getQuery(e){let t=r.a.parse(e.search);return t.query?t.query:""}static hasFilters(e,t){return t.has(e)&&t.get(e).size>0}static getCategory(e){switch(e.pathname){case c.a.SEARCH_PAGE:return l.a.ALL;case c.a.SEARCH_PAGE_POST:return l.a.POST;case c.a.SEARCH_PAGE_PAGES:return l.a.BRAND_PAGE;case c.a.SEARCH_PAGE_PEOPLE:return l.a.PEOPLE;case c.a.SEARCH_PAGE_RESOURCES:return l.a.DISCOVER_RESOURCES;default:return l.a.ALL}}static getGroupUrl(e,t){return e&&t?"".concat(s.a.makePageUrlFromTitleAndId(c.a.GROUP_PAGE,t,e),"?ref=search"):"/group/null"}static getProfileUrl(e){return i.a.makeUrl("/profile/".concat(e,"?ref=search"))}static getTopicsUrl(e){return i.a.makeUrl("/topics/".concat(e,"?ref=search"))}static getTopResults(e,t){return this.formatResults(e,t.slice(0,3))}static formatResults(e,t){switch(e){case l.a.POST:return t.map(e=>this.getPostInfo(e));case l.a.PEOPLE:return t.map(e=>this.getPeopleInfo(e));case l.a.BRAND_PAGE:return t.map(e=>this.getBrandPageInfo(e));case l.a.DISCOVER_RESOURCES:return t.map(e=>this.getDiscoverResourceInfo(e));default:return null}}static getCardFormat(e,t){return 1===e?"collapsed-row":0===t?"top-row":2===e?"bottom-row":t!==e-1?"middle-row":"bottom-row"}static getSearchString(e){return r.a.parse(e.location.search).q||""}static getResultType(e){return e&&e.type}static getCount(e,t){const a=e&&e[t];return a>=0?a:""}static getAttribute(e,t){const a=e[t];return a||""}static getAttributeByPath(e,t){for(let a=0;a<t.length;a++)if(!(e=e[t[a]]))return"";return e}static getPostInfo(e){return{id:this.getAttribute(e,v),date:this.getAttribute(e,x),topics:this.getAttribute(e,N),reactions:this.getAttribute(e,w),replies:this.getAttribute(e,P),url:this.getAttribute(e,F),text:this.getAttributeByPath(e,[M,p]),name:this.getPostCreatorName(e),imgUrl:this.getPostCreatorAvatar(e)}}static getPeopleInfo(e){return{id:this.getAttribute(e,v),name:this.getAttribute(e,b),imgUrl:this.getAttribute(e,y),userId:this.getAttribute(e,v),role:this.getAttribute(e,E),school:this.getAttribute(e,S),connectionStatus:this.getAttribute(e,A),vanity:this.getAttribute(e,G)}}static getDiscoverResourceInfo(e){return{id:this.getAttribute(e,v),title:this.getAttributeByPath(e,[M,m]),url:this.getAttributeByPath(e,[M,D]),image_urls:this.getAttribute(e,C),subjects:o.a.stringifyJSArray(this.getAttribute(e,k)),grade:o.a.stringifyJSArray(this.getAttribute(e,O)),categories:o.a.stringifyJSArray(this.getAttribute(e,_))}}static getBrandPageInfo(e){return{id:this.getAttribute(e,v),name:this.getAttribute(e,b),description:this.getAttribute(e,U),followerCount:this.getCount(e,B),imgUrl:this.getAttribute(e,L),URL:this.getAttribute(e,D),followingPublisher:this.getAttribute(e,I)===T}}static getPostCreatorName(e){const t=this.getAttributeByPath(e,[R,g]),a=this.getAttributeByPath(e,[R,f]);return"".concat(t," ").concat(a).trim()}static getPostCreatorAvatar(e){const t=this.getAttributeByPath(e,[R,d]);return this.getAttribute(t,h)||this.getAttribute(t,u)}static getPersonUrl(e,t,a){return e===l.a.TEACHER?a?s.a.makeReactProfileUrl(a):s.a.makeReactProfileUrl(t):s.a.makeReactStudentProfileUrl(t)}static isPublisherAConnection(e){return e&&e[I]===T}static convertCategoryKeyToName(e){let t="";switch(e){case l.a.OVERVIEW:t="Overview";break;case l.a.USER:t="Teachers and Students";break;case l.a.TEACHER:t="Teachers";break;case l.a.STUDENT:t="Students";break;case l.a.ASKMO:t="Ask Mo";break;case l.a.HELP_CENTER_ARTICLE:t="Help Center Articles";break;case l.a.MESSAGE:case l.a.NOTE:t="Posts";break;case l.a.ASSIGNMENT:t="Assignments";break;case l.a.QUIZ:t="Quizzes";break;case l.a.DISCOVER_RESOURCES:t="Discover";break;case l.a.SOCIAL_TOPIC:t="Topics";break;case l.a.GROUP:t="Groups"}return t}}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156),o=a(272),l=a(1238),c=a(509);var d=Object(o.reduxForm)({form:"addChildOrClassForm"})(Object(c.a)(({handleSubmit:e,handleAddChildOrClassFormSubmit:t,submitting:a,pristine:n,translate:c})=>r.a.createElement(o.Form,{onSubmit:e&&e(t)},r.a.createElement(o.Field,{name:"parentCodeInput",component:l.a,label:c&&c("parent-code","Parent Code"),className:"qa-test-parent-or-class-code-input"}),r.a.createElement(s.c,{color:"primary",block:!0,disabled:a||n,type:"submit",style:{marginTop:"1.25rem"},className:"qa-test-parent-connect-to-child-or-class-btn parent-connect-to-child-or-class-btn"},r.a.createElement(i.default,{string:"connect",fallbackString:"Connect"}))))),u=(a(1582),a(1583)),h=a.n(u);const p=a(1271);t.a=({isOpen:e,toggle:t,handleAddChildOrClassFormSubmit:a})=>{const n=r.a.createElement("button",{style:{border:"0px",background:"#fff"},className:"qa-test-close-connect-modal",onClick:t},"\xd7");return r.a.createElement(s.M,{className:"add-child-or-class-modal qa-test-add-child-or-class-modal",isOpen:e,toggle:t,backdrop:"static"},r.a.createElement(s.P,{toggle:t,close:n}),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.N,null,r.a.createElement(p,{src:h.a,alt:"",style:{display:"block",margin:" 0 auto 1rem",width:"206px",height:"186px"}}),r.a.createElement("h1",{className:"connect-child-header"},r.a.createElement(i.default,{string:"connect-with-your-student",fallbackString:"Connect with your student!"})),r.a.createElement("p",{className:"connect-child-message"},r.a.createElement(i.default,{string:"enter-parent-code",fallback:"Enter the Parent Code to stay up-to-date on your student\u2019s class activities."})),r.a.createElement(d,{handleAddChildOrClassFormSubmit:a}),r.a.createElement("a",{style:{display:"block",margin:"auto",textAlign:"center"},href:"https://support.edmodo.com/hc/en-us/articles/205005364-Find-a-Student-s-Parent-Code",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(i.default,{string:"how-to-find-parent-code",fallbackString:"How to Find Parent Code"})))))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1213),i=a(1207);const o=({active:e,activateBtnText:t,inactivateBtnText:a,activateIcon:n,activateIconColor:o,activateClassNames:l,activateQaSelector:c,inactivateQaSelector:d,inactivateIcon:u,inactivateIconColor:h,inactivateClassNames:p,activateBtnWeight:m,onActivateClick:g,onInactivateClick:f,inactivateHoverText:b,inactivateHoverClassNames:E,inactivateHoverWide:y,whiteHover:S,options:v})=>{const C=()=>r.a.createElement(i.a,{qaSelector:d,iconName:u,iconColor:h,className:"make-inactive ".concat(p),onClick:f,options:v,whiteHover:S},a);return e&&b?r.a.createElement("span",{className:"eds dual-state-btn make-inactive-container"},r.a.createElement(i.a,{wide:y,className:"make-inactive-hover ".concat(E),onClick:f,options:v},b),C()):e?C():r.a.createElement(s.a,{qaSelector:c,iconName:n,className:l,iconColor:o,weight:m,onClick:g,options:v},t)};o.defaultProps={active:!1,options:{},activateBtnWeight:"standard",whiteHover:!1},t.a=o},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(272),i=a(133);t.a=(e,t,a)=>{const n=Object(s.formValueSelector)(t);let o=Object(s.reduxForm)({form:t,asyncValidate:a,asyncBlurFields:["parentsEmails"]})(t=>r.a.createElement(e,t));return o=Object(i.connect)(e=>({inputFieldTypeValue:n(e,"inputFieldType")||"email",parentsEmails:n(e,"parentsEmails")}))(o),o}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=(a(1237),a(364)),i=a(156),o=a(78),l=a(14);a(1584);class c extends n.Component{render(){const e=this.props,t=e.isOpen,a=e.toggle,n=e.startOver,c=e.group,d=o.a.getGroupTitle(c),u=o.a.getGroupOwners(c),h=u&&u.first(),p=h&&l.a.getDisplayName(h);return r.a.createElement(s.M,{className:"connect-class-success-modal",isOpen:t,toggle:a,backdrop:"static"},r.a.createElement(s.P,{toggle:a}),r.a.createElement(s.N,null,r.a.createElement("img",{className:"class-bg",src:"//a.edim.co/images_v2/parents/parent_newclass.png",alt:""}),r.a.createElement("h1",{className:"connect-class-success-header"},r.a.createElement(i.default,{string:"receiving-general-updates",fallbackString:"You're now receiving general updates from %{class_name} with %{title}.",insertions:{class_name:d,title:p}})),r.a.createElement(i.default,{string:"see-child-grades",fallbackString:"To see your child's grades, submissions, and messages, connect with them using their Parent Code.",className:"connect-parent-code"}),r.a.createElement(s.c,{color:"primary",block:!0,className:"done-btn qa-test-connect-doneButton",onClick:a},r.a.createElement(i.default,{string:"done",fallbackString:"Done"})),r.a.createElement("span",{className:"add-child-or-class",onClick:n},r.a.createElement(i.default,{string:"add-child-or-class",fallbackString:"Add another child or class"}))))}}c.defaultProps={isOpen:!1,toggle:null,startOver:null,group:null},t.a=c},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=(a(1237),a(364)),i=a(156),o=a(509),l=a(240),c=a(14),d=a(34);a(1585);class u extends n.Component{render(){const e=this.props,t=e.isOpen,a=e.toggle,n=e.startOver,o=e.parentRelationship,u=e.translate;let h="",p="",m=0,g="";if(o){const e=o.get("relationship"),t=o.get("student_memberships"),a=l.a.getStudentMember(e);if(h=a.get(d.a.FIRST_NAME),p=c.a.getLargeAvatar(a),t&&(m=t.size),m>0){const e=[];m<=3?t.forEach(t=>{e.push(t.get("group").get("title"))}):(e.push(t.get(0).get("group").get("title")),e.push(t.get(1).get("group").get("title")),e.push(u("x-more-classes","%{class_count} more classes",{class_count:m-2}))),g=e.join(" \u2022 ")}}return r.a.createElement(s.M,{className:"connect-child-success-modal",isOpen:t,toggle:a,backdrop:"static"},r.a.createElement(s.P,{toggle:a}),r.a.createElement(s.N,null,r.a.createElement("div",{className:"child-image"},r.a.createElement("img",{className:"child-bg",src:"//a.edim.co/images_v2/parents/parent_class_connection_without_avatar.png",alt:""}),r.a.createElement("img",{className:"avatar",src:p,alt:""})),r.a.createElement("h1",{className:"connect-child-success-header"},m>0?r.a.createElement(i.default,{string:"see-child-information",fallbackString:"You can now see %{name}'s grades, homework, and messages for their %{smart_count} classes.",insertions:{name:h,smart_count:m}}):r.a.createElement(i.default,{string:"see-child-information-no-class",fallbackString:"You can now see %{name}'s grades, homework, and messages.",insertions:{name:h}})),r.a.createElement("p",{className:"class-list"},g),r.a.createElement(s.c,{color:"primary",block:!0,className:"done-btn qa-test-connect-doneButton",onClick:a},r.a.createElement(i.default,{string:"done",fallbackString:"Done"})),r.a.createElement("span",{className:"add-child-or-class",onClick:n},r.a.createElement(i.default,{string:"add-child-or-class",fallbackString:"Add another child or class"}))))}}u.defaultProps={isOpen:!1,toggle:null,startOver:null,parentRelationship:null},t.a=Object(o.a)(u)},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(272),o=a(227),l=a(1208),c=a(509),d=a(1564);var u=Object(c.a)(({translate:e})=>r.a.createElement("div",{className:"parents-emails-input qa-test-connectParents-emailField"},r.a.createElement(i.Field,{name:"parentsEmails",component:d.a,placeHolder:"".concat(e&&e("example","Example"),": Parent@email.com, Parent2@email.com"),className:"parents-emails qa-test-parents-emails-input expandable",validate:[l.g,l.J]}))),h=a(1525),p=a(535),m=a(14),g=a(378),f=a(156),b=a(381),E=a(514);a(1579);t.a=Object(c.a)(e=>{const t=e.student,a=e.geolocation,n=e.handleSubmit,l=e.pristine,c=e.submitting,d=e.translate,y=e.resetIsConnectParentsFormDisplayed,S=e.isAddParentForSingleStudent,v=e.trackingContext,C=p.a.defaultPhoneCountryCode(a),A=m.a.getId(t);return r.a.createElement(r.a.Fragment,null,!S&&r.a.createElement("p",{className:"instructions-to-enter-emails"},r.a.createElement(f.default,{string:"connect-parents",fallbackString:"Connect parents"})),r.a.createElement("div",{className:"connect-parent-form-container"},r.a.createElement(i.Form,{onSubmit:n&&n((e,t,a)=>{E.a.handleSubmitParentsInfoForOneStudent(e,a,v),t(Object(o.c)("ParentsForm".concat(A))),y&&y(A)})},r.a.createElement("div",{className:"input-field-container"},(C===g.a.US_COUNTRY_NAME||C===g.a.CANADA_COUNTRY_NAME)&&r.a.createElement(i.Field,{name:"inputFieldType",component:"select",className:"qa-test-select-email-or-phone",id:"select-email-or-phone"},r.a.createElement("option",{value:"email",className:"qa-test-select-email"},d&&d("email","Email")),r.a.createElement("option",{value:"mobile",className:"qa-test-select-phone"},d&&d("mobile","Mobile"))),"email"===e.inputFieldTypeValue?r.a.createElement(u,{student:t}):r.a.createElement("div",{className:"phone-number-input"},r.a.createElement(h.a,{countryCode:"us",isForConnectParent:!0})),r.a.createElement(s.c,{className:"connect-parents-with-emails-btn qa-test-connect-parents-with-emails-btn",color:"primary",type:"submit",disabled:l||c},r.a.createElement(f.default,{string:"invite_parent_btn",fallbackString:"Invite"})),!S&&r.a.createElement(s.c,{className:"connect-parent-cancel-btn qa-test-connect-parent-cancel-btn",color:"white",type:"reset",onClick:()=>y(A)},b.a.isMobile()?r.a.createElement(f.default,{string:"admin_pages,cancel",fallbackString:"Cancel"}):r.a.createElement("span",null,"\u2715"))))))})},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(134),i=a(133),o=a(35),l=a.n(o),c=a(364),d=a(1595),u=a(1330),h=a(1204),p=a(1203),m=a.n(p);a(1607);function g({clue:e,identifier:t,bluesCluesActions:a,isOpen:s,className:i,flip:o,children:d,onClose:u,arrowStart:p,animated:g,target:f,placement:b}){Object(n.useEffect)(()=>{t&&a.fetchClue(t)},[t,a]);const E=e&&!0===e.get("display")||s,y=l()("__blues-clues",{"__blues-clues-transition":g,"__blues-clues-arrow-start":p},i);return r.a.createElement(c.Z,{className:y,isOpen:E,target:f,placement:b,modifiers:{flip:{enabled:o}}},r.a.createElement(c.ab,null,r.a.createElement("div",null,d),r.a.createElement(c.c,{onClick:()=>{e&&a.dismissClue(t),u&&u()},className:"qa-test-bluesClues-dismiss"},r.a.createElement(h.a,{name:"x-icon",size:16,color:m.a.white[0]}))))}g.defaultProps={animated:!0,flip:!1};t.a=Object(i.connect)((function(e,t){const a=t.identifier;return{clue:u.b(e,a)}}),(function(e){return{bluesCluesActions:Object(s.bindActionCreators)(d,e)}}))(g)},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAPCAQAAABzA0a4AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfiDAYIHjH8T8ypAAAANUlEQVQI12Ns1vyryHy/9joDA4TF9FeRkfmvIgMDAwOExcR8//9f5vsMDAwMCBaJgHGw2gIAyBY4FAWJPiQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTItMDZUMDc6MzA6NDkrMDE6MDDMh2GJAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTEyLTA2VDA3OjMwOjQ5KzAxOjAwvdrZNQAAAABJRU5ErkJggg=="},function(e,t,a){"use strict";var n=a(1317);t.a=class{static getPublicLevel(e,t,a){switch(t=t||"",a=a||"",e){case 0:return n.a.PUBLIC;case 1:return n.a.SCHOOLS+t;case 2:return n.a.DISTRICTS+a;default:return n.a.PRIVATE}}}},function(e,t,a){"use strict";a.r(t),a.d(t,"searchPageDisplay",(function(){return s})),a.d(t,"searchPageUnMount",(function(){return i})),a.d(t,"searchPageLandingQuery",(function(){return o})),a.d(t,"searchPageNewQuery",(function(){return l})),a.d(t,"searchPageTabClick",(function(){return c})),a.d(t,"searchPageAllPostCardClicked",(function(){return d})),a.d(t,"searchPageAllPeopleCardClicked",(function(){return u})),a.d(t,"searchPageAllPagesCardClicked",(function(){return h})),a.d(t,"searchPageAllResourceCardClicked",(function(){return p})),a.d(t,"searchPageCategoryPostCardClicked",(function(){return m})),a.d(t,"searchPageCategoryPeopleCardClicked",(function(){return g})),a.d(t,"searchPageCategoryPagesCardClicked",(function(){return f})),a.d(t,"searchPageCategoryResourceCardClicked",(function(){return b})),a.d(t,"searchPageNoResultsRedirectBarPostClicked",(function(){return E})),a.d(t,"searchPageNoResultsRedirectBarPeopleClicked",(function(){return y})),a.d(t,"searchPageNoResultsRedirectBarResourceClicked",(function(){return S})),a.d(t,"searchPageViewAllPostBarClicked",(function(){return v})),a.d(t,"searchPageViewAllPeopleBarClicked",(function(){return C})),a.d(t,"searchPageViewAllPagesBarClicked",(function(){return A})),a.d(t,"searchPageViewAllResourceBarClicked",(function(){return I})),a.d(t,"searchPagePeopleAllConnectButtonClick",(function(){return T})),a.d(t,"searchPagePagesFollowButtonClick",(function(){return k})),a.d(t,"searchPagePeopleCategoryConnectButtonClick",(function(){return O}));var n=a(128),r=a(102);const s=e=>({type:n.a.TRACK_SEARCH_PAGE_DISPLAY,payload:e}),i=e=>({type:n.a.TRACK_SEARCH_PAGE_UNMOUNT,payload:e}),o=e=>({type:n.a.TRACK_SEARCH_PAGE_LANDING_QUERY,payload:e}),l=e=>({type:n.a.TRACK_SEARCH_PAGE_NEW_QUERY,payload:e}),c=(e,t)=>{switch(e){case r.a.POST:return{type:n.a.TRACK_SEARCH_PAGE_POST_TAB_CLICK,payload:{category:e,context:t}};case r.a.PEOPLE:return{type:n.a.TRACK_SEARCH_PAGE_PEOPLE_TAB_CLICK,payload:{category:e,context:t}};case r.a.PAGES:return{type:n.a.TRACK_SEARCH_PAGE_PAGES_TAB_CLICK,payload:{category:e,context:t}};case r.a.RESOURCES:return{type:n.a.TRACK_SEARCH_PAGE_RESOURCES_TAB_CLICK,payload:{category:e,context:t}};default:return{type:n.a.TRACK_SEARCH_PAGE_ALL_TAB_CLICK,payload:{category:e,context:t}}}},d=e=>({type:n.a.TRACK_SEARCH_PAGE_ALL_POST_CARD_CLICK,payload:e}),u=e=>({type:n.a.TRACK_SEARCH_PAGE_ALL_PEOPLE_CARD_CLICK,payload:e}),h=e=>({type:n.a.TRACK_SEARCH_PAGE_ALL_PAGES_CARD_CLICK,payload:e}),p=e=>({type:n.a.TRACK_SEARCH_PAGE_ALL_RESOURCE_CARD_CLICK,payload:e}),m=e=>({type:n.a.TRACK_SEARCH_PAGE_CATEGORY_POST_CARD_CLICK,payload:e}),g=e=>({type:n.a.TRACK_SEARCH_PAGE_CATEGORY_PEOPLE_CARD_CLICK,payload:e}),f=e=>({type:n.a.TRACK_SEARCH_PAGE_CATEGORY_PAGES_CARD_CLICK,payload:e}),b=e=>({type:n.a.TRACK_SEARCH_PAGE_CATEGORY_RESOURCE_CARD_CLICK,payload:e}),E=e=>({type:n.a.TRACK_SEARCH_PAGE_NO_RESULTS_REDIRECT_BAR_POST_CLICK,payload:e}),y=e=>({type:n.a.TRACK_SEARCH_PAGE_NO_RESULTS_REDIRECT_BAR_PEOPLE_CLICK,payload:e}),S=e=>({type:n.a.TRACK_SEARCH_PAGE_NO_RESULTS_REDIRECT_BAR_RESOURCE_CLICK,payload:e}),v=e=>({type:n.a.TRACK_SEARCH_PAGE_VIEW_ALL_POST_BAR_CLICK,payload:e}),C=e=>({type:n.a.TRACK_SEARCH_PAGE_VIEW_ALL_PEOPLE_BAR_CLICK,payload:e}),A=e=>({type:n.a.TRACK_SEARCH_PAGE_VIEW_ALL_PAGES_BAR_CLICK,payload:e}),I=e=>({type:n.a.TRACK_SEARCH_PAGE_VIEW_ALL_RESOURCE_BAR_CLICK,payload:e}),T=e=>({type:n.a.TRACK_SEARCH_PAGE_PEOPLE_ALL_CONNECT_BUTTON_CLICK,payload:e}),k=e=>({type:n.a.TRACK_SEARCH_PAGE_PAGES_FOLLOW_BUTTON_CLICK,payload:e}),O=e=>({type:n.a.TRACK_SEARCH_PAGE_PEOPLE_CATEGORY_CONNECT_BUTTON_CLICK,payload:e})},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(181),i=a(509);class o extends n.Component{constructor(e){super(e),this.state={value:"",rows:1,minRows:1,maxRows:8},this.handleChange=this.handleChange.bind(this),this.displayError=this.displayError.bind(this)}displayError(){const e=this.props,t=e.meta,a=e.translate;switch(t.error){case s.a.REQUIRED:return a("required","Required");case s.a.TOO_MANY_EMAILS_ENTERED:return a("exceed-num-of-parents-invited","You have exceeded the number of parents you can connect per child.");case s.a.INVALID_EMAIL:return a("status-invite-0","Invalid email address");default:return a("required","Required")}}handleChange(e){this.props.input.onChange(e.target.value);const t=this.state,a=t.minRows,n=t.maxRows,r=e.target.rows;e.target.rows=a;const s=Math.floor(e.target.scrollHeight/24);s===r&&(e.target.rows=s),s>=n&&(e.target.rows=n,e.target.scrollTop=e.target.scrollHeight),this.setState({value:e.target.value,rows:s<n?s:n})}render(){const e=this.props.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{rows:this.state.rows,value:this.state.value,placeholder:this.props.placeHolder,className:"resizable-textarea",style:{border:"1px solid rgb(166, 166, 166)",borderRadius:"5px",resize:"none",fontSize:"14px",lineHeight:"24px",overflow:"auto",height:"auto",padding:"6px",width:"100%",color:"#6c757d"},onChange:this.handleChange}),e&&e.touched&&e.error&&r.a.createElement("small",{className:"qa-test-required-error required-error"},this.displayError()))}}t.a=Object(i.a)(o)},function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),s=a(133),i=a(134),o=a(1199),l=a(509),c=a(332),d=a(77),u=a(294),h=a(10),p=a(156),m=(a(1353),a(510)),g=a(194),f=a(1618),b=a(367),E=a(73),y=a(96),S=a(90),v=a(530),C=a(512);class A extends n.Component{constructor(e){super(e),this.pageWithInfiniteScroll=this.pageWithInfiniteScroll.bind(this),this.footerLinks=this.footerLinks.bind(this)}componentDidMount(){y.a.isAbTestAvailable(this.props.abTestPlacementInfo,S.a.EDMODO_LABS_FOOTER_LINK)||v.fetchSingleAbTestPlacementForUser(S.a.EDMODO_LABS_FOOTER_LINK)}footerLinks(){const e=c.b.length;return c.b.map((t,a)=>(!0===this.props.isSpotlightPage&&"title-tos"===t.string&&(t.href=t.spotlightHref),r.a.createElement("li",{key:t.id||a},r.a.createElement("span",{className:"note-text footer-link"},r.a.createElement(C.a,{href:t.href,className:t.className,target:"_blank"},t.string?r.a.createElement(p.default,{string:t.string,fallbackString:t.label}):t.label)),a<e-1&&r.a.createElement("span",{className:"dot-separator"},"\xb7"))))}pageWithInfiniteScroll(){switch(d.a.getUrlPathRoot()){case h.a.HOME_PAGE:case h.a.GROUP_PAGE:case h.a.SCHOOL_PAGE:case h.a.DISTRICT_PAGE:case h.a.SINGLE_TOPIC_PAGE:case h.a.SMALL_GROUP_PAGE:return!0;default:return!1}}render(){const e=this.footerLinks();let t;return t=this.props.availableTranslations&&this.props.availableTranslations.size?r.a.createElement("div",{className:"page-footer-content",dir:"ltr"},!this.pageWithInfiniteScroll()&&r.a.createElement("ul",{className:"footer-link-list-center"},r.a.createElement("li",null,r.a.createElement("span",{className:"note-text edmodo-title"},"Edmodo \xa9 ",Object(u.d)()),r.a.createElement("span",{className:"dot-separator"},"\xb7")),r.a.createElement("li",{className:"qa-test-languages-dropdown language-dd qa-test-map-languages-dropdown"},r.a.createElement(f.a,null),r.a.createElement("span",{className:"dot-separator"},"\xb7")),e),this.pageWithInfiniteScroll()&&r.a.createElement("div",null,r.a.createElement("ul",{className:"footer-link-list"},r.a.createElement("li",{className:"qa-test-languages-dropdown language-dd qa-test-map-languages-dropdown"},r.a.createElement(f.a,null),r.a.createElement("span",{className:"dot-separator"},"\xb7")),e),r.a.createElement("span",{className:"note-text edmodo-title"},"Edmodo \xa9 ",Object(u.d)()))):r.a.createElement(m.a,null),r.a.createElement("div",{className:"page-footer-container"},t)}}t.default=Object(o.a)(Object(s.connect)((function(e,t){return{availableTranslations:Object(g.d)(e),abTestPlacementInfo:b.a(e),currentUser:E.c(e)}}),(function(e){return{abTestActions:Object(i.bindActionCreators)(v,e)}}))(Object(l.a)(A)))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156),o=a(14),l=a(241),c=a.n(l),d=a(35),u=a.n(d),h=a(1558),p=a(1555);var m=({student:e,parentNames:t,geolocation:a,isConnectParentsFormDisplayed:n,setIsConnectParentsFormDisplayed:l,invitedParentsInfo:d,resetIsConnectParentsFormDisplayed:m,currentGroup:g,trackingContext:f})=>{const b=o.a.getId(e),E=r.a.createElement("ul",{className:"parent-list"},r.a.createElement("li",null,r.a.createElement(i.default,{string:"existing",fallbackString:"Existing"})),t&&t.map((e,t)=>r.a.createElement("li",{key:e+t},e))),y=r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"parent-list"},r.a.createElement("li",null,r.a.createElement(i.default,{string:"sent-invites-to",fallbackString:"Sent invites to"})),d&&d.get(b)&&d.get(b).valueSeq().map((e,t)=>{const a=new c.a(e);return a.isValid()?r.a.createElement("li",{key:e+t},a.getNumber("international")):r.a.createElement("li",{key:e+t},e)})),t&&0!==t.length&&r.a.createElement("br",null)),S=Object(p.a)(h.a,"ParentsForm".concat(b));return r.a.createElement(s.J,{key:o.a.getId(e),className:u()({"form-displayed":n&&n[b]})},r.a.createElement("div",{className:"student-profile-container"},r.a.createElement("span",{className:"qa-test-student-profile-name student-profile-name"},o.a.getProfileName(e)),n&&!n[b]&&d.get(b)&&y,n&&!n[b]&&t.length>0&&E),n&&n[b]?r.a.createElement(S,{trackingContext:f,student:e,geolocation:a,currentGroup:g,setIsConnectParentsFormDisplayed:l,resetIsConnectParentsFormDisplayed:m}):r.a.createElement("div",{className:"parent-container"},r.a.createElement("div",null,d&&d.get(b)&&y,t&&0!==t.length&&E),r.a.createElement(s.c,{className:"connect-parent-btn",onClick:()=>l(b)},r.a.createElement(i.default,{string:"connect-parent",fallbackString:"Connect Parent"}))))},g=a(240);var f=({newStudents:e,existingStudents:t,parentsInGroupRelationships:a,geolocation:n,invitedParentsInfo:l,isConnectParentsFormDisplayed:c,setIsConnectParentsFormDisplayed:d,resetIsConnectParentsFormDisplayed:u,currentGroup:h,trackingContext:p})=>{const f=e&&e.concat(t),b=f&&f.filter(e=>o.a.isStudent(e));return r.a.createElement("div",null,r.a.createElement("div",{className:"connect-parents-list-header"},r.a.createElement("div",{className:"students-title"},r.a.createElement(i.default,{string:"students",fallbackString:"Students"}),"\xa0",r.a.createElement("span",{className:"text-secondary"},"(".concat(b&&b.length,")"))),r.a.createElement("span",{className:"parents-title"},r.a.createElement(i.default,{string:"group_invitation,parents",fallbackString:"Parents"}))),r.a.createElement(s.I,{className:"connect-parents-list-body qa-test-connectParents-list"},b&&b.map(e=>{const t=o.a.getId(e),s=g.a.getParentNamesByStudentId(a,t);return r.a.createElement(m,{key:t,trackingContext:p,student:e,parentNames:s,geolocation:n,currentGroup:h,invitedParentsInfo:l,isConnectParentsFormDisplayed:c,setIsConnectParentsFormDisplayed:d,resetIsConnectParentsFormDisplayed:u})})))},b=a(1580),E=a.n(b),y=a(379);const S=a(1271);var v=e=>{const t=e.invitedParentsInfo,a=e.toggle,n=y.d(t);return r.a.createElement("div",{className:"add-parent-success-container"},r.a.createElement(S,{src:E.a,alt:"sending parent invite",className:"sending-parent-invite-img"}),r.a.createElement("div",{className:"teacher-sending-invites-to-parents-title"},r.a.createElement(i.default,{string:"teacher-sending-invites-to-parents-title",fallbackString:"Sending %{smart_count} Invites to Connect Parents to Your Students",insertions:{smart_count:n}})),r.a.createElement("div",{className:"teacher-sending-invites-to-parents-message"},r.a.createElement(i.default,{string:"teacher-sending-invites-to-parents-message",fallbackString:"You\u2019ve invited %{smart_count} parents to connect to your students! This will help them stay updated on Class activity and let you communicate with them directly through Messages.",insertions:{smart_count:n}})),r.a.createElement(s.c,{color:"primary",onClick:a,className:"qa-test-add-parents-success-done-btn"},r.a.createElement(i.default,{string:"worksheets,tour_4_next",fallbackString:"Done"})))};t.a=({trackingContext:e,isOpen:t,toggle:a,onMaybeLaterClicked:n,newStudents:o,existingStudents:l,parentsInGroupRelationships:c,geolocation:d,invitedParentsInfo:u,isConnectParentsFormDisplayed:h,setIsConnectParentsFormDisplayed:p,resetIsConnectParentsFormDisplayed:m,handleSubmitAddParentsFinish:g,isAddParentsSuccessDisplayed:b,currentGroup:E})=>r.a.createElement(s.M,{className:"add-parents-modal",isOpen:t,toggle:a,backdrop:"static"},r.a.createElement(s.P,{toggle:a}),b?r.a.createElement(v,{toggle:a,invitedParentsInfo:u}):r.a.createElement("div",null,r.a.createElement(s.N,null,r.a.createElement("h1",{className:"connect-parents-title"},r.a.createElement(i.default,{string:"connect-parents-title",fallbackString:"Connect Parents to Your Students"})),r.a.createElement("p",{className:"connect-parents-message-1"},r.a.createElement(i.default,{string:"connect-parents-message-1",fallbackString:"When parents are more engaged, student learning outcomes improve!"})),r.a.createElement("p",{className:"connect-parents-message-2"},r.a.createElement(i.default,{string:"connect-parents-message-2",fallbackString:"With Edmodo, you can keep parents informed using automated classroom updates and direct messaging. Connect parents to your students below with an email address or phone number, and we\u2019ll send them an invitation."})),r.a.createElement(f,{trackingContext:e,newStudents:o,existingStudents:l,parentsInGroupRelationships:c,geolocation:d,invitedParentsInfo:u,isConnectParentsFormDisplayed:h,setIsConnectParentsFormDisplayed:p,resetIsConnectParentsFormDisplayed:m,currentGroup:E})),r.a.createElement(s.O,null,r.a.createElement("div",{className:"permission-send-parents-emails-messages"},r.a.createElement(i.default,{string:"permission-send-parents-emails-messages",fallbackString:"By clicking \u201cInvite\u201d, I confirm that I have permission to send these parents emails and text messages."})),r.a.createElement("div",{className:"add-parents-button-container"},r.a.createElement(s.c,{color:"white",onClick:n},r.a.createElement(i.default,{string:"maybe-later",fallbackString:"Maybe later"})),r.a.createElement(s.c,{color:"primary",disabled:u&&0===u.size,onClick:g},r.a.createElement(i.default,{string:"finish",fallbackString:"Finish"}))))))},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1199),i=a(133),o=a(364),l=a(368),c=a(199),d=a(73),u=a(156),h=a(514),p=a(77),m=a(78),g=a(510),f=a(19),b=a(1474),E=a.n(b),y=a(1217);a(1574);var S=e=>{const t=e.title,a=e.subtitle,n=e.actionsArray,s=e.footerImg,i=y.a();return r.a.createElement(o.u,{className:"container-title-actions-image"},r.a.createElement(o.db,{className:"step-header"},r.a.createElement(o.s,{className:"header-head"},r.a.createElement(E.a,{line:2,truncateText:"\u2026",text:t,title:t}))),r.a.createElement(o.db,null,r.a.createElement(o.s,{className:"header-body"},a)),r.a.createElement(o.u,{className:"section-space"},n.map((e,t)=>r.a.createElement(o.db,{key:t},r.a.createElement(o.s,null,e)))),!i&&r.a.createElement(o.db,{className:"section-space"},r.a.createElement(o.s,null,s)))},v=a(1538),C=a(1575),A=a.n(C),I=a(1576),T=a.n(I),k=a(1577),O=a.n(k);const _=a(1271);class M extends n.Component{constructor(e){super(e),this.onExploreClassClicked=this.onExploreClassClicked.bind(this),this.onAddStudentsClicked=this.onAddStudentsClicked.bind(this),this.goToMembersTabWithUserRoster=this.goToMembersTabWithUserRoster.bind(this),this.renderModalContent=this.renderModalContent.bind(this)}onExploreClassClicked(){(0,this.props.toggleCreateGroupSuccessModal)(),h.a.trackClassExploreButtonClicked(this.props)}onAddStudentsClicked(){(0,this.props.toggleCreateGroupSuccessModal)(),this.goToBulkAddPage()}goToMembersTabWithUserRoster(){const e=this.props,t=e.newGroupUrl,a=e.history,n=e.model;if(t)a.push({pathname:"".concat(this.props.newGroupUrl),state:{addstudents:!0,goToMembersTab:!0}});else{const e=f.a.getGroupId(n),t=f.a.getGroupTitle(n),r=p.a.makeGroupPageUrl(t,e);a.push({pathname:"".concat(r),state:{addstudents:!0,goToMembersTab:!0}})}}goToBulkAddPage(){const e=m.a.getGroupTitle(this.props.currentGroup);this.props.history.push(p.a.makeAddPageUrlFromTitleAndId(e,this.props.currentGroupId))}renderModalContent(){let e=m.a.getGroupTitle(this.props.currentGroup);!e&&this.props.model&&(e=f.a.getGroupTitle(this.props.model));const t=r.a.createElement(u.default,{string:"create-class-success-modal-title",fallbackString:"Welcome to %{classTitle}! What's next?",insertions:{classTitle:e}}),a=r.a.createElement(u.default,{string:"create-class-success-modal-subtitle",fallbackString:"We recommend adding students now so they can start participating in your Class."}),n=r.a.createElement(u.default,{string:"add-students",fallbackString:"Add Students"}),s=r.a.createElement(u.default,{string:"create-accounts-for-your-students",fallbackString:"Create accounts for your students or invite them to join your class."}),i=r.a.createElement(v.a,{className:"add-students-btn qa-test-add-students-btn",handleClick:this.onAddStudentsClicked,title:n,desc:s,img:r.a.createElement("img",{src:T.a,alt:""})}),o=r.a.createElement(u.default,{string:"explore-class",fallbackString:"Explore Class"}),l=r.a.createElement(u.default,{string:"check-out-class-features",fallbackString:"Check out class features before adding your students."}),c=r.a.createElement(v.a,{className:"qa-test-explore-class-btn",handleClick:this.onExploreClassClicked,title:o,desc:l,img:r.a.createElement("img",{src:A.a,alt:""})}),d=r.a.createElement(_,{className:"footer-img",src:O.a,alt:""});return r.a.createElement(S,{title:t,subtitle:a,actionsArray:[i,c],footerImg:d})}render(){const e=this.props,t=e.isCreateGroupSuccessModalOpen,a=e.toggleCreateGroupSuccessModal,s=e.newGroupUrl,i=e.model;let l=r.a.createElement(g.a,null);return(s||i)&&(l=r.a.createElement(n.Fragment,null,r.a.createElement(o.P,{toggle:a}),r.a.createElement("div",{className:"create-group-success-modal-body qa-test-create-group-success-modal-body"},this.renderModalContent()))),r.a.createElement(o.M,{isOpen:t,toggle:a,className:"create-group-success-modal-container"},l)}}t.a=Object(s.a)(Object(i.connect)((function(e){return{currentUser:d.c(e),currentGroupId:c.s(e),currentGroup:c.r(e),newGroupUrl:l.j(e)}}),null)(M))},function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"batchFetchUsersWithEmailsSuccess",(function(){return E})),a.d(n,"batchFetchUsersWithEmails",(function(){return y}));var r=a(4),s=a.n(r),i=a(133),o=a(364),l=a(134),c=a(1254),d=a(156),u=a(14),h=a(541),p=a(239),m=a(36),g=a(45),f=a(18),b=a(13);const E=e=>({type:h.a.BATCH_FETCH_USERS_WITH_EMAILS_SUCCESS,payload:e}),y=(e,t,a)=>function(n,r){const s=[];e&&Object.entries(e).forEach(([e,a])=>{a&&s.push({method:"GET",url:"".concat(f.a.USERS,"/?").concat(b.a.QUERY_FULL_EMAIL_ONLY,"=true&").concat(b.a.QUERY,"=").concat(encodeURIComponent(e),"&").concat(b.a.SCHOOL_ID,"=").concat(t)})});const i=[];for(;s.length>0;)i.push(p.a({requests:s.splice(0,a)}));const o=[];return Promise.all(i).then(e=>{Object(g.a)("batch create response - fetch users with emails",e),e.forEach(e=>{e.data.responses.forEach(e=>{200===e.status&&JSON.parse(e.body)[0]&&o.push(JSON.parse(e.body)[0])})}),n(E(o))}).catch(e=>{e&&e.response&&404===e.response.status?Object(g.a)(e):m.a.notifyBugsnag(e,"UserRosterActionCreator.batchFetchUsersWithEmails")})};var S=a(1277),v=a(1325),C=a(34),A=a(510),I=a(1203),T=a.n(I),k=a(1204);class O extends r.Component{constructor(e){super(e),this.state={loading:!1}}componentDidMount(){if(u.a.isVerifiedTeacher(this.props.currentUser)){const e=this.props,t=e.emailHash,a=e.currentUser,n=u.a.getSchoolId(a);this.setState({loading:!0},()=>{this.props.userRosterActions.batchFetchUsersWithEmails(t,n,10).then(()=>{this.setState({loading:!1})}).catch(e=>{m.a.notifyBugsnag(e,"UserRosterActionCreator.batchFetchUsersWithEmails")})})}}render(){const e=this.props,t=e.studentsCreatedCount,a=e.studentsInvitedCount,n=e.onDownloadPdfClick,r=e.currentUser,i=e.fetchedUsersWithEmails,l=e.onCancelClick,h=e.groupInvitationActions,p=e.toggleAddStudentsModal,m=e.toggleAddParentsModal,g=e.onContinueWithoutDownloadClick,f=this.state.loading;let b,E,y,S;i&&(E=i.filter(e=>(e&&e.get(C.a.SCHOOL)&&e.getIn([C.a.SCHOOL,C.a.ID]))===u.a.getSchoolId(r)));const v=s.a.createElement(d.default,{string:"you-added-students",fallbackString:"You Have Added %{smart_count} Students",insertions:{smart_count:t+a}}),I=E&&E.size||0,O=a-I;return 0===t?y=u.a.isVerifiedTeacher(r)&&I?s.a.createElement(o.c,{color:"primary",className:"got-it-btn qa-test-got-it-btn",onClick:()=>{p(),m(),this.props.groupInvitationActions.groupInvitationsCreatedCleanResult({})}},s.a.createElement(d.default,{string:"continue",fallbackString:"Continue"})):s.a.createElement(o.c,{color:"primary",className:"got-it-btn qa-test-got-it-btn",onClick:()=>{l(),h.groupInvitationsCreatedCleanResult({})}},s.a.createElement(d.default,{string:"post_stream,got_it",fallbackString:"Got It"})):(y=s.a.createElement("div",null,s.a.createElement(o.c,{color:"primary",className:"download-and-continue-btn qa-test-download-and-continue-btn",onClick:n},s.a.createElement(d.default,{string:"download-and-continue",fallbackString:"Download And Continue"}))),S=s.a.createElement("div",null,s.a.createElement(o.c,{color:"light",className:"download-login-info-btn qa-test-download-login-info-btn",onClick:g},s.a.createElement(d.default,{string:"continue-without-download",fallbackString:"Continue Without Downloading"})))),b=u.a.isVerifiedTeacher(r)?s.a.createElement("div",null,0!==O&&s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(d.default,{string:"students-invited-to-class-by-unverified-teacher",fallbackString:"%{smart_count} students were invited to your Class. Once they accept your invitation, they will be added to your Class.",insertions:{smart_count:O}})),s.a.createElement("br",null)),0!==t&&s.a.createElement("p",null,s.a.createElement(d.default,{string:"create-new-student-account",fallbackString:"You have created new Edmodo accounts for %{smart_count} students. Download a  printable handout with their individual login information below.",insertions:{smart_count:t}}))):s.a.createElement("div",null,0!==a&&s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(d.default,{string:"students-invited-to-class-by-unverified-teacher",fallbackString:"%{smart_count} students were invited to your Class. Once they accept your invitation, they will be added to your Class.",insertions:{smart_count:a}})),s.a.createElement("br",null)),0!==t&&s.a.createElement("p",null,s.a.createElement(d.default,{string:"create-new-student-account",fallbackString:"You have created new Edmodo accounts for %{smart_count} students. Download a  printable handout with their individual login information below.",insertions:{smart_count:t}}))),f?s.a.createElement(A.a,null):s.a.createElement("div",{className:"teacher-invite-students-success-container"},s.a.createElement(o.P,{toggle:l}),s.a.createElement("div",{className:"new-student-account-img"},s.a.createElement(c.default,null)),s.a.createElement("h1",{className:"create-student-account-success-title qa-test-create-student-account-success-title"},v),s.a.createElement("div",{className:"create-student-account-success-message qa-test-create-student-account-success-message"},b),0!==t&&s.a.createElement("div",{className:"info-container"},s.a.createElement(k.a,{name:"info-circle-icon",color:T.a.blue[50]}),s.a.createElement("p",null,s.a.createElement(d.default,{string:"pdf-download-message",fallbackString:"Please note: You can also download this document later from the Members tab. However, if you do so, the passwords for your selected students will be changed."}))),y,S)}}t.a=Object(i.connect)((function(e){return{fetchedUsersWithEmails:v.a(e)}}),(function(e){return{groupInvitationActions:Object(l.bindActionCreators)(S,e),userRosterActions:Object(l.bindActionCreators)(n,e)}}))(O)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"trackModeratedItemsBannerDisplay",(function(){return r})),a.d(t,"trackModeratedItemsBannerClick",(function(){return s})),a.d(t,"trackModeratedItemsApproveButtonClick",(function(){return i})),a.d(t,"trackModeratedItemsDenyButtonClick",(function(){return o})),a.d(t,"trackModeratedItemsBellNotificationClick",(function(){return l}));var n=a(302);const r=()=>({type:n.a.TRACK_MODERATED_ITEMS_BANNER_DISPLAY}),s=()=>({type:n.a.TRACK_MODERATED_ITEMS_BUTTON_CLICK}),i=e=>({type:n.a.TRACK_MODERATED_ITEMS_APPROVE_BUTTON_CLICK,payload:e}),o=e=>({type:n.a.TRACK_MODERATED_ITEMS_DENY_BUTTON_CLICK,payload:e}),l=e=>({type:n.a.TRACK_MODERATED_ITEMS_BELL_NOTIFICATION_CLICK,payload:e})},function(e,t,a){"use strict";t.a={GOOGLE_PROVIDER_BUTTON_TITLE:"context-providers,google",YAHOO_PROVIDER_BUTTON_TITLE:"context-providers,yahoo",GOOGLE_DRIVE_SSO_BUTTON_TITLE:"authGdocs",ONE_DRIVE_DRIVE_SSO_BUTTON_TITLE:"connect-to-office365"}},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/explore_classroom.eed848bd.svg"},function(e,t,a){e.exports=a.p+"static/media/add_students.65786000.svg"},function(e,t,a){e.exports=a.p+"static/media/balloon_mountains_background.36333b8c.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/sending_parent_invite.7cd01495.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/handsLightningBug.077c0907.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(819);t.a=({communityName:e,communityUrl:t})=>r.a.createElement("div",{className:"community-link-container"},r.a.createElement("div",{className:"community-details"},r.a.createElement(s.a,{className:"community_name body-2-text qa-test-profile-communityAnchor",to:t},e)))},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"showInfoGlobalNagBar",(function(){return w})),a.d(n,"showWarningGlobalNagBar",(function(){return P})),a.d(n,"dismissInfoGlobalNagBar",(function(){return R}));var r=a(4),s=a.n(r),i=a(364),o=a(133),l=a(819),c=a(1199),d=a(134),u=a(35),h=a.n(u),p=a(5),m=a(1207),g=a(1533),f=a(1534),b=a(1205),E=a(511),y=a(15),S=a(295),v="info",C="warning",A="barType",I="translationKey",T="translationFallback",k="ctaTranslationKey",O="ctaTranslationFallBack",_="ctaSuccessTranslationFallBack",M=a(443);const N=e=>({type:M.a.SHOW_GLOBAL_NAGBAR,payload:Object(y.a)({key:Object(S.a)()},e)}),w=e=>function(t,a){t(N(Object(y.a)({},e,{barType:v})))},P=e=>function(t,a){t(N(Object(y.a)({},e,{barType:C})))},R=()=>function(e,t){var a;e((a=v,{type:M.a.DISMISS_GLOBAL_NAGBAR,payload:{barType:a}}))};var x=a(162),L=a(73),D=a(525),F=a(14),U=a(0);var B=class{static getBarType(e){return!!U.Map.isMap(e)&&e.get(A)}static getTranslationKey(e){return!!U.Map.isMap(e)&&e.get(I)}static getTranslationFallback(e){return!!U.Map.isMap(e)&&e.get(T)}static getCtaTranslationKey(e){return!!U.Map.isMap(e)&&e.get(k)}static getCtaTranslationFallBack(e){return!!U.Map.isMap(e)&&e.get(O)}static getCtaSuccessTranslationKey(e){return!!U.Map.isMap(e)&&e.get(_)}static getCtaSuccessTranslationFallBack(e){return!!U.Map.isMap(e)&&e.get(_)}},G=a(10),j=a(509);a(1602);class z extends r.Component{constructor(e){super(e),this.state={showConfirmEmailModal:null,verificationEmailSent:null,globalMessageDisplayed:null},this.emailVerificationSuccess=this.emailVerificationSuccess.bind(this),this.handlePrimaryEmailVerification=this.handlePrimaryEmailVerification.bind(this),this.handleToggleConfirmEmailModal=this.handleToggleConfirmEmailModal.bind(this),this.handleDismissButtonClick=this.handleDismissButtonClick.bind(this)}componentDidMount(){this.isHomePage()||this.isGroupPage()||this.props.userActions.fetchCurrentUser()}componentDidUpdate(e){if(this.isHomePage()||this.isGroupPage()){const t=this.props.firstPageOfStreamLoaded&&!e.firstPageOfStreamLoaded,a=this.props.firstPageOfHomeStreamLoaded&&!e.firstPageOfHomeStreamLoaded;this.props.currentUser||!t&&!a||this.props.userActions.fetchCurrentUser()}!this.props.currentUser||this.state.globalMessageDisplayed||this.props.globalNagbarDismissed||(F.a.isTeacher(this.props.currentUser)&&!F.a.isEmailVerified(this.props.currentUser)?this.props.GlobalNagbarActions.showInfoGlobalNagBar({translationKey:"please-verify-email",translationFallback:"Please verify your email address.",ctaTranslationKey:"resend-verification",ctaTranslationFallBack:"Resend Verification Email",ctaSuccessTranslationKey:"email-verification-inbox",ctaSuccessTranslationFallBack:"Link sent, you should see it in less than 5 mins in your inbox or spam folder."}):this.props.inTakeoverMode&&this.props.GlobalNagbarActions.showWarningGlobalNagBar({translationKey:"nagbar-superuser-takeover-mode",translationFallback:"You are currently in Super User Takeover Mode."}),this.setState({globalMessageDisplayed:!0}))}handleDismissButtonClick(){this.props.GlobalNagbarActions.dismissInfoGlobalNagBar()}handleToggleConfirmEmailModal(){this.setState({showConfirmEmailModal:!this.state.showConfirmEmailModal})}handlePrimaryEmailVerification(){const e=F.a.getUserEmail(this.props.currentUser);e&&this.props.userActions.sendVerificationEmail(e,this.emailVerificationSuccess)}emailVerificationSuccess(){this.handleToggleConfirmEmailModal(),this.setState({verificationEmailSent:!0})}isHomePage(){return this.props.location.pathname.includes(G.a.HOME_PAGE)}isGroupPage(){return this.props.location.pathname.includes(G.a.GROUP_PAGE)}render(){const e=this.props.hasGlobalMessage,t=B.getBarType(this.props.GlobalNagBar),a=B.getTranslationKey(this.props.GlobalNagBar),n=B.getTranslationFallback(this.props.GlobalNagBar),r=B.getCtaTranslationKey(this.props.GlobalNagBar),i=B.getCtaTranslationFallBack(this.props.GlobalNagBar),o=B.getCtaSuccessTranslationKey(this.props.GlobalNagBar),l=B.getCtaSuccessTranslationFallBack(this.props.GlobalNagBar),c=F.a.getUserEmail(this.props.currentUser);let d="global-nagbar-message";if(!this.state.verificationEmailSent){const e="rtl"===document.body.dir?"white-icon-flipped":"white-icon";d+=" ".concat(e," send-icon")}return s.a.createElement(s.a.Fragment,null,e&&s.a.createElement("div",{className:"global-nagbar-container"},s.a.createElement("div",{className:"".concat(t," global-nagbar fixed-top")},s.a.createElement("p",{className:d},s.a.createElement(b.a,null,!this.state.verificationEmailSent&&s.a.createElement("span",{className:"nagbar-message-text"},this.props.translate(a,n)),this.state.verificationEmailSent&&s.a.createElement("span",{className:"nagbar-message-text"},this.props.translate(o,l))),r&&s.a.createElement(m.a,{hasDarkBackground:!0,underline:!0,onClick:this.handlePrimaryEmailVerification},this.props.translate(r,i))),s.a.createElement(g.a,{iconName:"x-icon",onClick:this.handleDismissButtonClick}))),this.state.showConfirmEmailModal&&s.a.createElement(f.a,{showConfirmEmailModal:this.state.showConfirmEmailModal,handleToggleConfirmEmailModal:this.handleToggleConfirmEmailModal,handlePrimaryEmailVerification:this.handlePrimaryEmailVerification,verificationEmailSent:this.state.verificationEmailSent,emailForVerification:c}))}}var q=Object(c.a)(Object(o.connect)((function(e,t){return{currentUser:L.c(e),firstPageOfHomeStreamLoaded:x.m(e,t),firstPageOfStreamLoaded:x.j(e,{streamName:x.h(e)}),hasGlobalMessage:D.c(e),GlobalNagBar:D.b(e,t),globalNagbarDismissed:D.a(e),inTakeoverMode:L.i(e)}}),(function(e){return{userActions:Object(d.bindActionCreators)(E,e),GlobalNagbarActions:Object(d.bindActionCreators)(n,e)}}))(Object(j.a)(z))),H=a(156),V=a(1223),W=a(77),Q=a(1203),Y=a.n(Q);a(1280);var K=({onSignupClick:e,onSigninClick:t})=>{const a={utmCampaign:"logged-out-pages",utmContent:W.a.getUrlPathRoot().substr(1)},n=W.a.addUTMParamsToUrl(G.a.LOGIN_PAGE,a);return s.a.createElement("div",{className:"navbar-container navbar-new"},s.a.createElement(i.T,{fixed:"top",style:{padding:"0",height:"52px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.07)"}},s.a.createElement(i.u,{className:"d-flex align-items-center justify-content-between"},s.a.createElement(l.a,{to:G.a.LANDING_PAGE},s.a.createElement(V.default,{size:17,className:"mb-1 mr-2",color:Y.a.gray[90]})),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement(l.a,{id:"qa-test-top-sign-up-button",className:"btn",to:G.a.LANDING_PAGE,style:{color:"white",backgroundColor:"#1A237E"},role:"button",onClick:()=>{e&&e()}},s.a.createElement(H.default,{string:"sign-up",fallbackString:"Sign Up"})),s.a.createElement(l.a,{id:"qa-test-top-login-button",className:"btn",to:n,style:{color:"#4f5468"},role:"button",onClick:()=>{t&&t()}},s.a.createElement(H.default,{string:"admin-signup-flow,login",fallbackString:"Login"}))))))},J=a(198),Z=a(1767);a(1603);var X=e=>{let t=e.url,a=e.children,n=e.style,r=e.className,o=e.qaSelector,l=Object(J.a)(e,["url","children","style","className","qaSelector"]);return t?s.a.createElement(i.R,Object.assign({className:h()("navbar-item",r),style:n},l),s.a.createElement(Z.a,{style:{display:"inline-flex",alignItems:"center"},to:t,activeClassName:"selected",className:h()("nav-link",o)},a)):s.a.createElement(i.R,Object.assign({className:h()("navbar-item",r,o),style:n},l),a)},$=a(1224),ee=a(1244);var te=()=>s.a.createElement(X,{url:G.a.HOME_PAGE,qaSelector:"qa-test-home-link"},s.a.createElement(ee.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"test-home-page-title",fallbackString:"Home",className:"nav-bar-label"}))),ae=a(1240);var ne=({href:e,children:t,isExact:a=!1,title:n,qaSelector:r})=>s.a.createElement(Z.a,{to:e,activeClassName:"selected",className:h()("sub-nav-item",r),exact:a,title:n},t);var re=({children:e,isPersistent:t})=>s.a.createElement("div",{className:h()("subnav",{persistent:t})},s.a.createElement(i.u,{className:"d-flex align-items-center",style:{height:"100%"}},e));var se=({isSubnavbarPersistent:e,currentUser:t,translate:a})=>{const n=F.a.isTeacher(t),r=F.a.isStudent(t);return s.a.createElement(re,{isPersistent:e},s.a.createElement(ne,{href:G.a.CLASSES_PAGE,title:a("class-management","Class Management"),qaSelector:"qa-test-classes-management-link",isExact:!0},s.a.createElement(H.default,{string:"class-management",fallbackString:"Class Management"})),n&&s.a.createElement(ne,{href:G.a.CLASSES_WHATS_DUE,title:a("whats-due","What's Due"),qaSelector:"qa-test-assignments-link"},s.a.createElement(H.default,{string:"whats-due",fallbackString:"What's Due"})),r&&s.a.createElement(ne,{href:G.a.CLASSES_PROGRESS,title:a("progress","Progress"),qaSelector:"qa-test-progress-link"},s.a.createElement(H.default,{string:"progress",fallbackString:"Progress"})),n&&s.a.createElement(b.a,null,s.a.createElement(ne,{href:G.a.CLASSES_PROGRESS,title:a("progress","Progress"),qaSelector:"qa-test-progress-link"},s.a.createElement(H.default,{string:"progress",fallbackString:"Progress"}))))};var ie=Object(o.connect)((function(e,t){return{currentUser:L.c(e)}}))(Object(j.a)(({isSubnavbarPersistent:e,translate:t,currentUser:a})=>s.a.createElement("div",{className:"nav-item-with-subnav"},s.a.createElement(X,{url:G.a.CLASSES_PAGE,qaSelector:"qa-test-classes-link",id:"top-navbar-classes-link"},s.a.createElement(ae.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"classes",fallbackString:"Classes",className:"nav-bar-label"}))),s.a.createElement(b.a,null,s.a.createElement(se,{currentUser:a,isSubnavbarPersistent:e,translate:t}))))),oe=a(1225);var le=()=>s.a.createElement(X,{url:G.a.STUDENT_PLANNER_PAGE,qaSelector:"qa-test-planner-link"},s.a.createElement(oe.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"student_planner_title",fallbackString:"Planner",className:"nav-bar-label"}))),ce=a(1239);var de=()=>s.a.createElement(X,{url:G.a.DISCOVER_PAGE,qaSelector:"qa-test-discover-link"},s.a.createElement(ce.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"discover",fallbackString:"Discover",className:"nav-bar-label"}))),ue=a(1219);var he=()=>s.a.createElement(X,{url:G.a.LIBRARY_PAGE,qaSelector:"qa-test-library-link"},s.a.createElement(ue.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"added_by_me",fallbackString:"Library",className:"nav-bar-label"}))),pe=a(1230);var me=({unreadMessageCount:e})=>{let t=null;return e>0&&e<10?t=s.a.createElement(i.b,{color:"danger",pill:!0,className:"text-white"},e):e>=10&&(t=s.a.createElement(i.b,{color:"danger",pill:!0},"\u2022")),s.a.createElement("div",{className:"message-counter"},t)};var ge=({unreadMessageCount:e})=>s.a.createElement(X,{url:G.a.MESSAGES_PAGE,style:{position:"relative"},qaSelector:"qa-test-messaging-link"},parseInt(e,10)>0&&s.a.createElement(me,{unreadMessageCount:e}),s.a.createElement(pe.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"messages",fallbackString:"Messages",className:"nav-bar-label"}))),fe=a(1220);var be=()=>s.a.createElement(X,{url:G.a.LIBRARY_PAGE,qaSelector:"qa-test-backpack-link"},s.a.createElement(fe.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"backpack",fallbackString:"Backpack",className:"nav-bar-label"}))),Ee=a(438),ye=a(240),Se=a(444),ve=a(157);var Ce=({parentRelationships:e,parentAssociations:t})=>{const a=Ee.a.getFirstStudentForParent(e);let n=0,r=0;if(a){const e=a.get("relationship"),t=ye.a.getStudentMember(e);n=F.a.getId(t)}else{const e=Se.a.getFirstAssociationForParent(t);e&&Se.a.getEntityType(e)===ve.a.GROUP&&(r=Se.a.getEntityId(e))}const i=W.a.makeParentPlannerPageUrl(n,r);return s.a.createElement(X,{url:i,id:"whats-due-link",qaSelector:"qa-test-assignments-link"},s.a.createElement(oe.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"whats-due",fallbackString:"What's Due",className:"nav-bar-label"})))},Ae=a(1226);var Ie=({pageUrl:e})=>s.a.createElement(X,{url:e,qaSelector:"qa-test-my-page-link ".concat(h()({selected:W.a.getUrlPathname().includes("/pages/")}))},s.a.createElement(Ae.default,null),s.a.createElement(b.d,null,s.a.createElement(H.default,{string:"my-page",fallbackString:"My Page",className:"nav-bar-label"}))),Te=a(327);var ke=({unreadNotificationsCount:e,style:t})=>{let a=null;return a=e>0&&e<10?s.a.createElement(i.b,{pill:!0,style:{borderRadius:"8rem"},color:"danger",className:"text-white"},e):e>=10?s.a.createElement(i.b,{pill:!0,style:{borderRadius:"8rem"},color:"danger"},"\u2022"):null,s.a.createElement("div",{className:"bell-notification-counter",style:t},a)};var Oe=({unreadMessageCount:e,currentUser:t,abTestInfo:a,isSubnavbarPersistent:n,unreadNotificationsCount:r,parentRelationships:o,parentAssociations:l,location:c})=>{const d=F.a.isStudent(t),u=F.a.isTeacher(t),h=F.a.isParent(t),p=F.a.isPublisher(t),m=Te.a.userInDiscoverPageTestOrHardwired(t,a);return s.a.createElement(i.Q,{style:{height:"100%",width:"100%"},className:"d-flex justify-content-around"},s.a.createElement(te,null),(u||d)&&s.a.createElement(ie,{isSubnavbarPersistent:n,location:c}),d&&s.a.createElement(le,null),h&&s.a.createElement(Ce,{parentRelationships:o,parentAssociations:l}),d&&s.a.createElement(be,null),m&&s.a.createElement(de,null),u&&s.a.createElement(he,null),(u||d||h)&&s.a.createElement(ge,{unreadMessageCount:e}),p&&s.a.createElement(Ie,{pageUrl:W.a.makeEdmodoPageURL(F.a.getId(t))}),s.a.createElement(b.f,null,(u||d)&&s.a.createElement(X,{url:G.a.NOTIFICATIONS_PAGE,style:{position:"relative"}},s.a.createElement($.default,null),s.a.createElement(ke,{unreadNotificationsCount:r,style:{position:"absolute",top:"7px",right:"-3px"}}))))},_e=a(144),Me=a.n(_e),Ne=a(1552);class we extends r.Component{constructor(e,t){super(e,t),this.state={query:""},this.onKeyChange=this.onKeyChange.bind(this),this.onSearchClick=this.onSearchClick.bind(this)}componentDidMount(){Ne.a.isUserOnSearchPage(this.props.history)&&this.setState({query:Ne.a.getQuery(this.props.history.location)})}onSearchClick(){if(this.state.query&&this.state.query.length>0){const e=Me.a.stringify({query:this.state.query});this.props.history.push("".concat(G.a.SEARCH_PAGE,"?").concat(e),{query:this.state.query})}}onKeyChange(e){this.setState({query:e.target.value}),13===e.keyCode&&this.onSearchClick()}render(){return s.a.createElement(i.E,{style:{borderRadius:"6px",backgroundColor:"#F7F7F7",width:"calc(100% - 60px)"},className:"qa-test-search-bar search-bar"},s.a.createElement("div",{className:"search-input-container",style:{top:"0px",position:"relative"}},s.a.createElement(i.D,{placeholder:this.props.translate("admin_pages,search","Search"),className:"search-input qa-test-search-input",onKeyUp:this.onKeyChange,style:{backgroundColor:"#F7F7F7",color:"#7F7F7F",height:"36px"},defaultValue:this.state.query}),s.a.createElement(i.c,{className:"search-btn qa-test-search-bar",style:{border:"none",background:"none",paddingRight:"4px",paddingLeft:"4px"},onClick:this.onSearchClick},s.a.createElement("i",{className:"ico-search-",style:{color:"#7F7F7F",fontSize:"24px"}}))))}}var Pe=we;var Re=({unreadNotificationsCount:e,toggleBellNotification:t})=>s.a.createElement(X,{style:{position:"relative",cursor:"pointer",margin:"0 12px"},id:"bell-notification-icon-id",onClick:t,qaSelector:"qa-test-notifications-link"},s.a.createElement("div",{style:{width:"36px",height:"36px",backgroundColor:"#F7F7F7",borderRadius:"18px"},className:"d-flex align-items-center"},s.a.createElement($.default,{style:{display:"block",margin:"auto"}})),parseInt(e,10)>0&&s.a.createElement(ke,{unreadNotificationsCount:e,style:{position:"absolute",top:"-5px",right:"-8px"}})),xe="profile",Le="settings",De="logout",Fe="help",Ue="super_user",Be="ambassador_user",Ge="admin",je="subitem-button",ze="bell-notification-icon-id",qe="activities-moderation",He=a(57),Ve=a(1599),We=a(145);a(1334);class Qe extends r.Component{constructor(e){super(e),this.handleSeeAllButtonClick=this.handleSeeAllButtonClick.bind(this)}static translationFiles(){return["bell_notification"]}handleSeeAllButtonClick(e,t){e.preventDefault(),t.push(G.a.NOTIFICATIONS_PAGE)}render(){const e=this.props,t=e.bellNotificationOpen,a=e.toggleBellNotification,n=e.history;return s.a.createElement(i.Z,{placement:"top-end",isOpen:t,target:ze,toggle:a,className:"bell-notification-popover ".concat("visible"),hideArrow:!0},s.a.createElement(i.bb,null,s.a.createElement("div",{className:"d-flex justify-content-between align-items-center bell-notifications-header"},s.a.createElement("div",{style:{padding:"0",textTransform:"uppercase",fontSize:"11px",color:"#B2B2B2",fontWeight:"500"}},s.a.createElement(H.default,{string:He.a.BELL_NOTIFICATION_POPOVER_TITLE})),s.a.createElement("div",{className:"bell-notification-header-title",style:{padding:"0"}},s.a.createElement(i.c,{onClick:e=>this.handleSeeAllButtonClick(e,n),color:"link",style:{fontSize:"12px",fontWeight:"500",color:"#0055FF"}},s.a.createElement(H.default,{string:He.a.SEE_ALL}))))),s.a.createElement(i.ab,{className:"bell-notification-listing-container"},s.a.createElement(Ve.a,{bellNotificationOpen:!0,trackingContext:We.a.NAVBAR_CONTEXT,toggleBellNotification:a})))}}var Ye=Object(j.a)(Qe),Ke=a(370),Je=a(1211),Ze=a(146),Xe=a(1260),$e=a(1241),et=a(1250),tt=a(1243),at=a(1261),nt=a(1242),rt=a(1245),st=a(1262),it=a(1258),ot=a(1227),lt=a(1591),ct="//a.edim.co/images_v2/office/officelauncher-word.png",dt="//a.edim.co/images_v2/office/officelauncher-powerpoint.png",ut="//a.edim.co/images_v2/office/officelauncher-excel.png",ht="#2e5a99",pt="#ce472d",mt="#257247",gt="sso,instructions_text",ft="sso,other_office_apps",bt="connect-with-onedrive-office365",Et="sso,word_online",yt="sso,ppt_online",St="sso,excel_online",vt=a(45),Ct=a(1326);a(1606);class At extends r.Component{constructor(e){super(e),this.handleCreateFromMS=this.handleCreateFromMS.bind(this),this.state={appsList:[{title:Et,fallbackString:"Word Online",backgroundImage:ct,backgroundColor:ht,onClick:()=>{Object(vt.a)("renderOfficeLaunchers: Word Online"),this.handleCreateFromMS(".docx")}},{title:yt,fallbackString:"PowerPoint Online",backgroundImage:dt,backgroundColor:pt,onClick:()=>{Object(vt.a)("renderOfficeLaunchers: PowerPoint Online"),this.handleCreateFromMS(".pptx")}},{title:St,fallbackString:"Excel Online",backgroundImage:ut,backgroundColor:mt,onClick:()=>{Object(vt.a)("renderOfficeLaunchers: Excel Online"),this.handleCreateFromMS(".xlsx")}}]}}handleCreateFromMS(e){const t=(new Date).getTime(),a=window.open("","_blank",t);Ct.a(e,this.props.accessToken,this.props.libraryActions,this.props.currentFolderId,this.props.history,a)}renderOfficeLaunchers(){return this.state.appsList.map((e,t)=>s.a.createElement("div",{className:"app-launcher-container",key:t,onClick:e.onClick,style:{backgroundColor:e.backgroundColor}},s.a.createElement("div",{className:"app-launcher-image",style:{backgroundImage:"url(".concat(e.backgroundImage,")")}}),s.a.createElement("div",{className:"app-launcher-name"},s.a.createElement(H.default,{string:e.title,fallbackString:e.fallbackString}))))}render(){const e=this.props,t=e.isOpen,a=e.toggle;return s.a.createElement(i.M,{className:"microsoft-office-launch-modal",isOpen:t,toggle:a,backdrop:!0},s.a.createElement(i.N,{className:"microsoft-office-launch-modal-body"},s.a.createElement("div",{className:"molm-title-images-container"},s.a.createElement("div",{className:"molm-title-images"})),s.a.createElement("div",{className:"molm-title-text"},s.a.createElement(H.default,{fallbackString:"Whichever file you choose to create, it's automatically saved to your Library, where you can view",string:gt})),s.a.createElement("div",{className:"molm-application-launchers"},this.renderOfficeLaunchers()),s.a.createElement("div",{className:"molm-office-365-jumbotron-title"},s.a.createElement(H.default,{fallbackString:"For more Office apps connect below",string:ft})),s.a.createElement("div",{className:"molm-office-365-jumbotron"},s.a.createElement("div",{className:"molm-office-365-jumbotron-icons"}),s.a.createElement("div",{className:"molm-office-365-jumbotron-text"},s.a.createElement(H.default,{fallbackString:"Get access to OneDrive, OneNote, Sway, and more with Office 365",string:bt})),s.a.createElement(lt.a,{btnClass:"molm-office-365-jumbotron-button"}))))}}var It=At,Tt=a(274),kt=a(1204);var Ot=({currentUser:e,authActions:t,history:a,toggleTranslatorMode:n,translatorModeOn:r,libraryActions:i,accessToken:o,microsoftModalOpen:l,toggleMicrosoftModal:c})=>{const d=F.a.isTeacher(e),u=F.a.isStudent(e),h=F.a.isSuperUser(e),p=F.a.isSchoolAdmin(e),m=F.a.isDistrictAdmin(e),g=F.a.isAmbassador(e),f=F.a.isTranslator(e)&&"en"!==F.a.getLocale(e),b=W.a.makeProfilePageUrl(e),E={marginLeft:"4px",marginRight:"4px"},y={borderWidth:"1px",margin:"0.5rem 0"};return s.a.createElement(s.a.Fragment,null,(d||u)&&s.a.createElement(Ke.c,{href:W.a.makeProfilePageUrlLoggedInUser(e),qaSelector:"qa-test-NavDropdownMenu-profile"},s.a.createElement(Xe.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"admin_pages,profile",fallbackString:"Profile"})),d&&s.a.createElement(Ke.c,{href:"".concat(G.a.REFERRALS_PAGE,"?utm_source=").concat(Tt.a.ACCOUNT_NAV_DROPDOWN),qaSelector:"qa-test-NavDropdownMenu-referrals"},s.a.createElement(ot.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"invite-teachers-burger-menu-non-us",fallbackString:"Invite Teachers!"})),d&&s.a.createElement(Ke.c,{href:"".concat(b,"connections"),qaSelector:"qa-test-NavDropdownMenu-my_connections"},s.a.createElement(tt.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"group_invitation,connections",fallbackString:"Connections"})),d&&s.a.createElement(Ke.c,{href:G.a.MANAGE_GROUPS_PAGE,qaSelector:"qa-test-NavDropdownMenu-groups"},s.a.createElement(it.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"intro-tour-teacher,groups-title",fallbackString:"Groups"})),d&&s.a.createElement(Ke.c,{href:G.a.COMMUNITIES,qaSelector:"qa-test-NavDropdownMenu-pages"},s.a.createElement(Ae.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"pages",fallbackString:"Pages"})),(d||u)&&s.a.createElement("hr",{style:y}),(d||u)&&s.a.createElement(Ke.c,{qaSelector:"qa-test-NavDropdownMenu-office",onClick:c},s.a.createElement("div",{className:"microsoft-office-launch-icon"}),s.a.createElement(H.default,{style:E,string:"microsoft-office",fallbackString:"Microsoft Office"}),s.a.createElement(It,{isOpen:l,toggle:c,accessToken:o,libraryActions:i})),(d||u)&&s.a.createElement("hr",{style:y}),s.a.createElement(Ke.c,{href:G.a.SETTINGS_PAGE,qaSelector:"qa-test-NavDropdownMenu-settings"},s.a.createElement($e.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"settings-index-title",fallbackString:"Settings"})),s.a.createElement(Ke.c,{href:G.a.HELP_PAGE,qaSelector:"qa-test-NavDropdownMenu-help",target:"_blank"},s.a.createElement(et.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"search,facets,help_center_article",fallbackString:"Help Center"})),s.a.createElement(Ke.c,{onSelect:()=>t.logoutUser(a),qaSelector:"qa-test-NavDropdownMenu-logout"},s.a.createElement(at.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"global,logout",fallbackString:"Logout"})),(h||p||m||g||f)&&s.a.createElement("hr",{style:y}),h&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ke.c,{href:Ze.a.makeUrl(G.a.LEGACY_SUPER_USER_PAGE),qaSelector:"qa-test-NavDropdownMenu-super_user"},s.a.createElement(nt.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"header,switch_super_user",fallbackString:"Switch to Super User"})),s.a.createElement(Ke.c,{href:G.a.SUPER_USER_PAGE,qaSelector:"qa-test-NavDropdownMenu-super_user"},s.a.createElement(nt.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"switch_super_user_2",fallbackString:"Switch to Super User 2.0"}))),p&&s.a.createElement(Ke.c,{href:W.a.makeAdminPageUrl(),qaSelector:"qa-test-NavDropdownMenu-admin"},s.a.createElement(rt.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"header,switch_school_admin",fallbackString:"Switch to School Admin"})),m&&s.a.createElement(Ke.c,{href:W.a.makeAdminPageUrl(),qaSelector:"qa-test-NavDropdownMenu-district-admin"},s.a.createElement(rt.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"header,switch_district_admin",fallbackString:"Switch to District Admin"})),g&&s.a.createElement(Ke.c,{href:G.a.AMBASSADOR_REDIRECT_URL,qaSelector:"qa-test-NavDropdownMenu-ambassador"},s.a.createElement(st.default,{color:Y.a.gray[30]}),s.a.createElement(H.default,{style:E,string:"teacher-leader-hub",fallbackString:"Teacher Leader Hub"})),f&&s.a.createElement(Ke.c,{qaSelector:"qa-test-NavDropdownMenu-translator",onClick:n},s.a.createElement(kt.a,{name:"globe-icon",color:Y.a.gray[40]}),r?s.a.createElement(H.default,{style:E,string:"stop-translating",fallback:"Stop Translating"}):s.a.createElement(H.default,{style:E,string:"translate",fallback:"Translate"})),r&&s.a.createElement(Ke.c,{qaSelector:"qa-test-NavDropdownMenu-gotoLandingPage",onClick:()=>a.push(G.a.VIEW_LANDING_PAGE)},s.a.createElement(kt.a,{name:"globe-icon",color:Y.a.gray[40]}),s.a.createElement(H.default,{style:E,string:"translate-landing-page",fallback:"Translate Landing Page"})))},_t=a(1559),Mt=a(193);a(1608);var Nt=({currentUser:e,authActions:t,history:a,abTestInfo:n,isOptOutUser:r,toggleTranslatorMode:i,translatorModeOn:o,libraryActions:l,accessToken:c,microsoftModalOpen:d,toggleMicrosoftModal:u,officeRef:h})=>e?s.a.createElement("div",{className:"account-navbar-item"},s.a.createElement(Ke.a,{align:"end",hideArrow:!0},s.a.createElement("div",{className:"qa-test-logged-in-user-navLink",id:"logged-in-user-link-web",style:{cursor:"pointer"}},s.a.createElement(Je.a,{user:e,size:"36",qaSelector:"qa-test-navbar-account-avatar"})),s.a.createElement("div",{className:"office-ref-div",id:"logged-in-user-link-web",ref:h}),s.a.createElement(Ke.b,null,s.a.createElement(Ot,{currentUser:e,authActions:t,history:a,abTestInfo:n,isOptOutUser:r,toggleTranslatorMode:i,translatorModeOn:o,libraryActions:l,accessToken:c,microsoftModalOpen:d,toggleMicrosoftModal:u}))),h&&h.current&&s.a.createElement(_t.a,{className:"navbar-blues-clues",identifier:Mt.a.Ids.MICROSOFT_OFFICE_LAUNCH,target:h,placement:"bottom-end"},s.a.createElement(H.default,{string:"microsoft-office-can-be-accessed",fallback:"Microsoft Office can be accessed from here now"}))):null,wt=a(1331),Pt=a(1592),Rt=a(1588),xt=a(203),Lt=a(512);var Dt=a(174),Ft=a(86),Ut=a(182);var Bt=({currentUser:e,abTestInfo:t,authActions:a,history:n,currentUserProfile:r,toggle:i,toggleMicrosoftModal:o,microsoftModalOpen:l,libraryActions:c,accessToken:d})=>{const u=F.a.isTeacher(e),h=F.a.isStudent(e),p=F.a.isSuperUser(e),m=F.a.isSchoolAdmin(e),g=F.a.isDistrictAdmin(e),f=F.a.isAmbassador(e),b=Dt.a.getSchool(r),E=Ft.a.getName(b),y=Ft.a.getCommunityName(b),S=W.a.makeSchoolPageUrl(y,"burger_menu"),v=Dt.a.getDistrict(r),C=Ut.a.getDistrictName(v),A=Ut.a.getCommunityName(v),I=W.a.makeDistrictPageUrl(A,"burger_menu"),T=W.a.makeProfilePageUrl(e),k=s.a.createElement(s.a.Fragment,null,E&&s.a.createElement(wt.b,{toggle:i,href:S,qaSelector:"qa-test-school-community-link"},s.a.createElement("span",null,E)),C&&s.a.createElement(wt.b,{toggle:i,href:I,qaSelector:"qa-test-district-community-link"},s.a.createElement("span",null,C))),O={borderWidth:"1px",margin:"0.5rem 0"};return s.a.createElement(s.a.Fragment,null,s.a.createElement(wt.a,{style:{marginBottom:"60px"}},(u||h)&&s.a.createElement(wt.b,{href:W.a.makeProfilePageUrlLoggedInUser(e),qaSelector:"qa-test-NavDropdownMenu-profile",toggle:i},s.a.createElement(H.default,{string:"admin_pages,profile",fallbackString:"Profile"})),u&&s.a.createElement(wt.b,{href:"".concat(T,"connections"),qaSelector:"qa-test-NavDropdownMenu-my_plc",toggle:i},s.a.createElement(H.default,{string:"group_invitation,connections",fallbackString:"Connections"})),u&&s.a.createElement(wt.b,{href:G.a.MANAGE_GROUPS_PAGE,qaSelector:"qa-test-NavDropdownMenu-groups",toggle:i},s.a.createElement(H.default,{string:"intro-tour-teacher,groups-title",fallbackString:"Groups"})),u&&s.a.createElement(wt.b,{href:G.a.COMMUNITIES,qaSelector:"qa-test-NavDropdownMenu-pages",toggle:i},s.a.createElement(H.default,{string:"pages",fallbackString:"Pages"})),(u||h)&&s.a.createElement("hr",{style:O}),(u||h)&&s.a.createElement(wt.b,{className:"nav-dropdown-microsoft-office",onClick:o,qaSelector:"qa-test-NavDropdownMenu-microsoft-office",toggle:i},s.a.createElement("div",{className:"microsoft-office-launch-icon"}),s.a.createElement(It,{isOpen:l,toggle:o,accessToken:d,libraryActions:c}),s.a.createElement(H.default,{string:"left_column, microsoft-office",fallbackString:"Microsoft Office"})),(u||h)&&s.a.createElement("hr",{style:O}),k,s.a.createElement(wt.b,{href:G.a.SETTINGS_PAGE,qaSelector:"qa-test-NavDropdownMenu-settings",toggle:i},s.a.createElement(H.default,{string:"settings-index-title",fallbackString:"Settings"})),s.a.createElement(wt.b,{href:G.a.HELP_PAGE,qaSelector:"qa-test-NavDropdownMenu-help",openInNewTab:!0,toggle:i},s.a.createElement(H.default,{string:"search,facets,help_center_article",fallbackString:"Help Center"})),s.a.createElement(wt.b,{onClick:()=>a.logoutUser(n),qaSelector:"qa-test-NavDropdownMenu-logout"},s.a.createElement(H.default,{string:"global,logout",fallbackString:"Logout"})),(p||m||g||f)&&s.a.createElement("hr",{style:O}),p&&s.a.createElement(s.a.Fragment,null,s.a.createElement(wt.b,{href:Ze.a.makeUrl(G.a.LEGACY_SUPER_USER_PAGE),qaSelector:"qa-test-NavDropdownMenu-super_user",toggle:i},s.a.createElement(H.default,{string:"switch_super_user",fallbackString:"Switch to Super User"})),s.a.createElement(wt.b,{href:G.a.SUPER_USER_PAGE,qaSelector:"qa-test-NavDropdownMenu-super_user",toggle:i},s.a.createElement(H.default,{string:"switch_super_user_2",fallbackString:"Switch to Super User 2.0"}))),m&&s.a.createElement(wt.b,{href:W.a.makeAdminPageUrl(e,t),qaSelector:"qa-test-NavDropdownMenu-admin",toggle:i},s.a.createElement(H.default,{string:"header,switch_school_admin",fallbackString:"Switch to School Admin"})),g&&s.a.createElement(wt.b,{href:W.a.makeAdminPageUrl(e,t),qaSelector:"qa-test-NavDropdownMenu-district-admin",toggle:i},s.a.createElement(H.default,{string:"header,switch_district_admin",fallbackString:"Switch to District Admin"})),f&&s.a.createElement(wt.b,{href:G.a.AMBASSADOR_REDIRECT_URL,qaSelector:"qa-test-NavDropdownMenu-ambassador",toggle:i},s.a.createElement(H.default,{string:"teacher-leader-hub",fallbackString:"Teacher Leader Hub"})),u&&((e,t)=>F.a.isTeacher(e))(e)&&s.a.createElement(wt.b,{href:"".concat(G.a.REFERRALS_PAGE,"?utm_source=").concat(Tt.a.BURGER_MENU),qaSelector:"qa-test-NavDropdownMenu-referral",className:"referral",toggle:i},s.a.createElement(ot.default,{color:Y.a.indigo[90]}),s.a.createElement(H.default,{className:"referral-label",string:"invite-teachers-burger-menu-non-us",fallbackString:"Invite Teachers!"}))))};class Gt extends r.Component{render(){const e=this.props,t=e.followingTopics,a=e.currentUser,n=e.abTestInfo,r=e.toggle,o=e.toggleTopicSearchModal,l=e.currentUserProfile,c=e.authActions,d=e.history,u=e.toggleMicrosoftModal,h=e.microsoftModalOpen,p=e.libraryActions,m=e.accessToken,g=t&&t.slice(0,5).valueSeq().map(e=>{const t=xt.a.getTopicId(e),a=xt.a.getHashtagFromTopic(e),n=a.split("#")[1],i=W.a.makeHomeHashtagUrl(n);return s.a.createElement(Lt.a,{key:t,style:{color:"#333333",height:"30px",fontWeight:"400",display:"block"},href:i,onClick:r,className:"qa-test-following-topic-link"},a)}),f=g&&g.size>0&&s.a.createElement("div",{style:{borderBottom:"1px solid #F2F2F2",padding:"1rem"}},s.a.createElement("div",{style:{fontSize:"1rem",fontWeight:"400",marginBottom:"0.5rem",color:"#333333"},className:"d-flex align-items-center justify-content-between"},s.a.createElement(H.default,{string:"my-hashtags",fallbackString:"My Hashtags"}),s.a.createElement(i.c,{color:"link",onClick:o,className:"qa-test-toggle-topic-search-modal"},s.a.createElement(H.default,{string:"view-all",fallbackString:"View All",style:{fontSize:"12px",fontWeight:"500",color:"#999999",textTransform:"uppercase"}}))),g);return s.a.createElement(s.a.Fragment,null,f,s.a.createElement(Bt,{currentUser:a,abTestInfo:n,authActions:c,history:d,currentUserProfile:l,toggle:r,toggleMicrosoftModal:u,microsoftModalOpen:h,libraryActions:p,accessToken:m}))}}var jt=Gt;var zt=({currentUser:e})=>s.a.createElement("div",{className:"d-flex flex-column justify-content-center",style:{padding:"14px 16px",borderBottom:"1px solid #F2F2F2 "}},s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement(Je.a,{user:e}),s.a.createElement("div",{style:{marginLeft:"0.5rem"}},s.a.createElement("div",{style:{fontSize:"1rem",fontWeight:"700"}},F.a.getFullName(e))))),qt=a(1550);var Ht="admin_pages,profile",Vt="settings-index-title",Wt="search,facets,help_center_article",Qt="global,logout",Yt="header,activities_moderation",Kt="header,switch_super_user",Jt="header,switch_school_admin",Zt="header,switch_district_admin";var Xt=a(119);const $t=(e,t,a,n)=>{e.preventDefault(),e.currentTarget.name===De?(Xt.a.removeItem("currentParentSelectedStudentId"),t.logoutUser(a)):"_blank"===e.currentTarget.target?window.open(n):window.location=n};var ea=({currentUser:e,authActions:t,history:a,abTestInfo:n})=>{const r=(e=>{const t={type:"menuItem-divider"},a={type:je,key:xe,text:Ht,fallbackText:"Profile",imgClassName:"ico-person-",hrefValue:W.a.makeProfilePageUrlLoggedInUser(e)},n={type:je,key:Le,text:Vt,fallbackText:"Settings",imgClassName:"ico-gear-",hrefValue:G.a.SETTINGS_PAGE},r={type:je,key:De,text:Qt,fallbackText:"Logout",imgClassName:"ico-logout-",hrefValue:G.a.LOGOUT_PAGE},s={type:je,key:Fe,text:Wt,fallbackText:"Help Center",imgClassName:"ico-info-",hrefValue:G.a.HELP_PAGE,targetValue:"_blank"},i={type:je,key:qe,text:Yt,fallbackText:"Activities Moderation",imgClassName:"ico-mo-logo-",hrefValue:G.a.ACTIVITIES_MODERATION},o={type:je,key:Ue,text:Kt,fallbackText:"Switch to Super User",imgClassName:"ico-superuser",hrefValue:Ze.a.makeUrl(G.a.LEGACY_SUPER_USER_PAGE)},l={type:je,key:Ge,text:F.a.isSchoolAdmin(e)?Jt:Zt,fallbackText:F.a.isSchoolAdmin(e)?"Switch to School Admin":"Switch to District Admin",imgClassName:"ico-admin",hrefValue:W.a.makeAdminPageUrl()},c={type:je,key:Be,text:"teacher-leader-hub",fallbackText:"Teacher Leader Hub",imgClassName:"ico-ambassador",hrefValue:G.a.AMBASSADOR_REDIRECT_URL},d=[a,n,r],u=[i,t,a,n,s,r],h=[n,s,r],p=[n,s,r];return F.a.hasAdminRights(e)&&u.push(t,l),F.a.isSuperUser(e)&&u.push(t,o),F.a.isAmbassador(e)&&u.push(t,c),F.a.isStudent(e)?d:F.a.isParent(e)?p:F.a.isPublisher(e)?h:u})(e);return s.a.createElement("div",{className:"dropdown-menu"},r.map((e,n)=>"menuItem-button"===e.type?s.a.createElement("a",{href:e.hrefValue,target:e.targetValue?e.targetValue:"_self",className:"dropdown-item",key:e.key,name:e.key,onClick:n=>$t(n,t,a,e.hrefValue)},s.a.createElement("i",{className:"nav-menuItem-icon qa-test-header-navbar-dropdown-icon ".concat(e.imgClassName)}),s.a.createElement("span",{className:"nav-menuItem-label qa-test-header-navbar-dropdown-label"},s.a.createElement(H.default,{string:e.text,fallbackString:e.fallbackText}))):"menuItem-divider"===e.type?s.a.createElement("div",{className:"dropdown-divider",key:"divider-".concat(n)}):e.key===qe?s.a.createElement(l.a,{className:"dropdown-item qa-test-NavDropdownMenu-".concat(e.key),key:e.key,to:e.hrefValue||"#"},s.a.createElement("i",{className:"nav-menuItem-icon qa-test-header-navbar-dropdown-icon ".concat(e.imgClassName)}),s.a.createElement("span",{className:"nav-menuItem-label qa-test-header-navbar-dropdown-label mr-0"},s.a.createElement(H.default,{string:e.text,fallbackString:e.fallbackText}))):e.key===Le?s.a.createElement(Lt.a,{href:e.hrefValue||"#",className:"dropdown-item qa-test-NavDropdownMenu-".concat(e.key),key:e.key},s.a.createElement("i",{className:"nav-menuItem-icon qa-test-header-navbar-dropdown-icon ".concat(e.imgClassName)}),s.a.createElement("span",{className:"nav-menuItem-label qa-test-header-navbar-dropdown-label"},s.a.createElement(H.default,{string:e.text,fallbackString:e.fallbackText}))):e.key===xe||e.key===Ge?s.a.createElement(l.a,{className:"dropdown-item qa-test-NavDropdownMenu-".concat(e.key),key:e.key,to:e.hrefValue||"#"},s.a.createElement("i",{className:"nav-menuItem-icon qa-test-header-navbar-dropdown-icon ".concat(e.imgClassName)}),s.a.createElement("span",{className:"nav-menuItem-label qa-test-header-navbar-dropdown-label"},s.a.createElement(H.default,{string:e.text,fallbackString:e.fallbackText}))):s.a.createElement(i.c,{color:"link",className:"dropdown-item qa-test-NavDropdownMenu-".concat(e.key),key:e.key,name:e.key,onClick:n=>$t(n,t,a,e.hrefValue),target:e.targetValue?e.targetValue:"_self"},s.a.createElement("i",{className:"nav-menuItem-icon qa-test-header-navbar-dropdown-icon ".concat(e.imgClassName)}),s.a.createElement("span",{className:"nav-menuItem-label qa-test-header-navbar-dropdown-label"},s.a.createElement(H.default,{string:e.text,fallbackString:e.fallbackText})))))},ta=a(1586),aa=a(1236),na=a(1314);a(1612);class ra extends r.Component{renderStudentsList(){const e=this.props,t=e.parentRelationships,a=e.parentAssociations,n=e.translate,r=e.toggle;return s.a.createElement(qt.a,{fetchingAllGroups:!0,parentRelationships:t,parentAssociations:a,translate:n,hamburgerMenuHandler:r})}renderSchoolsAndDistricts(){const e=this.props.schoolsForParentUser;return e&&e.map(e=>{const t=Ft.a.getName(e),a=Ft.a.getId(e),n=Ft.a.getCommunityName(e),r=W.a.makeSchoolPageUrl(n,"home_me_card"),i=Ft.a.getDistrictName(e),o=Ft.a.getDistrictId(e),l=Ft.a.getDistrictCommunityName(e),c=W.a.makeDistrictPageUrl(l,"home_me_card");return s.a.createElement("div",{key:a},t&&s.a.createElement(ta.a,{key:a,communityName:t,communityId:a,communityUrl:r}),i&&s.a.createElement(ta.a,{key:o,communityName:i,communityId:o,communityUrl:c}))})}renderAccountCard(){const e=this.props.currentUser;return s.a.createElement("div",{className:"account-card"},s.a.createElement("h3",{className:"p-3 left-col-headers"},s.a.createElement(H.default,{string:"your-account",fallbackString:"Your account"})),s.a.createElement("div",{className:"account-profile"},s.a.createElement("img",{className:"account-avatar",src:F.a.getSmallAvatar(e),alt:""}),s.a.createElement("div",{className:"account-name"},F.a.formatName(e,!1,!0))),this.renderSchoolsAndDistricts())}renderNavMenu(){const e=this.props,t=e.currentUser,a=e.authActions,n=e.history,r=e.abTestInfo;return s.a.createElement("div",{id:"profile-nav-items",className:"clearfix"},s.a.createElement(ea,{currentUser:t,authActions:a,history:n,abTestInfo:r}))}render(){const e=this.renderStudentsList(),t=this.renderAccountCard(),a=this.renderNavMenu();return s.a.createElement("div",{className:"parents-hamburger-menu-pane"},e,t,a)}}var sa=Object(o.connect)((function(e){return{parentRelationships:aa.c(e),parentAssociations:aa.b(e),schoolsForParentUser:na.k(e)}}),null)(Object(j.a)(ra)),ia=a(528),oa=a(1283),la=a(200),ca=a(210),da=a(1278),ua=a(380),ha=a(1269),pa=a(1455),ma=a(1233),ga=a(296),fa=a(1332),ba=a(367),Ea=a(1320),ya=a(199),Sa=a(516),va=a(517),Ca=a(518),Aa=a(1217),Ia=a(89),Ta=a(7),ka=a(122),Oa=a(1310);a(1613),a(1614);class _a extends r.Component{constructor(e){super(e),this.state={microsoftOfficeLaunchModalIsOpen:!1,bellNotificationOpen:!1,isHamburgerMenuOpen:!1,isProgressPopoverOpen:!1,isTopicSearchModalOpen:!1,translatorModeOn:null!==Xt.a.getItem(ka.a.TRANSLATOR_MODE_ON)},this.toggleMicrosoftOfficeLaunchModal=this.toggleMicrosoftOfficeLaunchModal.bind(this),this.toggleBellNotification=this.toggleBellNotification.bind(this),this.toggleHamburgerMenu=this.toggleHamburgerMenu.bind(this),this.toggleProgressPopover=this.toggleProgressPopover.bind(this),this.toggleTopicSearchModal=this.toggleTopicSearchModal.bind(this),this.toggleTranslatorMode=this.toggleTranslatorMode.bind(this),this.navBarStyle={padding:"0",height:"52px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.07)"},this.officeRef=s.a.createRef()}static translationFiles(){return[Oa.a.COMMON,Oa.a.PROFILE,Oa.a.REFERRAL_PAGE,Oa.a.GROUP,Oa.a.HOME_PAGE,Oa.a.SUPER_USER,Oa.a.APPS_LAUNCH_BAR,Oa.a.SSO]}toggleHamburgerMenu(){if(this.state.isHamburgerMenuOpen)this.applyWrapperStyles(!1);else{const e=this.props,t=e.currentUser,a=e.followingTopics,n=e.topicActions;!F.a.isParent(t)&&Aa.a()&&0===a.size&&n.fetchFollowingTopicsForUser(1,5),this.applyWrapperStyles()}this.setState({isHamburgerMenuOpen:!this.state.isHamburgerMenuOpen})}toggleMicrosoftOfficeLaunchModal(){this.setState({microsoftOfficeLaunchModalIsOpen:!this.state.microsoftOfficeLaunchModalIsOpen})}applyWrapperStyles(e=!0){const t=document.querySelector("body");e?t.classList.add("hamburger-menu-open"):t.classList.remove("hamburger-menu-open")}toggleBellNotification(){this.props.history.location.pathname.match(G.a.NOTIFICATIONS_PAGE)||this.setState({bellNotificationOpen:!this.state.bellNotificationOpen})}toggleProgressPopover(){this.setState({isProgressPopoverOpen:!this.state.isProgressPopoverOpen},()=>{this.state.isProgressPopoverOpen&&this.debouncedGroupMembershipsFetch()})}toggleTopicSearchModal(){this.setState({isTopicSearchModalOpen:!this.state.isTopicSearchModalOpen})}toggleTranslatorMode(){this.props.translationActions.toggleTranslatorMode(),this.setState({translatorModeOn:!this.state.translatorModeOn})}debouncedGroupMembershipsFetch(){if(va.a(this.props.mainGroupMemberships)&&Ca.a.isNotLoading(this.props.currentGroupMembershipAjaxStatus)){const e=this.props.groupMembershipActions,t=this.state.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(Ta.a.BEGIN_MINIMAL_MEMBERSHIP_FETCH_AJAX_CALL,Ta.a.MINIMAL_COMPACT_MEMBERSHIP_LOADING_STATUS),Object(p.debounce)((function(){e.fetchMinimalCompactGroupMembershipsForCurrentUser()}),t)()}}render(){const e=this.props,t=e.currentUser,a=e.history,n=e.isOptOutUser,r=e.authActions,o=e.abTestInfo,c=e.authenticationStatus,d=e.unreadMessageCount,u=e.unreadNotificationsCount,p=e.translate,m=e.parentRelationships,g=e.followingTopics,f=e.currentUserProfile,E=e.mainGroupMemberships,y=e.isSubnavbarPersistent,S=e.location,v=e.onSignupClick,C=e.onSigninClick,A=e.parentAssociations,I=e.searchActions,T=Ca.a.isLoading(this.props.currentGroupMembershipAjaxStatus);if(c===Ia.a.LOGGED_OUT)return s.a.createElement(K,{history:a,onSignupClick:v,onSigninClick:C});const k=F.a.isParent(t),O=F.a.isTeacher(t),_=F.a.isStudent(t),M=F.a.isPublisher(t),N=O||_;return s.a.createElement("div",{className:h()({"navbar-container":!0,"navbar-new":!0,"navbar-new-with-subnav":y})},s.a.createElement(q,null),s.a.createElement(b.a,null,s.a.createElement(i.T,{fixed:"top",style:this.navBarStyle},s.a.createElement(i.u,null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement(l.a,{to:G.a.HOME_PAGE,className:"qa-test-home-icon"},s.a.createElement(V.default,{size:17,color:Y.a.gray[80],className:"mb-1 mr-2"})),s.a.createElement(Oe,{translate:p,unreadMessageCount:d,currentUser:t,abTestInfo:o,isSubnavbarPersistent:y,unreadNotificationsCount:u,parentRelationships:m,parentAssociations:A,location:S})),s.a.createElement("div",{className:"d-flex align-items-center"},N&&s.a.createElement(Pe,{history:a,searchActions:I,translate:p}),!k&&!M&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Re,{unreadNotificationsCount:u,toggleBellNotification:this.toggleBellNotification}),s.a.createElement(Ye,{bellNotificationOpen:this.state.bellNotificationOpen,toggleBellNotification:this.toggleBellNotification,currentUser:t,history:a})),s.a.createElement(Nt,{currentUser:t,abTestInfo:o,history:a,authActions:r,isOptOutUser:n,toggleTranslatorMode:this.toggleTranslatorMode,translatorModeOn:this.state.translatorModeOn,libraryActions:this.props.libraryActions,accessToken:this.props.accessToken,microsoftModalOpen:this.state.microsoftOfficeLaunchModalIsOpen,toggleMicrosoftModal:this.toggleMicrosoftOfficeLaunchModal,officeRef:this.officeRef}))))),s.a.createElement(b.f,null,s.a.createElement(i.T,{fixed:"top",style:this.navBarStyle},s.a.createElement(i.u,null,k?s.a.createElement(Pt.a,{fill:Y.a.gray[60],toggle:this.toggleHamburgerMenu,id:"hamburger-menu-item"}):s.a.createElement(Pt.a,{toggle:this.toggleHamburgerMenu},t&&s.a.createElement(Je.a,{user:t,qaSelector:"qa-test-navbar-container-avatar"})),s.a.createElement(wt.c,{toggle:this.toggleHamburgerMenu,isOpen:this.state.isHamburgerMenuOpen},s.a.createElement(zt,{currentUser:t,currentUserProfile:f,abTestInfo:o,history:a}),k?s.a.createElement(sa,{currentUser:t,abTestInfo:o,toggle:this.toggleHamburgerMenu,history:a,authActions:r}):s.a.createElement(jt,{followingTopics:g,currentUser:t,abTestInfo:o,toggle:this.toggleHamburgerMenu,toggleTopicSearchModal:this.toggleTopicSearchModal,authActions:r,history:a,currentUserProfile:f,toggleMicrosoftModal:this.toggleMicrosoftOfficeLaunchModal,microsoftModalOpen:this.state.microsoftOfficeLaunchModalIsOpen,libraryActions:this.props.libraryActions,accessToken:this.props.accessToken})),N&&s.a.createElement(Pe,{history:a,searchActions:I,translate:p,style:{height:"104px"}})),s.a.createElement(se,{currentUser:t,isSubnavbarPersistent:y,translate:p})),s.a.createElement(i.T,{fixed:"bottom",style:{padding:"0",height:"52px",backgroundColor:"white",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.07)"},className:h()({"navbar-hide":this.state.isHamburgerMenuOpen})},s.a.createElement(i.u,null,s.a.createElement(Oe,{translate:p,unreadMessageCount:d,currentUser:t,toggleProgressPopover:this.toggleProgressPopover,isProgressPopoverOpen:this.state.isProgressPopoverOpen,mainGroupMemberships:E,isLoadingGroupMemberships:T,abTestInfo:o,isSubnavbarPersistent:y,parentRelationships:m,parentAssociations:A,location:S}))),s.a.createElement(Rt.default,{topicSearchModalOpen:this.state.isTopicSearchModalOpen,toggleTopicSearchModal:this.toggleTopicSearchModal,history:a})))}}i.T.propTypes={};t.default=Object(c.a)(Object(o.connect)((function(e){return{currentUser:L.c(e),currentUserProfile:L.p(e),authenticationStatus:ga.a(e),allBellNotifications:fa.c(e),lastFetchedBellNotificationPage:fa.h(e),loadingBellNotifications:fa.e(e),endOfUnreadBellNotificationsReached:fa.d(e),unreadBellNotificationIds:fa.o(e),unreadAdminBellNotificationIds:fa.n(e),nextPageNotification:fa.b(e),accessToken:L.d(e),abTestInfo:ba.a(e),isOptOutUser:L.x(e),unreadMessageCount:L.C(e),unreadNotificationsCount:fa.m(e),hasGlobalMessage:D.c(e),followingTopics:Ea.d(e),parentAssociations:aa.b(e),mainGroupMemberships:ya.b(e),parentRelationships:aa.c(e),currentGroupMembershipAjaxStatus:Sa.c(e,Ta.a.MINIMAL_COMPACT_MEMBERSHIP_LOADING_STATUS)}}),(function(e){return{pageNavActions:Object(d.bindActionCreators)(oa,e),authActions:Object(d.bindActionCreators)(ia,e),groupMembershipActions:Object(d.bindActionCreators)(la,e),ajaxStatusActions:Object(d.bindActionCreators)(ca,e),topicActions:Object(d.bindActionCreators)(da,e),translationActions:Object(d.bindActionCreators)(ua,e),streamTrackingActions:Object(d.bindActionCreators)(ha,e),searchActions:Object(d.bindActionCreators)(pa,e),libraryActions:Object(d.bindActionCreators)(ma,e)}}))(Object(j.a)(_a)))},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"trackExploreHashtagClick",(function(){return p}));var r=a(4),s=a.n(r),i=a(134),o=a(133),l=a(0),c=a(364),d=a(1278),u=a(1487),h=a(542);const p=(e,t)=>({type:h.a.TRACK_HASHTAG_EXPLORE_HASHTAG__BTN_CLICK,payload:{context:e,visualElement:t}});var m=a(1320),g=a(162),f=a(203),b=a(156),E=a(509);var y=Object(E.a)(({handleQueryStringChange:e,translate:t,value:a,isCurrentUserInHashTagABTest:n})=>s.a.createElement("div",{className:"topic-search-input-container rounded p-2"},s.a.createElement("input",{className:"topic-search-input qa-test-topic-search-input",id:"qa-test-topic-search-input",type:"text",placeholder:n?t("search-hashtags","Search #hashtags"):t("search-topics","Search topics"),onChange:e,value:a}),s.a.createElement("span",{className:"qa-test-item-viewer-btn viewer-search-icon"}))),S=a(1207);var v=Object(E.a)(({selectedIndex:e=0,handleClick:t,translate:a,value:n})=>{const r=[{text:a("topics-tab-discover","Discover"),qaTestClassName:"qa-test-discover-tab-button"},{text:a("topics-tab-following","Following"),qaTestClassName:"qa-test-following-tab-button"}];return s.a.createElement("div",{className:"topic-tab-container"},s.a.createElement("ul",{className:"nav nav-tabs"},r.map((a,n)=>s.a.createElement("li",{key:n,className:"nav-item"},s.a.createElement(S.a,{weight:"quiet",qaSelector:"nav-link ".concat(n===e?"active":""," ").concat(a.qaTestClassName),onClick:t.bind(void 0,n)},a.text)))))}),C=a(1327),A=a.n(C),I=a(1554),T=a(1252),k=a(125),O=a(77),_=a(819);var M=Object(E.a)(e=>{const t=e.handleTopicClick,a=e.handleFollowClick,n=e.handleUnfollowClick,r=e.showPopularText,i=e.query;let o=e.topics;return i&&(o=o.filter(e=>{if(!e||!e.get(k.a.NAME))return!1;const t=e.get(k.a.NAME).toLowerCase(),a=i.toLowerCase();return t.includes(a)||a.includes(t)})),s.a.createElement("div",null,o.map(e=>{const i=f.a.getTopicId(e),o=f.a.getTopicFollowerId(e),l=f.a.getFollowersCount(e)||0,c=f.a.isFollowingTopic(e),d=f.a.getHashtagFromTopic(e),u=d.split("#")[1],h=O.a.makeHomeHashtagUrl(u);return s.a.createElement("div",{className:"qa-test-hash-tag-container hash-tag-container py-2_5",key:i},s.a.createElement("img",{className:"hashtag-icon rounded p-2 mr-2_5",alt:"",src:A.a}),s.a.createElement("div",{className:"hash-tag-info"},s.a.createElement("h3",{className:"search-results-query medium-large-font mb-1"},s.a.createElement(_.a,{to:h,className:""},s.a.createElement(S.a,{collapseLeft:!0,onClick:t,className:"overflow-prevent",qaSelector:"qa-test-topic-name"},d))),r&&s.a.createElement("p",{className:"small-font popular"},s.a.createElement(T.default,{size:"16px",className:"float-left"}),"Popular"),s.a.createElement("p",{className:"small-font secondary-body qa-test-followers-count"},s.a.createElement(b.default,{string:"topic-followers-count",fallbackString:"15,000 followers",insertions:{count:l.toLocaleString()}}))),s.a.createElement(I.a,{active:c,activateBtnText:"Follow",inactivateBtnText:"Following",activateIcon:"plus-icon",activateIconColor:"dark-indigo-icon",activateQaSelector:"qa-test-follow-topic-btn",inactivateIcon:"check-icon",inactivateIconColor:"olive-icon",inactivateQaSelector:"qa-test-following-ico",inactivateClassNames:"hash-tag following",onActivateClick:a,onInactivateClick:n,whiteHover:!0,options:{topicId:i,topicFollowerId:o}}))}))});var N=e=>t=>{class a extends r.Component{constructor(t,a){super(t,a),this.handleScroll=t=>a=>{const n=a.currentTarget,r=e&&e.infiniteScrollBottomThresholdOffset,s=this.isAtScrollThreshold(n.offsetHeight,n.scrollTop,n.scrollHeight,r);this.mounted&&this.setState({fetchMore:s&&!t&&!this.props.isEndOfStreamFetchReached})},this.state={fetchMore:!1},this.handleScroll=this.handleScroll.bind(this),this.isAtScrollThreshold=this.isAtScrollThreshold.bind(this)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}isAtScrollThreshold(e,t,a,n=200){return e+t>=a-n}render(){return s.a.createElement(t,Object.assign({},this.props,this.state,{handleScroll:this.handleScroll}))}}return Object(o.connect)((function(e,t){return{}}))(a)},w=a(1279);a(1573);class P extends r.Component{constructor(e){super(e),this.handleFollowClick=(e,t)=>{const a=t.topicId;a&&this.props.topicFollowerActions.followTopic(a,null)},this.handleUnfollowClick=(e,t)=>{const a=this.props.topicFollowerActions,n=t.topicId,r=t.topicFollowerId;n&&r&&a.unfollowTopic(n,r)},this.scrollManager=e=>t=>{this.props.handleScroll(e)(t),1===this.state.selectedTabIndex&&this.state.followingTabPristine&&(t.currentTarget.scrollTop=0,this.setState({followingTabPristine:!1}))},this.state={mode:"default",enableInfiniteScroll:!0,currentPage:null,isFetching:!1,nextPage:1,nextSearchPage:1,searchQuery:"",selectedTabIndex:0,userInPopularTopicsAndPostsAbTest:e.abTestUtil.userInPopularTopicsAndPostsEnabledVariant(e.abTestInfo),modalKey:0,followingTabPristine:!0},this.getDisplayTopics=this.getDisplayTopics.bind(this),this.handleQueryStringChange=this.handleQueryStringChange.bind(this),this.handleTopicClick=this.handleTopicClick.bind(this),this.handleTopicTabClick=this.handleTopicTabClick.bind(this),this.resetTopicSearchModal=this.resetTopicSearchModal.bind(this),this.onModalOpened=this.onModalOpened.bind(this)}static getDerivedStateFromProps(e,t){return e.topicSearchModalOpen&&0===e.allTopics.size&&!t.isFetching&&e.topicActions.fetchTopics(),null}componentDidUpdate(e){const t=this.props,a=t.topicSearchModalOpen,n=t.hashtagTrackingActions,r=t.trackingContext,s=t.trackingVisualElement;!e.firstPageOfHomeStreamLoaded&&this.props.firstPageOfHomeStreamLoaded&&this.fetchNextPageOfTopics(),a!==e.topicSearchModalOpen&&a&&r&&s&&n.trackExploreHashtagClick(r,s),e.showFollowingHashtagsTab||!this.props.showFollowingHashtagsTab||e.topicSearchModalOpen||this.handleTopicTabClick(1),this.props.allTopics!==e.allTopics&&this.setState({isFetching:!1}),this.props.fetchMore!==e.fetchMore&&this.state.enableInfiniteScroll&&this.props.fetchMore&&this.fetchNextPageOfTopics(),this.props.queryTopics!==e.queryTopics&&(this.setState({isFetching:!1}),this.props.queryTopics&&l.Map.isMap(this.props.queryTopics)&&this.props.queryTopics.size?this.setState({enableInfiniteScroll:!0,noQueryMatch:!1}):this.props.queryTopics&&l.Map.isMap(this.props.queryTopics)&&0===this.props.queryTopics.size&&""!==this.state.searchQuery?this.setState({enableInfiniteScroll:!1,noQueryMatch:!0}):this.setState({enableInfiniteScroll:!0,noQueryMatch:!1,mode:"default"}))}componentWillUnmount(){this.setState({searchQuery:""})}onModalOpened(){document.body.style.overflow="hidden"}fetchNextPageOfTopics(){const e=Object.assign({},f.a.searchModalParams(),{page:this.state.nextPage});let t={isFetching:!0};if("search"===this.state.mode){const e=Object.assign({},f.a.searchModalParams(),{page:this.state.nextSearchPage});this.props.topicActions.fetchTopicsByQuery(this.state.searchQuery,e,!0),t.nextSearchPage=this.state.nextSearchPage+1}else this.props.topicActions.fetchTopics(e),t.nextPage=this.state.nextPage+1;this.setState(t)}prepDiscoverTabTopics(){if(""===this.state.searchQuery){let a=this.props.allTopics;if(this.state.userInPopularTopicsAndPostsAbTest){const n=e=>{a=a.delete(e)};for(var e=0,t=[this.props.followingTopics,this.props.recommendedTopics];e<t.length;e++){const a=t[e];a&&l.Map.isMap(a)&&a.size&&a.keySeq().forEach(n)}}return a}return this.props.queryTopics&&l.Map.isMap(this.props.queryTopics)&&this.props.queryTopics.size?this.props.queryTopics:!this.state.noQueryMatch&&this.props.allTopics}getDisplayTopics(){return 0===this.state.selectedTabIndex?this.prepDiscoverTabTopics():this.props.followingTopics}getRecommendedNonFollowedTopics(){const e=this.props.recommendedTopics,t=this.props.followingTopics;return e&&l.Map.isMap(e)&&t&&l.Map.isMap(t)?e.filter((e,a)=>!t.has(a)):Object(l.OrderedMap)()}handleQueryStringChange(e){const t=e.target.value;this.setState({searchQuery:t,mode:"search"},()=>{if(this.state.searchQuery&&""!==this.state.searchQuery){const e=Object.assign({},f.a.searchModalParams(),{page:1});this.props.topicActions.fetchTopicsByQuery(this.state.searchQuery,e),this.setState({nextSearchPage:2})}else this.props.topicActions.clearQueryTopics()})}noMatchesMessage(e){let t;return e||(t=s.a.createElement("div",{className:"no-search-results-container"},s.a.createElement("p",{className:"header-2-text no-search-results-message"},s.a.createElement(b.default,{string:"no-results",fallbackString:"No results found"})))),t}handleTopicClick(e){this.props.toggleTopicSearchModal()}handleTopicTabClick(e){this.setState({selectedTabIndex:e})}resetTopicSearchModal(){const e=this.props.showDefaultTopicSearchModalTab;e&&e(),this.setState({searchQuery:"",selectedTabIndex:0,modalKey:this.state.modalKey+1}),document.body.style.overflow=""}render(){const e=this.getRecommendedNonFollowedTopics(),t=this.getDisplayTopics(),a=this.state.userInPopularTopicsAndPostsAbTest;return s.a.createElement(r.Fragment,{key:this.state.modalKey},s.a.createElement(c.M,{className:"topic-search-modal",isOpen:this.props.topicSearchModalOpen,toggle:this.props.toggleTopicSearchModal,onOpened:this.onModalOpened,onClosed:this.resetTopicSearchModal},s.a.createElement(c.P,{toggle:this.props.toggleTopicSearchModal},(()=>this.props.isCurrentUserInHashTagABTest?s.a.createElement(b.default,{string:"discover-hashtags-title",fallbackString:"Discover hashtags"}):s.a.createElement(b.default,{string:"discover_topics_title",fallbackString:"Discover topics"}))()),s.a.createElement(c.N,{className:"topic-search-modal-content"},a&&s.a.createElement(v,{handleClick:this.handleTopicTabClick,selectedIndex:this.state.selectedTabIndex}),(!a||0===this.state.selectedTabIndex)&&s.a.createElement(y,{isCurrentUserInHashTagABTest:this.props.isCurrentUserInHashTagABTest,handleQueryStringChange:this.handleQueryStringChange,value:this.state.searchQuery}),s.a.createElement("div",{className:"topic-search-results-container mt-2_5",onScroll:this.scrollManager(this.state.isFetching)},a&&0===this.state.selectedTabIndex&&s.a.createElement(M,{topics:e.valueSeq(),handleTopicClick:this.handleTopicClick,handleFollowClick:this.handleFollowClick,handleUnfollowClick:this.handleUnfollowClick,showPopularText:!0,query:this.state.searchQuery}),t&&s.a.createElement(M,{topics:t.valueSeq(),handleTopicClick:this.handleTopicClick,handleFollowClick:this.handleFollowClick,handleUnfollowClick:this.handleUnfollowClick})),this.noMatchesMessage(t)),s.a.createElement(c.O,{className:"border border-right-0 border-bottom-0 border-left-0"},s.a.createElement(c.c,{color:"primary",onClick:this.props.toggleTopicSearchModal,className:"qa-test-search-done"},s.a.createElement(b.default,{string:"done",fallbackString:"Done"})))))}}t.default=Object(o.connect)((function(e,t){return{allTopics:m.a(e),queryTopics:m.f(e),firstPageOfHomeStreamLoaded:g.m(e,t),followingTopics:m.d(e),recommendedTopics:m.g(e)}}),(function(e){return{topicActions:Object(i.bindActionCreators)(d,e),topicFollowerActions:Object(i.bindActionCreators)(u,e),hashtagTrackingActions:Object(i.bindActionCreators)(n,e)}}))(N({infiniteScrollBottomThresholdOffset:60})(Object(w.a)(P)))},function(e,t,a){},function(e,t,a){"use strict";var n=a(140),r=a(0),s=a(14),i=a(77),o=a(549),l=a(274);t.a=class{static getPageUrl(e,t){if(!r.Map.isMap(e))return;const a=s.a.getUsername(e),n=t?{[l.a.UTM_SOURCE]:t}:null;return i.a.makeEdmodoPageURL(a,{params:n})}static getCountiresList(e){return r.Map.isMap(e)&&e.valueSeq().map(e=>[e.name,e.id])}static getId(e){if(r.Map.isMap(e))return e.get(o.a.ID)}static getName(e){if(r.Map.isMap(e))return e.get(o.a.FIRST_NAME)}static getAbout(e){if(r.Map.isMap(e))return e.get(o.a.ABOUT)}static getLandingPageUrl(e){if(r.Map.isMap(e))return e.getIn([o.a.DATA,o.a.LANDING_PAGE_URL])}static getCategoryName(e){if(r.Map.isMap(e))return e.getIn([o.a.DATA,o.a.CATEGORY_NAME])}static getCity(e){if(r.Map.isMap(e))return e.getIn([o.a.DATA,o.a.CITY])}static getHeroImageUrl(e){if(r.Map.isMap(e))return e.getIn([o.a.DATA,o.a.HERO_IMAGE_URL])}static getLargeAvatarUrl(e){if(r.Map.isMap(e))return e.getIn([o.a.AVATARS,o.a.LARGE])}static getFollowersCount(e){if(r.Map.isMap(e))return e.getIn([o.a.DATA,o.a.MEMBER_COUNT])}static getPublisherPageRecipientPostData(e,t){if(!r.Map.isMap(e)||!r.Map.isMap(t))return;const a=this.getId(e),n={users:[{id:a}]};return a===this.getId(t)&&(n.connections=[{id:a}]),n}static isFeatureEnabled(e,t){if(!r.Map.isMap(e))return;const a=e.get(o.a.FEATURES);return!(!a||!a.find(e=>e.get(o.a.NAME)===t))}static getConnection(e){if(r.Map.isMap(e))return e.get(o.a.CONNECTION)}static isFollowing(e){if(r.Map.isMap(e))return e.get(o.a.IS_FOLLOWING)}static getTabs(e){const t=["landing","resources_tab","media_tab","custom_tab"],a=[];return e&&e.forEach(e=>{t.includes(e.get("name"))&&a.push(e)}),a}static getTabValue(e,t){let a=!1;return e&&e.forEach(e=>{e.get("name")===t&&(a=!0)}),a}static getCustomTabValues(e){const t={};return t.title=e&&e.getIn(["data","custom_tab_name"]),t.url=e&&e.getIn(["data","custom_tab_url"]),t}static getDefaultTab(e){return e.getIn(["data","default_tab"])}static getShowFeatures(e,t){let a=!1;return e&&e.forEach(e=>{e.get("name")===t&&(a=!0)}),a}static convertTabValueToName(e){switch(e){case"landing":return"HOME";case"media_tab":return"MEDIA";case"resources_tab":return"RESOURCES";case"custom_tab":return"CUSTOM";default:return}}static convertTabNameToValue(e){switch(e){case"HOME":return"landing";case"MEDIA":return"media_tab";case"RESOURCES":return"resources_tab";case"CUSTOM":return"custom_tab";default:return}}static isCustomTab(e){return-1===[void 0,"resources","media","contest"].indexOf(e)}static makeMessagesMap(e){let t=Object(r.Map)();var a,s=Object(n.a)(e);try{for(s.s();!(a=s.n()).done;){let e=a.value;t=t.set(e.get("id").toString(),Object(r.Map)({item:Object(r.fromJS)(e)}))}}catch(i){s.e(i)}finally{s.f()}return t}static enhanceMessage(e){const t=e.content&&e.content.attachments,a=t&&t.embeds;return a&&a.forEach(e=>{e.saved_to_library=!0}),e}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(15),r=a(4),s=a.n(r),i=a(1535),o=a(509),l=a(1536),c=a(1296),d=a(1572);a(1318);const u=({provider:e,providerDisplayName:t,usageContext:a,btnTheme:n,handleClick:r,btnClass:i,translate:o})=>s.a.createElement(l.a,{provider:e,providerDisplayName:o(t),usageContext:a,btnTheme:n,handleClick:r,btnClass:i}),h={provider:c.a.OFFICE_365_PROVIDER_NAME,providerDisplayName:d.a.ONE_DRIVE_DRIVE_SSO_BUTTON_TITLE,usageContext:c.a.LIBRARY_USAGE_CONTEXT,btnTheme:c.a.PRIMARY_BUTTON_THEME};t.b=Object(o.a)(Object(i.a)(h)(u));const p=Object(n.a)({},h);p.newWindow=!0;const m=Object(o.a)(Object(i.a)(p)(u))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1257),i=a(1203),o=a.n(i);t.a=e=>{const t=e.toggle,a=e.id,n=e.className;return r.a.createElement("button",{className:"menu-toggle-btn qa-test-menu-toggle-btn ".concat(n),onClick:t,style:{border:"none",background:"none"},id:a},e.children?e.children:r.a.createElement(s.default,{color:e.fill||o.a.white[0]}))}},function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return h}));var n=a(15),r=a(13),s=a(18),i=a(25);const o=e=>i.a.get("".concat(s.a.DISTRICTS,"/").concat(e)),l=e=>i.a.get("".concat(s.a.DISTRICT_BY_COMMUNITY_NAME,"/").concat(e)),c=(e,t)=>i.a.put("".concat(s.a.DISTRICTS,"/").concat(e),t),d=e=>i.a.get(s.a.USERS,{params:{[r.a.TYPE]:"district_admin",[r.a.DISTRICT_ID]:e,[r.a.STATUS]:"institution_verified",[r.a.PER_PAGE]:"10"}}),u=e=>i.a.get(s.a.DISTRICT_ADMINISTRATORS,{params:{[r.a.DISTRICT_ID]:e}}),h=(e,t)=>i.a.get(s.a.SCHOOLS,{params:Object(n.a)({[r.a.DISTRICT_ID]:e},t)})},,function(e,t,a){"use strict";a.r(t),a.d(t,"fetchSuccess",(function(){return l})),a.d(t,"fetchRequest",(function(){return c})),a.d(t,"fetchFailure",(function(){return d})),a.d(t,"dismiss",(function(){return u})),a.d(t,"fetchClue",(function(){return h})),a.d(t,"dismissClue",(function(){return p}));var n=a(18),r=a(25);var s=a(1330),i=a(193),o=a(36);const l=(e,t)=>({type:i.a.Actions.FETCH_SUCCESS,payload:{identifier:e,data:t}}),c=e=>({type:i.a.Actions.FETCH_REQUEST,payload:{identifier:e}}),d=e=>({type:i.a.Actions.FETCH_FAILURE,payload:{identifier:e}}),u=e=>({type:i.a.Actions.DISMISS,payload:{identifier:e}}),h=e=>function(t,a){const i=Object(s.b)(a(),e),u=Object(s.a)(a(),e);var h;if(!i&&!u)return t(c(e)),(h={user_blues_clue:{identifier:e}},r.a.post(n.a.USER_BLUES_CLUES,h)).then(a=>{t(l(e,a.data))}).catch(a=>{t(d(e)),o.a.notifyBugsnag(a,"BluesCluesActions.fetchRequest")})},p=e=>function(t,a){t(u(e));const i=Object(s.b)(a(),e),o=i&&i.get("id");return o&&((e,t)=>r.a.put(n.a.USER_BLUES_CLUES+"/".concat(e),t))(o,{user_blues_clue:{dismiss:"true"}})}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(295),o=a(156);t.a=e=>t=>{class a extends n.Component{constructor(t){super(t),this.toggleTooltipState=this.toggleTooltipState.bind(this);const a=e&&e.targetId?e.targetId:t.tooltipTargetId;this.state={tooltipOpen:!1,targetId:a||"target-".concat(Object(i.a)(6)),message:e&&e.message?e.message:t.tooltipMessage,messageFallback:e&&e.messageFallback?e.messageFallback:t.tooltipMessageFallback,placement:e&&e.placement?e.placement:t.tooltipPlacement}}toggleTooltipState(){this.setState({tooltipOpen:!this.state.tooltipOpen})}render(){const a=this.state,n=a.message,i=a.tooltipOpen,l=a.placement,c=a.targetId,d=a.messageFallback;return r.a.createElement("div",{className:e&&e.className},r.a.createElement(t,Object.assign({},this.props,this.state,{toggleTooltipState:this.toggleTooltipState})),n&&r.a.createElement(s.hb,{placement:l||"top",isOpen:i,autohide:!1,target:c,toggle:this.toggleTooltipState},r.a.createElement(o.default,{string:n,fallbackString:d})))}}return a}},function(e,t,a){"use strict";a.r(t),a.d(t,"trackBellNotificationDisplay",(function(){return r})),a.d(t,"trackBellNotificationClick",(function(){return s})),a.d(t,"trackMarketingBellNotificationCTAClick",(function(){return i})),a.d(t,"trackMarketingBellNotificationDisplay",(function(){return o})),a.d(t,"trackMarketingBellNotificationClick",(function(){return l})),a.d(t,"trackBellNotificationFilterClick",(function(){return c})),a.d(t,"trackBellNotificationTopicMessagePreviewClick",(function(){return d}));var n=a(258);const r=(e,t,a)=>({type:n.a.TRACK_BELL_NOTIFICATION_DISPLAY,payload:{context:e,storyId:t,properties:a}}),s=(e,t,a)=>({type:n.a.TRACK_BELL_NOTIFICATION_CLICK,payload:{context:e,storyId:t,properties:a}}),i=(e,t)=>({type:n.a.TRACK_MARKETING_BELL_NOTIFICATION_CTA_CLICK,payload:{context:e,properties:t}}),o=(e,t)=>({type:n.a.TRACK_MARKETING_BELL_NOTIFICATION_DISPLAY,payload:{context:e,properties:t}}),l=(e,t)=>({type:n.a.TRACK_MARKETING_BELL_NOTIFICATION_CLICK,payload:{context:e,properties:t}}),c=(e,t)=>({type:n.a.TRACK_BELL_NOTIFICATION_FILTER_CLICK,payload:{context:e,properties:t}}),d=(e,t)=>({type:n.a.TRACK_BELL_NOTIFICATION_TOPIC_MESSAGE_PREVIEW_CLICK,payload:{context:e,properties:t}})},function(e,t,a){"use strict";a.d(t,"f",(function(){return m})),a.d(t,"n",(function(){return g})),a.d(t,"m",(function(){return f})),a.d(t,"a",(function(){return b})),a.d(t,"h",(function(){return E})),a.d(t,"i",(function(){return y})),a.d(t,"j",(function(){return S})),a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return C})),a.d(t,"b",(function(){return A})),a.d(t,"e",(function(){return I})),a.d(t,"l",(function(){return T})),a.d(t,"k",(function(){return k})),a.d(t,"g",(function(){return O})),a.d(t,"o",(function(){return _}));var n=a(135),r=a.n(n),s=a(13),i=a(118),o=a(18),l=a(48),c=a(144),d=a.n(c),u=a(77),h=a(32);const p={Accept:"application/json","Content-Type":"application/json"},m=(e,t,a)=>r()({method:i.a.GET,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.USERS,"?").concat(d.a.stringify(a))+"&".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),g=(e,t,a,n)=>r()({method:i.a.PUT,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.USERS,"/").concat(a,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:n}),f=(e,t,a,n)=>r()({method:i.a.POST,url:"".concat(e.get(l.a.BASE_URL))+"".concat(n===h.a.DISTRICT?o.a.DISTRICTS:o.a.SCHOOLS)+"/".concat(a).concat(o.a.SEND_PENDING_TEACHERS_EMAIL,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),b=(e,t,a)=>r()({method:i.a.POST,url:"".concat(u.a.makeSyncApiEndpointURL(),"/admin/edmodo_users"),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t.get(s.a.ACCESS_TOKEN))},data:a}),E=(e,t,a)=>r()({method:i.a.GET,url:"https://sync.".concat(e.get(l.a.DOMAIN))+"".concat(o.a.ADMIN).concat(o.a.SYNC_JOBS,"?").concat(d.a.stringify(a))+"&request_origin=react-web-app",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t.get(s.a.ACCESS_TOKEN))}}),y=(e,t,a)=>r()({method:i.a.GET,url:"https://sync.".concat(e.get(l.a.DOMAIN))+"".concat(o.a.ADMIN).concat(o.a.SYNC_JOBS,"/").concat(a)+"&request_origin=react-web-app",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t.get(s.a.ACCESS_TOKEN))}}),S=(e,t,a)=>r()({method:i.a.GET,url:"https://sync.".concat(e.get(l.a.DOMAIN))+"".concat(o.a.ADMIN).concat(o.a.SYNC_ITEMS,"?").concat(d.a.stringify(a))+"&request_origin=react-web-app",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t.get(s.a.ACCESS_TOKEN))}}),v=(e,t,a,n)=>r()({method:i.a.GET,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.EDMODO_STATS).concat(a)+"?".concat(d.a.stringify(n),"&").concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN))+"&request_origin=react-web-app",headers:p}),C=(e,t,a,n)=>r()({method:i.a.GET,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.EDMODO_AGGREGATES).concat(a)+"?".concat(d.a.stringify(n),"&").concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN))+"&request_origin=react-web-app",headers:p}),A=(e,t,a)=>r()({method:i.a.DELETE,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.SCHOOLS,"/").concat(a,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),I=(e,t,a)=>r()({method:i.a.GET,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.IP_FORWARDING_RULES,"?").concat(d.a.stringify(a))+"&".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),T=(e,t,a)=>r()({method:i.a.POST,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.IP_FORWARDING_RULES)+"?".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:a}),k=(e,t,a,n)=>r()({method:i.a.PUT,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.IP_FORWARDING_RULES,"/").concat(a,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:n}),O=(e,t,a)=>r()({method:i.a.GET,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.SSO_OPTIONS,"?").concat(d.a.stringify(a))+"&".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p}),_=(e,t,a)=>r()({method:i.a.POST,url:"".concat(e.get(l.a.BASE_URL)).concat(o.a.SSO_OPTIONS_BULK_UPDATE,"?")+"".concat(s.a.ACCESS_TOKEN,"=").concat(t.get(s.a.ACCESS_TOKEN),"&request_origin=react-web-app"),headers:p,data:a})},function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"groupJoinRequestAcceptanceSuccessAction",(function(){return de})),a.d(n,"groupJoinRequestAcceptanceFailureAction",(function(){return ue})),a.d(n,"groupJoinRequestRejectionSuccessAction",(function(){return he})),a.d(n,"groupJoinRequestRejectionFailureAction",(function(){return pe})),a.d(n,"acceptInvitation",(function(){return me})),a.d(n,"rejectGroupMembership",(function(){return ge}));var r=a(4),s=a.n(r),i=a(1199),o=a(133),l=a(134),c=a(364),d=a(510),u=a(156),h=a(42),p=a(293),m=a(1596);var g=({bellNotification:e,translate:t,currentUser:a})=>{const n=p.a.getNotificationCardTitle(e,t,a),r=n&&n.titleLeft,i=n&&n.titleRight,o=n&&n.action,l=n&&n.actionFallback,c=n&&n.actionInsertions,d=n&&n.fallbackString,h=!!d,m=n&&n.translateInsertion;return s.a.createElement("div",{className:"notification-card-title truncated-multi-line-text"},s.a.createElement("span",{className:"font-weight-500"},h?s.a.createElement(u.default,{string:r,fallback:d,insertions:m}):r),s.a.createElement("span",{className:"font-weight-normal"}," ",o&&s.a.createElement(u.default,{string:o,fallback:l,insertions:c,parseHtml:!0})," "),s.a.createElement("span",{className:"font-weight-500"},i))},f=a(57),b=a(8);var E=({bellNotification:e,translate:t,currentUser:a})=>{const n=p.a.getNotificationCardTitle(e,t,a),r=n&&n.titleLeft,i=n&&n.action,o=n&&n.titleRight,l=n&&n.count,c=t&&t(i),d=t&&t(f.a.AND_CONNECTOR);let u="".concat(r&&r.replace("".concat(b.a.REPLACE_WITH_AND_PLACEHOLDER),d));if(l>2){const e=l-2,a=t(1===e?f.a.WITH_ONE_MORE_OTHER:f.a.WITH_X_MORE_OTHERS);u="".concat(u," ").concat(a.replace(/%{count}/,e)),u="".concat(u.replace(/<strong>/,"")),u="".concat(u.replace(/<\/strong>/,""))}return s.a.createElement("div",{className:"notification-card-title truncated-multi-line-text"},s.a.createElement("span",{className:"font-weight-500"},u),s.a.createElement("span",{className:"font-weight-normal"}," ".concat(c," ")),s.a.createElement("span",{className:"font-weight-500"},o))};var y=({id:e,category:t,timestampString:a,bellNotification:n,description:r,showDescription:i,translate:o,currentUser:l})=>{let c=r;p.a.isAssignmentComment(n)&&(c=p.a.getTargetContentText(n));let d=null;p.a.isGroupInvitation(n)||p.a.isNewGroupMember(n)||p.a.isGroupJoinApproval(n)||p.a.isScheduledMessage(n)||p.a.isNewConnection(n)||p.a.isDirectPost(n)||p.a.isReply(n)||p.a.isModeratedMessage(n)||p.a.isTurnedIn(n)||p.a.isAssignmentComment(n)||p.a.isQuizSubmitted(n)||p.a.isAdminDistrictPostReminder(n)?d=s.a.createElement(g,{bellNotification:n,translate:o,currentUser:l}):p.a.isGroupedQuizSubmitted(n)||p.a.isGroupedReply(n)||p.a.isGroupedTurnedIn(n)?d=s.a.createElement(E,{bellNotification:n,translate:o,currentUser:l}):p.a.isGrade(n)||p.a.isQuizGrade(n)||p.a.isStandaloneGrade(n)?(d=s.a.createElement(g,{bellNotification:n,translate:o,currentUser:l}),c=p.a.getTargetGradeRatio(n)):p.a.isNewPublisherMessage(n)&&(d=s.a.createElement(g,{bellNotification:n,translate:o,currentUser:l}),c=p.a.getTargetContentText(n));let u=i?"visible":"invisible";return p.a.isNewGroupMember(n)&&(u="creator-info"),s.a.createElement("div",{className:"content flex-column","data-notificationid":e,"data-category":t},d,i&&s.a.createElement("div",{className:"snippet ".concat(u)},s.a.createElement("p",null,c)),s.a.createElement("div",{className:"timestamp"},a))},S=a(1456);var v=({id:e,category:t,timestampString:a,snippet:n,bellNotification:r,translate:i,currentUser:o,showDescription:l,description:c})=>{let d=null;p.a.isUrgentNote(r)||p.a.isDirectPost(r)||p.a.isReply(r)||p.a.isModeratedReply(r)||p.a.isModeratedMessage(r)||p.a.isScheduledMessage(r)||p.a.isAdminNote(r)||p.a.isAdminPoll(r)||p.a.isAdminSchoolActivityReport(r)||p.a.isAdminDistrictActivityReport(r)||p.a.isNewPublisherMessage(r)?d=s.a.createElement(g,{bellNotification:r,currentUser:o,translate:i}):(p.a.isGroupedQuizSubmitted(r)||p.a.isGroupedReply(r))&&(d=s.a.createElement(E,{bellNotification:r,currentUser:o,translate:i}));let u=null;return(p.a.isAdminNote(r)||p.a.isAdminPoll(r)||p.a.isUrgentNote(r))&&(u="visible creator-info"),s.a.createElement("div",{className:"content flex-column","data-notificationid":e,"data-category":t},d,s.a.createElement("div",{className:"snippet"},S.a.truncateText(n,10)),l&&s.a.createElement("div",{className:"snippet ".concat(u)},s.a.createElement("p",null,c)),s.a.createElement("div",{className:"timestamp"},a))},C=a(1601),A=a(1231);var I=({bellNotification:e,avatar:t,translate:a,currentUser:n})=>{const r=p.a.getNotificationCardTitle(e,a,n),i=r&&r.avatarList;return s.a.createElement("div",{className:"creator-avatar"},i?s.a.createElement(C.a,{avatarList:i}):s.a.createElement(A.a,{src:t||"",size:"40"}))},T=a(1247),k=a(1600),O=a(512);const _={message:f.a.HIDE_NOTIFICATION};var M=Object(T.a)(Object(m.a)(_)(({bellNotification:e,trackingContext:t,targetId:a,handleDeleteNotificationButtonClick:n,id:r,title:i,avatar:o,isAdminNotification:l,formattedTimestamp:d,category:u,snippet:h,description:m,translatableTitle:g,translate:f,currentUser:b,handleDeclineGroupJoinButtonClick:E,hideRemove:S,redirectUrl:C,bellNotificationTrackingActions:A})=>{const T=p.a.getStoryId(e),_=p.a.getTargetId(e);let M=null;const N=p.a.shouldTrackInteraction(e);M=p.a.isGroupInvitation(e)||p.a.isNewGroupMember(e)||p.a.isGroupJoinApproval(e)||p.a.isGroupedQuizSubmitted(e)||p.a.isConnectionRequest(e)||p.a.isNewConnection(e)||p.a.isTurnedIn(e)||p.a.isGroupedTurnedIn(e)||p.a.isGrade(e)||p.a.isAssignmentComment(e)||p.a.isQuizSubmitted(e)||p.a.isGroupedReply(e)||p.a.isAdminDistrictPostReminder(e)||p.a.isQuizGrade(e)||p.a.isStandaloneGrade(e)?s.a.createElement(y,{id:r,category:u,title:i,timestampString:d.timestampString,snippet:h,bellNotification:e,description:m,showDescription:g.showDescription,translate:f,handleDeclineGroupJoinButtonClick:E,currentUser:b}):s.a.createElement(v,{id:r,category:u,title:i,timestampString:d.timestampString,snippet:h,bellNotification:e,description:m,translate:f,currentUser:b,showDescription:g.showDescription});let w=null;if(g&&g.iconName){const e=Object(k.a)({name:g.iconName,width:32,height:32,borderRadius:10,fillColor:g.fillColor});w=s.a.createElement("div",{className:"creator-avatar"},e)}else w=s.a.createElement(I,{avatar:o,bellNotification:e,translate:f,currentUser:b});const P=p.a.isGroupedQuizSubmitted(e),R=p.a.getLastGroupedTargets(e);let x="bell-notification-item-card-social d-flex flex-row";return P&&R&&0===R.toJS().length&&(x="bell-notification-item-card-social flex-row hidden"),s.a.createElement(c.J,{className:x,"data-notificationid":r,"data-category":u},s.a.createElement(O.a,{className:"bell-notification-content-wrapper qa-test-bell-notification-content-wrapper",href:C,onClick:()=>{C&&N&&A.trackBellNotificationClick(t,T,{target_id:_})}},w,M,s.a.createElement("div",{className:"x-container pull-end"},s.a.createElement("button",{type:"button",className:"close qa-test-close-btn","aria-label":"Close",id:a,"data-notificationid":r,"data-adminnotification":l,onClick:e=>n(e,r,l)},!S&&s.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))})),N=a(1213);var w=Object(T.a)(({bellNotification:e,trackingContext:t,formattedTimestamp:a,id:n,translate:r,currentUser:i,bellNotificationTrackingActions:o,trumpetActions:l})=>{const d=p.a.getHeadline(e),h=p.a.getBody(e),m=p.a.getPromoActionLabel(e),g=p.a.getPromoActionURL(e),f=p.a.getSponsorAvatarURL(e),b=p.a.isLaunchType(e),E=p.a.isStickyNotification(e),y=p.a.getJWTPayload(e),S={id:n,notification_type:p.a.getType(e),campain_type:p.a.getCampainType(e),campaign_id:p.a.getCampaignId(e),campaign_title:p.a.getCampainTitle(e)},v=s.a.createElement(O.a,{href:g,className:"bell-notification-content-wrapper marketing-bell-notification-content",onClick:()=>{l.trackClick(y),o.trackMarketingBellNotificationCTAClick(t,S)}},s.a.createElement(I,{avatar:f,bellNotification:e,translate:r,currentUser:i}),s.a.createElement("div",{className:"content flex-column","data-notificationid":n},s.a.createElement("div",{className:"notification-card-title title truncated-multi-line-text"},s.a.createElement("span",{className:"font-weight-500"},d)),s.a.createElement("div",{className:"notification-card-title truncated-multi-line-text"},s.a.createElement("span",null,h))),m&&s.a.createElement("div",{className:"content flex-column pull-end cta-container","data-notificationid":n},s.a.createElement(N.a,{size:"compact",weight:"loud"},m)));return s.a.createElement(c.J,{className:"bell-notification-item-card-marketing d-flex flex-row","data-notificationid":n,onClick:()=>{o.trackMarketingBellNotificationClick(t,S)}},b&&E?s.a.createElement("div",{className:"marketing-notification"},s.a.createElement("div",{className:"bell-notification-content-wrapper"},s.a.createElement("div",{className:"discover-avatar-container"},s.a.createElement("i",{className:"dicsover-avatar"})),s.a.createElement("div",{className:"content flex-column launch-description","data-notificationid":n},s.a.createElement("div",{className:"notification-card-title truncated-multi-line-text font-weight-600"},s.a.createElement("strong",null,s.a.createElement(u.default,{string:"edmodo_discover_added_new_content",fallbackString:"Edmodo Discover added new content"}))),s.a.createElement("div",{className:"notification-card-title truncated-multi-line-text"},s.a.createElement("span",null,a.timestampString)))),v):s.a.createElement(s.a.Fragment,null,v))}),P=a(509);var R=({id:e,handleAcceptGroupJoinButtonClick:t,handleDeclineGroupJoinButtonClick:a,handleAcceptConnectionRequestButtonClick:n,handleDeclineConnectionRequestButtonClick:r,requestType:i,handleDeleteNotificationButtonClick:o,handleAcceptGroupInviteButtonClick:l,handleDeclineGroupInviteButtonClick:d,handleAcceptModeratedReplyButtonClick:h,handleDeclineModeratedReplyButtonClick:p,handleAcceptModeratedMessageButtonClick:m,handleDeclineModeratedMessageButtonClick:g})=>s.a.createElement("div",{className:"accept-decline-container flex-column pull-end"},s.a.createElement("div",{className:"accept-decline-wrapper"},s.a.createElement(c.c,{className:"bell-notification-accept-btn qa-test-bell-notification-accept-btn accept-decline-btn",onClick:a=>{((e,t,a,n,r,s,i,o,l)=>{e.preventDefault(),a.isConnection?r(e,t):a.isGroupJoin?n(e,t):a.isGroupInvitation?s(e,t):a.isModeratedReply?i(e,t):a.isModeratedMessage&&o(e,t),l(e,t)})(a,e,i,t,n,l,h,m,o)}},i&&(i.isModeratedMessage||i.isModeratedReply)?s.a.createElement(u.default,{string:"approve",fallbackString:"Approve"}):s.a.createElement(u.default,{string:"accept",fallbackString:"Accept"})),s.a.createElement(c.c,{className:"bell-notification-decline-btn qa-test-bell-notification-decline-btn accept-decline-btn",onClick:t=>{((e,t,a,n,r,s,i,o,l)=>{e.preventDefault(),a.isConnection?r(e,t):a.isGroupJoin?n(e,t):a.isGroupInvitation?s(e,t):a.isModeratedReply?i(e,t):a.isModeratedMessage&&o(e,t),l(e,t)})(t,e,i,a,r,d,p,g,o)}},i&&(i.isModeratedMessage||i.isModeratedReply)?s.a.createElement(u.default,{string:"deny",fallbackString:"Deny"}):s.a.createElement(u.default,{string:"decline",fallbackString:"Decline"})))),x=a(376),L=a.n(x),D=a(1467);var F=({bellNotification:e,translate:t})=>{const a=p.a.getCreatorFullName(e),n=p.a.getTargetRecipientGroupTitle(e);let r=null,i=null;p.a.isModeratedMessage(e)?(r=f.a.MODERATED_MESSAGE_NOTIFICATION_TITLE,i="%{poster_name}'s post to %{group_name} needs your approval"):p.a.isModeratedReply(e)&&(r=f.a.MODERATED_REPLY_NOTIFICATION_TITLE,i="%{poster_name}'s post reply to %{group_name} needs your approval");const o=t(r,i,{poster_name:"<span class='font-weight-500'>".concat(a,"</span>"),group_name:"<span class='font-weight-500'>".concat(n,"</span>")}),l=p.a.getTargetContentText(e);return s.a.createElement("div",{className:"notification-card-title truncated-multi-line-text"},o&&L()(o),": ",s.a.createElement(D.a,{text:l}))},U=a(14),B=a(78),G=a(13),j=a(77),z=a(1571);var q=Object(T.a)(Object(P.a)(Object(o.connect)(null,(function(e){return{moderatedItemsActionTracking:Object(l.bindActionCreators)(z,e)}}))(({bellNotification:e,translate:t,handleAcceptGroupJoinButtonClick:a,id:n,creator:r,avatar:i,handleDeclineGroupJoinButtonClick:o,formattedTimestamp:l,category:d,description:u,handleAcceptConnectionRequestButtonClick:h,handleDeclineConnectionRequestButtonClick:m,handleAcceptGroupInviteButtonClick:f,handleDeclineGroupInviteButtonClick:b,handleAcceptModeratedReplyButtonClick:E,handleDeclineModeratedReplyButtonClick:y,handleAcceptModeratedMessageButtonClick:S,handleDeclineModeratedMessageButtonClick:v,redirectUrl:C,handleDeleteNotificationButtonClick:I,currentUser:T,toggleBellNotification:k,moderatedItemsActionTracking:_})=>{const M={isGroupJoin:p.a.isGroupJoinRequest(e),isGroupInvitation:p.a.isGroupInvitation(e),isConnection:p.a.isConnectionRequest(e),isModeratedMessage:p.a.isModeratedMessage(e),isModeratedReply:p.a.isModeratedReply(e),isModeratedSubReply:p.a.isModeratedSubReply(e)},N=p.a.getTargetRecipientsFirstGroup(e),w=B.a.getGroupId(N),P=B.a.getGroupTitle(N),x=B.a.getParentGroupId(N),L=U.a.getProfileUrl(r),D=!(M.isModeratedMessage||M.isModeratedReply);let z=null;if(M.isGroupJoin||M.isGroupInvitation||M.isConnection)z=s.a.createElement(g,{bellNotification:e,translate:t,currentUser:T});else if(M.isModeratedMessage||M.isModeratedReply){z=s.a.createElement(F,{bellNotification:e,translate:t}),C="";const a={[G.a.MODERATE_POSTS]:!0};C=x?j.a.makeSmallGroupPageUrl(P,w,void 0,x,a):j.a.makeGroupPageUrl(P,w,a)}let q=null;return(M.isModeratedMessage||M.isModeratedReply||M.isGroupInvitation||M.isGroupJoin)&&(q="creator-info"),s.a.createElement(c.J,{className:"bell-notification-item-card-request qa-test-bell-notification-item-card-request d-flex flex-row","data-notificationid":n,"data-category":d},s.a.createElement(O.a,{className:"bell-notification-content-wrapper qa-test-bell-notification-content-wrapper",href:C||M.isConnection&&L,onClick:()=>{k(),(()=>{if(M.isModeratedMessage||M.isModeratedReply){let e="message";M.isModeratedSubReply?e="sub_reply":M.isModeratedReply&&(e="reply"),_.trackModeratedItemsBellNotificationClick({moderated_item_type:e})}})()}},s.a.createElement("div",{className:"creator-avatar"},s.a.createElement(A.a,{src:i,size:"40"})),s.a.createElement("div",{className:"content flex-column"},z,s.a.createElement("div",{className:"snippet ".concat(q)},s.a.createElement("p",null,u)),s.a.createElement("div",{className:"timestamp"},l.timestampString))),D&&s.a.createElement(R,{bellNotification:e,handleAcceptGroupJoinButtonClick:a,handleDeclineGroupJoinButtonClick:o,handleAcceptConnectionRequestButtonClick:h,handleDeclineConnectionRequestButtonClick:m,id:n,requestType:M,handleAcceptGroupInviteButtonClick:f,handleDeclineGroupInviteButtonClick:b,handleAcceptModeratedReplyButtonClick:E,handleDeclineModeratedReplyButtonClick:y,handleAcceptModeratedMessageButtonClick:S,handleDeclineModeratedMessageButtonClick:v,handleDeleteNotificationButtonClick:I}))}))),H=a(1327),V=a.n(H);var W=Object(T.a)(({bellNotification:e,id:t,targetId:a,formattedTimestamp:n,handleDeleteNotificationButtonClick:r,isAdminNotification:i,hideRemove:o,redirectUrl:l,bellNotificationTrackingActions:d,trackingContext:h})=>{const m=p.a.getStoryId(e),g=p.a.getTargetId(e),f=p.a.getTopicsPostsCount(e),E=e.get(b.a.TOPICS_FILTER),y=E.size,S=Math.max(0,y-2),v=E.slice(0,2),C=v.first(),A=v.size>1?v.last():null,I=C&&C.get("name"),T=A&&A.get("name");let k;return 1===y?k=s.a.createElement(u.default,{string:"topic-posts-notification-one-tag",fallbackString:"There are <strong>%{smart_count} new Topic posts</strong> in %{tag_one}",insertions:{smart_count:f,tag_one:I},parseHtml:!0}):2===y?k=s.a.createElement(u.default,{string:"topic-posts-notification-two-tags",fallbackString:"There are <strong>%{smart_count} new Topic posts</strong> in %{tag_one} and %{tag_two}",insertions:{smart_count:f,tag_one:I,tag_two:T},parseHtml:!0}):y>2?1===S?k=s.a.createElement(u.default,{string:"topic-posts-notification-three-tags",fallbackString:"There are <strong>%{smart_count} new Topic posts</strong> in %{tag_one}, %{tag_two} and %{other_tags_count} other.",insertions:{smart_count:f,tag_one:I,tag_two:T,other_tags_count:S},parseHtml:!0}):S>1&&(k=s.a.createElement(u.default,{string:"topic-posts-notification-many-tags",fallbackString:"There are <strong>%{smart_count} new Topic posts</strong> in %{tag_one}, %{tag_two} and %{other_tags_count} others.",insertions:{smart_count:f,tag_one:I,tag_two:T,other_tags_count:S},parseHtml:!0})):k=s.a.createElement("p",null,"TODO: Unknown topic count usecase."),s.a.createElement("div",null,s.a.createElement(c.J,{className:"bell-notification-item-card-topics d-flex flex-row"},s.a.createElement(O.a,{className:"bell-notification-content-wrapper qa-test-bell-notification-content-wrapper pb-2 pl-2",href:l,onClick:()=>{l&&d.trackBellNotificationClick(h,m,{target_id:g})}},s.a.createElement("img",{className:"hashtag-icon m-2_5",alt:"",src:V.a}),s.a.createElement("div",{className:"content flex-column pl-1"},s.a.createElement("div",{className:"notification-card-title truncated-multi-line-text"},k),s.a.createElement("p",{className:"timestamp"},n.timestampString)),s.a.createElement("div",{className:"x-container pull-end"},s.a.createElement("button",{type:"button",className:"close qa-test-close-btn","aria-label":"Close",id:a,"data-notificationid":t,"data-adminnotification":i,onClick:e=>r(e,t,i)},!o&&s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))});const Q=Object(h.a)(()=>a.e(330).then(a.bind(null,3102)));class Y extends r.Component{componentDidMount(){const e=this.props,t=e.bellNotification,a=e.bellNotificationTrackingActions,n=e.trackingContext,r=e.trumpetActions;if(p.a.shouldTrackInteraction(t)){const e=p.a.getStoryId(t),r=p.a.getTargetId(t);a.trackBellNotificationDisplay(n,e,{target_id:r})}p.a.isMarketingNotification(t)&&(r.trackImpression(p.a.getJWTPayload(t)),a.trackMarketingBellNotificationDisplay(n,{id:p.a.getId(t),notification_type:p.a.getType(t),campain_type:p.a.getCampainType(t),campaign_id:p.a.getCampaignId(t),campaign_title:p.a.getCampainTitle(t)}))}render(){const e=this.props,t=e.bellNotification,a=e.trackingContext,n=e.handleDeleteNotificationButtonClick,r=e.handleAcceptGroupJoinButtonClick,i=e.currentUser,o=e.handleDeclineGroupJoinButtonClick,l=e.handleAcceptConnectionRequestButtonClick,c=e.handleDeclineConnectionRequestButtonClick,d=e.translate,u=e.handleAcceptGroupInviteButtonClick,h=e.handleDeclineGroupInviteButtonClick,m=e.handleAcceptModeratedReplyButtonClick,g=e.handleDeclineModeratedReplyButtonClick,f=e.trumpetActions,b=e.handleAcceptModeratedMessageButtonClick,E=e.handleDeclineModeratedMessageButtonClick,y=e.bellNotificationTrackingActions,S=e.toggleBellNotification,v=p.a.isSocial(t),C=p.a.isTimeSensitive(t),A=p.a.isRequest(t),I=p.a.isMarketingNotification(t),T=p.a.isTopicsDigest(t);return v?s.a.createElement(M,{bellNotification:t,handleDeleteNotificationButtonClick:n,currentUser:i,translate:d,trackingContext:a,bellNotificationTrackingActions:y}):C?s.a.createElement(Q,{bellNotification:t,handleDeleteNotificationButtonClick:n,currentUser:i,translate:d}):A?s.a.createElement(q,{bellNotification:t,handleDeleteNotificationButtonClick:n,handleAcceptGroupJoinButtonClick:r,handleDeclineGroupJoinButtonClick:o,currentUser:i,handleAcceptConnectionRequestButtonClick:l,handleDeclineConnectionRequestButtonClick:c,handleAcceptGroupInviteButtonClick:u,handleDeclineGroupInviteButtonClick:h,handleAcceptModeratedReplyButtonClick:m,handleDeclineModeratedReplyButtonClick:g,handleAcceptModeratedMessageButtonClick:b,handleDeclineModeratedMessageButtonClick:E,translate:d,toggleBellNotification:S}):I?s.a.createElement(w,{bellNotification:t,currentUser:i,translate:d,trackingContext:a,bellNotificationTrackingActions:y,trumpetActions:f}):T?s.a.createElement(W,{bellNotification:t,handleDeleteNotificationButtonClick:n,currentUser:i,translate:d,bellNotificationTrackingActions:y,trackingContext:a}):null}}var K=Object(P.a)(Y),J=a(10),Z=a(226),X=a(145),$=a(225),ee=a(1284);class te extends r.Component{makeHashTagsMarkup(e,t){return e&&e.map(e=>{const a=encodeURI("".concat(J.a.HOME_PAGE,"?").concat(Z.a.HASHTAG,"=").concat(e.split("#")[1]));return s.a.createElement("a",{key:t+e,className:"message-hashtag pr-1 qa-test-bell-notification-hashtag-link",href:a},e)})}render(){const e=this.props,t=e.id,a=e.description,n=e.iconUrl,r=e.authorFullName,i=e.createdAt,o=e.history,l=e.bellNotificationTrackingActions,d=$.a.formattedBellNotificationTimestamp(i),u=ee.a(a);return s.a.createElement(c.J,{className:"bell-notification-item-card-topic pt-2_5 px-2_5 pb-3"},s.a.createElement("p",{className:"message-hashtags-container mb-2 pb-1"},this.makeHashTagsMarkup(u,t)),s.a.createElement("div",{className:"bell-notification-content-wrapper qa-test-bell-notification-content-wrapper d-flex flex-row",onClick:()=>{l.trackBellNotificationTopicMessagePreviewClick(X.a.NOTIFICATIONS_PAGE_CONTEXT,{topic_message_id:t,hashTags:u}),o.push("".concat(J.a.POST,"/").concat(t))}},s.a.createElement("div",{className:"creator-avatar pt-1 pr-2_5"},s.a.createElement("img",{className:"rounded-normal",alt:"",src:n})),s.a.createElement("div",{className:"content flex-column"},s.a.createElement("span",{className:"heavy"},"".concat(r)),s.a.createElement("p",{className:"topic-message-description text-truncate"},a),s.a.createElement("div",{className:"timestamp note-text secondary-body"},d&&d.timestampString))))}}var ae=Object(P.a)(te),ne=a(139),re=a(1567),se=a(109),ie=a(442),oe=a(34),le=a(200),ce=a(19);const de=e=>({type:ie.a.GROUP_JOIN_REQUEST_ACCEPTANCE_SUCCESS,payload:e}),ue=e=>({type:ie.a.GROUP_JOIN_REQUEST_ACCEPTANCE_FAILURE,payload:e}),he=e=>({type:ie.a.GROUP_JOIN_REQUEST_REJECTION_SUCCESS,payload:e}),pe=e=>({type:ie.a.GROUP_JOIN_REQUEST_REJECTION_FAILURE,payload:e}),me=(e,t,a)=>function(n,r){return se.a(e,t).then(t=>{const r=ce.a.defaultGroupListingFetchParams().per_page;n(de(a)),n(le.fetchPendingMembersForGroup(e)),t.data.user.type===oe.a.TEACHER?n(le.fetchMembersForGroup(e,1,r,!1,!1,null,oe.a.TEACHER,!1,!1)):n(le.fetchMembersForGroup(e,1,r,!1,!1,null,oe.a.STUDENT,!1,!1))}).catch(e=>{n(ue(e))})},ge=(e,t,a)=>function(n,r){return se.s(e,t).then(e=>{n(he(a))}).catch(e=>{n(pe(e))})};var fe=a(1277),be=a(1313),Ee=a(212),ye=a(1597),Se=a(1594),ve=a(73),Ce=a(1332),Ae=a(367),Ie=(a(1334),a(1529));class Te extends r.Component{constructor(e){super(e),this.handleDeleteNotificationButtonClick=this.handleDeleteNotificationButtonClick.bind(this),this.handleAcceptGroupJoinButtonClick=this.handleAcceptGroupJoinButtonClick.bind(this),this.handleDeclineGroupJoinButtonClick=this.handleDeclineGroupJoinButtonClick.bind(this),this.handleLoadMoreBellNotificationsButtonClick=this.handleLoadMoreBellNotificationsButtonClick.bind(this),this.handleAcceptConnectionRequestButtonClick=this.handleAcceptConnectionRequestButtonClick.bind(this),this.handleDeclineConnectionRequestButtonClick=this.handleDeclineConnectionRequestButtonClick.bind(this),this.handleAcceptGroupInviteButtonClick=this.handleAcceptGroupInviteButtonClick.bind(this),this.handleDeclineGroupInviteButtonClick=this.handleDeclineGroupInviteButtonClick.bind(this),this.handleAcceptModeratedReplyButtonClick=this.handleAcceptModeratedReplyButtonClick.bind(this),this.handleDeclineModeratedReplyButtonClick=this.handleDeclineModeratedReplyButtonClick.bind(this),this.handleAcceptModeratedMessageButtonClick=this.handleAcceptModeratedMessageButtonClick.bind(this),this.handleDeclineModeratedMessageButtonClick=this.handleDeclineModeratedMessageButtonClick.bind(this),this.handleBellNotificationsSeen=this.handleBellNotificationsSeen.bind(this),this.handleLoadMoreTopicPostPreviewsButtonClick=this.handleLoadMoreTopicPostPreviewsButtonClick.bind(this)}componentDidMount(){this.props.bellNotificationActions.clearAllBellNotifications();const e=this.props.match&&this.props.match.params.filter;this.props.currentUser&&e!==b.a.TOPICS_FILTER&&this.props.bellNotificationActions.fetchAllBellNotificationsForCurrentUser(this.props.currentUser.id,1,b.a.PER_PAGE,null,e)}componentDidUpdate(e){this.props.bellNotificationOpen&&this.handleBellNotificationsSeen(),!this.props.currentUser||this.props.allBellNotifications||this.props.loadingBellNotifications||!this.props.lastFetchedBellNotificationFilter!==b.a.TOPICS_FILTER||this.props.bellNotificationActions.fetchAllBellNotificationsForCurrentUser(this.props.currentUser.id,1,b.a.PER_PAGE,null,null)}handleLoadMoreBellNotificationsButtonClick(e){e.preventDefault();const t=U.a.getId(this.props.currentUser),a=p.a.hasNextPage(this.props.nextPageNotification);this.props.currentUser&&a&&this.props.bellNotificationActions.fetchAllBellNotificationsForCurrentUser(t,this.props.lastFetchedBellNotificationPage+1,b.a.PER_PAGE,null,this.props.lastFetchedBellNotificationFilter)}handleLoadMoreTopicPostPreviewsButtonClick(e){const t=parseInt(this.props.lastLoadedTopicMessagesPage,10)+1;this.props.fetchTopicPosts&&this.props.fetchTopicPosts(t)}handleDeleteNotificationButtonClick(e,t,a=!1){e.preventDefault(),e.stopPropagation(),a?this.props.bellNotificationActions.deleteAdminBellNotification(t):this.props.bellNotificationActions.deleteBellNotification(t),this.props.bellNotificationActions.hideNotificationFromListAction(e.currentTarget.dataset.notificationid)}handleAcceptGroupJoinButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[2],n=t.toString().split(/:/)[3];this.props.groupJoinRequestActions.acceptInvitation(a,n,t)}handleDeclineGroupJoinButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[2],n=t.toString().split(/:/)[3];this.props.groupJoinRequestActions.rejectGroupMembership(a,n,t)}handleBellNotificationsSeen(){const e=this.props.unreadBellNotificationIds&&this.props.unreadBellNotificationIds.join(",");e&&this.props.bellNotificationActions.markAllBellNotificationsAsRead(e,this.props.unreadBellNotificationIds);const t=this.props.unreadAdminBellNotificationIds;if(t&&t.size>0){const e=U.a.getId(this.props.currentUser);t&&t.valueSeq().forEach(t=>{this.props.bellNotificationActions.markAdminBellNotificationAsRead(t,e)})}const a=this.props.unreadMarketingBellNotificationIds;a&&a.size>0&&a&&a.keySeq().forEach(e=>{this.props.bellNotificationActions.markMarketingBellNotificationAsRead(e)})}handleAcceptConnectionRequestButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[1];this.props.connectionActions.acceptConnection(a,t)}handleDeclineConnectionRequestButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[1];this.props.connectionActions.dismissConnectionRequest(a,t)}handleAcceptGroupInviteButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[1],n=t.toString().split(/:/)[2];this.props.groupInviteActions.acceptGroupInvitation(a,n,t)}handleDeclineGroupInviteButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[1],n=t.toString().split(/:/)[2];this.props.groupInviteActions.declineGroupInvitation(a,n,t)}handleAcceptModeratedReplyButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[2];this.props.replyActions.updateReply({moderated:!1},{replyId:a},t,this.props.currentGroupId)}handleDeclineModeratedReplyButtonClick(e,t){e.preventDefault(),this.props.bellNotificationActions.declineModeratedReplyNotification(t)}handleAcceptModeratedMessageButtonClick(e,t){e.preventDefault();const a=t.toString().split(/:/)[2];this.props.postActions.updatePost({moderated:!1},a,t,this.props.currentGroupId)}handleDeclineModeratedMessageButtonClick(e,t){e.preventDefault(),this.props.bellNotificationActions.declineModeratedPostNotification(t)}renderEmptyState(e){switch(e){case oe.a.TEACHER:return s.a.createElement(Ie.a,{titleTranslationKey:"no-notifications-title",titleTranslationFallbackKey:"You have no notifications",subTitleTranslationKey:"teacher-no-notifications-subtitle",subTitleTranslationFallbackKey:"Updates from classes, student submissions, teacher posts, and content partners will all appear here.",className:"p-10"});case oe.a.STUDENT:return s.a.createElement(Ie.a,{titleTranslationKey:"no-notifications-title",titleTranslationFallbackKey:"You have no notifications",subTitleTranslationKey:"student-no-notifications-subtitle",subTitleTranslationFallbackKey:"Important updates like class posts, assignments, and quizzes will appear here.",className:"p-10"});case oe.a.PARENT:return s.a.createElement(Ie.a,{titleTranslationKey:"no-notifications-title",titleTranslationFallbackKey:"You have no notifications",subTitleTranslationKey:"parent-no-notifications-subtitle",subTitleTranslationFallbackKey:"Important updates from your child's teachers (like grades, reviews, and comments) will appear here.",className:"p-10"});default:return s.a.createElement(Ie.a,{titleTranslationKey:"no-notifications-title",titleTranslationFallbackKey:"You have no notifications",className:"p-10"})}}render(){const e=this.props,t=e.currentUser,a=e.history,n=e.trackingContext,r=e.allBellNotifications,i=e.loadingBellNotifications,o=e.endOfUnreadBellNotificationsReached,l=e.bellNotificationTrackingActions,h=e.trumpetActions,m=e.topicMessages,g=e.loadingTopicMessages,b=e.bellNotificationOpen,E=e.toggleBellNotification,y=p.a.sortBellNotificationsBySticky(r),S=y&&y.filter(e=>!p.a.areAllTargetRecpientsGroupArchived(e)),v=p.a.hasNextPage(this.props.nextPageNotification),C=r&&v&&!i&&!o,A=this.props.topicMessages&&this.props.topicMessages.size,I=this.props.topicMessagesTotalCount,T=A&&A<I&&!g,k=U.a.getType(t);return s.a.createElement("div",{className:"bell-notification-list bell-notification-listing-container"},!r&&!m&&s.a.createElement(d.a,null),r&&r.isEmpty()&&b&&this.renderEmptyState(k),r&&s.a.createElement(c.I,null,S&&S.valueSeq().map(e=>p.a.isModeratedReply(e)&&!p.a.getTarget(e)||p.a.isModeratedMessage(e)&&!p.a.getTarget(e)||(p.a.isAdminSchoolActivityReport(e)||p.a.isAdminDistrictActivityReport(e))&&p.a.isNoActivity(e)?null:s.a.createElement(K,{key:p.a.getId(e),bellNotification:e,trackingContext:n,handleDeleteNotificationButtonClick:this.handleDeleteNotificationButtonClick,handleAcceptGroupJoinButtonClick:this.handleAcceptGroupJoinButtonClick,handleDeclineGroupJoinButtonClick:this.handleDeclineGroupJoinButtonClick,currentUser:t,handleAcceptConnectionRequestButtonClick:this.handleAcceptConnectionRequestButtonClick,handleDeclineConnectionRequestButtonClick:this.handleDeclineConnectionRequestButtonClick,handleAcceptGroupInviteButtonClick:this.handleAcceptGroupInviteButtonClick,handleDeclineGroupInviteButtonClick:this.handleDeclineGroupInviteButtonClick,handleAcceptModeratedReplyButtonClick:this.handleAcceptModeratedReplyButtonClick,handleDeclineModeratedReplyButtonClick:this.handleDeclineModeratedReplyButtonClick,handleAcceptModeratedMessageButtonClick:this.handleAcceptModeratedMessageButtonClick,handleDeclineModeratedMessageButtonClick:this.handleDeclineModeratedMessageButtonClick,bellNotificationTrackingActions:l,trumpetActions:h,toggleBellNotification:E}))),m&&s.a.createElement(c.I,null,m.valueSeq().map(e=>{const t=p.a.getId(e);return s.a.createElement(ae,{key:t,id:t,description:p.a.getTopicMessageDescription(e),iconUrl:p.a.getTopicMessageSmallAvatar(e),authorFullName:p.a.getCreatorFullName(e),createdAt:p.a.getCreatedAt(e),history:a,bellNotificationTrackingActions:l})})),i&&s.a.createElement(d.a,null),C&&!i&&s.a.createElement("div",{className:"load-more-notifications-container mx-auto"},s.a.createElement(c.c,{outline:!0,color:"primary",onClick:this.handleLoadMoreBellNotificationsButtonClick},s.a.createElement(u.default,{string:f.a.LOAD_MORE}))),g&&s.a.createElement(d.a,null),T&&!g&&s.a.createElement("div",{className:"load-more-notifications-container mx-auto"},s.a.createElement(c.c,{outline:!0,color:"primary",onClick:this.handleLoadMoreTopicPostPreviewsButtonClick},s.a.createElement(u.default,{string:f.a.LOAD_MORE}))))}}t.a=Object(i.a)(Object(o.connect)((function(e){return{currentUser:ve.c(e),accessToken:ve.d(e),allBellNotifications:Ce.c(e),lastFetchedBellNotificationPage:Ce.h(e),lastFetchedBellNotificationFilter:Ce.g(e),loadingBellNotifications:Ce.e(e),endOfUnreadBellNotificationsReached:Ce.d(e),unreadBellNotificationIds:Ce.o(e),unreadAdminBellNotificationIds:Ce.n(e),unreadMarketingBellNotificationIds:Ce.p(e),nextPageNotification:Ce.b(e),abTestPlacementInfo:Ae.a(e),topicMessages:Ce.a(e),loadingTopicMessages:Ce.f(e),topicMessagesTotalCount:Ce.l(e),lastLoadedTopicMessagesPage:Ce.i(e)}}),(function(e){return{bellNotificationActions:Object(l.bindActionCreators)(re,e),groupJoinRequestActions:Object(l.bindActionCreators)(n,e),groupInviteActions:Object(l.bindActionCreators)(fe,e),connectionActions:Object(l.bindActionCreators)(be,e),postActions:Object(l.bindActionCreators)(ne,e),replyActions:Object(l.bindActionCreators)(Ee,e),trumpetActions:Object(l.bindActionCreators)(Se,e),bellNotificationTrackingActions:Object(l.bindActionCreators)(ye,e)}}))(Object(P.a)(Te)))},function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(4),r=a.n(n),s=a(279),i=a(1256);a(1333);var o=({borderRadius:e,fillColor:t})=>{const a={borderRadius:e};return r.a.createElement("div",{className:"file-type-icons"},r.a.createElement("div",{className:"small-assignment",style:a},r.a.createElement(i.default,{size:40,color:t})))},l=a(1259);var c=({borderRadius:e,fillColor:t})=>{const a={borderRadius:e};return r.a.createElement("div",{className:"file-type-icons"},r.a.createElement("div",{className:"small-quiz",style:a},r.a.createElement(l.default,{size:40,color:t})))},d=a(1204);const u=e=>{switch(e.name){case s.a.SMALL_ASSIGNMENT_ICON:return r.a.createElement(o,{name:e.name,width:e.width,height:e.height,borderRadius:e.borderRadius,fillColor:e.fillColor});case s.a.SMALL_QUIZ_ICON:return r.a.createElement(c,{name:e.name,width:e.width,height:e.height,borderRadius:e.borderRadius,fillColor:e.fillColor});case"lecture_icon":return r.a.createElement("div",{className:"file-type-icons-lecture",style:{backgroundColor:e.fillColor}},r.a.createElement(d.a,{name:"play-arrow-icon",color:"white",size:20,viewBox:"-2 0 24 24"}));default:return null}}},function(e,t,a){"use strict";var n=a(4),r=a.n(n);var s=({avatar1:e,avatar2:t})=>{const a={backgroundImage:"url(".concat(e,")")},n={backgroundImage:"url(".concat(t,")")};return r.a.createElement("div",{className:"chat-room-list-item-left-avatar-wrapper"},r.a.createElement("div",{className:"avatar-topleft",style:a}),r.a.createElement("div",{className:"avatar-bottomright",style:n}))},i=a(1491),o=(a(1237),a(1604),a(1231));t.a=({avatarList:e})=>{let t=null;return e&&e.size>0&&(t=e>=3?r.a.createElement(i.a,{avatar1:e.get(0),avatar2:e.get(1),avatar3:e.get(2)}):2===e.size?r.a.createElement(s,{avatar1:e.get(0),avatar2:e.get(1)}):r.a.createElement(o.a,{src:e.get(0),size:"40"})),t}},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return d}));var n=a(9),r=a(1),s=a(20),i=a(28);const o=(e,t)=>t&&t===s.a.REDUCER?e:i.V(e),l=Object(n.createSelector)([(e,t)=>t&&t===s.a.REDUCER?e:i.X(e)],e=>e&&e.get(r.a.GROUP_DIRECTORY_MEMBERS)),c=Object(n.createSelector)([o],e=>e&&e.get(r.a.SCHOOL_GROUP_DIRECTORY)),d=Object(n.createSelector)([o],e=>e&&e.get(r.a.DELETE_GROUP_FROM_LISTING_FAILURE))},function(e,t,a){"use strict";a.d(t,"j",(function(){return i})),a.d(t,"k",(function(){return o})),a.d(t,"i",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return h})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"e",(function(){return g})),a.d(t,"f",(function(){return f}));var n=a(9),r=a(1),s=a(28);const i=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.ADMIN_UPLOAD_HISTORY)),o=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.ADMIN_UPLOAD_HISTORY_DETAIL_ITEMS)),l=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.ADMIN_SELECTOR_TEACHERS)),c=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.ADMIN_MEMBERS)),d=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.ADMIN_PENDING_TEACHERS)),u=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.JOB_DETAILS_SCHOOL)),h=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.RECIPIENT_SCHOOLS_FOR_MEMBERS_LIST)),p=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.RECIPIENT_SCHOOLS_FOR_PENDING_TEACHERS)),m=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.RECIPIENT_SCHOOLS_FOR_BULK_UPLOAD)),g=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.ADMIN_MEMBERS_SELECTED_SCHOOL)),f=Object(n.createSelector)([s.f],e=>e&&e.get(r.a.FETCH_TEACHER_EMAIL_GROUP_SUCCESS))},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"clearTeacherEmailGroup",(function(){return h})),a.d(t,"pushTeacherEmailGroupSuccess",(function(){return p})),a.d(t,"fetchMembersSuccess",(function(){return m})),a.d(t,"fetchSchoolSuccess",(function(){return g})),a.d(t,"fetchPendingTeachersSuccess",(function(){return f})),a.d(t,"updateMemberSuccess",(function(){return b})),a.d(t,"removeMemberSuccess",(function(){return E})),a.d(t,"removePendingMemberSuccess",(function(){return y})),a.d(t,"verifyPendingMemberSuccess",(function(){return S})),a.d(t,"fetchUploadHistorySuccess",(function(){return v})),a.d(t,"fetchUploadHistoryDetailItemsSuccess",(function(){return C})),a.d(t,"fetchJobDetailsSchoolSuccessAction",(function(){return A})),a.d(t,"fetchSchoolsForBulkUploadSuccessAction",(function(){return I})),a.d(t,"fetchSchoolsForMembersListSuccessAction",(function(){return T})),a.d(t,"fetchSchoolsForPendingTeachersSuccessAction",(function(){return k})),a.d(t,"fetchTeacherEmailGroupSuccess",(function(){return O})),a.d(t,"fetchMembers",(function(){return _})),a.d(t,"fetchTeacherEmailGroup",(function(){return M})),a.d(t,"updateMember",(function(){return N})),a.d(t,"sendPendingTeachersInstructionsEmail",(function(){return w})),a.d(t,"bulkUploadUsers",(function(){return P})),a.d(t,"fetchUploadHistory",(function(){return R})),a.d(t,"fetchUploadHistoryById",(function(){return x})),a.d(t,"fetchCurrentDistrictSchools",(function(){return L})),a.d(t,"fetchJobDetailsSchool",(function(){return D})),a.d(t,"fetchUploadHistoryDetailItems",(function(){return F})),a.d(t,"fetchSchoolById",(function(){return U}));var n=a(87),r=a(63),s=a(1598),i=a(1563),o=a(1593),l=a(46),c=a(34),d=a(329),u=a(36);const h=e=>({type:n.a.ADMIN_MEMBERS_CLEAR_SELECTOR_TEACHERS_SUCCESS,payload:e}),p=e=>({type:n.a.ADMIN_MEMBERS_PUSH_SELECTOR_TEACHERS_SUCCESS,payload:e}),m=e=>({type:n.a.ADMIN_MEMBERS_FETCH_SUCCESS,payload:e}),g=e=>({type:n.a.ADMIN_MEMBERS_FETCH_SELECTED_SCHOOL_SUCCESS,payload:e}),f=e=>({type:n.a.ADMIN_PENDING_TEACHERS_FETCH_SUCCESS,payload:e}),b=e=>({type:n.a.ADMIN_MEMBER_UPDATE_SUCCESS,payload:e}),E=e=>({type:n.a.ADMIN_REMOVE_MEMBER_SUCCESS,payload:e}),y=e=>({type:n.a.ADMIN_REMOVE_PENDING_MEMBER_SUCCESS,payload:e}),S=e=>({type:n.a.ADMIN_VERIFY_PENDING_MEMBER_SUCCESS,payload:e}),v=e=>({type:n.a.UPLOAD_HISTORY_FETCH_SUCCESS,payload:e}),C=e=>({type:n.a.UPLOAD_HISTORY_DETAIL_ITEMS_FETCH_SUCCESS,payload:e}),A=e=>({type:n.a.JOB_DETAILS_SCHOOL_FETCH_SUCCESS,payload:e}),I=e=>({type:n.a.RECIPIENT_SCHOOLS_FOR_BULK_UPLOAD_FETCH_SUCCESS,payload:e}),T=e=>({type:n.a.RECIPIENT_SCHOOLS_FOR_MEMBERS_LIST_FETCH_SUCCESS,payload:e}),k=e=>({type:n.a.RECIPIENT_SCHOOLS_FOR_PENDING_TEACHERS_FETCH_SUCCESS,payload:e}),O=e=>({type:n.a.FETCH_TEACHER_EMAIL_GROUP_SUCCESS,payload:e}),_=(e,t)=>function(a,n){const i=r.a(n),o=i.configInfo,l=i.accessToken;return s.f(o,l,e).then(n=>{e.status===c.a.NON_INSTITUTION_VERIFIED?a(f(n.data)):a(m(n.data));const r=n&&n.headers&&n.headers.link,s=r&&-1!==r.indexOf('rel="next"')&&n.data.length===e.per_page;t&&t(s),s||a(O(!0))}).catch(()=>{t&&t(!1)})},M=(e,t)=>function(a,n){const s=r.a(n),o=s.configInfo,l=s.accessToken;return i.e(o,l,e.school_id,e).then(e=>{a(p(e.data&&e.data.staff&&e.data.staff.data));const n=!!(e.data&&e.data.staff&&e.data.staff.next_page);t&&t(n)}).catch(e=>{t&&t(!1)})},N=(e,t,a="")=>function(n,i){const o=r.a(i),c=o.configInfo,d=o.accessToken;return s.n(c,d,e,t).then(t=>{switch(a){case"change-password":n(Object(l.showSuccessGlobalAlert)("password_successfully_changed","You have successfully changed this member's password."));break;case"remove-member":n(Object(l.showSuccessGlobalAlert)("member_removed_successfully","This member has been removed successfully.")),n(E(e));break;case"remove-pending-member":n(Object(l.showSuccessGlobalAlert)("member_removed_successfully","This member has been removed successfully.")),n(y(e));break;case"verify-member":n(Object(l.showSuccessGlobalAlert)("member_verified_successfully","This member has been verified successfully.")),n(S(e));break;default:n(b(t.data))}}).catch(e=>{e&&e.response&&n(Object(l.showErrorGlobalAlert)("internal-server-error","Something went wrong"))})},w=(e,t,a,n)=>function(i,o){const c=r.a(o),d=c.configInfo,u=c.accessToken;return s.m(d,u,e,t).then(e=>{a&&a(e.data),i(Object(l.showSuccessGlobalAlert)("sent-email-to-all","Sent Emails to all pending teachers."))}).catch(e=>{n&&n(e.response)})},P=(e,t,a)=>function(n,i){const o=r.a(i),l=o.configInfo,c=o.accessToken;return s.a(l,c,e).then(e=>{t&&t(e.data)}).catch(e=>{a&&a(e&&e.response)})},R=(e,t,a)=>function(n,i){const o=r.a(i),l=o.configInfo,c=o.accessToken;return s.h(l,c,e).then(a=>{const r=a&&a.headers&&a.headers.link,s=a&&a.headers&&a.headers["x-total-count"],i={page:e.page||1,per_page:e.per_page||10,hasNextPage:r&&-1!==r.indexOf('rel="next"'),hasPreviousPage:e.page>1,totalPages:Math.ceil(s&&parseInt(s,10)/(e.per_page||10))};t&&t(e),n(v({data:a.data,pagination:i}))}).catch(e=>{e&&e.response&&412===e.response.status?n(v({data:[],pagination:{}})):a&&a()})},x=(e,t)=>function(a,n){const i=r.a(n),o=i.configInfo,l=i.accessToken;return s.i(o,l,e).then(e=>{t&&t(e&&e.data)}).catch(e=>{u.a.notifyBugsnag(e,"AdminMembersActionCreator.fetchUploadHistoryById")})},L=(e,t,a)=>function(n,r){return o.c(e,t).then(e=>{a===d.a.MEMBERS_LIST?n(T(e.data)):a===d.a.PENDING_TEACHERS?n(k(e.data)):(a===d.a.BULK_UPLOAD||(n(T(e.data)),n(k(e.data))),n(I(e.data)))}).catch(e=>{u.a.notifyBugsnag(e,"AdminMembersActionCreator.fetchCurrentDistrictSchools")})},D=e=>function(t,a){const n=r.a(a),s=n.configInfo,o=n.accessToken;return i.a(s,o,e).then(e=>{t(A(e.data))}).catch(e=>{u.a.notifyBugsnag(e,"AdminMembersActionCreator.fetchJobDetailsSchool")})},F=(e,t,a)=>function(n,i){const o=r.a(i),l=o.configInfo,c=o.accessToken;return s.j(l,c,e).then(a=>{const r=a&&a.headers&&a.headers.link,s=a&&a.headers&&a.headers["x-total-count"],i={page:e.page||1,per_page:e.per_page||10,hasNextPage:r&&-1!==r.indexOf('rel="next"'),hasPreviousPage:e.page>1,totalPages:Math.ceil(s&&parseInt(s,10)/(e.per_page||10))};t&&t(e),n(C({data:a.data,pagination:i}))}).catch(e=>{e&&e.response&&412===e.response.status?n(C({data:[],pagination:{}})):a&&a()})},U=e=>function(t,a){const n=r.a(a),s=n.configInfo,o=n.accessToken;return i.a(s,o,e).then(e=>{t(g(e.data))}).catch(e=>{u.a.notifyBugsnag(e,"AdminMembersActionCreator.fetchSchoolById")})}},function(e,t,a){"use strict";(function(e){var t=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),n=i(a(1704)),r=i(a(4)),s=i(a(2));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function a(){return o(this,a),l(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),t(a,[{key:"render",value:function(){var e=this.props,t=function(e,t){var a=/\$\$[\s\S]+?\$\$|\\\[[\s\S]+?\\\]|\\\([\s\S]+?\\\)|\$[\s\S]+?\$/g,s=/\$\$[\s\S]+?\$\$|\\\[[\s\S]+?\\\]/g,i=function(e,a){var r=void 0;try{r=n.default.renderToString(e,"block"===a?Object.assign({displayMode:!0},t):t)}catch(s){return console.error("couldn`t convert string",e),e}return r},o=[],l=e.match(a),c=e.split(a);l?c.forEach((function(e,t){var a,n;o.push({string:e,type:"text"}),l[t]&&o.push({string:(n=l[t],"$"===n[0]&&"$"!==n[1]?n.slice(1,-1):n.slice(2,-2)),type:(a=l[t],a.match(s)?"block":"inline")})})):o.push({string:e,type:"text"});return o.map((function(e){return"text"===e.type?e.string:r.default.createElement("span",{dangerouslySetInnerHTML:{__html:i(e.string,e.type)}})}))}(e.children,{displayMode:e.displayMode,leqno:e.leqno,fleqn:e.fleqn,throwOnError:e.throwOnError,errorColor:e.errorColor,macros:e.macros,minRuleThickness:e.minRuleThickness,colorIsTextColor:e.colorIsTextColor,maxSize:e.maxSize,maxExpand:e.maxExpand,strict:e.strict,trust:e.trust});return t.unshift(null),t.unshift("span"),r.default.createElement.apply(null,t)}}]),a}(r.default.Component);c.propTypes={children:s.default.string,displayMode:s.default.bool,leqno:s.default.bool,fleqn:s.default.bool,throwOnError:s.default.bool,errorColor:s.default.string,macros:s.default.object,minRuleThickness:s.default.number,colorIsTextColor:s.default.bool,maxSize:s.default.number,maxExpand:s.default.number,strict:s.default.oneOfType([s.default.bool,s.default.string,s.default.func]),trust:s.default.oneOfType([s.default.bool,s.default.func])},c.defaultProps={children:"",displayMode:!1,output:"htmlAndMathml",leqno:!1,fleqn:!1,throwOnError:!0,errorColor:"#cc0000",macros:{},minRuleThickness:0,colorIsTextColor:!1,strict:"warn",trust:!1},e&&e.exports?e.exports=c:window.Latex=c}).call(this,a(305)(e))},function(e,t,a){},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(133),o=a(1199),l=a(134),c=a(509),d=a(332),u=a(295),h=a(511),p=a(73),m=a(194),g=a(14),f=(a(1353),a(380)),b=a(156),E=a(1203),y=a.n(E),S=a(1204);class v extends n.Component{constructor(e){super(e),this.state={languageDropdownOpen:!1,currentLanguage:d.c(e.locale)||"English (US)"},this.updateLanguage=this.updateLanguage.bind(this),this.toggleLanguageDropdown=this.toggleLanguageDropdown.bind(this)}footerLanguages(){const e=g.a.isTranslator(this.props.currentUser);return d.a.map(t=>t.for_translators&&!e?null:r.a.createElement(s.x,{key:Object(u.a)(),"data-id":t.id,onClick:()=>this.updateLanguage(t),className:"qa-test-"+t.id},t.string))}updateLanguage(e){const t=g.a.getId(this.props.currentUser);this.setState({currentLanguage:e.string}),t?this.props.userActions.updateUserLanguage(t,{locale:e.id}):this.props.translationActions.setLocale(e.id)}toggleLanguageDropdown(){this.setState({languageDropdownOpen:!this.state.languageDropdownOpen})}renderToggle(){const e=this.props.type,t=this.state.currentLanguage;switch(e){case"landing-page":return r.a.createElement(s.z,{className:"language-select-btn",caret:!0},r.a.createElement(S.a,{name:"globe-icon",color:y.a.white[0]}),r.a.createElement("span",{style:{margin:"0px 12px"}},t));case"dev-options":return r.a.createElement(s.z,{className:"language-dropdown",caret:!0},r.a.createElement("span",null,t));default:return r.a.createElement(s.z,{tag:"a",className:"note-text footer-link qa-test-language-selector"},r.a.createElement(b.default,{string:"languages",fallback:"Languages",className:"footer-link"}))}}render(){const e=this.footerLanguages();return r.a.createElement(s.w,{isOpen:this.state.languageDropdownOpen,toggle:this.toggleLanguageDropdown,direction:"down"},this.renderToggle(),r.a.createElement(s.y,{dir:"ltr"},e))}}t.a=Object(o.a)(Object(i.connect)((function(e){return{currentUser:p.c(e),locale:m.h(e)}}),(function(e){return{userActions:Object(l.bindActionCreators)(h,e),translationActions:Object(l.bindActionCreators)(f,e)}}))(Object(c.a)(v)))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1204),o=a(509),l=a(1217),c=a(1543),d=a(1207);t.a=Object(o.a)(({toggleLibraryModal:e,isStudent:t,translate:a,fromWhere:n,hasAttached:o,disabled:u})=>{const h=t?a("add-from-backpack","Add from Backpack"):a(c.a.ADD_FROM_LIB),p=["library-icon"];t&&p.push("backpack"),o&&p.push("has-active-attachments");let m=null;return m="fromReplyButton"===n?"postreply-library-attachment-icon":"fromStudentPlanner"===n?"post-student-planner-library-attachment-icon":"postbox-library-attachment-icon",l.a()?null:r.a.createElement("li",{className:"library-icon qa-test-postbox-library-attachment-icon",id:m},r.a.createElement(d.a,{"data-toggle":"modal","data-original-title":h,title:"",onClick:e,qaSelector:"qa-test-message-attachFromLibrary",disabled:u},t?r.a.createElement(i.a,{name:"backpack-icon",className:"backpack-attachment-icon"}):r.a.createElement(i.a,{name:"library-icon",className:"library-attachment-icon"})),r.a.createElement(s.lb,{trigger:"click hover",className:"tooltip",placement:"bottom",target:m,delay:0},h))})},,function(e,t,a){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},function(e,t,a){"use strict";e.exports=o;var n=a(1847),r=n.CONTINUE,s=n.SKIP,i=n.EXIT;function o(e,t,a,r){"function"===typeof t&&"function"!==typeof a&&(r=a,a=t,t=null),n(e,t,(function(e,t){var n=t[t.length-1],r=n?n.children.indexOf(e):null;return a(e,r,n)}),r)}o.CONTINUE=r,o.SKIP=s,o.EXIT=i},function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"messagePermissionsFetchSuccessAction",(function(){return Oe})),a.d(n,"messagePinPermissionsFetchSuccessAction",(function(){return _e})),a.d(n,"fetchMessagePermissions",(function(){return Me})),a.d(n,"fetchMessagePinPermissions",(function(){return Ne}));var r=a(4),s=a.n(r),i=a(42),o=a(14),l=a(371),c=a(175),d=a(95),u=a(38),h=a(439),p=a(1216),m=a(19),g=a(551),f=a(364),b=a(11),E=a.n(b),y=a(1940),S=a(1723),v=a(5),C=a.n(v),A=a(156),I=a(1724),T=a(509),k=a(512);var O=Object(T.a)(({recipients:e,creator:t,translate:a,toggleCollapse:n,collapseOpen:r,isExpandableLength:i,messageRecipients:o,disableLink:l})=>{const c=C.a.last(o),d=r?"message-recipients-full":"message-recipients";return s.a.createElement("div",{className:d},s.a.createElement("span",null,o&&o.map(e=>e.url===c.url&&c.title===e.title?s.a.createElement(k.a,{href:l?void 0:e.url,key:e.title,className:"qa-test-message-recipients message-recipients-link"},e.title):s.a.createElement("span",{key:e.title},s.a.createElement(k.a,{href:l?void 0:e.url,className:"qa-test-message-recipients"},e.title),",\xa0"))),r&&s.a.createElement(f.c,{color:"link message-recipient-collapser",className:"qa-test-stream-message-recipient-collapser",onClick:n},s.a.createElement(A.default,{string:I.a.LESS})))}),_=a(1766),M=a(1301),N=a(1244),w=a(1240),P=a(1243),R=a(1307),x=a(74),L=a(16),D=a(1203),F=a.n(D);a(1920);var U=({message:e,messageId:t,recipients:a,messageRecipients:n,displayName:r,fullName:i,creator:o})=>{let l,c=r;r===i&&(c=o.get(L.a.FIRST_NAME));const d=a.keys(),h=Object(g.a)(d).slice(0),p=C.a.last(n);return u.a.isMessagePublic(e)?l=s.a.createElement("div",null,s.a.createElement("span",{className:"recipient-spacer"},"\xb7"),s.a.createElement(N.default,{id:"public".concat(t),className:"globe-icon",size:"18px",color:F.a.gray[80]}),s.a.createElement(f.lb,{className:"tooltip recipient-icon-tooltip",placement:"top",target:"public".concat(t),delay:0,autohide:!1},s.a.createElement("span",{className:"tooltip-share-with"},s.a.createElement(A.default,{string:"shared_with",fallbackString:"Shared with"})),": ",s.a.createElement(A.default,{string:"messages,teachers_on_edmodo",fallbackString:"Teachers on Edmodo"}))):h[0]===x.a.SCHOOLS?l=s.a.createElement("div",null,s.a.createElement("span",{className:"recipient-spacer"},"\xb7"),s.a.createElement(M.default,{id:"schools".concat(t),className:"school-icon",size:"18px",color:F.a.gray[60]}),s.a.createElement(f.lb,{className:"tooltip recipient-icon-tooltip",placement:"top",target:"schools".concat(t),delay:0,autohide:!1},s.a.createElement("span",{className:"tooltip-share-with"},s.a.createElement(A.default,{string:"shared_with",fallbackString:"Shared with"})),": ".concat(c,"'s "),s.a.createElement(A.default,{string:"admin_pages,school",fallbackString:"School"}))):h[0]===x.a.CONNECTIONS?l=s.a.createElement("div",null,s.a.createElement("span",{className:"recipient-spacer"},"\xb7"),s.a.createElement(P.default,{id:"connections".concat(t),className:"network-icon",size:"18px",color:F.a.gray[60]}),s.a.createElement(f.lb,{className:"tooltip recipient-icon-tooltip",placement:"top",target:"connections".concat(t),delay:0},s.a.createElement("span",{className:"tooltip-share-with"},s.a.createElement(A.default,{string:"shared_with",fallbackString:"Shared with"})),": ".concat(c,"'s "),s.a.createElement(A.default,{string:"group_invitation,connections",fallbackString:"Connections"}))):h[0]===x.a.GROUPS?l=s.a.createElement("div",null,s.a.createElement("span",{className:"recipient-spacer"},"\xb7"),s.a.createElement(w.default,{id:"connections".concat(t),className:"class-icon",size:"18px",color:F.a.gray[60]}),s.a.createElement(f.lb,{className:"tooltip recipient-icon-tooltip",placement:"top",target:"connections".concat(t),delay:0},s.a.createElement("span",{className:"tooltip-share-with"},s.a.createElement(A.default,{string:"shared_with",fallbackString:"Shared with"})),": ",n&&n.map(e=>e.url===p.url&&p.title===e.title?s.a.createElement("span",{key:e.title},e.title):s.a.createElement("span",{key:e.title},e.title,",\xa0")))):h[0]===x.a.DISTRICTS&&(l=s.a.createElement("div",null,s.a.createElement("span",{className:"recipient-spacer"},"\xb7"),s.a.createElement(R.default,{id:"districts".concat(t),className:"district-icon",size:"18px",color:F.a.gray[60]}),s.a.createElement(f.lb,{className:"tooltip recipient-icon-tooltip",placement:"top",target:"districts".concat(t),delay:0,autohide:!1},s.a.createElement("span",{className:"tooltip-share-with"},s.a.createElement(A.default,{string:"shared_with",fallbackString:"Shared with"})),": ".concat(c,"'s "),s.a.createElement(A.default,{string:"admin_pages,district",fallbackString:"District"})))),s.a.createElement("div",{className:"recipient-icon"},l)},B=a(1926),G=a(167),j=a(1590),z=a(77),q=a(40),H=a(1519),V=a(274),W=(a(1933),a(1279));var Q=Object(W.a)(Object(T.a)(Object(H.a)({})(({messageId:e,creator:t,recipients:a,translate:n,date:r,displayName:i,currentUser:l,collapseOpen:c,fullName:d,smallAvatar:h,toggleCollapse:p,message:m,trackingContext:b,isPublic:v,streamName:C})=>{const T=e=>{let t;if(e&&(t=o.a.getUserSchoolCountryId(e),!t)){const a=o.a.getUserLocation(e);t=a&&a.split(",").pop().trim()}return t},M=G.a.generateMessageRecipients(a,t,n),N=M.messageRecipients,w=M.recipientsTitleLength,P=w>x.a.MAX_DISPLAY_LIST_LENGTH,R=o.a.isTeacher(t),D=o.a.isParent(l),F=o.a.isPublisher(t),H=o.a.isAmbassador(t),W=o.a.isStaff(t),Q=o.a.isSchool(t),Y=o.a.isDistrict(t),K=o.a.isVerifiedTeacher(t),J=o.a.getSchoolName(t),Z=q.a.isGroupStream(C),X=Z?J:T(t),$=J||T(t),ee=(new Date).getFullYear(),te=E()(r).year()!==ee?E()(r).format("MMM DD, YYYY \xb7 h:mm A"):E()(r).format("MMM DD \xb7 h:mm A"),ae=E()().diff(r,"days")>1?te:E()(r).fromNow(),ne=a.keys(),re=Object(g.a)(ne).slice(0),se=z.a.makeProfilePageUrl(l,t),ie=u.a.isPromotedMessage(m),oe=u.a.getIsModerated(m),le=u.a.getPostAt(m);let ce;if(o.a.getType(t)===L.a.ADMINISTRATOR)ce=o.a.getSchoolUrl(t)||o.a.getDistrictUrl(t);else if(o.a.isPublisher(t)){const e=ie?V.a.PROMOTED_MESSAGE:V.a.MESSAGE;ce=j.a.getPageUrl(t,e)}else ce=se;const de=()=>{if(R&&J)return s.a.createElement("span",{className:"creator-role-icon"},s.a.createElement(_.a,{isAmbassador:H,isStaff:W,isVerifiedTeacher:K,messageId:e}))},ue=e=>{if(R)return s.a.createElement("div",{className:"creator-role-location"},e&&s.a.createElement(s.a.Fragment,null,s.a.createElement(A.default,{string:I.a.TEACHER}),"\xa0\xb7\xa0",e),!e&&s.a.createElement(A.default,{string:I.a.TEACHER}))};return s.a.createElement("div",{className:"message-header w-100"},s.a.createElement(B.a,{condition:!D,wrap:e=>s.a.createElement(k.a,{href:ce,target:oe?"_blank":""},e)},s.a.createElement(y.a,{user:t,smallAvatar:h,fullname:d,isAmbassador:H,isSchool:Q,isDistrict:Y,isStaff:W,creator:t,displayName:i,currentUser:l,trackingContext:b,isGroupStream:Z,messageId:e,creatorRoleIcon:de(),creatorLocation:ue($)})),s.a.createElement("div",{className:"qa-test-message-info message-info mx-3"},s.a.createElement(B.a,{condition:!D,wrap:e=>s.a.createElement(k.a,{href:ce,target:oe?"_blank":"",className:"qa-test-creator-url"},e)},s.a.createElement(S.a,{isAmbassador:H,isSchool:Q,isDistrict:Y,isStaff:W,creator:t,displayName:i,currentUser:l,hideProfileLink:D,trackingContext:b,isGroupStream:Z,creatorRoleIcon:de(),creatorLocation:ue($)})),de(),!F&&re[0]&&!v&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null," ",s.a.createElement(A.default,{string:I.a.POSTED_TO})," "),s.a.createElement(O,{recipients:a,creator:t,toggleCollapse:p,collapseOpen:c,messageRecipients:N,recipientsTitleLength:w,disableLink:oe}),P&&!c&&s.a.createElement(f.c,{color:"link message-recipient-collapser",className:"qa-test-stream-message-recipient-collapser-".concat(e),onClick:p},s.a.createElement(A.default,{string:I.a.MORE}))),ue(X),s.a.createElement("div",{className:"message-sub-info"},le?s.a.createElement("p",{className:"timestamp body-2-text m-0 scheduled"},s.a.createElement(A.default,{string:I.a.SCHEDULED})):s.a.createElement("p",{className:"timestamp body-2-text secondary-body m-0"},ae),s.a.createElement(U,{message:m,messageId:e,messageRecipients:N,recipients:a,displayName:i,fullName:d,creator:t}))))}))),Y=a(1938),K=a(134),J=a(133),Z="post_stream,link_to_post",X="post_stream,edit_message",$="post_stream,delete_message",ee="post_stream,add_post_to_backpack",te="post_stream,added_post_to_backpack",ae="post_stream,add_post_to_library",ne="added_to_library",re="post_stream,reschedule",se="post_stream,send_now",ie=a(3),oe=a(145),le=a(64),ce=a(10),de="link-post",ue="View Message",he="admin_pages,cancel";a(1496);var pe=({toggle:e,message:t,isLinkToModalOpen:a})=>{const n=ce.a.POST,r=u.a.getId(t),i=z.a.makePublicPostUrl(n,r);return s.a.createElement("div",null,a&&s.a.createElement(f.M,{isOpen:a},s.a.createElement(f.P,null,s.a.createElement(A.default,{string:de})),s.a.createElement(f.N,null,s.a.createElement(f.D,{type:"text",name:"linkToUrl",className:"qa-test-link-to-post-input",readOnly:!0,value:i})),s.a.createElement(f.O,null,s.a.createElement(f.c,{color:"white",onClick:e,className:"qa-test-link-to-post-cancel"},s.a.createElement(A.default,{string:he})),s.a.createElement(f.c,{className:"link-to-confirm qa-test-link-to-post-confirm btn",href:i,onClick:e},ue))))},me=a(1453),ge=a(1215),fe=a(1703),be=a(1896),Ee=a(139),ye=a(1233),Se=a(1267),ve=a(1269),Ce=a(253),Ae=a(13),Ie=a(18),Te=a(25);var ke=a(36);const Oe=(e,t)=>({type:ie.a.MESSAGE_PERMISSIONS_FETCH_SUCCESS,payload:{messagePermissions:e,messageId:t}}),_e=(e,t)=>({type:ie.a.MESSAGE_PIN_PERMISSIONS_FETCH_SUCCESS,payload:{messagePinPermissions:e,messageId:t}}),Me=e=>function(t,a){return(n=e,Te.a.get(Ie.a.PERMISSIONS,{params:{[Ae.a.RESOURCE_TYPE]:n.resourceType,[Ae.a.ID]:n.messageId}})).then(a=>{t(Oe(a.data,e.messageId))}).catch(e=>{console.log(e),ke.a.notifyBugsnag(e,"PermissionActionCreator.fetchMessagePermissions")});var n},Ne=e=>function(t,a){return(n=e,Te.a.get(Ie.a.PERMISSIONS,{params:{[Ae.a.RESOURCE_TYPE]:n.resourceType,[Ae.a.ACTIONS]:"create,destroy",[Ae.a.CONTENT]:'{"message_id":'.concat(n.messageId,',"recipient_type":"').concat(n.recipientType,'","recipient_id":').concat(n.recipientId,"}")}})).then(a=>{t(_e(a.data,e.messageId))}).catch(e=>{console.log(e),ke.a.notifyBugsnag(e,"PermissionActionCreator.fetchMessagePinPermissions")});var n};var we=a(297),Pe=a(522),Re=a(162),xe=a(1647),Le=(a(1779),a(294));class De extends r.Component{constructor(e){super(e),this.state={isLinkToModalOpen:!1,isDeleteModalOpen:!1,isPublic:!1,addedTo:!1,scheduleVisible:!1,scheduleTime:{date:null,hour:null,minute:null,meridian:null},confirmationBoxModalIsOpen:!1,isPromoted:e.isPromotedPost,userInPopularTopicsAndPostsAbTest:e.abTestUtil.userInPopularTopicsAndPostsEnabledVariant(e.abTestInfo)},this.toggleLinkModal=this.toggleLinkModal.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.handleDeleteConfirm=this.handleDeleteConfirm.bind(this),this.handleDeleteClose=this.handleDeleteClose.bind(this),this.addPostToLibrary=this.addPostToLibrary.bind(this),this.showDropdownItems=this.showDropdownItems.bind(this),this.handlePinPost=this.handlePinPost.bind(this),this.toggleReschedule=this.toggleReschedule.bind(this),this.toggleSendNow=this.toggleSendNow.bind(this),this.toggleScheduleModal=this.toggleScheduleModal.bind(this),this.closeScheduleModal=this.closeScheduleModal.bind(this),this.scheduledDateChange=this.scheduledDateChange.bind(this),this.scheduledHourChange=this.scheduledHourChange.bind(this),this.scheduledMinuteChange=this.scheduledMinuteChange.bind(this),this.scheduledMeridianChange=this.scheduledMeridianChange.bind(this),this.acceptScheduleModal=this.acceptScheduleModal.bind(this),this.closeConfirmationBoxModal=this.closeConfirmationBoxModal.bind(this),this.toggleConfirmationBoxModal=this.toggleConfirmationBoxModal.bind(this),this.sendScheduledPostNow=this.sendScheduledPostNow.bind(this),this.handlePromotePost=this.handlePromotePost.bind(this)}UNSAFE_componentWillMount(){this.props.isPublic&&this.setState({isPublic:!0})}toggleLinkModal(){const e={};switch(this.props.trackingContext&&!this.state.isLinkToModalOpen&&this.props.streamTrackingActions.trackLinkToPostClick(this.props.trackingContext,e),this.props.trackingContext){case oe.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamLinkToPostClick(e,le.a.SCHOOL_COMMUNITY);break;case oe.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamLinkToPostClick(e,le.a.DISTRICT_COMMUNITY);break;case oe.a.PROFILE_PAGE_CONTEXT:this.props.profilePageTrackingActions.streamLinkToPostClick(e)}this.setState({isLinkToModalOpen:!this.state.isLinkToModalOpen})}toggleDeleteModal(){const e={};switch(this.props.trackingContext){case oe.a.HOME_PAGE_CONTEXT:this.props.homePageTrackingActions.streamOptionsDeleteToPostClick(e);break;case oe.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamDeleteMessageClick(e,le.a.SCHOOL_COMMUNITY);break;case oe.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamDeleteMessageClick(e,le.a.DISTRICT_COMMUNITY);break;case oe.a.PROFILE_PAGE_CONTEXT:this.props.profilePageTrackingActions.streamDeleteMessageClick(e)}this.setState({isDeleteModalOpen:!this.state.isDeleteModalOpen})}toggleReschedule(){let e=this.state.scheduleTime;e.date=new Date,e.hour="11",e.minute="00",e.meridian="AM",this.setState({scheduleTime:e,scheduleVisible:!0})}toggleSendNow(){this.setState({confirmationBoxModalIsOpen:!0})}showDropdownItems(e){const t={},a=o.a.isParent(this.props.currentUser);switch(this.props.trackingContext){case oe.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamPostMessageOptionsClick(t,le.a.SCHOOL_COMMUNITY);break;case oe.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamPostMessageOptionsClick(t,le.a.DISTRICT_COMMUNITY);break;case oe.a.PROFILE_PAGE_CONTEXT:this.props.profilePageTrackingActions.streamPostMessageOptionsClick(t)}if(!a){let t;this.props.permissionActions.fetchMessagePermissions({messageId:e,resourceType:"message"}),this.props.groupId?t={messageId:e,resourceType:"message_pin",recipientId:this.props.groupId,recipientType:"group"}:this.props.publisherId&&(t={messageId:e,resourceType:"message_pin",recipientId:this.props.publisherId,recipientType:"publisher_community"}),t&&this.props.permissionActions.fetchMessagePinPermissions(t)}}handleDeleteConfirm(e){e.stopPropagation(),e.preventDefault();const t=this.props,a=t.groupId,n=t.userProfileId,r=t.currentDistrictId,s=t.stream,i=t.trackingContext,o=t.streamName,l=t.childId,c=t.message,d=e.currentTarget.dataset.id,h=s&&1===s.size;let p=this.props.streamActions.fetchScheduledPosts;this.props.postActions.deletePost(d,a,n,r,i,h,l,o).then(()=>{u.a.getPostAt(c)&&p(a)}).catch(()=>{}),this.setState({isDeleteModalOpen:!1})}handleDeleteClose(e){e.stopPropagation(),e.preventDefault(),this.setState({isDeleteModalOpen:!1})}addPostToLibrary(){const e=this.props,t=e.message,a=e.currentUser,n=u.a.getId(t),r=u.a.getText(t),s=this.props.displayName,i="".concat(s,": ").concat(r),o=z.a.makeAddPostToLibraryLink(n),l=ie.a.POST,c={},d={description:r,item:{title:i,link_url:o},type:ie.a.LINK};switch(this.props.trackingContext){case oe.a.HOME_PAGE_CONTEXT:this.props.homePageTrackingActions.streamOptionsToLibraryClick(c);break;case oe.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamAddToLibraryClick(c,le.a.SCHOOL_COMMUNITY);break;case oe.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamAddToLibraryClick(c,le.a.DISTRICT_COMMUNITY);break;case oe.a.PROFILE_PAGE_CONTEXT:this.props.profilePageTrackingActions.streamAddToLibraryClick(c)}this.props.libraryActions.createLibraryItem(null,d,l,null,a),this.setState({addedTo:!0})}handlePinPost(e,t){const a=parseInt(e.currentTarget.dataset.messageid,10),n=parseInt(e.currentTarget.dataset.groupid,10),r=parseInt(e.currentTarget.dataset.publisherid,10),s=parseInt(e.currentTarget.dataset.communityid,10);let i;if(n)i={message_id:a,recipient_id:n,recipient_type:"group",streamName:this.props.streamName};else if(r)i={message_id:a,recipient_id:r,recipient_type:"publisher_community",streamName:this.props.streamName};else{if(!s)return;i={message_id:a,recipient_id:s,recipient_type:"community",streamName:this.props.streamName}}t?(this.props.postActions.unpinPost(i),this.props.setPinnedPostId(null)):(this.props.postActions.pinPost(i),this.props.setPinnedPostId(a))}toggleScheduleModal(){this.setState(e=>({scheduleVisible:!e.scheduleVisible}))}closeScheduleModal(){this.setState({scheduleVisible:!1})}scheduledDateChange(e){let t=this.state.scheduleTime;t.date=e,this.setState({scheduleTime:t})}scheduledHourChange(e){const t=parseInt(e.target.value,10);let a=this.state.scheduleTime;a.hour=t,this.setState({scheduleTime:a})}scheduledMinuteChange(e){const t=parseInt(e.target.value,10);let a=this.state.scheduleTime;a.minute=t,this.setState({scheduleTime:a})}scheduledMeridianChange(e){let t=this.state.scheduleTime;t.meridian=e.target.value,this.setState({scheduleTime:t})}acceptScheduleModal(){const e=this.props,t=e.message,a=e.groupId,n=e.streamName;let r=this.state.scheduleTime;const s=Le.e(r.date,r.hour,r.minute,r.meridian);this.setState({scheduleVisible:!1});const i=u.a.getId(t);this.props.postActions.updatePost({post_at:s},i,null,a,n)}closeConfirmationBoxModal(){this.setState({confirmationBoxModalIsOpen:!1})}toggleConfirmationBoxModal(){this.setState(e=>({confirmationBoxModalIsOpen:!e.confirmationBoxModalIsOpen}))}sendScheduledPostNow(){const e=this.props,t=e.message,a=e.groupId,n=e.streamName,r=e.userProfileId,s=e.currentDistrictId,i=e.childId,o=u.a.getId(t);let l=this.props.postActions.postDeletionSuccessAction,c=this.props.streamActions.fetchScheduledPosts;this.props.postActions.updatePost({post_at:null},o,null,a,n).then(()=>{l(o,a,r,s,i,n),c(a)}).catch(()=>{}),this.closeConfirmationBoxModal()}renderSendPostNowConfirmationMessage(){return s.a.createElement("div",null,s.a.createElement(A.default,{string:"send-post-now-confirmation-modal-message",fallbackString:"Your scheduled post will be sent to recipients immediately."}))}handlePromotePost(e,t){const a={message_id:parseInt(e.currentTarget.dataset.messageid,10)};this.setState({isPromoted:!t}),t?this.props.postActions.demotePost(a):this.props.postActions.promotePost(a)}render(){const e=this.props,t=e.message,a=e.handleEditPostClick,n=e.groupId,r=e.publisherId,i=e.communityId,l=e.isStudent,c=e.messagePermissions,d=e.isMessagePinned,h=e.isLevel5Admin,p=e.isPublic,m=e.messagePinPermissions,g=e.isPoll,b=e.isLecture,E=e.following,y=e.translate,S=e.handleFollowClick,v=e.currentUser,I=u.a.getPostAt(t),T=o.a.isParent(v),k=u.a.getId(t),O=c&&c.get(k),_=m&&m.get(k),M=void 0!==C.a.find(O,{granted:!0,action:"destroy"}),N=void 0!==C.a.find(O,{granted:!0,action:"update"}),w=void 0!==C.a.find(_,{granted:!0,action:"destroy"}),P=void 0!==C.a.find(_,{granted:!0,action:"create"}),R=s.a.createElement(A.default,{string:"modal,deleting_a_post",fallbackString:"Deleting a post permanently removes it and its contents."}),x=this.state.userInPopularTopicsAndPostsAbTest;return s.a.createElement("div",{className:"ml-3"},s.a.createElement(f.kb,{id:"message-dropdown-icon",className:"qa-test-message-dropdown-icon"},s.a.createElement(f.z,{className:"qa-test-stream-DropdownToggle-".concat(k),nav:!0,onClick:()=>this.showDropdownItems(k)},s.a.createElement(ge.default,{className:"message-dropdown-ellipsis"})),s.a.createElement(f.y,{className:"qa-test-post-options-menu rounded",id:"message-dropdown-menu",right:!0},x&&p&&h&&s.a.createElement(f.x,{className:"message menu-item","data-messageid":k,"data-message":k,onClick:e=>{this.handlePromotePost(e,this.state.isPromoted)}},this.state.isPromoted?s.a.createElement(A.default,{string:"demote",fallbackString:"Demote"}):s.a.createElement(A.default,{string:"promote",fallbackString:"Promote"})),!I&&s.a.createElement(s.a.Fragment,null,s.a.createElement(f.x,{className:"qa-test-link-to-post message menu-item",onClick:this.toggleLinkModal},s.a.createElement(A.default,{string:Z}))),N&&!g&&!b&&s.a.createElement(f.x,{className:"qa-test-edit-to-post message menu-item","data-messageid":u.a.getId(t),onClick:a},s.a.createElement(A.default,{string:X})),M&&s.a.createElement(f.x,{className:"qa-test-delete-post message menu-item",onClick:this.toggleDeleteModal},s.a.createElement(A.default,{string:$}),s.a.createElement(f.M,{isOpen:this.state.isDeleteModalOpen},s.a.createElement(me.a,{isDeleteModalOpen:this.state.isDeleteModalOpen,messageId:k,toggle:this.toggleDeleteModal,close:this.handleDeleteClose,textConstant:R,handleDeleteConfirm:this.handleDeleteConfirm}))),!I&&s.a.createElement(s.a.Fragment,null,P&&s.a.createElement(f.x,{className:"qa-test-pin-post message menu-item","data-messageid":k,"data-groupid":n,"data-publisherid":r,"data-communityid":i,onClick:e=>{this.handlePinPost(e,d)}},d&&w?s.a.createElement(A.default,{string:"unpin-post",fallbackString:"Unpin Post"}):s.a.createElement(A.default,{string:"pin-post",fallbackString:"Pin Post"})),!l&&!T&&s.a.createElement(f.x,{className:"qa-test-add-post-to-library message menu-item","data-messageid":k,onClick:this.addPostToLibrary},this.state.addedTo?s.a.createElement(A.default,{string:ne}):s.a.createElement(A.default,{string:ae})),l&&!this.state.addedTo&&s.a.createElement(f.x,{className:"qa-test-post-add-backpack message menu-item","data-messageid":k,onClick:this.addPostToLibrary},this.state.addedTo?s.a.createElement(A.default,{string:te}):s.a.createElement(A.default,{string:ee})),!T&&s.a.createElement(f.x,{className:"qa-test-post-make-notification-on-off message menu-item","data-messageid":k,"data-groupid":this.props.groupId,onClick:S,onKeyDown:S,"data-message":k,tabIndex:0,"data-following":E,id:"follow-container-"+k},E?y("turn_off_notifications_for_this_post","Turn Off Notifications For This Post"):y("turn_on_notifications_for_this_post","Turn On Notifications For This Post"))),I&&s.a.createElement(s.a.Fragment,null,s.a.createElement(f.x,{className:"qa-test-reschedule-post message menu-item","data-messageid":k,onClick:this.toggleReschedule},s.a.createElement(A.default,{string:re,fallbackString:"Reschedule"})),s.a.createElement(f.x,{className:"qa-test-send-rescheduled-post-now message menu-item","data-messageid":k,onClick:this.toggleSendNow},s.a.createElement(A.default,{string:se,fallbackString:"Send Now"}))))),s.a.createElement(pe,{message:this.props.message,toggle:this.toggleLinkModal,isLinkToModalOpen:this.state.isLinkToModalOpen}),s.a.createElement(fe.a,{toggle:this.toggleScheduleModal,isModalOpen:this.state.scheduleVisible,handleScheduledPostDateChange:this.scheduledDateChange,handleScheduledPostHourChange:this.scheduledHourChange,handleScheduledPostMinuteChange:this.scheduledMinuteChange,handleScheduledPostMeridianChange:this.scheduledMeridianChange,scheduledPostDate:this.state.scheduleTime.date,scheduledPostHours:this.state.scheduleTime.hour,scheduledPostMinutes:this.state.scheduleTime.minute,scheduledPostMeridian:this.state.scheduleTime.meridian,handleScheduledPostCTAClick:this.acceptScheduleModal,handleScheduledPostCancelClick:this.closeScheduleModal}),s.a.createElement(be.a,{isOpen:this.state.confirmationBoxModalIsOpen,title:y("send-post-now-confirmation-modal-title","Send Post Now"),messageComponent:this.renderSendPostNowConfirmationMessage(),postitiveButtonTranslateString:"send-post-now-confirmation-modal-postive-btn-title",positiveButtonFallbackString:"Send",positiveButtonHandler:this.sendScheduledPostNow,showNegativeButton:!0,negativeButtonHandler:this.closeConfirmationBoxModal,buttonColor:"primary",toggle:this.toggleConfirmationBoxModal}))}}var Fe=Object(J.connect)((function(e,t){return{messagePermissions:Re.v(e,t),messagePinPermissions:Re.w(e,t),currentDistrictId:xe.c(e)}}),(function(e){return{postActions:Object(K.bindActionCreators)(Ee,e),libraryActions:Object(K.bindActionCreators)(ye,e),homePageTrackingActions:Object(K.bindActionCreators)(Se,e),streamActions:Object(K.bindActionCreators)(Ce,e),permissionActions:Object(K.bindActionCreators)(n,e),schoolDistrictPageTrackingActions:Object(K.bindActionCreators)(we,e),streamTrackingActions:Object(K.bindActionCreators)(ve,e),profilePageTrackingActions:Object(K.bindActionCreators)(Pe,e)}}))(Object(W.a)(De));var Ue=({messageId:e,relatedTags:t,handleHashtagClick:a})=>{const n=t&&t.slice(0).sort();let r;return n.length?(n.length>2&&(r=n.splice(1)),s.a.createElement("div",{className:"intersecting-user-and-post-topics body-2-text m-2_5 pb-1 pt-2 border-bottom"},s.a.createElement("p",{className:"intersecting-topic-tags"},s.a.createElement("span",{className:"secondary-body"},s.a.createElement(A.default,{string:"topics,topics"}))," \u2022",n&&n.map((e,t)=>s.a.createElement("span",{className:"hashtag-link ml-1",key:e,onClick:()=>{a(encodeURIComponent(e))}},e)),r&&s.a.createElement("label",null,s.a.createElement("span",{className:"hashtag-show-more ml-1",id:"show-more-hashtags-"+e},s.a.createElement(A.default,{string:"plus-n-more",fallbackString:"+%{count} more",insertions:{count:r.length}})),s.a.createElement(f.lb,{className:"tooltip",innerClassName:"tooltip-overflow",placement:"top",target:"show-more-hashtags-"+e,delay:0},r.join(", ")))))):null},Be=a(1770),Ge=a(1934),je=a(1939),ze=a(1486),qe=a(1323),He=a(1784);class Ve extends r.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.handleSelectFiles,a=e.disabled;return s.a.createElement(He.a,{disabled:a,handleSelectFiles:t})}}var We=Object(qe.a)({setLastAttachedFileAsCallBackArg:!0})(Ve),Qe=a(1759),Ye=a(1619),Ke=a(1482),Je=a(1520),Ze=a(1707),Xe=a(24);a(1943);var $e=({creator:e,currentUser:t,displayName:a,contentText:n,messageId:r,message:i,recipients:l,attachments:c,smallAvatar:d,attachLinkModalOpen:u,accessToken:h,stream:p,reactionId:m,profileAvatar:g,fullName:b,liked:E,selectedLink:y,libraryModalOpen:S,handleLikeClick:v,handleFollowClick:C,handleReplyIconClick:I,handleReplyDelete:T,handleReplyTextChange:k,handleReplySubmit:O,handleEditPostCancel:_,handleEditPostSave:M,handleEditPostDismissAttachment:N,handleAttachLinkBtnClick:w,handleEditPostTextChange:P,handleEditPostAttachFileUpload:R,handleAttachLinkTextBlur:x,handleAttachLinkPaste:L,handleAttachLinkCTAClick:D,handleAttachLinkCancel:F,handleAttachLinkTitleChange:U,handleAddFromLibraryClick:B,handleAttachedLibraryFiles:G,translate:j,prevEditPostText:z,handleAttachedFilesBegin:q,filesInProgressAttaching:H,handleGifAttachmentPickerClick:V})=>{const W=o.a.isStudent(t);return s.a.createElement("div",{className:"message-body"},s.a.createElement("div",{className:"pt-4 px-2_5"},s.a.createElement(f.D,{className:"message-edit-input qa-test-message-edit-input","data-messageid":r,onFocus:P,onChange:P,type:"textarea",defaultValue:n})),void 0!==c?s.a.createElement("div",{className:"message-attachments"},s.a.createElement(ze.a,{displayName:a,creator:e,currentUser:t,recipients:l,contentText:n,attachments:c,filesInProgressAttaching:H,message:i,messageId:r,smallAvatar:d,liked:E,accessToken:h,stream:p,reactionId:m,profileAvatar:g,fullName:b,showRemove:!0,handleReplyIconClick:I,handleLikeClick:v,handleFollowClick:C,handleReplyTextChange:k,handleReplySubmit:O,handleReplyDelete:T,handleDismissClick:N})):null,s.a.createElement("div",{className:"message-edit-tools mx-2_5"},s.a.createElement("div",{className:"message-attachment-tools"},s.a.createElement(We,{messageId:r,attachedFilesBeginCb:q,name:Xe.a.POST,translate:j}),s.a.createElement(Ye.a,{messageId:r,fromWhere:"fromReplyButton",toggleLibraryModal:B,isStudent:W}),s.a.createElement(Qe.a,{messageId:r,fromWhere:"fromReplyButton",toggle:w}),s.a.createElement(Ze.a,{key:"message_gif_attachment_picker",onSelect:V})),s.a.createElement("div",{className:"message-edit-buttons"},s.a.createElement(f.c,{className:"link-to-cancel btn qa-test-message-cancel-save","data-messageid":r,"data-currentcontent":z,onClick:e=>_(e)},s.a.createElement(A.default,{string:"cancel",fallback:"Cancel"})),s.a.createElement(A.default,{className:"link-to-or-span",string:"or",fallback:"or"}),s.a.createElement(f.c,{className:"message-edit-save btn qa-test-message-edit-save","data-messageid":r,onClick:M},s.a.createElement(A.default,{string:"save",fallback:"Save"})))),s.a.createElement(Ke.a,{isModalOpen:u,selectedLink:y,messageId:r,toggle:w,handleAttachLinkTextBlur:x,handleAttachLinkPaste:L,handleAttachLinkCTAClick:D,handleAttachLinkTitleChange:U,handleAttachLinkCancelClick:F}),s.a.createElement(Je.a,{isModalOpen:S,toggle:B,attachLibraryItem:G}))},et=a(1721),tt="admin_pages,save",at="admin_pages,cancel";var nt=({creator:e,displayName:t,quiz:a,recipients:n,translate:r,handleDueDateChange:i,handleEditPostCancel:o,handleEditQuizSave:l})=>{const c=p.a.getId(a),d=p.a.getSubQuizContents(a),u=p.a.getDueDate(a),h=E()(u).format("MM/DD/YYYY"),m=p.a.getTitle(d);return s.a.createElement("div",{className:"message-body p-2_5"},s.a.createElement("div",{className:"assignment-container"},s.a.createElement("div",{className:"assignment-title py-2_5"},s.a.createElement(A.default,{string:"change-due-date",fallback:"Change due date for",className:"quiz-edit-instruction"}),s.a.createElement("strong",null,m)),s.a.createElement(et.a,{handleDateTimeChange:i,formattedDatePlaceHolder:h,dueDate:new Date(u)}),s.a.createElement("div",{className:"message-edit-tools"},s.a.createElement("div",{className:"message-edit-buttons"},s.a.createElement(f.c,{className:"link-to-cancel qa-test-message-cancel-save btn",onClick:o},s.a.createElement(A.default,{string:at})),s.a.createElement("span",{className:"link-to-or-span"}," or "),s.a.createElement(f.c,{className:"message-edit-save qa-test-message-edit-save btn","data-quizid":c,onClick:l},s.a.createElement(A.default,{string:tt}))))))},rt="admin_pages,or";var st=({creator:e,displayName:t,attachments:a,currentUser:n,contentText:r,message:i,smallAvatar:o,liked:c,accessToken:d,stream:u,assignmentContent:h,messageId:p,recipients:m,reactionId:g,profileAvatar:b,fullName:y,attachLinkModalOpen:S,selectedLink:v,libraryModalOpen:C,handleReplyIconClick:I,handleLikeClick:T,handleFollowClick:k,handleAttachLinkTextBlur:O,handleAttachLinkPaste:_,handleAttachLinkCTAClick:M,handleAttachLinkTitleChange:N,handleAttachLinkCancel:w,handleReplyTextChange:P,handleReplySubmit:R,handleReplyDelete:x,handleEditPostDismissAttachment:L,handleAssignmentTitleChange:D,handleEditPostAttachFileUpload:F,handleAttachLinkBtnClick:U,handleEditPostCancel:B,handleDueDateChange:G,handleAddFromLibraryClick:j,handleAttachedFilesBegin:z,handleAttachedLibraryFiles:q,handleAssignmentDescriptionChange:H,handleEditPostAssignmentSave:V,translate:W,filesInProgressAttaching:Q})=>{const Y=l.a.getDueDate(h),K=E()(Y).format("MM/DD/YYYY"),J=l.a.getTitle(h),Z=l.a.getDescription(h),X=l.a.getAssignmentAttachments(h);return s.a.createElement("div",{className:"message-body p-2_5"},s.a.createElement("div",{className:"assignment-container"},s.a.createElement(f.D,{className:"message-edit-input","data-messageid":p,onChange:D,type:"textarea",defaultValue:J}),s.a.createElement(f.D,{className:"message-edit-input","data-messageid":p,onChange:H,type:"textarea",defaultValue:Z}),s.a.createElement("div",{className:"assignment-datetime-edit"},s.a.createElement(et.a,{handleDateTimeChange:G,formattedDatePlaceHolder:K,dueDate:new Date(Y)})),X&&s.a.createElement(ze.a,{displayName:t,creator:e,currentUser:n,recipients:m,contentText:r,attachments:X,message:i,messageId:p,smallAvatar:o,liked:c,accessToken:d,stream:u,reactionId:g,profileAvatar:b,fullName:y,showRemove:!0,handleReplyIconClick:I,handleLikeClick:T,handleFollowClick:k,handleReplyTextChange:P,handleReplySubmit:R,handleReplyDelete:x,handleDismissClick:L,filesInProgressAttaching:Q})),s.a.createElement("div",{className:"message-edit-tools"},s.a.createElement("div",{className:"message-attachment-tools"},s.a.createElement(We,{messageId:p,attachedFilesBeginCb:z,name:Xe.a.POST,translate:W}),s.a.createElement(Qe.a,{toggle:U}),s.a.createElement(Ye.a,{toggleLibraryModal:j})),s.a.createElement("div",{className:"message-edit-buttons"},s.a.createElement(f.c,{className:"link-to-cancel qa-test-message-cancel-save btn","data-messageid":p,onClick:B},s.a.createElement(A.default,{string:"common,cancel",fallbackString:"Cancel"})),s.a.createElement("span",{className:"link-to-or-span"},s.a.createElement(A.default,{string:rt})," "),s.a.createElement(f.c,{className:"message-edit-save qa-test-message-edit-save btn","data-messageid":p,onClick:V},s.a.createElement(A.default,{string:"common,save",fallbackString:"Save"})))),s.a.createElement(Ke.a,{isModalOpen:S,selectedLink:v,messageId:p,toggle:U,handleAttachLinkTextBlur:O,handleAttachLinkPaste:_,handleAttachLinkCTAClick:M,handleAttachLinkTitleChange:N,handleAttachLinkCancelClick:w}),s.a.createElement(Je.a,{isModalOpen:C,toggle:j,attachLibraryItem:q}))};var it=({pollContent:e,selectedPollAnswer:t,messageId:a,handlePollAnswerChange:n,pollAnswerSubmit:r,showVotingOptions:i,handleFetchVoterList:o,toggleVoterListModal:l,pollVoterList:c,pollVoterListModalOpen:d,togglePollAnswerTab:u,activePollAnswertab:p,isUserCreator:m,isWellnessCheckPoll:g})=>{const b=h.a.getAnswers(e),E=b&&b.map(e=>h.a.getPollNumVotes(e)).reduce((e,t)=>e+t),y=i?s.a.createElement("div",{className:"poll-response qa-test-poll-response"},s.a.createElement("form",null,b&&b.map(e=>{const t=h.a.getPollAnswer(e),a=h.a.getPollAnswerId(e);return s.a.createElement("div",{key:a,className:"poll-response qa-test-poll-options"},s.a.createElement("div",{className:"poll-response-content"},s.a.createElement("div",null,s.a.createElement(f.D,{type:"radio",name:"poll-options",value:a,onChange:n,className:"poll-response-check qa-test-poll-response-check"})),s.a.createElement("div",{className:"poll-options"},s.a.createElement("div",{className:"poll-options-bottom-space"},s.a.createElement("strong",null,t)),s.a.createElement("div",null,s.a.createElement(f.cb,{className:"progress"})))))}),s.a.createElement(f.c,{color:"secondary",disabled:!t,onClick:r,"data-messageid":a,className:"qa-test-poll-vote"},s.a.createElement(A.default,{string:"vote",fallbackString:"Vote"})))):s.a.createElement("div",null,b&&b.map(e=>{const t=h.a.getPollAnswer(e),n=h.a.getPollAnswerId(e),r=h.a.getPollNumVotes(e);return s.a.createElement("div",{className:"poll-response qa-test-poll-response",key:n},s.a.createElement("div",{className:"poll-response-content"},s.a.createElement("div",{className:"poll-answer"},s.a.createElement("strong",null,t)),s.a.createElement("div",{className:"qa-test-vote-percentage vote-percentage"},s.a.createElement("strong",null,r&&(r/E*100).toFixed(),"%")),!!(m&&g&&E)&&s.a.createElement("div",{className:"vote-count"},s.a.createElement(f.c,{color:"secondary",outline:!0,className:"qa-test-vote-list vote-count-button","data-messageid":a,"data-pollanswerid":n,onClick:o},r," ",s.a.createElement(A.default,{string:"votes",fallbackString:"votes"})))),s.a.createElement(f.cb,{value:r/E*100,barClassName:"filled-progress-bar"}))}));return s.a.createElement("div",{className:"poll-answers-container rounded"},y)},ot=a(1682),lt=a(1944),ct=a.n(lt),dt=a(819),ut=(a(1945),a(1230));var ht=({toggleVoterListModal:e,pollVoterListModalOpen:t,voteSum:a,togglePollAnswerTab:n,activePollAnswertab:r,pollVoterList:i,pollContent:l,pollMessageId:c,messageId:d,handleLoadMorePollVoters:u})=>{const p=h.a.getAnswers(l),m=i&&i.get(r&&parseInt(r,10))||i&&i.get(r&&r.toString()),g=h.a.getVotersList(m),b=h.a.getVotersListPagination(m);return s.a.createElement("div",{className:"poll-voter-list-modal"},s.a.createElement(f.M,{isOpen:t,toggle:e,className:"poll-voter-list-modal"},s.a.createElement(f.P,{toggle:e},s.a.createElement(f.db,{className:"voter-list-heading"},s.a.createElement(A.default,{string:"total_votes",fallbackString:"%{count} Total Votes",insertions:{count:a}}))),s.a.createElement(f.N,{className:"voter-list-container"},s.a.createElement(f.db,{className:"voter-list-options-row"},s.a.createElement(f.Q,null,p&&p.map((e,t)=>{const a=h.a.getPollAnswerId(e),i=h.a.getPollAnswer(e),o=h.a.getPollNumVotes(e),l=parseInt(a,10)===parseInt(r,10)?"active-tab":"";return s.a.createElement(f.R,{key:a,className:l},s.a.createElement(f.S,{key:t,onClick:()=>{n(a)}},i&&i.split(" ")[0]&&i.split(" ")[0].replace("*","")," \xa0",s.a.createElement("span",{className:"vote-count"},o)))}))),!g&&s.a.createElement(f.eb,{activeTab:r},s.a.createElement(f.fb,{tabId:r},s.a.createElement(f.db,{className:"voter-list-content-row"},s.a.createElement(f.s,{sm:"18"},s.a.createElement("div",{className:"no-votes-message-container"},s.a.createElement(A.default,{string:"empty-filtered-stream-no-results",fallbackString:"No results found"})))))),g&&s.a.createElement(f.eb,null,s.a.createElement(f.fb,null,function(e){return e&&e.valueSeq().map(e=>{const t=o.a.getId(e),a=o.a.getFullName(e),n=o.a.getLargeAvatar(e),r=o.a.getProfileName(e),i=o.a.getVanity(e),l=z.a.getUserProfileUrl(i),c="/messages/new?new_recipient_id="+t+"&new_recipient_title="+r;return s.a.createElement(f.db,{key:t,className:"voter-list-content-row"},s.a.createElement(f.s,{sm:"1"},s.a.createElement("a",{className:"qa-test-voter-profile-link",href:l,rel:"noopener noreferrer",target:"_blank"},s.a.createElement("img",{src:n,alt:"",className:"voter-avatar"}))),s.a.createElement(f.s,{sm:"12",className:"qa-test-voter-name voter-name"},s.a.createElement("a",{className:"qa-test-voter-profile-link",href:l,rel:"noopener noreferrer",target:"_blank"},a)),s.a.createElement(f.s,{sm:"4"},s.a.createElement(dt.a,{color:"secondary","data-messageid":d,className:"qa-test-poll-vote btn btn-secondary",to:c},s.a.createElement("span",{className:"message-icon-padding"},s.a.createElement(ut.default,{color:F.a.gray[80]})),s.a.createElement(A.default,{string:"message",fallbackString:"Message"}))))})}(g))),b&&b.get("hasNextPage")&&s.a.createElement("div",{className:"pagination-container"},s.a.createElement(f.c,{color:"link",onClick:()=>u(r)},s.a.createElement(A.default,{string:"load-more",fallbackString:"Load More"}))))))},pt=a(199);var mt=Object(J.connect)((function(e){return{currentUserMemberships:pt.c(e)}}))(Object(T.a)(Object(H.a)({})(({creator:e,currentUser:t,pollContent:a,messageId:n,handleRefreshClick:r,recipients:i,handlePollAnswerChange:l,pollAnswerSubmit:c,selectedPollAnswer:d,isCommunityPost:u,handleFetchVoterList:p,pollVoterList:g,toggleVoterListModal:b,pollVoterListModalOpen:E,togglePollAnswerTab:y,activePollAnswertab:S,pollMessageId:v,handleLoadMorePollVoters:C,isWellnessCheckPoll:I,currentUserMemberships:T})=>{const k=q.a.addLineBreak(h.a.getTitle(a)),O=h.a.getAnswers(a),_=O&&O.map(e=>h.a.getPollNumVotes(e)).reduce((e,t)=>e+t),M=h.a.hasUserAnswered(a),N=o.a.getId(e),w=o.a.getId(t),P=o.a.isParent(t),R=G.a.getRecipientGroups(i),x=m.a.isOwnerOrCoTeacherInGroups(T,R),L=N!==w&&!x&&!M&&(!P||u),D=N===w||x;return s.a.createElement("div",{className:"message-body"},s.a.createElement("div",{className:"poll-container rounded p-2_5"},s.a.createElement("div",{className:"qa-test-poll-title poll-title pb-2_5"},s.a.createElement("strong",null,s.a.createElement(ot.a,{text:k}))),s.a.createElement(it,{handlePollAnswerChange:l,messageId:n,pollAnswerSubmit:c,pollContent:a,selectedPollAnswer:d,hasCurrentUserAnswered:M,creatorUserId:N,currentUserId:w,showVotingOptions:L,handleFetchVoterList:p,toggleVoterListModal:b,pollVoterListModalOpen:E,pollVoterList:g,togglePollAnswerTab:y,activePollAnswertab:S,isUserCreator:D,isWellnessCheckPoll:I}),s.a.createElement(ht,{toggleVoterListModal:b,pollVoterListModalOpen:E,voteSum:_,togglePollAnswerTab:y,activePollAnswertab:S,pollVoterList:g,pollContent:a,pollMessageId:v,messageId:n,handleLoadMorePollVoters:C}),!L&&s.a.createElement("div",{className:"total-votes float-right"},s.a.createElement("div",null,s.a.createElement(f.c,{type:"button",className:"refresh-poll-results qa-test-stream-refresh-poll-results",onClick:()=>r(n)},s.a.createElement("img",{src:ct.a,alt:"Refresh"}))),s.a.createElement("div",{className:"qa-test-total-votes-content total-votes-content"},s.a.createElement(A.default,{string:"total_votes",fallbackString:"%{count} Total Votes",insertions:{count:_}})))))})));var gt=({currentUser:e,message:t,accessToken:a,stream:n,attachments:r,attachLinkModalOpen:i,selectedLink:d,libraryModalOpen:m,handleLikeClick:g,handleFollowClick:f,handleReplyTextChange:b,handleReplySubmit:E,handleReplyUpdate:y,handleReplyDelete:S,handleReplyIconClick:v,handleEditPostCancel:C,handleEditPostTextChange:A,handleEditPostDismissAttachment:I,handleEditPostSave:T,handleEditPostAttachFileUpload:k,handleAttachLinkBtnClick:O,handleAttachedLibraryFiles:_,handleAttachLinkTextBlur:M,handleAttachLinkCancel:N,handleAddFromLibraryClick:w,handleEditQuizSave:P,handleAttachLinkPaste:R,handleAttachLinkCTAClick:x,handleAttachLinkTitleChange:L,handleDueDateChange:D,handleAssignmentTitleChange:F,handleAssignmentDescriptionChange:U,handleEditPostAssignmentSave:B,translate:G,handleAttachedFilesBegin:j,filesInProgressAttaching:z,handleGifAttachmentPickerClick:q})=>{const H=u.a.getMessageCreator(t),V=o.a.getFullName(H),W=o.a.getSmallAvatar(H),Q=u.a.getText(t),Y=u.a.getText(t),K=u.a.getRecipients(t),J=V,Z=u.a.getId(t),X=c.a.userLikedMessage(t)?1:0,$=c.a.getReactionId(t),ee=o.a.getSmallAvatar(e),te=u.a.isAssignmentMessageType(t),ae=u.a.isPollMessageType(t),ne=u.a.isQuizMessageType(t),re=u.a.isAssignmentMessageType(t)?l.a.getContent(t):null,se=u.a.isPollMessageType(t)?h.a.getContent(t):null,ie=u.a.isQuizMessageType(t)?p.a.getContent(t):null;let oe=null;return oe=te?s.a.createElement(st,{displayName:J,creator:H,currentUser:e,recipients:K,assignmentContent:re,messageId:Z,smallAvatar:W,contentText:Q,message:t,attachments:r,filesInProgressAttaching:z,liked:X,accessToken:a,stream:n,reactionId:$,profileAvatar:ee,fullName:V,attachLinkModalOpen:i,selectedLink:d,libraryModalOpen:m,handleReplyTextChange:b,handleReplySubmit:E,handleReplyIconClick:v,handleReplyUpdate:y,handleLikeClick:g,handleFollowClick:f,handleReplyDelete:S,handleEditPostCancel:C,handleEditPostDismissAttachment:I,handleEditPostAttachFileUpload:k,handleAttachedFilesBegin:j,handleAttachLinkBtnClick:O,handleAttachLinkTextBlur:M,handleAttachLinkPaste:R,handleAttachLinkCTAClick:x,handleAttachLinkTitleChange:L,handleAttachLinkCancel:N,handleAddFromLibraryClick:w,handleAttachedLibraryFiles:_,handleDueDateChange:D,handleAssignmentTitleChange:F,handleAssignmentDescriptionChange:U,handleEditPostAssignmentSave:B,translate:G}):ne?s.a.createElement(nt,{displayName:J,creator:H,currentUser:e,recipients:K,quiz:ie,messageId:Z,handleReplyTextChange:b,handleReplySubmit:E,handleDueDateChange:D,handleEditQuizSave:P,handleEditPostCancel:C,translate:G}):ae?s.a.createElement(mt,{displayName:J,creator:H,currentUser:e,recipients:K,pollContent:se,messageId:Z,handleReplyTextChange:b,handleReplySubmit:E}):s.a.createElement($e,{smallAvatar:W,displayName:J,creator:H,currentUser:e,recipients:K,contentText:Q,prevEditPostText:Y,message:t,messageId:Z,attachments:r,filesInProgressAttaching:z,liked:X,accessToken:a,stream:n,reactionId:$,profileAvatar:ee,fullName:V,attachLinkModalOpen:i,selectedLink:d,libraryModalOpen:m,handleReplyTextChange:b,handleReplySubmit:E,handleReplyIconClick:v,handleLikeClick:g,handleFollowClick:f,handleReplyDelete:S,handleEditPostCancel:C,handleEditPostTextChange:A,handleEditPostDismissAttachment:I,handleEditPostAttachFileUpload:k,handleAttachedFilesBegin:j,handleEditPostSave:T,handleAttachLinkBtnClick:O,handleAttachLinkTextBlur:M,handleAttachLinkPaste:R,handleAttachLinkCTAClick:x,handleAttachLinkTitleChange:L,handleAttachLinkCancel:N,handleAddFromLibraryClick:w,handleAttachedLibraryFiles:_,translate:G,handleGifAttachmentPickerClick:q}),oe},ft=a(0),bt=a(1925),Et=a(1783);var yt=Object(T.a)(Object(H.a)({})(({contentText:e,isCurrentUserInHashTagABTest:t,creator:a,messageCreatorLocaleDifferent:n,handleDynamicTranslationClick:r,messageId:i,translatedText:o,handleShowOriginalTranslationTextClick:l,isTranslationDisplayed:c,attachments:d,history:h})=>{const p=u.a.getAttachedMessage(d);return s.a.createElement("div",{className:"message-body px-2_5"},s.a.createElement("div",{className:"content-container pt-3 pb-2_5"},s.a.createElement(bt.a,{contentText:e,translatedText:o,isCurrentUserInHashTagABTest:t,isTranslationDisplayed:c})),p&&p.map(e=>{const t=u.a.getMessageId(e),a={item:e};return s.a.createElement("div",{className:"display-as-shared-post rounded",key:t,onClick:()=>(e=>{const t=ce.a.POST;h.push("".concat(t,"/").concat(e))})(t)},s.a.createElement(ba,{message:Object(ft.fromJS)(a),toBeSharedInPost:!0}))}),n&&s.a.createElement(Et.a,{active:c,makeActiveBtnText:s.a.createElement(A.default,{string:"translate",fallbackString:"Translate"}),makeInactiveBtnText:s.a.createElement(A.default,{string:"show_original",fallbackString:"Show Original"}),handleMakeActiveClick:r,handleMakeInactiveClick:l,makeInactiveOptions:{isTranslationDisplayed:!1,uid:i},makeActiveOptions:{isTranslationDisplayed:!0,contentText:e},makeInactiveQaSelector:"qa-test-message-untranslate-btn",makeActiveQaSelector:"qa-test-message-translate-btn",dataSet:{"data-message-id":i}}))})),St="post_stream,open_assignment",vt="ungraded",Ct="submissions,teacher-submission,tabs,graded",At="post_stream,not_yet_graded",It="submissions,assignment-detail,due",Tt=a(367);var kt=Object(J.connect)((function(e){return{abTestInfo:Tt.a(e)}}))(({assignmentContent:e,currentUser:t,abTestInfo:a})=>{const n=E()(l.a.getDueDate(e)).format("MMMM DD, YYYY, h:mm a"),r=l.a.getNumOfSubmissions(e),i=o.a.getUserId(t),c=l.a.getItemId(e),d=l.a.hasSubmitted(e),u=l.a.hasBeenGraded(e),h=E()(l.a.gradedAt(e)).format("MMM Do YY"),p=l.a.assignmentGradeScore(e),m=l.a.assignmentGradeTotal(e),g=l.a.getUserCanGrade(e,t),b=e.get("item").get("timeline_id");return s.a.createElement("div",null,o.a.isTeacher(t)&&g&&s.a.createElement("div",{className:"overview"},s.a.createElement(dt.a,{to:z.a.makeAssignmentGradingOverviewUrl(c,i)},s.a.createElement(f.c,{outline:!0,color:"primary",className:"qa-test-open-assignment-btn"},s.a.createElement(A.default,{string:vt,fallbackString:"Turned In"})," ","(",r||0,")")),s.a.createElement("span",{className:"assignment-due-date"},s.a.createElement(A.default,{string:It,fallbackString:"Due:"})," ",n)),(o.a.isStudent(t)&&!d&&!u||o.a.isTeacher(t)&&!g)&&s.a.createElement("div",{className:"overview"},s.a.createElement(dt.a,{to:z.a.makeAssignmentSubmissionPageUrl(b)},s.a.createElement(f.c,{outline:!0,color:"primary"},s.a.createElement(A.default,{string:St,fallbackString:"Open Assignment"}))),s.a.createElement("span",{className:"assignment-due-date"},s.a.createElement(A.default,{string:It,fallbackString:"Due:"})," ",n)),o.a.isStudent(t)&&d&&!u&&s.a.createElement("div",null,s.a.createElement(dt.a,{to:z.a.makeAssignmentSubmissionPageUrl(b)},s.a.createElement(f.c,{outline:!0,color:"primary"},s.a.createElement(A.default,{string:vt,fallbackString:"Turned In"}))),s.a.createElement("span",{className:"assignment-due-date"},s.a.createElement(A.default,{string:At,fallbackString:"Not yet graded..."}))),o.a.isStudent(t)&&d&&u&&s.a.createElement("div",null,s.a.createElement(dt.a,{to:z.a.makeAssignmentSubmissionPageUrl(b)},s.a.createElement(f.c,{outline:!0,color:"primary"},s.a.createElement(A.default,{string:Ct,fallbackString:"Graded"}))),s.a.createElement("div",{className:"assignment-graded"},s.a.createElement("span",{className:"assignment-due-date"},h),s.a.createElement("span",{className:"assignment-grade"},p," / ",m))))}),Ot=a(1663);var _t=Object(T.a)(Object(H.a)({})(({creator:e,displayName:t,fullName:a,assignmentContent:n,messageId:r,recipients:i,attachments:o,currentUser:c,contentText:d,message:u,smallAvatar:h,liked:p,accessToken:m,stream:g,reactionId:f,profileAvatar:b,handleReplyIconClick:E,handleLikeClick:y,handleReplyTextChange:S,handleReplySubmit:v,handleFollowClick:C,handleReplyDelete:A,toggleCollapse:I,collapseOpen:T,translate:k})=>{const O=l.a.getTitle(n),_=l.a.getDescription(n),M=l.a.getAssignmentAttachments(n);return s.a.createElement("div",{className:"message-body px-2_5 pt-2_5"},s.a.createElement("div",{className:"assignment-container"},s.a.createElement("div",{className:"assignment-title qa-test-post-stream-title pb-2_5"},s.a.createElement("strong",null,O)),s.a.createElement("div",{className:"assignment-info rounded mb-2_5"},s.a.createElement("div",{className:"assignment-header qa-test-assignment-header p-2_5"},s.a.createElement(kt,{assignmentContent:n,currentUser:c})),s.a.createElement("div",{className:"assignment-description p-2_5"},s.a.createElement(ot.a,{text:_}))),M&&s.a.createElement(Ot.a,{accessToken:m,attachments:M,contentText:d,creator:e,currentUser:c,displayName:t,fullName:a,handleReplyIconClick:E,handleLikeClick:y,handleFollowClick:C,handleReplyTextChange:S,handleReplySubmit:v,handleReplyDelete:A,liked:p,message:u,messageId:r,profileAvatar:b,reactionId:f,recipients:i,showRemove:!1,smallAvatar:h,stream:g})))})),Mt=a(1470),Nt=a.n(Mt),wt="ungraded",Pt="take-quiz",Rt="submissions,assignment-detail,due",xt="view-submission",Lt=a(333);var Dt=Object(T.a)(Object(H.a)({})(({creator:e,currentUser:t,quiz:a,abTests:n})=>{const r=o.a.getId(e),i=o.a.getId(t),l=E()(p.a.getDueDate(a)).format("MMMM Do YYYY, h:mm a"),c=p.a.getSubQuizContents(a),d=p.a.getId(a),u=p.a.hasSubmissions(a)?p.a.getNumberOfSubmissions(a):0,h=c&&c.get(Lt.a.NUM_QUESTIONS),m=p.a.getTitle(c),g=p.a.getDescription(c),b=1===h?"Question":"Questions",y=p.a.hasBeenGraded(a),S=y&&E()(p.a.gradedAt(a)).format("MMM Do YY"),v=y&&p.a.getGrade(a),C=p.a.getUserCanGrade(a),I=z.a.makeQuizGradeUrl(d);return s.a.createElement("div",{className:"message-body px-2_5"},s.a.createElement("div",{className:"quiz-container"},s.a.createElement("div",{className:"quiz-title qa-test-post-stream-title"},s.a.createElement("strong",null,s.a.createElement(Nt.a,{source:m}))),s.a.createElement("div",{className:"quiz-info rounded my-2_5"},s.a.createElement("div",{className:"quiz-header qa-test-quiz-header"},(r===i||C)&&s.a.createElement("div",{className:"overview p-2_5"},s.a.createElement(f.c,{outline:!0,color:"primary",tag:"a",href:I},s.a.createElement(A.default,{string:wt})," ","(",u,")"),s.a.createElement("span",{className:"quiz-due-date"},s.a.createElement(A.default,{string:Rt})," ",l)),r!==i&&!y&&!C&&s.a.createElement("div",{className:"overview"},s.a.createElement(f.c,{outline:!0,color:"primary",tag:"a",href:z.a.makeQuizTakeUrl(d)},s.a.createElement(A.default,{string:Pt})),s.a.createElement("span",{className:"quiz-due-date"},s.a.createElement(A.default,{string:Rt})," ",l)),r!==i&&!C&&y&&s.a.createElement("div",null,s.a.createElement(f.c,{outline:!0,color:"primary",tag:"a",href:z.a.makeQuizTakeUrl(d)},s.a.createElement(A.default,{string:xt,fallbackString:"Quiz Results"})),s.a.createElement("div",{className:"quiz-graded"},s.a.createElement("span",{className:"quiz-due-date"},S),s.a.createElement("span",{className:"quiz-grade"},v)))),s.a.createElement("div",{className:"quiz-description p-2_5"},s.a.createElement("strong",null,h," ",b," - "),s.a.createElement("span",{className:"quiz-description-subtext"},s.a.createElement(Nt.a,{source:g}))))))})),Ft=a(1936),Ut=a(1781),Bt=a(1924),Gt=a(1205),jt=a(1199),zt=a(273),qt=a(35),Ht=a.n(qt),Vt=a(1968);let Wt=!0;window.onblur=function(){Wt=!1},window.onfocus=function(){Wt=!0},document.onblur=window.onblur,document.focus=window.focus;a(1967);const Qt=[.3,.6],Yt=({entry:e,visibility:t,partialTimeInView:a,timeInView:n})=>{let r="danger";return"partially-visible"===t?r="warning":"fully-visible"===t&&(r="success"),s.a.createElement(f.b,{color:r,className:"visibility-tracker-debug"},e&&"[".concat(t,"] Partial: ").concat(a,". Full: ").concat(n))};var Kt=({children:e,trackingContext:t,messageId:a,messageIndex:n,addMessageVisibilityInfo:i,debug:o})=>{const l=Object(Vt.a)({threshold:Qt}),c=Object(zt.a)(l,3),d=c[0],u=(c[1],c[2]),h=Object(r.useState)(0),p=Object(zt.a)(h,2),m=p[0],g=p[1],f=Object(r.useState)(0),b=Object(zt.a)(f,2),E=b[0],y=b[1],S=Object(r.useState)("not-visible"),v=Object(zt.a)(S,2),C=v[0],A=v[1],I=(e=>{let t="not-visible";return e&&e.intersectionRatio>.3&&e.intersectionRatio<.6?t="partially-visible":e&&e.intersectionRatio>=.6&&(t="fully-visible"),t})(u);Object(r.useEffect)(()=>{let e;return"not-visible"!==C&&(e=setInterval(()=>{Wt&&("fully-visible"===C?g(e=>e+1):y(e=>e+1))},1e3)),()=>{clearInterval(e)}},[C]),Object(r.useEffect)(()=>{i(t,a,{partialTimeInView:E,timeInView:m,messageIndex:n})},[i,t,a,E,m,n]),I!==C&&A(I);const T=Ht()("visibility-tracker",{"visibility-tracker-not-visible":o&&"not-visible"===I,"visibility-tracker-partial":o&&"partially-visible"===I,"visibility-tracker-visible":o&&"fully-visible"===I});return s.a.createElement("div",{className:T,ref:d},o&&s.a.createElement(Yt,{entry:u,visibility:C,partialTimeInView:E,timeInView:m}),e)},Jt=a(327);var Zt=Object(J.connect)((function(e){return{abTestInfo:Tt.a(e)}}))(Object(jt.a)(e=>{const t=e.children,a=e.abTestInfo,n=e.location,r=e.addMessageVisibilityInfo,i=Jt.a.isUserInMessageVisibilityTrackingTest(a),o=n.search.includes("visibilityTrackerDebug");return i&&r?s.a.createElement(Kt,Object.assign({},e,{debug:o})):t}));a(1969);class Xt extends s.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props.date||new Date,t=E()(e).format("MMMM DD, YYYY, h:mm a");return s.a.createElement("div",{className:"scheduled-post-foot"},s.a.createElement("div",{className:"post-date-image"}),s.a.createElement("div",{className:"post-date-text"},t))}}var $t=Xt,ea=a(1204),ta=a(75),aa=a(1),na=a(20),ra=a(256),sa=a(15),ia=a(212),oa=a(1786),la=a(1801),ca=a(1727),da=a(1284),ua=a(436),ha=a(73),pa=a(296),ma=a(1705);var ga=e=>{class t extends r.Component{constructor(e,t){super(e,t),this.state={isShareModalOpen:!1,isVideoAttachmentModalOpen:!1,currentVideoPosition:0,currentVideoIndex:null,showingMoreReplies:!1,showMoreRepliesId:null,activePollAnswertab:null,pollMessageId:null,isEmailVerificationModalOpen:!1},this.toggleShareModal=this.toggleShareModal.bind(this),this.closeShareModal=this.closeShareModal.bind(this),this.toggleVideoAttachmentModal=this.toggleVideoAttachmentModal.bind(this),this.setCurrentVideoPosition=this.setCurrentVideoPosition.bind(this),this.setCurrentSelectedEmbedId=this.setCurrentSelectedEmbedId.bind(this),this.handleLikeClick=this.handleLikeClick.bind(this),this.handlerOptions=this.handlerOptions.bind(this),this.showMoreRepliesCompleted=this.showMoreRepliesCompleted.bind(this),this.handleShowMoreRepliesClick=this.handleShowMoreRepliesClick.bind(this),this.handlefetchPollVotes=this.handlefetchPollVotes.bind(this),this.toggleVoterListModal=this.toggleVoterListModal.bind(this),this.togglePollAnswerTab=this.togglePollAnswerTab.bind(this),this.handleLoadMorePollVoters=this.handleLoadMorePollVoters.bind(this),this.trackLoggedOutLikeClick=this.trackLoggedOutLikeClick.bind(this),this.trackLoggedOutShareClick=this.trackLoggedOutShareClick.bind(this),this.toggleEmailVerificationModal=this.toggleEmailVerificationModal.bind(this)}toggleShareModal(){this.setState({isShareModalOpen:!this.state.isShareModalOpen})}closeShareModal(){this.setState({isShareModalOpen:!1})}toggleVideoAttachmentModal(e){const t=this.props,a=t.trackingContext,n=t.videoAttachmentModalTrackingActions,r=t.message;if(!this.state.isVideoAttachmentModalOpen){const e=u.a.getId(r);n.trackVideoAttachmentModalDisplay(a,{original_message_id:e})}this.setState({isVideoAttachmentModalOpen:!this.state.isVideoAttachmentModalOpen,currentSelectedEmbedId:e})}setCurrentSelectedEmbedId(e){this.setState({currentSelectedEmbedId:e})}setCurrentVideoPosition(e,t){this.setState({currentVideoPosition:e,currentVideoIndex:t})}handlerOptions(e){const t=this.props;return{e:e,currentUser:t.currentUser,accessToken:t.accessToken,stream:t.stream,replyActions:t.replyActions,postActions:t.postActions,inorganicPostTrackingActions:t.inorganicPostTrackingActions}}handleLikeClick(e){const t=ua.b(e.currentTarget.dataset.message),a=ua.b(e.currentTarget.dataset.reply),n={liked:1===ua.b(e.currentTarget.dataset.liked)?"false":"true",is_promoted_message:"true"===e.currentTarget.dataset.ispromotedmessage,message_id:t,reply_id:a};let r=Object.assign({},this.handlerOptions(e));(q.a.isProfileStream(this.props.streamName)||q.a.isProfileRepliesStream(this.props.streamName))&&(r=Object.assign({},r,{userProfileId:this.props.userProfileId})),this.props.fromDiscoverPage&&(r=Object.assign({},r,{fromDiscoverPage:this.props.fromDiscoverPage,publisherId:this.props.publisherId}),this.props.discoverPageTracking.discoverPageLikeClick(Object(sa.a)({},n,{publisherId:this.props.publisherId}))),ca.a.handleLikeClick(r,this.props.streamName),this.props.trackingContext&&this.props.streamTrackingActions.trackLikeClick(this.props.trackingContext,n)}trackLoggedOutLikeClick(e){const t=e.props.messageid,a=e.props.messagetext,n={message_id:t,hashtags_in_string:da.a(a)&&da.a(a).join(",")};this.props.trackingContext&&this.props.streamTrackingActions.trackLikeClick(this.props.trackingContext,n)}trackLoggedOutShareClick(e){const t=e.props.messageid,a=e.props.messagetext,n={message_id:t,hashtags_in_string:da.a(a)&&da.a(a).join(",")};this.props.trackingContext&&this.props.streamTrackingActions.trackShareModalDisplay(this.props.trackingContext,n)}showMoreRepliesCompleted(){this.setState({showingMoreReplies:!1})}handleShowMoreRepliesClick(e){e.preventDefault(),e.stopPropagation();const t=parseInt(e.currentTarget.dataset.message,10),a=parseInt(e.currentTarget.dataset.maxreply,10)-1,n=d.a.fetchMoreRepliesParams();n.message_id=t,n.max_id=a,this.setState({showingMoreReplies:!0,showMoreRepliesId:t}),this.props.streamTrackingActions.trackShowMoreRepliesClick(this.props.trackingContext),this.props.replyActions.fetchMoreReplies(n,t,null,this.showMoreRepliesCompleted,this.props.userProfileId,this.props.streamName)}handlefetchPollVotes(e){e.preventDefault();const t=this.props.message,a=u.a.getPollVotes(t);if(!a||!a.get(e.currentTarget.dataset.pollanswerid)){const t=this.props,a=t.groupId,n=t.userProfileId,r=t.streamName,s={poll_answer_id:e.currentTarget.dataset.pollanswerid};this.props.pollActions.fetchPollVotes(s,e.currentTarget.dataset.messageid,a,n,r)}this.setState({pollVoterListModalOpen:!this.state.pollVoterListModalOpen,activePollAnswertab:e.currentTarget.dataset.pollanswerid,pollMessageId:e.currentTarget.dataset.messageid});const n={message_id:e.currentTarget.dataset.messageid,poll_answer_id:e.currentTarget.dataset.pollanswerid};this.props.streamTrackingActions.trackPollVoterListModalDisplay(this.props.trackingContext,n)}toggleVoterListModal(){this.setState({pollVoterListModalOpen:!this.state.pollVoterListModalOpen,activePollAnswertab:null,pollMessageId:null})}togglePollAnswerTab(e){if(this.state.activePollAnswertab!==e){const t=this.props.message,a=u.a.getPollVotes(t);if(!a||!a.get(e.toString())){const a=this.props,n=a.groupId,r=a.userProfileId,s=a.streamName,i={poll_answer_id:e};this.props.pollActions.fetchPollVotes(i,u.a.getId(t),n,r,s)}this.setState({activePollAnswertab:e});const n={message_id:u.a.getId(t),poll_answer_id:e};this.props.streamTrackingActions.trackTogglePollVoterListAnswers(this.props.trackingContext,n)}}handleLoadMorePollVoters(e){const t=this.props,a=t.groupId,n=t.userProfileId,r=t.streamName,s=this.props.message,i=u.a.getPollVotes(s).get("pagination"),o={poll_answer_id:e,page:i&&i.get("currentPage")+1};this.props.pollActions.fetchPollVotes(o,u.a.getId(s),a,n,r);const l={message_id:u.a.getId(s),poll_answer_id:e};this.props.streamTrackingActions.trackPollVoterListAnswersLoadMoreClick(this.props.trackingContext,l)}toggleEmailVerificationModal(){this.setState({isEmailVerificationModalOpen:!this.state.isEmailVerificationModalOpen})}render(){return s.a.createElement(e,Object.assign({},this.props,this.state,{toggleShareModal:this.toggleShareModal,closeShareModal:this.closeShareModal,toggleVideoAttachmentModal:this.toggleVideoAttachmentModal,currentSelectedEmbedId:this.state.currentSelectedEmbedId,setCurrentVideoPosition:this.setCurrentVideoPosition,setCurrentSelectedEmbedId:this.setCurrentSelectedEmbedId,handleLikeClick:this.handleLikeClick,handleShowMoreRepliesClick:this.handleShowMoreRepliesClick,handleFetchVoterList:this.handlefetchPollVotes,toggleVoterListModal:this.toggleVoterListModal,pollVoterListModalOpen:this.state.pollVoterListModalOpen,togglePollAnswerTab:this.togglePollAnswerTab,activePollAnswertab:this.state.activePollAnswertab,pollMessageId:this.state.pollMessageId,handleLoadMorePollVoters:this.handleLoadMorePollVoters,trackLoggedOutLikeClick:this.trackLoggedOutLikeClick,trackLoggedOutShareClick:this.trackLoggedOutShareClick,toggleEmailVerificationModal:this.toggleEmailVerificationModal}))}}return Object(J.connect)((function(e){return{oneEyeTests:ha.y(e),abTestPlacementInfo:Tt.a(e),authenticationStatus:pa.a(e)}}),(function(e){return{postActions:Object(K.bindActionCreators)(Ee,e),replyActions:Object(K.bindActionCreators)(ia,e),streamTrackingActions:Object(K.bindActionCreators)(ve,e),videoAttachmentModalTrackingActions:Object(K.bindActionCreators)(oa,e),discoverPageTracking:Object(K.bindActionCreators)(ma,e),pollActions:Object(K.bindActionCreators)(la,e)}}))(t)};a(1706);const fa=Object(i.a)(()=>Promise.all([a.e(10),a.e(29),a.e(31),a.e(316)]).then(a.bind(null,3028)));var ba=t.a=Object(T.a)(ga(({currentUser:e,currentGroupMembership:t,message:a,accessToken:n,stream:r,streamName:i,reducerName:g,groupId:f,communityId:b,publisherId:E,editPostId:y,dismissedAttachmentIds:S,attachLinkModalOpen:v,selectedLink:C,replyIconId:A,disableReplyMultipleGroups:I,groupMembershipsWithWriteAccess:T,libraryModalOpen:k,replyIconClicked:O,imageModalOpen:_,showingMoreReplies:M,showMoreRepliesId:N,pinnedPostId:w,handleLikeClick:P,handleFollowClick:R,showPinnedPosts:x,handleShowMoreRepliesClick:L,handleReplyIconClick:D,handleReplyIconReset:U,handleEditPostClick:B,handleEditPostCancel:j,handleEditPostTextChange:z,handleEditPostSave:q,handleEditPostDismissAttachment:H,handleEditPostAttachFileUpload:V,handleAttachLinkBtnClick:W,handleAttachLinkTitleChange:K,handleAttachLinkTextBlur:J,handleAttachLinkPaste:Z,handleAttachLinkCancel:X,handleAttachLinkCTAClick:$,handleAddFromLibraryClick:ee,handleAttachedLibraryFiles:te,handleDueDateChange:ae,handleEditQuizSave:ne,handleAssignmentTitleChange:re,handleAssignmentDescriptionChange:se,handleEditPostAssignmentSave:oe,streamTrackingActions:le,translate:ce,handlePollAnswerChange:de,pollAnswerSubmit:ue,selectedPollAnswer:he,trackingContext:pe,setPinnedPostId:me,isModal:ge,singlePost:fe,handleModalReplyIconClick:be,handleAttachedFilesBegin:Ee,filesInProgressAttaching:ye,handleRefreshClick:Se,isReplyDisabled:ve,index:Ce,handleMessageTeacherBtnClick:Ae,currentUserCompactRecipients:Ie,userProfileId:Te,childId:ke,handleHashtagClick:Oe,topicsList:_e,currentfilter:Me,isCurrentUserInHashTagABTest:Ne,currentHashtagOnHomePage:we,isShareModalOpen:Pe,toggleShareModal:Re,isVideoAttachmentModalOpen:xe,toggleVideoAttachmentModal:Le,currentSelectedEmbedId:De,displayVideoAttachmentModal:ze,setCurrentVideoPosition:qe,currentVideoPosition:He,currentVideoIndex:Ve,setCurrentSelectedEmbedId:We,oneEyeTests:Qe,dynamicTranslations:Ye,handleDynamicTranslationClick:Ke,handleShowOriginalTranslationTextClick:Je,abTestPlacementInfo:Ze,isCurrentUserInSharingRedesignABTest:Xe,currentUserProfile:$e,fromDiscoverPage:et,handleSaveClick:tt,isVideoSaved:at,toBeSharedInPost:nt,handleFetchVoterList:rt,toggleVoterListModal:st,pollVoterListModalOpen:it,togglePollAnswerTab:ot,activePollAnswertab:lt,pollMessageId:ct,handleLoadMorePollVoters:dt,closeShareModal:ut,groupColor:ht,history:pt,trackLoggedOutLikeClick:ft,trackLoggedOutShareClick:bt,isInteractionsDisabled:Et,authenticationStatus:St,addMessageVisibilityInfo:vt,isEmailVerificationModalOpen:Ct,toggleEmailVerificationModal:At,isSchoolAdminReadOnly:It,handleGifAttachmentPickerClick:Tt,attachedMultimediaItems:kt})=>{const Mt=u.a.getAttachments(a),Nt=u.a.getEditingAttachments(a,kt),wt=u.a.getAttachedMessage(Mt),Pt=u.a.getMessageCreator(a),Rt=u.a.getPollVotes(a),xt=o.a.getId(Pt),Lt=u.a.getRecipients(a),jt=u.a.getRecipientTypes(a),zt=u.a.getText(a),qt=u.a.getId(a),Ht=u.a.getDate(a),Vt=u.a.getRelatedTags(a),Wt=u.a.getIsModerated(a),Qt=c.a.userLikedMessage(a)?1:0,Yt=c.a.userIsFollowingMessage(a)?1:0,Kt=c.a.getReactionId(a),Jt=d.a.getNumberOfMessageReplies(a),Xt=o.a.getFullName(Pt),sa=o.a.getDisplayName(Pt),ia=o.a.getLargeAvatar(Pt),oa=o.a.isStudent(e),la=o.a.isParent(e),ca=o.a.isTeacher(e),da=o.a.isLevel5Admin(e),ua=o.a.getLargeAvatar(e),ha=o.a.getSchoolName(Pt),pa=u.a.isMessagePublic(a),ma=u.a.isPromotedMessage(a),ga=o.a.isEmailVerified(e),ba=i===aa.a.TOPIC_STREAM,Ea=G.a.getRecipientGroups(Lt),ya=u.a.getPostAt(a),Sa=o.a.isUserLoggedIn(St);let va=u.a.canReply(a),Ca=G.a.userIsReadOnlyGroupRecipient(Ea);const Aa=o.a.isVerifiedTeacher(e),Ia=G.a.isCommunityPost(Lt),Ta=ca&&!Aa&&Ia,ka=la&&jt&&jt.some(e=>G.a.isRecipientTypeGroup(e)),Oa=la&&!u.a.isPublisherMessage(a)&&jt&&jt.some(e=>G.a.isRecipientTypeUser(e)),_a=ka||Oa,Ma=ra.a.getTranslationById(Ye,qt),Na=ra.a.getTranslationIsDisplayedById(Ye,qt),wa=u.a.isMessageCreatorLocaleDifferent(a,e),Pa=u.a.isWellnessCheckPoll(a);va=va&&!I&&!(oa&&jt&&jt.some(e=>G.a.isRecipientTypePublicSchoolOrDistrict(e)))&&!_a&&!m.a.isReadOnlyMember(t)&&!Ta&&!Ca&&!Et&&!ya&&!nt&&Sa,ca&&!ga&&ba&&(va=!1),va=va||ca&&!ga&&pa;const Ra=y===qt;let xa,La,Da,Fa,Ua=!1,Ba=!1,Ga=!1,ja=!1,za=!1,qa=!1,Ha=!1,Va=!1;u.a.isNoteMessageType(a)?Ua=!0:u.a.isAssignmentMessageType(a)?(ja=!0,xa=l.a.getContent(a)):u.a.isPollMessageType(a)?(za=!0,La=h.a.getContent(a)):u.a.isQuizMessageType(a)?(qa=!0,Da=p.a.getContent(a)):u.a.isNoteShareableItemType(a)||u.a.isShareableItemMessage(a)?Ha=!0:u.a.isTimelineMessageType(a)?Ba=!0:u.a.isTemplateMessage(a)?Ga=!0:u.a.isLectureMessageType(a)&&(Va=!0,Fa=u.a.getLectureContent(a));let Wa=null;if(M&&qt===N){const t=d.a.getMoreMessageReplies(a);Wa=t&&t.map(t=>s.a.createElement(Be.a,{canReply:va,key:t&&t.get(ie.a.ID),message:a,reply:t,currentUser:e,messageId:qt,profileAvatar:ua,accessToken:n,stream:r,reactionId:Kt,displayName:sa,creator:Pt,recipients:Lt,contentText:zt,liked:Qt,replyLocation:ie.a.MORE_REPLIES,handleLikeClick:P,handleFollowClick:R,handleReplyIconClick:D,userProfileId:Te,childId:ke,currentHashtagOnHomePage:we,streamName:i,dynamicTranslations:Ye,handleDynamicTranslationClick:Ke,handleShowOriginalTranslationTextClick:Je}))}let Qa=null;if(ja)Qa=s.a.createElement(_t,{displayName:sa,creator:Pt,currentUser:e,recipients:Lt,assignmentContent:xa,messageId:qt,attachments:Mt,contentText:zt,message:a,smallAvatar:ia,liked:Qt,accessToken:n,stream:r,handleLikeClick:P,handleReplyIconClick:D,fullName:Xt});else if(qa)Qa=s.a.createElement(Dt,{displayName:sa,creator:Pt,currentUser:e,recipients:Lt,quiz:Da,messageId:qt,fullName:Xt,abTests:Qe});else if(za)Qa=s.a.createElement(mt,{displayName:sa,creator:Pt,currentUser:e,recipients:Lt,pollContent:La,messageId:qt,fullName:Xt,handlePollAnswerChange:de,pollAnswerSubmit:ue,selectedPollAnswer:he,handleRefreshClick:Se,isCommunityPost:Ia,handleFetchVoterList:rt,toggleVoterListModal:st,pollVoterListModalOpen:it,pollVoterList:Rt,togglePollAnswerTab:ot,activePollAnswertab:lt,pollMessageId:ct,handleLoadMorePollVoters:dt,isWellnessCheckPoll:Pa});else{if(!(Ua||Ha||Ba||Ga||Va))return null;Qa=s.a.createElement(yt,{creator:Pt,messageCreatorLocaleDifferent:wa,messageId:qt,attachments:Mt,handleReplyIconClick:D,liked:Qt,accessToken:n,stream:r,handleLikeClick:P,handleFollowClick:R,reactionId:Kt,profileAvatar:ua,fullName:Xt,schoolName:ha,date:Ht,isCurrentUserInHashTagABTest:Ne,translatedText:Ma,isTranslationDisplayed:Na,handleDynamicTranslationClick:Ke,handleShowOriginalTranslationTextClick:Je,contentText:zt,toBeSharedInPost:nt,history:pt})}Ra&&(Qa=s.a.createElement(gt,{profileAvatar:ua,smallAvatar:ia,displayName:sa,fullName:Xt,creator:Pt,currentUser:e,recipients:Lt,contentText:zt,message:a,messageId:qt,liked:Qt,accessToken:n,stream:r,reactionId:Kt,attachments:Nt,filesInProgressAttaching:ye,dismissedAttachmentIds:S,attachLinkModalOpen:v,selectedLink:C,libraryModalOpen:k,handleReplyIconClick:D,handleLikeClick:P,handleFollowClick:R,handleEditPostCancel:j,handleEditPostTextChange:z,handleEditPostDismissAttachment:H,handleEditPostAttachFileUpload:V,handleAttachedFilesBegin:Ee,handleEditPostSave:q,handleAttachLinkBtnClick:W,handleAttachLinkTextBlur:J,handleAttachLinkPaste:Z,handleAttachLinkCTAClick:$,handleAttachLinkTitleChange:K,handleAttachLinkCancel:X,handleAddFromLibraryClick:ee,handleAttachedLibraryFiles:te,handleDueDateChange:ae,handleEditQuizSave:ne,handleAssignmentTitleChange:re,handleAssignmentDescriptionChange:se,handleEditPostAssignmentSave:oe,translate:ce,handleGifAttachmentPickerClick:Tt}));const Ya=u.a.isNewMessage(a),Ka=x&&(u.a.isPinnedGroupMessage(a,f)||u.a.isPinnedPublisherMessage(a,E)||u.a.isPinnedCommunityMessage(a,b)),Ja=u.a.isPromotedPost(a),Za=Vt&&(Me===ta.a.FILTERED_BY_NONE||!Me)&&i===aa.a.HOME_STREAM,Xa=G.a.getClassRecipients(Lt),$a=!!oa&&!!Xa&&!!Xa.length&&!!u.a.isNoteMessageType(a),en=o.a.isTeacher(Pt),tn=la&&!va&&!ge&&en&&Ie&&Ie.has(xt),an={is_autostart:!1,publisher_username:o.a.getUsername(Pt),message_id:qt};return s.a.createElement("div",{className:"qa-test-stream-item rounded pt-2_5 mb-4 message-container"+"".concat(Ka?" pinned":"")+"".concat(Ya?" new-message":"")+"".concat(Ia?" community-post":"")+"".concat(Za?" followed-topic-message":"")+"".concat(nt?" remove-box-shadow":""),"data-message":qt},s.a.createElement(Zt,{addMessageVisibilityInfo:vt,messageId:qt,trackingContext:pe,messageIndex:Ce},Za&&s.a.createElement(Ue,{messageId:qt,relatedTags:Vt,handleHashtagClick:Oe}),s.a.createElement("div",{className:"top-content px-2_5"},s.a.createElement(Q,{creator:Pt,recipients:Lt,date:Ht,displayName:sa,fullName:Xt,currentUser:e,smallAvatar:ia,messageId:qt,handleEditPostClick:B,isStudent:oa,isCreator:u.a.isMessageCreator(a,e),isPublic:pa,isPoll:za,trackingContext:pe,streamName:i,message:a,accessToken:n,handleLikeClick:P,toggleShareModal:Re,isInteractionsDisabled:Et}),Ka&&s.a.createElement(ea.a,{name:"pin-icon",className:"ml-3",color:F.a.blue[50]}),!_&&!nt&&!Et&&s.a.createElement(Fe,{message:a,groupId:f,communityId:b,publisherId:E,currentUser:e,displayName:sa,handleEditPostClick:B,isStudent:oa,isCreator:u.a.isMessageCreator(a,e),isPublic:pa,isPoll:za,isLecture:Va,isLevel5Admin:da,trackingContext:pe,isMessagePinned:Ka,isPromotedPost:Ja,setPinnedPostId:me,following:Yt,translate:ce,handleFollowClick:R,userProfileId:Te,stream:r,streamName:i,childId:ke})),qa&&!Ra&&s.a.createElement(fa,{inStream:!0,todoModel:Da,groupColor:ht,isInteractionsDisabled:Et}),Va&&s.a.createElement(fa,{inStream:!0,todoModel:Fa,groupColor:ht,isInteractionsDisabled:Et}),ja&&!Ra&&s.a.createElement(fa,{inStream:!0,todoModel:xa,groupColor:ht,isInteractionsDisabled:Et}),(qa||ja)&&Ra&&Qa,!qa&&!ja&&Qa,!qa&&!ja&&!Ra&&!ge&&void 0!==Mt&&s.a.createElement("div",{className:"message-attachments pb-2_5"},s.a.createElement(Ot.a,{accessToken:n,attachments:Mt,contentText:zt,creator:Pt,currentUser:e,displayName:sa,fullName:Xt,handleReplyIconClick:be,handleLikeClick:P,handleFollowClick:R,handleReplyIconReset:U,liked:Qt,message:a,messageId:qt,profileAvatar:ua,reactionId:Kt,recipients:Lt,showRemove:!1,smallAvatar:ia,stream:r,streamName:i,trackingContext:pe,isModal:ge,toggleVideoAttachmentModal:Le,setCurrentVideoPosition:qe,autoPlayTrackingProperties:an,isInteractionsDisabled:Et}))),(!_a||tn)&&!nt&&!ya&&!Wt&&!It&&s.a.createElement(Y.a,{currentUser:e,canReply:va,isReadOnly:Ca,message:a,messageId:qt,liked:Qt,reactionId:Kt,fullName:Xt,handleLikeClick:P,handleReplyIconClick:D,handleShareModalToggle:Re,handleMessageTeacherBtnClick:Ae,currentUserCompactRecipients:Ie,userProfileId:Te,isModal:ge,childId:ke,isCommunityPost:Ia,streamName:i,shouldDisplayStudentPlannerButton:$a,shouldDisplayMessageTeacherButton:tn,fromDiscoverPage:et,isVideoSaved:at,handleSaveClick:tt,publisherId:E,attachedMessage:wt,trackLoggedOutLikeClick:ft,trackLoggedOutShareClick:bt,isInteractionsDisabled:Et,isPublic:pa,toggleEmailVerificationModal:At,isEmailVerificationModalOpen:Ct}),ya&&s.a.createElement($t,{date:ya}),!_a&&!nt&&s.a.createElement("div",{className:"qa-test-replies-container replies-container"},s.a.createElement(Ut.a,{message:a,messageId:qt,numberOfReplies:Jt,showingMore:M,showMoreId:N,handleShowMoreRepliesClick:L}),s.a.createElement("div",{className:"ns-reply-list"},Wa&&Wa.map(e=>e),s.a.createElement(Ge.a,{canReply:va,message:a,currentUser:e,messageId:qt,profileAvatar:ua,accessToken:n,stream:r,reactionId:Kt,creator:Pt,recipients:Lt,contentText:zt,liked:Qt,replyLocation:ie.a.LAST_REPLIES,handleLikeClick:P,handleFollowClick:R,handleReplyIconClick:D,handleReplyIconReset:U,userProfileId:Te,childId:ke,currentHashtagOnHomePage:we,streamName:i,handleDynamicTranslationClick:Ke,handleShowOriginalTranslationTextClick:Je,dynamicTranslations:Ye,isInteractionsDisabled:Et,isSchoolAdminReadOnly:It}))),va&&!It&&s.a.createElement(je.a,{user:e,stream:r,streamName:i,reducerName:g,messageId:qt,message:a,replyIconClicked:O,replyIconId:A,handleReplyIconReset:U,handleAttachedLibraryFiles:te,isStudent:oa,isParent:la,isModal:ge,trackingContext:pe,streamTrackingActions:le,userProfileId:Te,childId:ke,isPublic:pa}),s.a.createElement(Ft.default,{message:a,currentUserProfile:$e,trackingContext:pe,trackingProperties:{message_id:qt,is_promoted_message:ma},isSharingMessage:!0,isOpen:Pe,toggle:Re,closeShareModal:ut,isCurrentUserInSharingRedesignABTest:Xe}),xe&&ze&&s.a.createElement(Gt.d,null,s.a.createElement(Bt.a,{accessToken:n,message:a,messageId:qt,smallAvatar:ia,streamName:i,stream:r,reducerName:na.a.PUBLISHER_STREAM_REDUCER,isOpen:xe,toggleVideoAttachmentModal:Le,toggleShareModal:Re,currentSelectedEmbedId:De,handleLikeClick:P,handleFollowClick:R,publisherId:E,handleReplyIconClick:D,handleReplyIconReset:U,currentUser:e,handleShowMoreRepliesClick:L,currentVideoPosition:He,currentVideoIndex:Ve,setCurrentVideoPosition:qe,setCurrentSelectedEmbedId:We,trackingContext:pe,autoPlayTrackingProperties:an})))}))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1638),i=a(1641),o=a(224),l=a(2),c=a.n(l),d=a(1643),u=a.n(d),h=a(1645),p=a.n(h),m=a(375);function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,a){return t&&b(e.prototype,t),a&&b(e,a),e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){y(e,t,a[t])}))}return e}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?k(e):t}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var M=function(){};function N(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function w(e,t,a,n){var r=[t,n];if(a&&e)for(var s in a)a.hasOwnProperty(s)&&a[s]&&r.push("".concat(N(e,s)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var P=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===g(e)&&null!==e?[e]:[]};function R(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function x(e){return R(e)?window.pageYOffset:e.scrollTop}function L(e,t){R(e)?window.scrollTo(0,t):e.scrollTop=t}function D(e,t,a,n){return a*((e=e/n-1)*e*e+1)+t}function F(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M,r=x(e),s=t-r,i=10,o=0;function l(){var t=D(o+=i,r,s,a);L(e,t),o<a?u()(l):n(e)}l()}function U(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function B(e){var t=e.maxHeight,a=e.menuEl,n=e.minHeight,r=e.placement,s=e.shouldScroll,i=e.isFixedPosition,o=e.theme.spacing,l=function(e){var t=getComputedStyle(e),a="absolute"===t.position,n=/(auto|scroll)/,r=document.documentElement;if("fixed"===t.position)return r;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),(!a||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return r}(a),c={placement:"bottom",maxHeight:t};if(!a||!a.offsetParent)return c;var d=l.getBoundingClientRect().height,u=a.getBoundingClientRect(),h=u.bottom,p=u.height,m=u.top,g=a.offsetParent.getBoundingClientRect().top,f=window.innerHeight,b=x(l),E=parseInt(getComputedStyle(a).marginBottom,10),y=parseInt(getComputedStyle(a).marginTop,10),S=g-y,v=f-m,C=S+b,A=d-b-m,I=h-f+b+E,T=b+m-y;switch(r){case"auto":case"bottom":if(v>=p)return{placement:"bottom",maxHeight:t};if(A>=p&&!i)return s&&F(l,I,160),{placement:"bottom",maxHeight:t};if(!i&&A>=n||i&&v>=n)return s&&F(l,I,160),{placement:"bottom",maxHeight:i?v-E:A-E};if("auto"===r||i){var k=t,O=i?S:C;return O>=n&&(k=Math.min(O-E-o.controlHeight,t)),{placement:"top",maxHeight:k}}if("bottom"===r)return L(l,I),{placement:"bottom",maxHeight:t};break;case"top":if(S>=p)return{placement:"top",maxHeight:t};if(C>=p&&!i)return s&&F(l,T,160),{placement:"top",maxHeight:t};if(!i&&C>=n||i&&S>=n){var _=t;return(!i&&C>=n||i&&S>=n)&&(_=i?S-y:C-y),s&&F(l,T,160),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}var G=function(e){return"auto"===e?"bottom":e},j=function(e){function t(){var e,a;f(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return y(k(k(a=O(this,(e=A(t)).call.apply(e,[this].concat(r))))),"state",{maxHeight:a.props.maxMenuHeight,placement:null}),y(k(k(a)),"getPlacement",(function(e){var t=a.props,n=t.minMenuHeight,r=t.maxMenuHeight,s=t.menuPlacement,i=t.menuPosition,o=t.menuShouldScrollIntoView,l=t.theme,c=a.context.getPortalPlacement;if(e){var d="fixed"===i,u=B({maxHeight:r,menuEl:e,minHeight:n,placement:s,shouldScroll:o&&!d,isFixedPosition:d,theme:l});c&&c(u),a.setState(u)}})),y(k(k(a)),"getUpdatedProps",(function(){var e=a.props.menuPlacement,t=a.state.placement||G(e);return v({},a.props,{placement:t,maxHeight:a.state.maxHeight})})),a}return C(t,e),E(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(n.Component);y(j,"contextTypes",{getPortalPlacement:c.a.func});var z=function(e){var t=e.theme,a=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*a,"px ").concat(3*a,"px"),textAlign:"center"}},q=z,H=z,V=function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.innerProps;return r.a.createElement("div",S({className:n(Object(i.a)(s("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},a)},o),t)};V.defaultProps={children:"No options"};var W=function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.innerProps;return r.a.createElement("div",S({className:n(Object(i.a)(s("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},a)},o),t)};W.defaultProps={children:"Loading..."};var Q=function(e){function t(){var e,a;f(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return y(k(k(a=O(this,(e=A(t)).call.apply(e,[this].concat(r))))),"state",{placement:null}),y(k(k(a)),"getPortalPlacement",(function(e){var t=e.placement;t!==G(a.props.menuPlacement)&&a.setState({placement:t})})),a}return C(t,e),E(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,a=e.children,n=e.controlElement,s=e.menuPlacement,l=e.menuPosition,c=e.getStyles,d="fixed"===l;if(!t&&!d||!n)return null;var u=this.state.placement||G(s),h=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(n),p=d?0:window.pageYOffset,m={offset:h[u]+p,position:l,rect:h},g=r.a.createElement("div",{className:Object(i.a)(c("menuPortal",m))},a);return t?Object(o.createPortal)(g,t):g}}]),t}(n.Component);y(Q,"childContextTypes",{getPortalPlacement:c.a.func});var Y=Array.isArray,K=Object.keys,J=Object.prototype.hasOwnProperty;function Z(e,t){try{return function e(t,a){if(t===a)return!0;if(t&&a&&"object"==g(t)&&"object"==g(a)){var n,r,s,i=Y(t),o=Y(a);if(i&&o){if((r=t.length)!=a.length)return!1;for(n=r;0!==n--;)if(!e(t[n],a[n]))return!1;return!0}if(i!=o)return!1;var l=t instanceof Date,c=a instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==a.getTime();var d=t instanceof RegExp,u=a instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==a.toString();var h=K(t);if((r=h.length)!==K(a).length)return!1;for(n=r;0!==n--;)if(!J.call(a,h[n]))return!1;for(n=r;0!==n--;)if(("_owner"!==(s=h[n])||!t.$$typeof)&&!e(t[s],a[s]))return!1;return!0}return t!==t&&a!==a}(e,t)}catch(a){if(a.message&&a.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",a.name,a.message),!1;throw a}}var X=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],$=function(e){for(var t=0;t<X.length;t++)e=e.replace(X[t].letters,X[t].base);return e},ee=function(e){return e.replace(/^\s+|\s+$/g,"")},te=function(e){return"".concat(e.label," ").concat(e.value)},ae=function(e){return r.a.createElement("span",S({className:Object(i.a)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},ne=function(e){function t(){return f(this,t),O(this,A(t).apply(this,arguments))}return C(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),a=(e.emotion,T(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return r.a.createElement("input",S({ref:t},a,{className:Object(i.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(n.Component),re=function(e){function t(){return f(this,t),O(this,A(t).apply(this,arguments))}return C(t,e),E(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(o.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),se=["boxSizing","height","overflow","paddingRight","position"],ie={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function oe(e){e.preventDefault()}function le(e){e.stopPropagation()}function ce(){var e=this.scrollTop,t=this.scrollHeight,a=e+this.offsetHeight;0===e?this.scrollTop=1:a===t&&(this.scrollTop=e-1)}function de(){return"ontouchstart"in window||navigator.maxTouchPoints}var ue=!("undefined"===typeof window||!window.document||!window.document.createElement),he=0,pe=function(e){function t(){var e,a;f(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return y(k(k(a=O(this,(e=A(t)).call.apply(e,[this].concat(r))))),"originalStyles",{}),y(k(k(a)),"listenerOptions",{capture:!1,passive:!1}),a}return C(t,e),E(t,[{key:"componentDidMount",value:function(){var e=this;if(ue){var t=this.props,a=t.accountForScrollbars,n=t.touchScrollTarget,r=document.body,s=r&&r.style;if(a&&se.forEach((function(t){var a=s&&s[t];e.originalStyles[t]=a})),a&&he<1){var i=parseInt(this.originalStyles.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,l=window.innerWidth-o+i||0;Object.keys(ie).forEach((function(e){var t=ie[e];s&&(s[e]=t)})),s&&(s.paddingRight="".concat(l,"px"))}r&&de()&&(r.addEventListener("touchmove",oe,this.listenerOptions),n&&(n.addEventListener("touchstart",ce,this.listenerOptions),n.addEventListener("touchmove",le,this.listenerOptions))),he+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(ue){var t=this.props,a=t.accountForScrollbars,n=t.touchScrollTarget,r=document.body,s=r&&r.style;he=Math.max(he-1,0),a&&he<1&&se.forEach((function(t){var a=e.originalStyles[t];s&&(s[t]=a)})),r&&de()&&(r.removeEventListener("touchmove",oe,this.listenerOptions),n&&(n.removeEventListener("touchstart",ce,this.listenerOptions),n.removeEventListener("touchmove",le,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(n.Component);y(pe,"defaultProps",{accountForScrollbars:!0});var me=function(e){function t(){var e,a;f(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return y(k(k(a=O(this,(e=A(t)).call.apply(e,[this].concat(r))))),"state",{touchScrollTarget:null}),y(k(k(a)),"getScrollTarget",(function(e){e!==a.state.touchScrollTarget&&a.setState({touchScrollTarget:e})})),y(k(k(a)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),a}return C(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.isEnabled,n=this.state.touchScrollTarget;return a?r.a.createElement("div",null,r.a.createElement("div",{onClick:this.blurSelectInput,className:Object(i.a)({position:"fixed",left:0,bottom:0,right:0,top:0})}),r.a.createElement(re,{innerRef:this.getScrollTarget},t),n?r.a.createElement(pe,{touchScrollTarget:n}):null):t}}]),t}(n.PureComponent),ge=function(e){function t(){var e,a;f(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return y(k(k(a=O(this,(e=A(t)).call.apply(e,[this].concat(r))))),"isBottom",!1),y(k(k(a)),"isTop",!1),y(k(k(a)),"scrollTarget",void 0),y(k(k(a)),"touchStart",void 0),y(k(k(a)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),y(k(k(a)),"handleEventDelta",(function(e,t){var n=a.props,r=n.onBottomArrive,s=n.onBottomLeave,i=n.onTopArrive,o=n.onTopLeave,l=a.scrollTarget,c=l.scrollTop,d=l.scrollHeight,u=l.clientHeight,h=a.scrollTarget,p=t>0,m=d-u-c,g=!1;m>t&&a.isBottom&&(s&&s(e),a.isBottom=!1),p&&a.isTop&&(o&&o(e),a.isTop=!1),p&&t>m?(r&&!a.isBottom&&r(e),h.scrollTop=d,g=!0,a.isBottom=!0):!p&&-t>c&&(i&&!a.isTop&&i(e),h.scrollTop=0,g=!0,a.isTop=!0),g&&a.cancelScroll(e)})),y(k(k(a)),"onWheel",(function(e){a.handleEventDelta(e,e.deltaY)})),y(k(k(a)),"onTouchStart",(function(e){a.touchStart=e.changedTouches[0].clientY})),y(k(k(a)),"onTouchMove",(function(e){var t=a.touchStart-e.changedTouches[0].clientY;a.handleEventDelta(e,t)})),y(k(k(a)),"getScrollTarget",(function(e){a.scrollTarget=e})),a}return C(t,e),E(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"===typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"===typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return r.a.createElement(re,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(n.Component),fe=function(e){function t(){return f(this,t),O(this,A(t).apply(this,arguments))}return C(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,a=T(e,["isEnabled"]);return t?r.a.createElement(ge,a):this.props.children}}]),t}(n.Component);y(fe,"defaultProps",{isEnabled:!0});var be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.isSearchable,n=t.isMulti,r=t.label,s=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(s?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(r||"Select"," is focused ").concat(a?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},Ee=function(e,t){var a=t.value,n=t.isDisabled;if(a)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"select-option":return"option ".concat(a,n?" is disabled. Select another option.":", selected.")}},ye=function(e){return!!e.isDisabled},Se=function(e){function t(){return f(this,t),O(this,A(t).apply(this,arguments))}return C(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.cx,s=e.isMulti,o=e.getStyles,l=e.hasValue;return r.a.createElement("div",{className:n(Object(i.a)(o("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l},a)},t)}}]),t}(n.Component),ve=function(e){var t=e.size,a=T(e,["size"]);return r.a.createElement("svg",S({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:Object(i.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},a))},Ce=function(e){return r.a.createElement(ve,S({size:20},e),r.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Ae=function(e){return r.a.createElement(ve,S({size:20},e),r.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ie=function(e){var t=e.isFocused,a=e.theme,n=a.spacing.baseUnit,r=a.colors;return{label:"indicatorContainer",color:t?r.neutral60:r.neutral20,display:"flex",padding:2*n,transition:"color 150ms",":hover":{color:t?r.neutral80:r.neutral40}}},Te=Ie,ke=Ie,Oe=!1,_e=function(e){var t=e.color,a=e.delay,n=e.offset;return r.a.createElement("span",{className:Object(i.a)({animationDuration:"1s",animationDelay:"".concat(a,"ms"),animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Me=function(e){var t=e.className,a=e.cx,n=e.getStyles,s=e.innerProps,o=e.isFocused,l=e.isRtl,c=e.theme.colors,d=o?c.neutral80:c.neutral20;return Oe||(Object(i.b)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),Oe=!0),r.a.createElement("div",S({},s,{className:a(Object(i.a)(n("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),r.a.createElement(_e,{color:d,delay:0,offset:l}),r.a.createElement(_e,{color:d,delay:160,offset:!0}),r.a.createElement(_e,{color:d,delay:320,offset:!l}))};Me.defaultProps={size:4};var Ne=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},we=function(e){var t=e.children,a=e.innerProps;return r.a.createElement("div",a,t)},Pe=we,Re=we,xe=function(e){function t(){return f(this,t),O(this,A(t).apply(this,arguments))}return C(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.innerProps;return r.a.createElement("div",a,t||r.a.createElement(Ce,{size:14}))}}]),t}(n.Component),Le=function(e){function t(){return f(this,t),O(this,A(t).apply(this,arguments))}return C(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.components,s=e.cx,o=e.data,l=e.getStyles,c=e.innerProps,d=e.isDisabled,u=e.removeProps,h=e.selectProps,p=n.Container,m=n.Label,g=n.Remove,f=v({className:s(Object(i.a)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":d},a)},c),b={className:s(Object(i.a)(l("multiValueLabel",this.props)),{"multi-value__label":!0},a)},E=v({className:s(Object(i.a)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},a)},u);return r.a.createElement(p,{data:o,innerProps:f,selectProps:h},r.a.createElement(m,{data:o,innerProps:b,selectProps:h},t),r.a.createElement(g,{data:o,innerProps:E,selectProps:h}))}}]),t}(n.Component);y(Le,"defaultProps",{cropWithEllipsis:!0});var De={ClearIndicator:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.innerProps;return r.a.createElement("div",S({},o,{className:n(Object(i.a)(s("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},a)}),t||r.a.createElement(Ce,null))},Control:function(e){var t=e.children,a=e.cx,n=e.getStyles,s=e.className,o=e.isDisabled,l=e.isFocused,c=e.innerRef,d=e.innerProps,u=e.menuIsOpen;return r.a.createElement("div",S({ref:c,className:a(Object(i.a)(n("control",e)),{control:!0,"control--is-disabled":o,"control--is-focused":l,"control--menu-is-open":u},s)},d),t)},DropdownIndicator:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.innerProps;return r.a.createElement("div",S({},o,{className:n(Object(i.a)(s("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},a)}),t||r.a.createElement(Ae,null))},DownChevron:Ae,CrossIcon:Ce,Group:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.Heading,l=e.headingProps,c=e.label,d=e.theme,u=e.selectProps;return r.a.createElement("div",{className:n(Object(i.a)(s("group",e)),{group:!0},a)},r.a.createElement(o,S({},l,{selectProps:u,theme:d,getStyles:s,cx:n}),c),r.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,a=e.cx,n=e.getStyles,s=e.theme,o=(e.selectProps,T(e,["className","cx","getStyles","theme","selectProps"]));return r.a.createElement("div",S({className:a(Object(i.a)(n("groupHeading",v({theme:s},o))),{"group-heading":!0},t)},o))},IndicatorsContainer:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles;return r.a.createElement("div",{className:n(Object(i.a)(s("indicatorsContainer",e)),{indicators:!0},a)},t)},IndicatorSeparator:function(e){var t=e.className,a=e.cx,n=e.getStyles,s=e.innerProps;return r.a.createElement("span",S({},s,{className:a(Object(i.a)(n("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,a=e.cx,n=e.getStyles,s=e.innerRef,o=e.isHidden,l=e.isDisabled,c=e.theme,d=(e.selectProps,T(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return r.a.createElement("div",{className:Object(i.a)(n("input",v({theme:c},d)))},r.a.createElement(p.a,S({className:a(null,{input:!0},t),inputRef:s,inputStyle:Ne(o),disabled:l},d)))},LoadingIndicator:Me,Menu:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.innerRef,l=e.innerProps,c=n(Object(i.a)(s("menu",e)),{menu:!0},a);return r.a.createElement("div",S({className:c},l,{ref:o}),t)},MenuList:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.isMulti,l=e.innerRef;return r.a.createElement("div",{className:n(Object(i.a)(s("menuList",e)),{"menu-list":!0,"menu-list--is-multi":o},a),ref:l},t)},MenuPortal:Q,LoadingMessage:W,NoOptionsMessage:V,MultiValue:Le,MultiValueContainer:Pe,MultiValueLabel:Re,MultiValueRemove:xe,Option:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.isDisabled,l=e.isFocused,c=e.isSelected,d=e.innerRef,u=e.innerProps;return r.a.createElement("div",S({ref:d,className:n(Object(i.a)(s("option",e)),{option:!0,"option--is-disabled":o,"option--is-focused":l,"option--is-selected":c},a)},u),t)},Placeholder:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.innerProps;return r.a.createElement("div",S({className:n(Object(i.a)(s("placeholder",e)),{placeholder:!0},a)},o),t)},SelectContainer:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.innerProps,l=e.isDisabled,c=e.isRtl;return r.a.createElement("div",S({className:n(Object(i.a)(s("container",e)),{"--is-disabled":l,"--is-rtl":c},a)},o),t)},SingleValue:function(e){var t=e.children,a=e.className,n=e.cx,s=e.getStyles,o=e.isDisabled,l=e.innerProps;return r.a.createElement("div",S({className:n(Object(i.a)(s("singleValue",e)),{"single-value":!0,"single-value--is-disabled":o},a)},l),t)},ValueContainer:Se},Fe=function(e){return v({},De,e.components)},Ue={clearIndicator:ke,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,a=e.isFocused,n=e.theme,r=n.colors,s=n.borderRadius,i=n.spacing;return{label:"control",alignItems:"center",backgroundColor:t?r.neutral5:r.neutral0,borderColor:t?r.neutral10:a?r.primary:r.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(r.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:a?r.primary:r.neutral30}}},dropdownIndicator:Te,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,a=e.theme,n=a.spacing.baseUnit,r=a.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?r.neutral10:r.neutral20,marginBottom:2*n,marginTop:2*n,width:1}},input:function(e){var t=e.isDisabled,a=e.theme,n=a.spacing,r=a.colors;return{margin:n.baseUnit/2,paddingBottom:n.baseUnit/2,paddingTop:n.baseUnit/2,visibility:t?"hidden":"visible",color:r.neutral80}},loadingIndicator:function(e){var t=e.isFocused,a=e.size,n=e.theme,r=n.colors,s=n.spacing.baseUnit;return{label:"loadingIndicator",color:t?r.neutral60:r.neutral20,display:"flex",padding:2*s,transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"}},loadingMessage:H,menu:function(e){var t,a=e.placement,n=e.theme,r=n.borderRadius,s=n.spacing,i=n.colors;return y(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(a),"100%"),y(t,"backgroundColor",i.neutral0),y(t,"borderRadius",r),y(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),y(t,"marginBottom",s.menuGutter),y(t,"marginTop",s.menuGutter),y(t,"position","absolute"),y(t,"width","100%"),y(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,a=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:a,paddingTop:a,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,a=e.offset,n=e.position;return{left:t.left,position:n,top:a,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,a=t.spacing,n=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:n/2,display:"flex",margin:a.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,a=t.borderRadius,n=t.colors,r=e.cropWithEllipsis;return{borderRadius:a/2,color:n.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:r?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,a=t.spacing,n=t.borderRadius,r=t.colors;return{alignItems:"center",borderRadius:n/2,backgroundColor:e.isFocused&&r.dangerLight,display:"flex",paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:r.dangerLight,color:r.danger}}},noOptionsMessage:q,option:function(e){var t=e.isDisabled,a=e.isFocused,n=e.isSelected,r=e.theme,s=r.spacing,i=r.colors;return{label:"option",backgroundColor:n?i.primary:a?i.primary25:"transparent",color:t?i.neutral20:n?i.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(n?i.primary:i.primary50)}}},placeholder:function(e){var t=e.theme,a=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,a=e.theme,n=a.spacing,r=a.colors;return{label:"singleValue",color:t?r.neutral40:r.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,maxWidth:"calc(100% - ".concat(2*n.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var Be,Ge={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},je={backspaceRemovesValue:!0,blurInputOnSelect:U(),captureMenuScroll:!U(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var a=v({ignoreCase:!0,ignoreAccents:!0,stringify:te,trim:!0,matchFrom:"any"},Be),n=a.ignoreCase,r=a.ignoreAccents,s=a.stringify,i=a.trim,o=a.matchFrom,l=i?ee(t):t,c=i?ee(s(e)):s(e);return n&&(l=l.toLowerCase(),c=c.toLowerCase()),r&&(l=$(l),c=$(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ye,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},ze=1,qe=function(e){function t(e){var a;f(this,t),y(k(k(a=O(this,A(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),y(k(k(a)),"blockOptionHover",!1),y(k(k(a)),"isComposing",!1),y(k(k(a)),"clearFocusValueOnUpdate",!1),y(k(k(a)),"commonProps",void 0),y(k(k(a)),"components",void 0),y(k(k(a)),"hasGroups",!1),y(k(k(a)),"initialTouchX",0),y(k(k(a)),"initialTouchY",0),y(k(k(a)),"inputIsHiddenAfterUpdate",void 0),y(k(k(a)),"instancePrefix",""),y(k(k(a)),"openAfterFocus",!1),y(k(k(a)),"scrollToFocusedOptionOnUpdate",!1),y(k(k(a)),"userIsDragging",void 0),y(k(k(a)),"controlRef",null),y(k(k(a)),"getControlRef",(function(e){a.controlRef=e})),y(k(k(a)),"focusedOptionRef",null),y(k(k(a)),"getFocusedOptionRef",(function(e){a.focusedOptionRef=e})),y(k(k(a)),"menuListRef",null),y(k(k(a)),"getMenuListRef",(function(e){a.menuListRef=e})),y(k(k(a)),"inputRef",null),y(k(k(a)),"getInputRef",(function(e){a.inputRef=e})),y(k(k(a)),"cacheComponents",(function(e){a.components=Fe({components:e})})),y(k(k(a)),"focus",a.focusInput),y(k(k(a)),"blur",a.blurInput),y(k(k(a)),"onChange",(function(e,t){var n=a.props;(0,n.onChange)(e,v({},t,{name:n.name}))})),y(k(k(a)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,r=a.props,s=r.closeMenuOnSelect,i=r.isMulti;a.onInputChange("",{action:"set-value"}),s&&(a.inputIsHiddenAfterUpdate=!i,a.onMenuClose()),a.clearFocusValueOnUpdate=!0,a.onChange(e,{action:t,option:n})})),y(k(k(a)),"selectOption",(function(e){var t=a.props,n=t.blurInputOnSelect,r=t.isMulti,s=a.state.selectValue;if(r)if(a.isOptionSelected(e,s)){var i=a.getOptionValue(e);a.setValue(s.filter((function(e){return a.getOptionValue(e)!==i})),"deselect-option",e),a.announceAriaLiveSelection({event:"deselect-option",context:{value:a.getOptionLabel(e)}})}else a.isOptionDisabled(e,s)?a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(e),isDisabled:!0}}):(a.setValue([].concat(_(s),[e]),"select-option",e),a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(e)}}));else a.isOptionDisabled(e,s)?a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(e),isDisabled:!0}}):(a.setValue(e,"select-option"),a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(e)}}));n&&a.blurInput()})),y(k(k(a)),"removeValue",(function(e){var t=a.state.selectValue,n=a.getOptionValue(e);a.onChange(t.filter((function(e){return a.getOptionValue(e)!==n})),{action:"remove-value",removedValue:e}),a.announceAriaLiveSelection({event:"remove-value",context:{value:e?a.getOptionLabel(e):""}}),a.focusInput()})),y(k(k(a)),"clearValue",(function(){var e=a.props.isMulti;a.onChange(e?[]:null,{action:"clear"})})),y(k(k(a)),"popValue",(function(){var e=a.state.selectValue,t=e[e.length-1];a.announceAriaLiveSelection({event:"pop-value",context:{value:t?a.getOptionLabel(t):""}}),a.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})})),y(k(k(a)),"getOptionLabel",(function(e){return a.props.getOptionLabel(e)})),y(k(k(a)),"getOptionValue",(function(e){return a.props.getOptionValue(e)})),y(k(k(a)),"getStyles",(function(e,t){var n=Ue[e](t);n.boxSizing="border-box";var r=a.props.styles[e];return r?r(n,t):n})),y(k(k(a)),"getElementId",(function(e){return"".concat(a.instancePrefix,"-").concat(e)})),y(k(k(a)),"getActiveDescendentId",(function(){var e=a.props.menuIsOpen,t=a.state,n=t.menuOptions,r=t.focusedOption;if(r&&e){var s=n.focusable.indexOf(r),i=n.render[s];return i&&i.key}})),y(k(k(a)),"announceAriaLiveSelection",(function(e){var t=e.event,n=e.context;a.setState({ariaLiveSelection:Ee(t,n)})})),y(k(k(a)),"announceAriaLiveContext",(function(e){var t=e.event,n=e.context;a.setState({ariaLiveContext:be(t,v({},n,{label:a.props["aria-label"]}))})})),y(k(k(a)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),a.focusInput())})),y(k(k(a)),"onMenuMouseMove",(function(e){a.blockOptionHover=!1})),y(k(k(a)),"onControlMouseDown",(function(e){var t=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?"INPUT"!==e.target.tagName&&a.onMenuClose():t&&a.openMenu("first"):(t&&(a.openAfterFocus=!0),a.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),y(k(k(a)),"onDropdownIndicatorMouseDown",(function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!a.props.isDisabled){var t=a.props,n=t.isMulti,r=t.menuIsOpen;a.focusInput(),r?(a.inputIsHiddenAfterUpdate=!n,a.onMenuClose()):a.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),y(k(k(a)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(a.clearValue(),e.stopPropagation(),a.openAfterFocus=!1,setTimeout((function(){return a.focusInput()})))})),y(k(k(a)),"onScroll",(function(e){"boolean"===typeof a.props.closeMenuOnScroll?e.target instanceof HTMLElement&&R(e.target)&&a.props.onMenuClose():"function"===typeof a.props.closeMenuOnScroll&&a.props.closeMenuOnScroll(e)&&a.props.onMenuClose()})),y(k(k(a)),"onCompositionStart",(function(){a.isComposing=!0})),y(k(k(a)),"onCompositionEnd",(function(){a.isComposing=!1})),y(k(k(a)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(a.initialTouchX=t.clientX,a.initialTouchY=t.clientY,a.userIsDragging=!1)})),y(k(k(a)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var n=Math.abs(t.clientX-a.initialTouchX),r=Math.abs(t.clientY-a.initialTouchY);a.userIsDragging=n>5||r>5}})),y(k(k(a)),"onTouchEnd",(function(e){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(e.target)&&a.menuListRef&&!a.menuListRef.contains(e.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)})),y(k(k(a)),"onControlTouchEnd",(function(e){a.userIsDragging||a.onControlMouseDown(e)})),y(k(k(a)),"onClearIndicatorTouchEnd",(function(e){a.userIsDragging||a.onClearIndicatorMouseDown(e)})),y(k(k(a)),"onDropdownIndicatorTouchEnd",(function(e){a.userIsDragging||a.onDropdownIndicatorMouseDown(e)})),y(k(k(a)),"handleInputChange",(function(e){var t=e.currentTarget.value;a.inputIsHiddenAfterUpdate=!1,a.onInputChange(t,{action:"input-change"}),a.onMenuOpen()})),y(k(k(a)),"onInputFocus",(function(e){var t=a.props,n=t.isSearchable,r=t.isMulti;a.props.onFocus&&a.props.onFocus(e),a.inputIsHiddenAfterUpdate=!1,a.announceAriaLiveContext({event:"input",context:{isSearchable:n,isMulti:r}}),a.setState({isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1})),y(k(k(a)),"onInputBlur",(function(e){a.menuListRef&&a.menuListRef.contains(document.activeElement)?a.inputRef.focus():(a.props.onBlur&&a.props.onBlur(e),a.onInputChange("",{action:"input-blur"}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1}))})),y(k(k(a)),"onOptionHover",(function(e){a.blockOptionHover||a.state.focusedOption===e||a.setState({focusedOption:e})})),y(k(k(a)),"shouldHideSelectedOptions",(function(){var e=a.props,t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t})),y(k(k(a)),"onKeyDown",(function(e){var t=a.props,n=t.isMulti,r=t.backspaceRemovesValue,s=t.escapeClearsValue,i=t.inputValue,o=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,h=t.openMenuOnFocus,p=a.state,m=p.focusedOption,g=p.focusedValue,f=p.selectValue;if(!l&&("function"!==typeof d||(d(e),!e.defaultPrevented))){switch(a.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||i)return;a.focusValue("previous");break;case"ArrowRight":if(!n||i)return;a.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(g)a.removeValue(g);else{if(!r)return;n?a.popValue():o&&a.clearValue()}break;case"Tab":if(a.isComposing)return;if(e.shiftKey||!c||!u||!m||h&&a.isOptionSelected(m,f))return;a.selectOption(m);break;case"Enter":if(229===e.keyCode)break;if(c){if(!m)return;if(a.isComposing)return;a.selectOption(m);break}return;case"Escape":c?(a.inputIsHiddenAfterUpdate=!1,a.onInputChange("",{action:"menu-close"}),a.onMenuClose()):o&&s&&a.clearValue();break;case" ":if(i)return;if(!c){a.openMenu("first");break}if(!m)return;a.selectOption(m);break;case"ArrowUp":c?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":c?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!c)return;a.focusOption("pageup");break;case"PageDown":if(!c)return;a.focusOption("pagedown");break;case"Home":if(!c)return;a.focusOption("first");break;case"End":if(!c)return;a.focusOption("last");break;default:return}e.preventDefault()}}));var n=e.value;a.cacheComponents=Object(s.a)(a.cacheComponents,Z).bind(k(k(a))),a.cacheComponents(e.components),a.instancePrefix="react-select-"+(a.props.instanceId||++ze);var r=P(n),i=a.buildMenuOptions(e,r);return a.state.menuOptions=i,a.state.selectValue=r,a}return C(t,e),E(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.options,n=t.value,r=t.inputValue;if(this.cacheComponents(e.components),e.value!==n||e.options!==a||e.inputValue!==r){var s=P(e.value),i=this.buildMenuOptions(e,s),o=this.getNextFocusedValue(s),l=this.getNextFocusedOption(i.focusable);this.setState({menuOptions:i,selectValue:s,focusedOption:l,focusedValue:o})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isDisabled,n=t.menuIsOpen,r=this.state.isFocused;(r&&!a&&e.isDisabled||r&&n&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&function(e,t){var a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=t.offsetHeight/3;n.bottom+r>a.bottom?L(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):n.top-r<a.top&&L(e,Math.max(t.offsetTop-r,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,a=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:a}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,a=t.menuOptions,n=t.selectValue,r=t.isFocused,s=this.props.isMulti,i="first"===e?0:a.focusable.length-1;if(!s){var o=a.focusable.indexOf(n[0]);o>-1&&(i=o)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:a.focusable[i]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,a=t.isMulti,n=t.isSearchable,r=this.state,s=r.selectValue,i=r.focusedValue;if(a){this.setState({focusedOption:null});var o=s.indexOf(i);i||(o=-1,this.announceAriaLiveContext({event:"value"}));var l=s.length-1,c=-1;if(s.length){switch(e){case"previous":c=0===o?0:-1===o?l:o-1;break;case"next":o>-1&&o<l&&(c=o+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:n,isMulti:a}}),this.setState({inputIsHidden:-1!==c,focusedValue:s[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,a=this.state,n=a.focusedOption,r=a.menuOptions,s=r.focusable;if(s.length){var i=0,o=s.indexOf(n);n||(o=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?i=o>0?o-1:s.length-1:"down"===e?i=(o+1)%s.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>s.length-1&&(i=s.length-1):"last"===e&&(i=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[i],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:ye(s[i])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Ge):v({},Ge,this.props.theme):Ge}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,a=this.setValue,n=this.selectOption,r=this.props,s=r.classNamePrefix,i=r.isMulti,o=r.isRtl,l=r.options,c=this.state.selectValue,d=this.hasValue();return{cx:w.bind(null,s),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:d,isMulti:i,isRtl:o,options:l,selectOption:n,setValue:a,selectProps:r,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,a=t.focusedValue,n=t.selectValue.indexOf(a);if(n>-1){if(e.indexOf(a)>-1)return a;if(n<e.length)return e[n]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,a=e.isMulti;return void 0===t?a:t}},{key:"isOptionDisabled",value:function(e,t){return"function"===typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var a=this;if(t.indexOf(e)>-1)return!0;if("function"===typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var n=this.getOptionValue(e);return t.some((function(e){return a.getOptionValue(e)===n}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var a=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:a,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var a=this,n=e.inputValue,r=void 0===n?"":n,s=e.options,i=function(e,n){var s=a.isOptionDisabled(e,t),i=a.isOptionSelected(e,t),o=a.getOptionLabel(e),l=a.getOptionValue(e);if(!(a.shouldHideSelectedOptions()&&i||!a.filterOption({label:o,value:l,data:e},r))){var c=s?void 0:function(){return a.onOptionHover(e)},d=s?void 0:function(){return a.selectOption(e)},u="".concat(a.getElementId("option"),"-").concat(n);return{innerProps:{id:u,onClick:d,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:s,isSelected:i,key:u,label:o,type:"option",value:l}}};return s.reduce((function(e,t,n){if(t.options){a.hasGroups||(a.hasGroups=!0);var r=t.options.map((function(t,a){var r=i(t,"".concat(n,"-").concat(a));return r&&e.focusable.push(t),r})).filter(Boolean);if(r.length){var s="".concat(a.getElementId("group"),"-").concat(n);e.render.push({type:"group",key:s,data:t,options:r})}}else{var o=i(t,"".concat(n));o&&(e.render.push(o),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,a=e.selectValue,n=e.focusedValue,r=e.focusedOption,s=this.props,i=s.options,o=s.menuIsOpen,l=s.inputValue,c=s.screenReaderStatus,d=n?function(e){var t=e.focusedValue,a=e.getOptionLabel,n=e.selectValue;return"value ".concat(a(t)," focused, ").concat(n.indexOf(t)+1," of ").concat(n.length,".")}({focusedValue:n,getOptionLabel:this.getOptionLabel,selectValue:a}):"",u=r&&o?function(e){var t=e.focusedOption,a=e.getOptionLabel,n=e.options;return"option ".concat(a(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(n.indexOf(t)+1," of ").concat(n.length,".")}({focusedOption:r,getOptionLabel:this.getOptionLabel,options:i}):"",h=function(e){var t=e.inputValue,a=e.screenReaderMessage;return"".concat(a).concat(t?" for search term "+t:"",".")}({inputValue:l,screenReaderMessage:c({count:this.countOptions()})});return"".concat(d," ").concat(u," ").concat(h," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,a=e.isSearchable,n=e.inputId,s=e.inputValue,i=e.tabIndex,o=this.components.Input,l=this.state.inputIsHidden,c=n||this.getElementId("input");if(!a)return r.a.createElement(ne,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:M,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:i,value:""});var d={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},u=this.commonProps,h=u.cx,p=u.theme,m=u.selectProps;return r.a.createElement(o,S({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:h,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:m,spellCheck:"false",tabIndex:i,theme:p,type:"text",value:s},d))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,a=t.MultiValue,n=t.MultiValueContainer,s=t.MultiValueLabel,i=t.MultiValueRemove,o=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,h=d.isDisabled,p=d.isMulti,m=d.inputValue,g=d.placeholder,f=this.state,b=f.selectValue,E=f.focusedValue,y=f.isFocused;if(!this.hasValue()||!u)return m?null:r.a.createElement(l,S({},c,{key:"placeholder",isDisabled:h,isFocused:y}),g);if(p)return b.map((function(t){var o=t===E;return r.a.createElement(a,S({},c,{components:{Container:n,Label:s,Remove:i},isFocused:o,isDisabled:h,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(m)return null;var v=b[0];return r.a.createElement(o,S({},c,{data:v,isDisabled:h}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,a=this.props,n=a.isDisabled,s=a.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||n||!this.hasValue()||s)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.a.createElement(e,S({},t,{innerProps:o,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,a=this.props,n=a.isDisabled,s=a.isLoading,i=this.state.isFocused;if(!e||!s)return null;return r.a.createElement(e,S({},t,{innerProps:{"aria-hidden":"true"},isDisabled:n,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,a=e.IndicatorSeparator;if(!t||!a)return null;var n=this.commonProps,s=this.props.isDisabled,i=this.state.isFocused;return r.a.createElement(a,S({},n,{isDisabled:s,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,a=this.props.isDisabled,n=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.a.createElement(e,S({},t,{innerProps:s,isDisabled:a,isFocused:n}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,a=t.Group,n=t.GroupHeading,s=t.Menu,i=t.MenuList,o=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,u=this.commonProps,h=this.state,p=h.focusedOption,m=h.menuOptions,g=this.props,f=g.captureMenuScroll,b=g.inputValue,E=g.isLoading,y=g.loadingMessage,v=g.minMenuHeight,C=g.maxMenuHeight,A=g.menuIsOpen,I=g.menuPlacement,k=g.menuPosition,O=g.menuPortalTarget,_=g.menuShouldBlockScroll,M=g.menuShouldScrollIntoView,N=g.noOptionsMessage,w=g.onMenuScrollToTop,P=g.onMenuScrollToBottom;if(!A)return null;var R,x=function(t){var a=p===t.data;return t.innerRef=a?e.getFocusedOptionRef:void 0,r.a.createElement(d,S({},u,t,{isFocused:a}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())R=m.render.map((function(t){if("group"===t.type){t.type;var s=T(t,["type"]),i="".concat(t.key,"-heading");return r.a.createElement(a,S({},u,s,{Heading:n,headingProps:{id:i},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return x(e)})))}if("option"===t.type)return x(t)}));else if(E){var L=y({inputValue:b});if(null===L)return null;R=r.a.createElement(l,u,L)}else{var D=N({inputValue:b});if(null===D)return null;R=r.a.createElement(c,u,D)}var F={minMenuHeight:v,maxMenuHeight:C,menuPlacement:I,menuPosition:k,menuShouldScrollIntoView:M},U=r.a.createElement(j,S({},u,F),(function(t){var a=t.ref,n=t.placerProps,o=n.placement,l=n.maxHeight;return r.a.createElement(s,S({},u,F,{innerRef:a,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:E,placement:o}),r.a.createElement(fe,{isEnabled:f,onTopArrive:w,onBottomArrive:P},r.a.createElement(me,{isEnabled:_},r.a.createElement(i,S({},u,{innerRef:e.getMenuListRef,isLoading:E,maxHeight:l}),R))))}));return O||"fixed"===k?r.a.createElement(o,S({},u,{appendTo:O,controlElement:this.controlRef,menuPlacement:I,menuPosition:k}),U):U}},{key:"renderFormField",value:function(){var e=this,t=this.props,a=t.delimiter,n=t.isDisabled,s=t.isMulti,i=t.name,o=this.state.selectValue;if(i&&!n){if(s){if(a){var l=o.map((function(t){return e.getOptionValue(t)})).join(a);return r.a.createElement("input",{name:i,type:"hidden",value:l})}var c=o.length>0?o.map((function(t,a){return r.a.createElement("input",{key:"i-".concat(a),name:i,type:"hidden",value:e.getOptionValue(t)})})):r.a.createElement("input",{name:i,type:"hidden"});return r.a.createElement("div",null,c)}var d=o[0]?this.getOptionValue(o[0]):"";return r.a.createElement("input",{name:i,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?r.a.createElement(ae,{"aria-live":"assertive"},r.a.createElement("p",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),r.a.createElement("p",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,a=e.IndicatorsContainer,n=e.SelectContainer,s=e.ValueContainer,i=this.props,o=i.className,l=i.id,c=i.isDisabled,d=i.menuIsOpen,u=this.state.isFocused,h=this.commonProps=this.getCommonProps();return r.a.createElement(n,S({},h,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),r.a.createElement(t,S({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),r.a.createElement(s,S({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.a.createElement(a,S({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(n.Component);y(qe,"defaultProps",je);var He={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Ve=function(e){var t,a;return a=t=function(t){function a(){var e,t;f(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return y(k(k(t=O(this,(e=A(a)).call.apply(e,[this].concat(r))))),"select",void 0),y(k(k(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),y(k(k(t)),"onChange",(function(e,a){t.callProp("onChange",e,a),t.setState({value:e})})),y(k(k(t)),"onInputChange",(function(e,a){var n=t.callProp("onInputChange",e,a);t.setState({inputValue:void 0!==n?n:e})})),y(k(k(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),y(k(k(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return C(a,t),E(a,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"===typeof this.props[e]){for(var t,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return(t=this.props)[e].apply(t,n)}}},{key:"render",value:function(){var t=this,a=this.props,n=(a.defaultInputValue,a.defaultMenuIsOpen,a.defaultValue,T(a,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return r.a.createElement(e,S({},n,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),a}(n.Component),y(t,"defaultProps",He),a},We={cacheOptions:!1,defaultOptions:!1,filterOption:null},Qe=function(e){var t,a;return a=t=function(t){function a(e){var t;return f(this,a),y(k(k(t=O(this,A(a).call(this)))),"select",void 0),y(k(k(t)),"lastRequest",void 0),y(k(k(t)),"mounted",!1),y(k(k(t)),"optionsCache",{}),y(k(k(t)),"handleInputChange",(function(e,a){var n=t.props,r=n.cacheOptions,s=function(e,t,a){if(a){var n=a(e,t);if("string"===typeof n)return n}return e}(e,a,n.onInputChange);if(!s)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(r&&t.optionsCache[s])t.setState({inputValue:s,loadedInputValue:s,loadedOptions:t.optionsCache[s],isLoading:!1,passEmptyOptions:!1});else{var i=t.lastRequest={};t.setState({inputValue:s,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(s,(function(e){t.mounted&&(e&&(t.optionsCache[s]=e),i===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:s,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return s})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"undefined"!==typeof e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return C(a,t),E(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,a=this.state.inputValue;!0===t&&this.loadOptions(a,(function(t){if(e.mounted){var a=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:a})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var a=this.props.loadOptions;if(!a)return t();var n=a(e,t);n&&"function"===typeof n.then&&n.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,a=this.props,n=(a.loadOptions,T(a,["loadOptions"])),s=this.state,i=s.defaultOptions,o=s.inputValue,l=s.isLoading,c=s.loadedInputValue,d=s.loadedOptions,u=s.passEmptyOptions?[]:o&&c?d:i||[];return r.a.createElement(e,S({},n,{ref:function(e){t.select=e},options:u,isLoading:l,onInputChange:this.handleInputChange}))}}]),a}(n.Component),y(t,"defaultProps",We),a},Ye=(Qe(Ve(qe)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=String(e).toLowerCase(),n=String(t.value).toLowerCase(),r=String(t.label).toLowerCase();return n===a||r===a}),Ke=v({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,a){return!(!e||t.some((function(t){return Ye(e,t)}))||a.some((function(t){return Ye(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Je=function(e){var t,a;return a=t=function(t){function a(e){var t;f(this,a),y(k(k(t=O(this,A(a).call(this,e)))),"select",void 0),y(k(k(t)),"onChange",(function(e,a){var n=t.props,r=n.getNewOptionData,s=n.inputValue,i=n.isMulti,o=n.onChange,l=n.onCreateOption,c=n.value;if("select-option"!==a.action)return o(e,a);var d=t.state.newOption,u=Array.isArray(e)?e:[e];if(u[u.length-1]!==d)o(e,a);else if(l)l(s);else{var h=r(s,s),p={action:"create-option"};o(i?[].concat(_(P(c)),[h]):h,p)}}));var n=e.options||[];return t.state={newOption:void 0,options:n},t}return C(a,t),E(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,a=e.createOptionPosition,n=e.formatCreateLabel,r=e.getNewOptionData,s=e.inputValue,i=e.isLoading,o=e.isValidNewOption,l=e.value,c=e.options||[],d=this.state.newOption;d=o(s,P(l),c)?r(s,n(s)):void 0,this.setState({newOption:d,options:!t&&i||!d?c:"first"===a?[d].concat(_(c)):[].concat(_(c),[d])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,a=S({},this.props),n=this.state.options;return r.a.createElement(e,S({},a,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}]),a}(n.Component),y(t,"defaultProps",Ke),a},Ze=(Ve(Je(qe)),Qe(Ve(Je(qe))),function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var a=T(t,["in","onExited","appear","enter","exit"]);return r.a.createElement(e,a)}}),Xe=function(e){var t=e.component,a=e.duration,n=void 0===a?1:a,s=e.in,i=(e.onExited,T(e,["component","duration","in","onExited"])),o={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(n,"ms")},exiting:{opacity:0},exited:{opacity:0}};return r.a.createElement(m.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:s,timeout:n},(function(e){var a={style:v({},o[e])};return r.a.createElement(t,S({innerProps:a},i))}))},$e=function(e){function t(){var e,a;f(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return y(k(k(a=O(this,(e=A(t)).call.apply(e,[this].concat(r))))),"duration",260),y(k(k(a)),"rafID",void 0),y(k(k(a)),"state",{width:"auto"}),y(k(k(a)),"transition",{exiting:{width:0,transition:"width ".concat(a.duration,"ms ease-out")},exited:{width:0}}),y(k(k(a)),"getWidth",(function(e){e&&isNaN(a.state.width)&&(a.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;a.setState({width:t})})))})),y(k(k(a)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),y(k(k(a)),"getTransition",(function(e){return a.transition[e]})),a}return C(t,e),E(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.in,s=this.state.width;return r.a.createElement(m.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:n,timeout:this.duration},(function(t){var n=v({},e.getStyle(s),e.getTransition(t));return r.a.createElement("div",{ref:e.getWidth,style:n},a)}))}}]),t}(n.Component),et=function(e){return function(t){var a=t.in,n=t.onExited,s=T(t,["in","onExited"]);return r.a.createElement($e,{in:a,onExited:n},r.a.createElement(e,S({cropWithEllipsis:a},s)))}},tt=function(e){return function(t){return r.a.createElement(Xe,S({component:e,duration:t.isMulti?260:1},t))}},at=function(e){return function(t){return r.a.createElement(Xe,S({component:e},t))}},nt=function(e){return function(t){return r.a.createElement(m.TransitionGroup,S({component:e},t))}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Fe({components:e}),a=t.Input,n=t.MultiValue,r=t.Placeholder,s=t.SingleValue,i=t.ValueContainer,o=T(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return v({Input:Ze(a),MultiValue:et(n),Placeholder:tt(r),SingleValue:at(s),ValueContainer:nt(i)},o)},st=rt(),it=(st.Input,st.MultiValue,st.Placeholder,st.SingleValue,st.ValueContainer,Object(s.a)(rt,Z),Ve(qe));t.a=it},function(e,t,a){},,function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"gotAd",(function(){return O})),a.d(n,"noAd",(function(){return _})),a.d(n,"timeoutAd",(function(){return M}));var r=a(4),s=a.n(r),i=a(133),o=a(134),l=(a(0),a(1751)),c=a.n(l),d=a(1205),u=a(1635),h=a(35),p=a.n(h),m=(a(1640),a(364)),g=a(1215),f=a(156);var b=({dropdownOpen:e,toggleDropdown:t,hideAdSlot:a,reportAd:n,currentUser:r})=>s.a.createElement("div",{className:"edmoads-header"},s.a.createElement("p",null,s.a.createElement(f.default,{string:"advertisement",fallbackString:"Advertisement"})),s.a.createElement(m.w,{isOpen:e,toggle:t,direction:"left"},s.a.createElement(m.z,{nav:!0},s.a.createElement(g.default,null)),s.a.createElement(m.y,null,s.a.createElement("div",{className:"dropdown-item",onClick:a},s.a.createElement(f.default,{string:"ads_hide_sponsored_content",fallbackString:"Hide Sponsored Content"})),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.edmodo.com/hc/en-us/articles/115000999288"},s.a.createElement("div",{className:"dropdown-item",onClick:t},s.a.createElement(f.default,{string:"ads_why_am_i_seeing",fallbackString:"Why am I seeing this?"}))),s.a.createElement("a",{target:"_blank",href:"https://support.edmodo.com/hc/en-us/requests/new?ticket_form_id=549368",rel:"noopener noreferrer",onClick:n},s.a.createElement("div",{className:"dropdown-item",onClick:t},s.a.createElement(f.default,{string:"report",fallbackString:"Report"}))))));var E=({hideAdSlot:e,toggleDropdown:t,reportAd:a,dropdownOpen:n,children:r,currentUser:i,centerCreative:o,whiteContainer:l,hideHeader:c})=>{const d=p()("edmoads-creative-container"),u=p()("edmoads-panel mb-2_5",{"edmoads-panel-white":l,"text-center":o});return s.a.createElement("div",{className:u},!c&&s.a.createElement(b,{dropdownOpen:n,currentUser:i,hideAdSlot:e,reportAd:a,toggleDropdown:t}),s.a.createElement("div",{className:d},r))},y=a(1637),S=a(83);class v extends r.Component{static isFluidAd(e){return 0===e.size[0]}constructor(e){super(e),this.state={isFluidAd:!1},this.slotRenderEnded=this.slotRenderEnded.bind(this),this.trackingProperties=this.trackingProperties.bind(this),this.gotAd=this.gotAd.bind(this),this.noAd=this.noAd.bind(this),this.timeoutAd=this.timeoutAd.bind(this)}componentDidMount(){this.props.adsLog("EdmoAds: Request Ad: %s",this.props.slotId),y.a.attachSlotRenderEnded(this.slotRenderEnded),y.a.registerSlot(this.props.adUnitPath,this.props.sizes,this.props.slotId,this.props.isSortableEnabled,this.props.customKeyValues),this.timeout=setTimeout(this.timeoutAd,S.a.AD_TIMEOUT_INTERVAL)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout),this.props.adsActions.removeCurrentlyDisplayedAdPosition(this.props.slotId),y.a.unregisterSlot(this.props.slotId,this.props.isSortableEnabled),y.a.detachSlotRenderEnded(this.slotRenderEnded)}slotRenderEnded(e){this.timeout&&clearTimeout(this.timeout),e.slotId===this.props.slotId&&(e.event.isEmpty?this.noAd(e.event):this.gotAd(e.event))}trackingProperties(){const e=(new Date).getHours();return{p0:this.props.slotId,p1:this.props.keyValues.get(S.a.COUNTRY),p2:e,p3:this.props.keyValues.get(S.a.AUDIENCE_TYPE)}}gotAd(e){this.props.adsLog("EdmoAds: Got Ad: %c%s","color:#839096; background:#F8F9FA;",this.props.slotId,e),this.props.adsTrackingActions.gotAd(this.trackingProperties()),this.props.adsActions.addCurrentlyDisplayedAdPosition(this.props.slotId),this.props.setAdData(e),this.props.onGotAd&&this.props.onGotAd(this.props.isFirstRender),v.isFluidAd(e)&&this.setState({isFluidAd:!0})}noAd(e){this.props.adsLog("EdmoAds: No Ad: %c%s","color:#839096; background:#F8F9FA;",this.props.slotId,e),this.props.adsTrackingActions.noAd(this.trackingProperties()),this.props.onNoAd&&this.props.onNoAd(this.props.isFirstRender),this.props.hideAdSlot()}timeoutAd(){this.props.adsLog("EdmoAds: Timeout Ad: %c%s","color:#839096; background:#F8F9FA;",this.props.slotId),this.props.adsTrackingActions.timeoutAd(this.trackingProperties()),this.props.hideAdSlot()}render(){return s.a.createElement("div",{id:this.props.slotId,className:this.state.isFluidAd?"edmoads-creative-fluid":"edmoads-creative"})}}var C=v;class A extends r.Component{constructor(e){super(e),this.state={shouldAdRefresh:!1,isFirstRender:!0},this.setupAdRefresh=this.setupAdRefresh.bind(this),this.clearAdRefresh=this.clearAdRefresh.bind(this),this.refreshAd=this.refreshAd.bind(this),this.isAdVisible=this.isAdVisible.bind(this)}componentDidMount(){this.setupAdRefresh()}componentDidUpdate(){this.state.shouldAdRefresh&&this.setState({shouldAdRefresh:!1})}componentWillUnmount(){this.clearAdRefresh()}setupAdRefresh(){const e=this.props.attributes.getIn([S.a.META,S.a.TIME_REFRESH_INTERVAL]);e&&!this.refreshTimerId&&(this.props.adsLog("Edmoads: Set refresh ",this.props.slotId,e),this.refreshTimerId=setInterval(this.refreshAd,e))}clearAdRefresh(){this.refreshTimerId&&clearInterval(this.refreshTimerId)}refreshAd(){this.isAdVisible()&&(this.props.adsLog("Edmoads: Refresh Ad ",this.props.slotId),this.setState({shouldAdRefresh:!0,isFirstRender:!1}))}isAdVisible(){return u.a.isPageVisible()&&u.a.isElementVisible("#".concat(this.props.slotId),S.a.DFP_MIN_VISIBILITY_PERCENTAGE)}render(){const e=this.props.attributes.get(S.a.AD_UNIT_PATH),t=this.props.sizes||this.props.attributes.getIn([S.a.META,S.a.SIZES]).toJS();return s.a.createElement(E,{dropdownOpen:this.props.dropdownOpen,currentUser:this.props.currentUser,centerCreative:this.props.centerCreative,whiteContainer:this.props.whiteContainer,hideHeader:this.props.hideHeader,hideAdSlot:this.props.hideAdSlot,reportAd:this.props.reportAd,toggleDropdown:this.props.toggleDropdown},!this.state.shouldAdRefresh&&s.a.createElement(C,{slotId:this.props.slotId,adUnitPath:e,sizes:t,keyValues:this.props.keyValues,customKeyValues:this.props.customKeyValues,isSortableEnabled:this.props.isSortableEnabled,isFirstRender:this.state.isFirstRender,adsTrackingActions:this.props.adsTrackingActions,setAdData:this.props.setAdData,hideAdSlot:this.props.hideAdSlot,adsLog:this.props.adsLog,onGotAd:this.props.onGotAd,onNoAd:this.props.onNoAd,adsActions:this.props.adsActions}))}}var I=A,T=a(1634),k=a(387);const O=e=>({type:k.a.TRACK_ADS_GOT_AD,payload:e}),_=e=>({type:k.a.TRACK_ADS_NO_AD,payload:e}),M=e=>({type:k.a.TRACK_ADS_TIMEOUT_AD,payload:e});var N=a(1488),w=a(73);class P extends r.Component{constructor(e){super(e);const t=this.props.adsInfo&&this.props.adsInfo.getIn([S.a.REGIONS,this.props.position]);this.state={dropdownOpen:!1,adHidden:!1,adData:null,attributes:t},this.hideAdSlot=this.hideAdSlot.bind(this),this.setAdData=this.setAdData.bind(this),this.reportAd=this.reportAd.bind(this),this.adsLog=this.adsLog.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this)}UNSAFE_componentWillReceiveProps(e){this.props!==e&&e.adsInfo&&e.adsInfo.getIn([S.a.REGIONS,this.props.position])&&this.setState({attributes:e.adsInfo.getIn([S.a.REGIONS,this.props.position])})}setAdData(e){this.setState({adData:e})}hideAdSlot(){this.setState({adHidden:!0})}reportAd(){this.state.adData&&this.props.adsActions.createAdReport(this.state.adData)}toggleDropdown(){this.setState({dropdownOpen:!this.state.dropdownOpen})}makeSlotId(){return this.props.position}adsLog(...e){this.props.isAdsLogEnabled&&console.log(...e)}render(){if(!this.state.attributes||this.state.adHidden)return null;const e=this.props.adsInfo.get(S.a.KEY_VALUES),t=!!this.state.attributes.getIn([S.a.META,S.a.DISPLAY_ON_MOBILE_WEB])?d.b:d.a;return this.props.isDFPEnabled?s.a.createElement(t,null,s.a.createElement(c.a,{offset:200,once:!0},s.a.createElement(I,{slotId:this.makeSlotId(),attributes:this.state.attributes,keyValues:e,customKeyValues:this.props.customKeyValues,sizes:this.props.sizes,centerCreative:this.props.centerCreative,hideHeader:this.props.hideHeader,whiteContainer:this.props.whiteContainer,dropdownOpen:this.state.dropdownOpen,isSortableEnabled:this.props.isSortableEnabled,currentUser:this.props.currentUser,adsTrackingActions:this.props.adsTrackingActions,hideAdSlot:this.hideAdSlot,setAdData:this.setAdData,reportAd:this.reportAd,adsLog:this.adsLog,onGotAd:this.props.onGotAd,onNoAd:this.props.onNoAd,toggleDropdown:this.toggleDropdown,adsActions:this.props.adsActions}))):null}}t.a=Object(i.connect)((function(e){return{currentUser:w.c(e),adsInfo:N.a(e),isDFPEnabled:N.f(e),isSortableEnabled:N.i(e),isAdsLogEnabled:N.d(e)}}),(function(e){return{adsActions:Object(o.bindActionCreators)(T,e),adsTrackingActions:Object(o.bindActionCreators)(n,e)}}))(P)},function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return d}));var n=a(13),r=a(18),s=a(25);const i=e=>s.a.post(r.a.ASSIGNMENTS,{[n.a.TITLE]:e.title,[n.a.DESCRIPTION]:e.description,[n.a.DUE_AT]:e.due_at,[n.a.LOCK_AFTER_DUE]:e.lock_after_due,[n.a.RECIPIENTS]:e.recipients,[n.a.ATTACHMENTS]:e.attachments,[n.a.POST_AT]:e.post_at,[n.a.VIEWABLE_IN_GRADEBOOK]:e.gradebook}),o=e=>s.a.post(r.a.ASSIGNMENTS,e),l=e=>s.a.get("".concat(r.a.ASSIGNMENT_TEMPLATES,"/").concat(e)),c=e=>s.a.get("".concat(r.a.ASSIGNMENTS,"/").concat(e)),d=(e,t)=>s.a.put("".concat(r.a.MESSAGES,"/").concat(t),e)},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(35),i=a.n(s),o=a(370),l=a(156),c=a(1470),d=a.n(c),u=a(77),h=(a(1221),a(1204)),p=a(1206),m=a(30),g=a(202),f=a(254),b=a(512),E=a(1203),y=a.n(E);t.a=({title:e,url:t,thumbUrl:a,id:n,messageId:s,showRemove:c,source:E,worksheetType:S,handleDismissClick:v,toggleCopiesDrodown:C,setCopiesStatus:A,makeCopies:I,copiesStatus:T,copiesDropdownOpen:k,isStudent:O,isTeacher:_,handleAddLinkToLibrary:M,size:N,googleType:w})=>{const P=u.a.filterUrl(u.a.addHttpToUrl(t)),R=i()("qa-test-AttachmentItem","AttachmentItem","AttachmentItem--card",{"AttachmentItem--small":"sm"===N},"d-flex align-items-center p-2");return r.a.createElement("div",{id:"link-attachment",className:R},r.a.createElement("div",{className:"qa-test-AttachmentItem__icon AttachmentItem__icon d-flex justify-content-center align-items-center flex-shrink-0"},(()=>{if(f.a.isGoogleDoc(t)){const e=g.d(t);return r.a.createElement(h.a,{name:g.f(e,"google")})}return r.a.createElement(h.a,{name:g.f(m.a.LINK,"link"),color:y.a.cyan[30]})})()),r.a.createElement("div",{className:"pl-2_5 w-100"},r.a.createElement("div",{className:"title"},r.a.createElement(b.a,{href:P,target:"_blank",rel:"noopener noreferrer",className:"qa-test-AttachmentItem__title AttachmentItem__title"},r.a.createElement(d.a,{escapeHtml:!0,source:e}))),r.a.createElement(b.a,{href:P,target:"_blank",rel:"noopener noreferrer",className:"AttachmentItem__subtext subtext"},r.a.createElement(d.a,{escapeHtml:!0,source:(e=>{const t=e&&e.split("/");return u.a.isHttpInUrl(e)?t[2]:t&&t[0]})(t)}))),!c&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(o.a,{className:"AttachmentItem__actions",align:"end",hideArrow:!0},r.a.createElement("div",{className:"drop-selector"},r.a.createElement(h.a,{name:"EllipsisIcon",color:y.a.gray[40]})),r.a.createElement(o.b,null,r.a.createElement(o.c,{href:P,target:"_blank"},r.a.createElement(l.default,{string:"link-attachments-visit-link",fallbackString:"Visit Link"})),M&&(O?r.a.createElement(o.c,{onClick:()=>M(e,t)},r.a.createElement(l.default,{string:"add-to-backpack",fallbackString:"Add To Backpack"})):_?r.a.createElement(o.c,{onClick:()=>M(e,t)},r.a.createElement(l.default,{string:"add-to-library",fallbackString:"Add To Library"})):void 0)))),c&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(p.default,{className:"AttachmentItem__remove",color:y.a.gray[40],"data-attachment-id":n,"data-attachment-messageid":s,"data-attachment-type":"links",onClick:v,role:"presentation",onKeyPress:v})))}},function(e,t,a){"use strict";function n(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return"string"===typeof t||t instanceof Array?e.concat(t):e}),[]).filter(Boolean).join(" ")}a.r(t),a.d(t,"default",(function(){return n}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTileClasses=t.between=t.doRangesOverlap=t.isRangeWithinRange=t.isValueWithinRange=t.callIfDefined=t.mergeFunctions=void 0;var n=a(1210);t.mergeFunctions=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.filter(Boolean).forEach((function(e){return e.apply(void 0,a)}))}};t.callIfDefined=function(e){if(e&&"function"===typeof e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];e.apply(void 0,a)}};var r=function(e,t){return t[0]<=e&&t[1]>=e};t.isValueWithinRange=r;var s=function(e,t){return e[0]<=t[0]&&e[1]>=t[1]};t.isRangeWithinRange=s;var i=function(e,t){return r(e[0],t)||r(e[1],t)};t.doRangesOverlap=i;t.between=function(e,t,a){return t&&t>e?t:a&&a<e?a:e};t.getTileClasses=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,a=e.valueType,o=e.date,l=e.dateType,c=e.hover,d="react-calendar__tile",u=[d];if(!o)return u;if(!(o instanceof Array)&&!l)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var h=new Date,p=o instanceof Array?o:(0,n.getRange)(l,o);if(r(h,p)&&u.push("".concat(d,"--now")),!t)return u;if(!(t instanceof Array)&&!a)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var m=t instanceof Array?t:(0,n.getRange)(a,t);s(m,p)?u.push("".concat(d,"--active")):i(m,p)?u.push("".concat(d,"--hasActive")):c&&(p[1]<m[0]&&i(p,[c,m[0]])||p[0]>m[1]&&i(p,[m[1],c]))&&u.push("".concat(d,"--hover"));var g=r(m[0],p),f=r(m[1],p);return g&&u.push("".concat(d,"--rangeStart")),f&&u.push("".concat(d,"--rangeEnd")),g&&f&&u.push("".concat(d,"--rangeBothEnds")),u}},function(e,t,a){"use strict";a.d(t,"h",(function(){return y})),a.d(t,"b",(function(){return S})),a.d(t,"e",(function(){return v})),a.d(t,"g",(function(){return C})),a.d(t,"f",(function(){return A})),a.d(t,"d",(function(){return I})),a.d(t,"c",(function(){return T})),a.d(t,"a",(function(){return k}));var n=a(4),r=a.n(n),s=a(0),i=a(5),o=a.n(i),l=a(135),c=a.n(l),d=a(254),u=a(118),h=a(69);const p={Accept:"application/json","Content-Type":"multipart/form-data"},m=e=>{window["abort_axios_".concat(e)]&&delete window["abort_axios_".concat(e)]};var g={GENERAL:["7z","arj","deb","pkg","rpm","tar","z","bin","dmg","iso","toast","vcd","dat","db","dbf","log","mdb","xml","apk","bat","cgi","com","exe","jar","wsf","aif","cda","mid","midi","mpa","wpl","fnt","fon","ico","ps","asp","aspx","cer","cmd","cfm","js","jsp","part","php","rss","xhtml","c","class","cs","h","sh","swift","vb","bak","cab","cfg","cpl","cur","dll","dmp","drv","icns","ini","msi","sys","tmp","php5","shtml","asa","cert","jpsx","phtml"],PROFILE:"svg"},f=a(335),b=a(156),E=a(99);const y=(e,t=[],a,n)=>{if(!s.Map.isMap(e)||!t)return;const r=e.get("original_file_name"),i=Array.from(t).find(e=>e.name===r);if(i){const t=new FormData;return t.append("AWSAccessKeyId",e.get("AWSAccessKeyId")),t.append("key",e.get("key")),t.append("policy",e.get("policy")),t.append("signature",e.get("signature")),e.get("acl")&&t.append("acl",e.get("acl")),t.append("Content-Type",e.get("Content-Type")),t.append("utf8",""),t.append("file",i),i.s3_name=e.get("filename"),((e,t,a,n=h.a.BUCKET_URL)=>{const r=l.CancelToken.source(),s=a.s3_name;return s&&(window["abort_axios_".concat(s)]=r),c()({cancelToken:r.token,method:u.a.POST,url:n,headers:p,data:e,onUploadProgress:e=>{let n=e;d.a.getFileUploadProgress(e)>99&&(n=d.a.setFileUploadProgress(e,99)),t&&t(n,a)}}).then(e=>(m(s),Promise.resolve(e))).catch(e=>(m(s),Promise.reject(e)))})(t,a,i,n).then(()=>Promise.resolve({id:i.s3_name,file_name:i.name,file_type:i.type,s3_name:i.s3_name,size:i.size,s3_key:e.get("key"),progress:100})).catch(()=>E.a.EnvOption("REACT_APP_DEBUG_FILE_UPLOADS")?Promise.resolve({id:i.s3_name,file_name:i.name,file_type:i.type,s3_name:i.s3_name,size:i.size,s3_key:e.get("key"),progress:100}):Promise.reject({id:i.s3_name,file_name:i.name,file_type:i.type,s3_name:i.s3_name,size:i.size,s3_key:e.get("key"),progress:-1}))}},S=(e={},t={})=>{null===e&&(e={});let a=e.name&&e.name.split(".");return a=a&&a[a.length-1].toLowerCase(),t&&"upload"===t.avatar&&g.PROFILE.indexOf(a)>=0||g.GENERAL.indexOf(a)>=0},v=(e={},t=[])=>{null===e&&(e={});let a=e.type;return!(t.indexOf(a)>=0)},C=(e={})=>(null===e&&(e={}),e.size>h.a.MAX_FILE_SIZE_BYTES),A=(e={},t=0)=>(null===e&&(e={}),e.size>t),I=(e={})=>(null===e&&(e={}),e.size>h.a.MAX_CSV_FILE_SIZE_IN_BYTES),T=(e={})=>{null===e&&(e={});let t=e.name&&e.name.split(".");return t=t&&t[t.length-1].toLowerCase(),"csv"===t},k=(e,t)=>{const a=[],n=[];return e&&s.List.isList(e)&&e.count()&&(e.forEach(e=>{a.push(f.a.getOriginalFileName(e))}),a.push(r.a.createElement(b.default,{string:"file_upload_failure_type",fallbackString:"Reason: File type not allowed"}))),t&&s.List.isList(t)&&t.count()&&(t.forEach(e=>{n.push(f.a.getOriginalFileName(e))}),n.push(r.a.createElement(b.default,{string:"file_upload_failure_size",fallbackString:"Reason: File size too big"}))),0===a.length&&0===n.length?[]:o.a.concat(r.a.createElement(b.default,{string:"utils,S3Uploads,file_upload_error_message_box_body_pre"}),a,n)}},function(e,t,a){"use strict";a.r(t),a.d(t,"fetchAdsInfoForCurrentUserRequest",(function(){return d})),a.d(t,"fetchAdsInfoForCurrentUserSuccess",(function(){return u})),a.d(t,"toggleAdsLog",(function(){return h})),a.d(t,"addCurrentlyDisplayedAdPosition",(function(){return p})),a.d(t,"removeCurrentlyDisplayedAdPosition",(function(){return m})),a.d(t,"fetchAdsInfoForCurrentUser",(function(){return g})),a.d(t,"createAdReport",(function(){return f}));var n=a(304),r=a(11),s=a.n(r),i=a(13),o=a(18),l=a(25);var c=a(36);const d=()=>({type:n.a.REQUEST_CURRENT_USER_ADS_INFO,payload:null}),u=e=>({type:n.a.CURRENT_USER_ADS_INFO_FETCH_SUCCESS,payload:e}),h=e=>({type:n.a.TOGGLE_ADS_LOG_ACTION,payload:e}),p=e=>({type:n.a.ADD_CURRENTLY_DISPLAYED_AD_POSITION,payload:e}),m=e=>({type:n.a.REMOVE_CURRENTLY_DISPLAYED_AD_POSITION,payload:e}),g=e=>function(e,t){return e(d()),(()=>{const e=encodeURIComponent((new s.a).format());return l.a.get(o.a.ADS,{params:{[i.a.USER_LOCAL_TIME]:e}})})().then(t=>{e(u(t.data))}).catch(e=>{"Network Error"!==e.message&&c.a.notifyBugsnag(e,"AdsActionCreator.fetchAdsInfoForCurrentUser")})},f=e=>function(t,a){return(e=>{const t=e.advertiserId,a=e.campaignId,n=e.creativeId,r=e.lineItemId,s=e.sourceAgnosticCreativeId,i=e.sourceAgnosticLineItemId,c=e.isBackfill;return l.a.post(o.a.AD_REPORT,{ad_data:{advertiser_id:t,campaign_id:a,creative_id:n,line_item_id:r,source_agnostic_creative_id:s,source_agnostic_line_item_id:i,is_backfill:c}})})(e)}},function(e,t,a){"use strict";var n=a(540),r=a.n(n);let s=null,i=!1;t.a={isElementVisible:(e,t=100)=>(e=>{const t=r()(".top-level-menubar.navbar").height(),a=r()(window),n=r()(e),s=a.height(),i=a.scrollTop(),o=n.offset().top-t,l=n.height(),c=i-o,d=o+l+t-(i+s);if(i>o+l||o>i+s)return 0;let u=100;return c>0&&(u-=c/l*100),d>0&&(u-=d/l*100),Math.min(Math.max(u,0),100)})(e)>=t,isPageVisible:()=>((()=>{if(i)return;const e=window.document;"undefined"!==typeof e.hidden?s="hidden":"undefined"!==typeof e.msHidden?s="msHidden":"undefined"!==typeof e.webkitHidden&&(s="webkitHidden"),i=!0})(),!document[s]),scrollToTop:()=>{window.scrollTo(0,0)}}},,function(e,t,a){"use strict";var n=a(1744);var r={slots:{},setSlot(e,t){this.slots[e]=t},getSlot(e){return this.slots[e]},destroySlot(e){delete this.slots[e]}},s=a(83),i=a(184);var o={loadScript(e){return new Promise((t,a)=>{this.doLoadScript(e,t,a)})},doLoadScript(e,t,a){const n=document.createElement("script");n.src=e,n.async=!0,n.type="text/javascript",n.onerror=function(e){a(e)},n.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(n)}};let l=!1;const c=Object.assign((new n.EventEmitter).setMaxListeners(0),{loadAdServices(e){const t=e.adsInfo,a=e.isAdsEnabled,n=e.isDFPEnabled,r=e.isSortableEnabled,s=e.isNextMillenniumEnabled,i=e.isTFCDEnabled,o=e.isBrandLiftCampaignEnabled;!l&&a&&(l=!0,n&&c.loadDFP(t,r,i,o),s&&c.loadNextMillenium())},loadDFP(e,t,a,n){i.a.isAdsEnabled(e)&&(this.loadDFPScripts(t),this.initDFP(e,t,a,n))},loadNextMillenium:()=>o.loadScript("//nextmillennium.liqwid.net/?key=D85D-A6F1-B041-B88A"),loadDFPScripts(e){this.loadGPTScript(),e&&this.loadSortableScript()},initDFP(e,t,a,n){const r=this.getGoogletag(),i=e.get(s.a.KEY_VALUES),o=e.get(s.a.BRAND_LIFT_CAMPAIGNS);r.cmd.push(()=>{if(r.pubads().addEventListener("slotRenderEnded",e=>{const t=e.slot.getSlotElementId();this.emit("slotRenderEnded",{slotId:t,event:e})}),r.pubads().setTargeting(s.a.AUDIENCE_TYPE,i.get(s.a.AUDIENCE_TYPE)),i.get(s.a.COUNTRY)&&r.pubads().setTargeting(s.a.COUNTRY,i.get(s.a.COUNTRY)),i.get(s.a.SUBJECTS)&&r.pubads().setTargeting(s.a.SUBJECTS,i.get(s.a.SUBJECTS)),i.get(s.a.GRADES)&&r.pubads().setTargeting(s.a.GRADES,i.get(s.a.GRADES)),i.get(s.a.SCHOOL_ID)&&r.pubads().setTargeting(s.a.SCHOOL_ID,i.get(s.a.SCHOOL_ID)),r.pubads().setTargeting(s.a.BLOCKING,["1","2","3","4","5","6","7","8","9","10"]),r.pubads().setTargeting(s.a.TIME_OF_DAY,i.get(s.a.TIME_OF_DAY)),r.pubads().setTargeting(s.a.PLATFORM,s.a.REACT),o&&o.toJS().forEach(e=>{const t=Object.keys(e)[0],a=e[t];r.pubads().setTargeting(t,a)}),n?r.pubads().setTargeting(s.a.BRAND_LIFT_CAMPAIGN,s.a.CAMPAIGN_ON):r.pubads().setTargeting(s.a.BRAND_LIFT_CAMPAIGN,s.a.CAMPAIGN_OFF),a&&r.pubads().setTagForChildDirectedTreatment(1),r.pubads().enableSingleRequest(),r.pubads().collapseEmptyDivs(!0),t){const e=this.getDeployads();e.push(()=>{e.gpt.enableServices()})}else r.enableServices()})},registerSlot(e,t,a,n,s){const i=this.getGoogletag();i.cmd.push(()=>{const o=i.defineSlot(e,t,a);if(o)if(s&&Object.keys(s).forEach(e=>{const t=s[e];o.setTargeting(e,t)}),r.setSlot(a,o),o.addService(i.pubads()),n){const e=this.getDeployads();e.push(()=>{e.gpt.display(a)})}else i.display(a)})},unregisterSlot(e,t){const a=r.getSlot(e),n=this.getGoogletag();r.destroySlot(e),n.cmd.push(()=>{if(t){const e=this.getDeployads();e.push(()=>{e.gpt.destroySlots([a])})}else n.destroySlots([a])})},attachSlotRenderEnded(e){this.on("slotRenderEnded",e)},detachSlotRenderEnded(e){this.removeListener("slotRenderEnded",e)},loadGPTScript:()=>o.loadScript("https://www.googletagservices.com/tag/js/gpt.js"),loadSortableScript(){const e="".concat(document.location.protocol,"//tags-cdn.deployads.com/a/dfp.edmodo.com.js");return o.loadScript(e)},getGoogletag:()=>(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag),getDeployads:()=>(window.deployads=window.deployads||[],window.deployads)});t.a=c},function(e,t,a){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}t.a=function(e,t){var a;void 0===t&&(t=n);var r,s=[],i=!1;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i&&a===this&&t(n,s)||(r=e.apply(this,n),i=!0,a=this,s=n),r}}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1206),o=a(1241),l=a(156),c=a(1927),d=a.n(c);a(1928);t.a=({isModalOpen:e,toggleAlertModal:t,mainCtaAction:a,secondaryCtaAction:n})=>r.a.createElement(s.M,{isOpen:e,toggle:t,size:"sm",centered:!0,className:"alert-modal",contentClassName:"qa-test-alert-modal"},r.a.createElement("div",{className:"close-alert-modal-icon qa-test-verify-modal-close-btn",onClick:t,onKeyDown:t,role:"button",tabIndex:0},r.a.createElement(i.default,{className:"x-icon"})),r.a.createElement("div",{className:"alert-modal-image",style:{backgroundImage:"url(".concat(d.a,")")}}),r.a.createElement("div",{className:"alert-modal-content"},r.a.createElement("h4",{className:"alert-modal-header"},r.a.createElement(l.default,{string:"post_box,verify_your_email",fallbackString:"Verify your email!"})),r.a.createElement("p",{className:"alert-modal-description"},r.a.createElement(l.default,{string:"check-email-for-verification",fallbackString:"You won't be able to communicate with other teachers until you verify your account. Check your email for a verification link."})),r.a.createElement("div",{className:"cta-btn-container"},r.a.createElement(s.c,{color:"primary",className:"alert-modal-cta-btn",onClick:a,block:!0},r.a.createElement(l.default,{string:"resend-email-verification",fallbackString:"Resend Verification Email"}))),r.a.createElement("div",{className:"alert-modal-secondary-cta",onClick:n},r.a.createElement(o.default,null),r.a.createElement(l.default,{string:"email-settings",fallbackString:"Email Settings"}))))},function(e,t,a){},function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a(1648),r="undefined"!==typeof e?e:{},s=Object(n.a)(r),i=(s.flush,s.hydrate,s.cx,s.merge,s.getRegisteredStyles,s.injectGlobal),o=(s.keyframes,s.css);s.sheet,s.caches}).call(this,a(211))},function(e,t,a){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(a){}}return function(a,n,r,s,i,o,l,c,d,u){switch(a){case 1:if(0===d&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===c)return n+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(r[0]+n),"";default:return n+(0===u?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}}()},function(e,t,a){(function(t){for(var n=a(1644),r="undefined"===typeof window?t:window,s=["moz","webkit"],i="AnimationFrame",o=r["request"+i],l=r["cancel"+i]||r["cancelRequest"+i],c=0;!o&&c<s.length;c++)o=r[s[c]+"Request"+i],l=r[s[c]+"Cancel"+i]||r[s[c]+"CancelRequest"+i];if(!o||!l){var d=0,u=0,h=[];o=function(e){if(0===h.length){var t=n(),a=Math.max(0,1e3/60-(t-d));d=a+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(a){setTimeout((function(){throw a}),0)}}),Math.round(a))}return h.push({handle:++u,callback:e,cancelled:!1}),u},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return o.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=o,e.cancelAnimationFrame=l}}).call(this,a(211))},function(e,t,a){(function(t){(function(){var a,n,r,s,i,o;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(a()-i)/1e6},n=t.hrtime,s=(a=function(){var e;return 1e9*(e=n())[0]+e[1]})(),o=1e9*t.uptime(),i=s-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,a(437))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(4),i=l(s),o=l(a(2));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},d=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],u=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},h=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return h?"_"+Math.random().toString(36).substr(2,12):void 0},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.inputRef=function(e){a.input=e,"function"===typeof a.props.inputRef&&a.props.inputRef(e)},a.placeHolderSizerRef=function(e){a.placeHolderSizer=e},a.sizerRef=function(e){a.sizer=e},a.state={inputWidth:e.minWidth,inputId:e.id||p()},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||p()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(u(e,this.sizer),this.placeHolderSizer&&u(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return h&&e?i.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!==e&&void 0!==e?e:t})),t=n({},this.props.style);t.display||(t.display="inline-block");var a=n({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(this.props,[]);return function(e){d.forEach((function(t){return delete e[t]}))}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=a,i.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement("input",n({},r,{ref:this.inputRef})),i.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?i.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(s.Component);m.propTypes={className:o.default.string,defaultValue:o.default.any,extraWidth:o.default.oneOfType([o.default.number,o.default.string]),id:o.default.string,injectStyles:o.default.bool,inputClassName:o.default.string,inputRef:o.default.func,inputStyle:o.default.object,minWidth:o.default.oneOfType([o.default.number,o.default.string]),onAutosize:o.default.func,onChange:o.default.func,placeholder:o.default.string,placeholderIsMinWidth:o.default.bool,style:o.default.object,value:o.default.any},m.defaultProps={minWidth:1,injectStyles:!0},t.default=m},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(4),r=a.n(n),s=a(364),i=a(1208),o=a(509);const l=({input:e,label:t,type:a="textarea",translate:n,maxLength:o,className:l,meta:c,style:d})=>{const u=c&&c.touched,h=c&&c.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.D,Object.assign({type:a,placeholder:t,className:l,maxLength:o,style:d},e)),u&&h&&r.a.createElement("small",{className:"qa-test-required-error required-error"},Object(i.r)(h,n)))};t.b=Object(o.a)(l)},function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return h})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return m}));var n=a(9),r=a(1),s=a(20),i=a(28);const o=(e,t)=>t&&t===s.a.REDUCER?e:i.E(e),l=Object(n.createSelector)([o],e=>e&&e.get(r.a.CURRENT_DISTRICT_ID)),c=Object(n.createSelector)([o],e=>e&&e.get(r.a.EXISTING_DISTRICTS)),d=Object(n.createSelector)([c,l],(e,t)=>e&&t&&e.get(t.toString())),u=Object(n.createSelector)([o],e=>e&&e.get(r.a.CURRENT_USER_DISTRICT)),h=Object(n.createSelector)([o],e=>e&&e.get(r.a.DISTRICT_ADMINISTRATORS)),p=(Object(n.createSelector)([o],e=>e&&e.get(r.a.DISTRICT_RECIPIENT_SCHOOLS)),Object(n.createSelector)([o],e=>e&&e.get(r.a.CURRENT_DISTRICT_ADMINISTRATOR_ID))),m=Object(n.createSelector)([o],e=>e&&e.get(r.a.EXISTING_SCHOOLS))},function(e,t,a){"use strict";var n=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}},r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var s=function(e){for(var t,a=e.length,n=a^a,r=0;a>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),a-=4,++r;switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),((n^=n>>>15)>>>0).toString(36)};var i=function(e){function t(e,t,n){var r=t.trim().split(m);t=r;var s=r.length,i=e.length;switch(i){case 0:case 1:var o=0;for(e=0===i?"":e[0]+" ";o<s;++o)t[o]=a(e,t[o],n).trim();break;default:var l=o=0;for(t=[];o<s;++o)for(var c=0;c<i;++c)t[l++]=a(e[c]+" ",r[o],n).trim()}return t}function a(e,t,a){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*a&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,a,s){var i=e+";",o=2*t+3*a+4*s;if(944===o){e=i.indexOf(":",9)+1;var l=i.substring(e,i.length-1).trim();return l=i.substring(0,e).trim()+l+";",1===M||2===M&&r(l,1)?"-webkit-"+l+l:l}if(0===M||2===M&&!r(i,1))return i;switch(o){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(T,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(l=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+l+i;case 1005:return h.test(i)?i.replace(u,":-webkit-")+i.replace(u,":-moz-")+i:i;case 1e3:switch(t=(l=i.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=i.replace(y,"tb");break;case 232:l=i.replace(y,"tb-rl");break;case 220:l=i.replace(y,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+l+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,o=(l=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:i=i.replace(l,"-webkit-"+l)+";"+i;break;case 207:case 102:i=i.replace(l,"-webkit-"+(102<o?"inline-":"")+"box")+";"+i.replace(l,"-webkit-"+l)+";"+i.replace(l,"-ms-"+l+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return l=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+l+"-ms-flex-"+l+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(C,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(C,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,a,s).replace(":fill-available",":stretch"):i.replace(l,"-webkit-"+l)+i.replace(l,"-moz-"+l.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===a+s&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+i}return i}function r(e,t){var a=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?a:10);return a=e.substring(a+1,e.length-1),R(2!==t?n:n.replace(A,"$1"),a,t)}function s(e,t){var a=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return a!==t+";"?a.replace(v," or ($1)").substring(4):"("+t+")"}function i(e,t,a,n,r,s,i,o,c,d){for(var u,h=0,p=t;h<P;++h)switch(u=w[h].call(l,e,p,a,n,r,s,i,o,c,d)){case void 0:case!1:case!0:case null:break;default:p=u}if(p!==t)return p}function o(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?M=1:(M=2,R=e):M=0),o}function l(e,a){var o=e;if(33>o.charCodeAt(0)&&(o=o.trim()),o=[o],0<P){var l=i(-1,a,o,o,O,k,0,0,0,0);void 0!==l&&"string"===typeof l&&(a=l)}var u=function e(a,o,l,u,h){for(var p,m,g,y,v,C=0,A=0,I=0,T=0,w=0,R=0,L=g=p=0,D=0,F=0,U=0,B=0,G=l.length,j=G-1,z="",q="",H="",V="";D<G;){if(m=l.charCodeAt(D),D===j&&0!==A+T+I+C&&(0!==A&&(m=47===A?10:47),T=I=C=0,G++,j++),0===A+T+I+C){if(D===j&&(0<F&&(z=z.replace(d,"")),0<z.trim().length)){switch(m){case 32:case 9:case 59:case 13:case 10:break;default:z+=l.charAt(D)}m=59}switch(m){case 123:for(p=(z=z.trim()).charCodeAt(0),g=1,B=++D;D<G;){switch(m=l.charCodeAt(D)){case 123:g++;break;case 125:g--;break;case 47:switch(m=l.charCodeAt(D+1)){case 42:case 47:e:{for(L=D+1;L<j;++L)switch(l.charCodeAt(L)){case 47:if(42===m&&42===l.charCodeAt(L-1)&&D+2!==L){D=L+1;break e}break;case 10:if(47===m){D=L+1;break e}}D=L}}break;case 91:m++;case 40:m++;case 34:case 39:for(;D++<j&&l.charCodeAt(D)!==m;);}if(0===g)break;D++}switch(g=l.substring(B,D),0===p&&(p=(z=z.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<F&&(z=z.replace(d,"")),m=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=o;break;default:F=N}if(B=(g=e(o,F,g,m,h+1)).length,0<P&&(v=i(3,g,F=t(N,z,U),o,O,k,B,m,h,u),z=F.join(""),void 0!==v&&0===(B=(g=v.trim()).length)&&(m=0,g="")),0<B)switch(m){case 115:z=z.replace(S,s);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(f,"$1 $2"))+"{"+g+"}",g=1===M||2===M&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===u&&(q+=g,g="")}else g="";break;default:g=e(o,t(o,z,U),g,u,h+1)}H+=g,g=U=F=L=p=0,z="",m=l.charCodeAt(++D);break;case 125:case 59:if(1<(B=(z=(0<F?z.replace(d,""):z).trim()).length))switch(0===L&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&(B=(z=z.replace(" ",":")).length),0<P&&void 0!==(v=i(1,z,o,a,O,k,q.length,u,h,u))&&0===(B=(z=v.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),m=z.charCodeAt(1),p){case 0:break;case 64:if(105===m||99===m){V+=z+l.charAt(D);break}default:58!==z.charCodeAt(B-1)&&(q+=n(z,p,m,z.charCodeAt(2)))}U=F=L=p=0,z="",m=l.charCodeAt(++D)}}switch(m){case 13:case 10:47===A?A=0:0===1+p&&107!==u&&0<z.length&&(F=1,z+="\0"),0<P*x&&i(0,z,o,a,O,k,q.length,u,h,u),k=1,O++;break;case 59:case 125:if(0===A+T+I+C){k++;break}default:switch(k++,y=l.charAt(D),m){case 9:case 32:if(0===T+C+A)switch(w){case 44:case 58:case 9:case 32:y="";break;default:32!==m&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===T+A+C&&(F=U=1,y="\f"+y);break;case 108:if(0===T+A+C+_&&0<L)switch(D-L){case 2:112===w&&58===l.charCodeAt(D-3)&&(_=w);case 8:111===R&&(_=R)}break;case 58:0===T+A+C&&(L=D);break;case 44:0===A+I+T+C&&(F=1,y+="\r");break;case 34:case 39:0===A&&(T=T===m?0:0===T?m:T);break;case 91:0===T+A+I&&C++;break;case 93:0===T+A+I&&C--;break;case 41:0===T+A+C&&I--;break;case 40:if(0===T+A+C){if(0===p)switch(2*w+3*R){case 533:break;default:p=1}I++}break;case 64:0===A+I+T+C+L+g&&(g=1);break;case 42:case 47:if(!(0<T+C+I))switch(A){case 0:switch(2*m+3*l.charCodeAt(D+1)){case 235:A=47;break;case 220:B=D,A=42}break;case 42:47===m&&42===w&&B+2!==D&&(33===l.charCodeAt(B+2)&&(q+=l.substring(B,D+1)),y="",A=0)}}0===A&&(z+=y)}R=w,w=m,D++}if(0<(B=q.length)){if(F=o,0<P&&(void 0!==(v=i(2,q,F,a,O,k,B,u,h,u))&&0===(q=v).length))return V+q+H;if(q=F.join(",")+"{"+q+"}",0!==M*_){switch(2!==M||r(q,2)||(_=0),_){case 111:q=q.replace(E,":-moz-$1")+q;break;case 112:q=q.replace(b,"::-webkit-input-$1")+q.replace(b,"::-moz-$1")+q.replace(b,":-ms-input-$1")+q}_=0}}return V+q+H}(N,o,a,0,0);return 0<P&&(void 0!==(l=i(-2,u,o,o,O,k,u.length,0,0,0))&&(u=l)),"",_=0,k=O=1,u}var c=/^\0+/g,d=/[\0\r\f]/g,u=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,f=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,E=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,v=/([\s\S]*?);/g,C=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,k=1,O=1,_=0,M=1,N=[],w=[],P=0,R=null,x=0;return l.use=function e(t){switch(t){case void 0:case null:P=w.length=0;break;default:switch(t.constructor){case Array:for(var a=0,n=t.length;a<n;++a)e(t[a]);break;case Function:w[P++]=t;break;case Boolean:x=0|!!t}}return e},l.set=o,void 0!==e&&o(e),l},o=a(1642),l=a.n(o),c=/[A-Z]|^ms/g,d=n((function(e){return e.replace(c,"-$&").toLowerCase()})),u=function(e,t){return null==t||"boolean"===typeof t?"":1===r[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},h=function e(t){for(var a=t.length,n=0,r="";n<a;n++){var s=t[n];if(null!=s){var i=void 0;switch(typeof s){case"boolean":break;case"function":0,i=e([s()]);break;case"object":if(Array.isArray(s))i=e(s);else for(var o in i="",s)s[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=s}i&&(r&&(r+=" "),r+=i)}}return r},p="undefined"!==typeof document;function m(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var g=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=m(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{a.insertRule(e,a.cssRules.length)}catch(r){0}}else{var n=m(this.opts);this.tags.push(n),n.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3===0&&this.tags.push(m(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var a,n,r=t.key||"css",o=l()((function(e){a+=e,p&&m.insert(e,b)}));void 0!==t.prefix&&(n={prefix:t.prefix});var c={registered:{},inserted:{},nonce:t.nonce,key:r},m=new g(t);p&&m.inject();var f=new i(n);f.use(t.stylisPlugins)(o);var b="";function E(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var a=e.toString();return a}return E.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return C.call(this,e);default:var n=c.registered[e];return!1===t&&void 0!==n?n:e}}var y,S,v=new WeakMap;function C(e){if(v.has(e))return v.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=E.call(this,e,!1)}),this):Object.keys(e).forEach((function(a){"object"!==typeof e[a]?void 0!==c.registered[e[a]]?t+=a+"{"+c.registered[e[a]]+"}":t+=d(a)+":"+u(a,e[a])+";":Array.isArray(e[a])&&"string"===typeof e[a][0]&&void 0===c.registered[e[a][0]]?e[a].forEach((function(e){t+=d(a)+":"+u(a,e)+";"})):t+=a+"{"+E.call(this,e[a],!1)+"}"}),this),v.set(e,t),t}var A=/label:\s*([^\s;\n{]+)\s*;/g,I=function(e,t){return s(e+t)+t},T=function(e){var t=!0,a="",n="";null==e||void 0===e.raw?(t=!1,a+=E.call(this,e,!1)):a+=e[0];for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.forEach((function(n,r){a+=E.call(this,n,46===a.charCodeAt(a.length-1)),!0===t&&void 0!==e[r+1]&&(a+=e[r+1])}),this),S=a,a=a.replace(A,(function(e,t){return n+="-"+t,""})),y=I(a,n),a};function k(e,t){void 0===c.inserted[y]&&(a="",f(e,t),c.inserted[y]=a)}var O=function(){var e=T.apply(this,arguments),t=r+"-"+y;return void 0===c.registered[t]&&(c.registered[t]=S),k("."+t,e),t};function _(e,t){var a="";return t.split(" ").forEach((function(t){void 0!==c.registered[t]?e.push(t):a+=t+" "})),a}function M(e,t){var a=[],n=_(a,e);return a.length<2?e:n+O(a,t)}function N(e){c.inserted[e]=!0}if(p){var w=document.querySelectorAll("[data-emotion-"+r+"]");Array.prototype.forEach.call(w,(function(e){m.tags[0].parentNode.insertBefore(e,m.tags[0]),e.getAttribute("data-emotion-"+r).split(" ").forEach(N)}))}var P={flush:function(){p&&(m.flush(),m.inject()),c.inserted={},c.registered={}},hydrate:function(e){e.forEach(N)},cx:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return M(h(t))},merge:M,getRegisteredStyles:_,injectGlobal:function(){var e=T.apply(this,arguments);k("",e)},keyframes:function(){var e=T.apply(this,arguments),t="animation-"+y;return k("","@keyframes "+t+"{"+e+"}"),t},css:O,sheet:m,caches:c};return e.__SECRET_EMOTION__=P,P}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(5),i=a(510);class o extends n.Component{constructor(e){super(e),this.handleScroll=this.handleScroll.bind(this),this.getParentElement=this.getParentElement.bind(this),this.removeScrollListener=this.removeScrollListener.bind(this),this.scrollParentRef=r.a.createRef()}getParentElement(){return this.props.useWindowAsScrollContainer?window:this.scrollParentRef.current}removeScrollListener(){this.getParentElement().removeEventListener("scroll",this.handleScroll)}componentDidMount(){const e=this.props,t=e.fetchOnMount,a=e.fetchMore,n=e.isEndReached,r=e.isLoading;this.getParentElement().addEventListener("scroll",Object(s.throttle)(this.handleScroll,250)),n||r||(t?a():this.handleScroll())}componentDidUpdate(e){const t=this.props.isEndReached;!e.isEndReached&&t&&this.removeScrollListener(),this.handleScroll()}componentWillUnmount(){this.removeScrollListener()}isAtScrollThreshold(e){if(this.props.useWindowAsScrollContainer)return window.innerHeight+window.pageYOffset>=document.body.scrollHeight-e;if(this.scrollParentRef&&this.scrollParentRef.current){const t=this.scrollParentRef.current;return t.scrollHeight-t.scrollTop-t.clientHeight<e}}handleScroll(){const e=this.props,t=e.isLoading,a=e.thresholdOffset,n=e.fetchMore;e.isEndReached||t||this.isAtScrollThreshold(a)&&n()}render(){const e=this.props,t=e.isLoading,a=e.isEndReached,n=e.containerHeight,s=e.containerMaxHeight,o=e.useWindowAsScrollContainer,l={overflow:"auto"};return n?l.height=n:s&&(l.maxHeight=s),o?r.a.createElement(r.a.Fragment,null,this.props.children,t&&!a&&r.a.createElement(i.a,null)):r.a.createElement("div",{style:l,ref:this.scrollParentRef},this.props.children,t&&!a&&r.a.createElement(i.a,null))}}o.defaultProps={thresholdOffset:250,useWindowAsScrollContainer:!0,fetchOnMount:!0},t.a=o},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1298),i=a(1311),o=a(1297),l=a(1264),c=a(1268);const d={itemAlreadySelected:(e,t)=>!!t.find(t=>d.getSelectedItemId(t)===d.getSelectedItemId(e)),excludeSelectableItemsByTarget:({selectedId:e},t)=>parseInt(t[1],10)!==parseInt(e,10),findSelectableItemByTarget:({selectedId:e},t)=>parseInt(t[1],10)===parseInt(e,10),setSelectedItemBackground:(e,t)=>{let a;return a=t?(void 0).props.defaultBackgroundColor||"#fff":c.b(e[0])?e[3]:c.a(e[0]),e[4]=a,e},getSelectedItemId:e=>e[1],getSelectedItemTitle:e=>e[2],getSelectedItemBackground:e=>e[4]||e[3],usageContext:l.a.LIBRARY};class u extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(s.a,Object.assign({},this.props,{getSelectedItemId:d&&d.getSelectedItemId,getSelectedItemTitle:d&&d.getSelectedItemTitle,getSelectedItemBackground:d&&d.getSelectedItemBackground,SelectableItemView:i.a,inputClassName:"qa-test-assign-recipients-input"}))}}t.a=Object(o.a)(d)(u)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Calendar",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"CenturyView",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"DecadeView",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"YearView",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MonthView",{enumerable:!0,get:function(){return o.default}}),t.default=void 0;var n=l(a(1680)),r=l(a(1545)),s=l(a(1546)),i=l(a(1547)),o=l(a(1548));function l(e){return e&&e.__esModule?e:{default:e}}a(1652);var c=n.default;t.default=c},function(e,t,a){},function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a(4),r=a.n(n),s=a(814),i=a(10),o=a(77),l=a(201);const c=e=>e.match(/mailto:/),d=Object(s.a)(e=>c(e.href)?r.a.createElement("a",{href:e.href},e.children):l.n(e.children)&&!l.y(e.children)?r.a.createElement("span",{onClick:()=>(e=>e.history.push(e.href))(e),className:"hashtag-link"},e.children):r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children)),u=Object(s.a)(e=>c(e.href)?r.a.createElement("a",{href:e.href},e.children):l.n(e.children)&&!l.y(e.children)?r.a.createElement("span",{onClick:()=>(e=>e.history.push("".concat(i.a.SEARCH_PAGE,"?q=").concat(o.a.makeSearchResultsUrlWithHashtag(e.href))))(e),className:"hashtag-link"},e.children):r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1323),i=a(156),o=a(364);a(1454);var l=({handleSelectFiles:e,fileInputFieldValue:t})=>r.a.createElement("div",null,r.a.createElement("div",{className:"qa-test-choose-file-btn choose-file-btn"},r.a.createElement("input",{type:"file",value:t,onChange:e,accept:"image/*"}),r.a.createElement(o.c,{color:"link",className:"btn"},r.a.createElement(i.default,{string:"upload_image",fallbackString:"Upload Image"}))));class c extends n.Component{constructor(e){super(e),this.state={}}render(){const e=this.props.handleSelectFiles;return r.a.createElement(l,{handleSelectFiles:e})}}t.a=Object(s.a)({setLastAttachedFileAsCallBackArg:!0})(c)},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1493),i=a(364),o=a(156);a(1670);t.a=({handleSchedulerChange:e,isOpen:t,toggle:a})=>r.a.createElement(i.a,{color:"info",isOpen:t,toggle:a,className:"classroom-scheduler qa-test-assignModal-alertToggleScheduledDate"},r.a.createElement("label",{className:"title ml-1"},r.a.createElement(o.default,{string:"group,deliver-at-specific-date-and-time",fallbackString:"Deliver at specific date and time"})),r.a.createElement(s.a,{handleDateTimeChange:(t,a,n,r)=>{e(t,a,n,r)}}))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(1232),o=a(156);t.a=Object(s.connect)((function(e){return{showErrors:i.n(e)}}))(({string:e,fallback:t,fallbackString:a,children:n,showErrors:s})=>s&&r.a.createElement("p",{className:"error"},e&&r.a.createElement(o.default,{string:e,fallback:t||a}),n))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156),o=a(38);t.a=({message:e,messageId:t,replyId:a,parentReplyId:n,handleCancel:l,handleSave:c,saveDisabled:d,editMode:u,isShareableItem:h,trumpetOrRecEng:p,shareableItemDomain:m})=>{const g=!!n,f=o.a.isPromotedMessage(e);return r.a.createElement("div",{className:"reply-buttons"},r.a.createElement("button",{className:"cancel",onClick:l},r.a.createElement(i.default,{string:"admin_pages,cancel"})),r.a.createElement(s.c,{color:"primary","data-reply":a,"data-message":t,"data-parentreply":n,"data-shareableitem":h,"data-recengine":p,"data-shareabledomain":m,"data-ispromotedmessage":f,onClick:c,disabled:d,className:"qa-test-save save btn blue-btn"},u&&r.a.createElement(i.default,{string:"admin_pages,save"}),!u&&g&&r.a.createElement(i.default,{string:"reply-btn",fallbackString:"Reply"}),!u&&!g&&r.a.createElement(i.default,{string:"comment-btn",fallbackString:"Comment"})))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1491),i=a(0),o=a(14);t.a=({item:e,handleTypeAheadItemClick:t})=>{const a=e&&""!==e.title,n=e&&e.avatars&&e.avatars.small,l=e&&e.members&&e.members.map(e=>e&&e.avatars&&e.avatars.small);let c="";if(e){const t=Object(i.Map)(e);c=o.a.formatName(t,!1)}return a?r.a.createElement("li",{role:"menuitem",className:"menu-item","data-uid":e&&e.recipient_id,"data-key":e&&e.title,onMouseDown:t},r.a.createElement("img",{className:"receiver-avatar",height:"20",width:"20",src:n||Object(s.a)(l),alt:"","aria-hidden":"true"}),r.a.createElement("span",null,c)):null}},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"fetchCurrentUserRecipientsSuccessAction",(function(){return c})),a.d(t,"fetchCurrentUserCompactRecipientsSuccessAction",(function(){return d})),a.d(t,"addRecipientInCurrentUserRecipients",(function(){return u})),a.d(t,"fetchCurrentUserRecipientsFailureAction",(function(){return h})),a.d(t,"fetchRecipientsForCurrentUser",(function(){return p})),a.d(t,"fetchCompactRecipientsForCurrentUser",(function(){return m})),a.d(t,"resetForm",(function(){return g}));var n=a(281),r=a(63),s=a(1246),i=a(167),o=a(36),l=a(227);const c=e=>({type:n.a.CURRENT_USER_RECIPIENTS_FETCH_SUCCESS,payload:e}),d=e=>({type:n.a.CURRENT_USER_COMPACT_RECIPIENTS_FETCH_SUCCESS,payload:e}),u=e=>({type:n.a.ADD_RECIPIENT_IN_CURRENT_USER_RECIPIENTS,payload:e}),h=e=>({type:n.a.CURRENT_USER_RECIPIENTS_FETCH_FAILURE,payload:e}),p=(e={})=>function(t,a){const n=r.a(a),l=n.configInfo,d=n.accessToken,u=e||i.a.defaultParams();return s.d(l,d,u).then(e=>{t(c(e.data))}).catch(e=>{e&&e.response&&404===e.response.status?(t(h(e)),console.log(e)):o.a.notifyBugsnag(e,"RecipientActionCreator.fetchRecipientsForCurrentUser")})},m=(e={})=>function(t,a){const n=r.a(a),l=n.configInfo,c=n.accessToken,u=e||i.a.defaultParams();return s.b(l,c,u).then(e=>{t(d(e.data))}).catch(e=>{e&&e.response&&404===e.response.status?(t(h(e)),console.log(e)):o.a.notifyBugsnag(e,"RecipientActionCreator.fetchCompactRecipientsForCurrentUser")})},g=()=>function(e){e(Object(l.c)("schoolRecipientSelector"))}},function(e,t,a){"use strict";t.__esModule=!0,t.canUseDOM=t.slidesOnLeft=t.slidesOnRight=t.siblingDirection=t.getTotalSlides=t.getPostClones=t.getPreClones=t.getTrackLeft=t.getTrackAnimateCSS=t.getTrackCSS=t.checkSpecKeys=t.getSlideCount=t.checkNavigable=t.getNavigableIndexes=t.swipeEnd=t.swipeMove=t.swipeStart=t.keyHandler=t.changeSlide=t.slideHandler=t.initializedState=t.extractObject=t.canGoNext=t.getSwipeDirection=t.getHeight=t.getWidth=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.lazyStartIndex=t.getRequiredLazySlides=t.getOnDemandLazySlides=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=i(a(4)),s=i(a(224));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.getOnDemandLazySlides=function(e){for(var t=[],a=l(e),n=c(e),r=a;r<n;r++)e.lazyLoadedList.indexOf(r)<0&&t.push(r);return t},l=(t.getRequiredLazySlides=function(e){for(var t=[],a=l(e),n=c(e),r=a;r<n;r++)t.push(r);return t},t.lazyStartIndex=function(e){return e.currentSlide-d(e)}),c=t.lazyEndIndex=function(e){return e.currentSlide+u(e)},d=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},u=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},h=t.getWidth=function(e){return e&&e.offsetWidth||0},p=t.getHeight=function(e){return e&&e.offsetHeight||0},m=t.getSwipeDirection=function(e){var t,a,n,r,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,a=e.startY-e.curY,n=Math.atan2(a,t),(r=Math.round(180*n/Math.PI))<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315?"left":r>=135&&r<=225?"right":!0===s?r>=35&&r<=135?"up":"down":"vertical"},g=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},f=(t.extractObject=function(e,t){var a={};return t.forEach((function(t){return a[t]=e[t]})),a},t.initializedState=function(e){var t=r.default.Children.count(e.children),a=Math.ceil(h(s.default.findDOMNode(e.listRef))),n=Math.ceil(h(s.default.findDOMNode(e.trackRef))),i=void 0;if(e.vertical)i=a;else{var l=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(l*=a/100),i=Math.ceil((a-l)/e.slidesToShow)}var c=s.default.findDOMNode(e.listRef)&&p(s.default.findDOMNode(e.listRef).querySelector('[data-index="0"]')),d=c*e.slidesToShow,u=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(u=t-1-e.initialSlide);var m=e.lazyLoadedList||[],g=o({currentSlide:u,lazyLoadedList:m},e);m.concat(g);var f={slideCount:t,slideWidth:i,listWidth:a,trackWidth:n,currentSlide:u,slideHeight:c,listHeight:d,lazyLoadedList:m};return null===e.autoplaying&&e.autoplay&&(f.autoplaying="playing"),f},t.slideHandler=function(e){var t=e.waitForAnimate,a=e.animating,r=e.fade,s=e.infinite,i=e.index,l=e.slideCount,c=e.lazyLoadedList,d=e.lazyLoad,u=e.currentSlide,h=e.centerMode,p=e.slidesToScroll,m=e.slidesToShow,f=e.useCSS;if(t&&a)return{};var b=i,E=void 0,y=void 0,A=void 0,I={},T={};if(r){if(!s&&(i<0||i>=l))return{};i<0?b=i+l:i>=l&&(b=i-l),d&&c.indexOf(b)<0&&c.push(b),I={animating:!0,currentSlide:b,lazyLoadedList:c},T={animating:!1}}else E=b,b<0?(E=b+l,s?l%p!==0&&(E=l-l%p):E=0):!g(e)&&b>u?b=E=u:h&&b>=l?(b=s?l:l-1,E=s?0:l-1):b>=l&&(E=b-l,s?l%p!==0&&(E=0):E=l-m),y=C(n({},e,{slideIndex:b})),A=C(n({},e,{slideIndex:E})),s||(y===A&&(b=E),y=A),d&&c.concat(o(n({},e,{currentSlide:b}))),f?(I={animating:!0,currentSlide:E,trackStyle:v(n({},e,{left:y})),lazyLoadedList:c},T={animating:!1,currentSlide:E,trackStyle:S(n({},e,{left:A})),swipeLeft:null}):I={currentSlide:E,trackStyle:S(n({},e,{left:A})),lazyLoadedList:c};return{state:I,nextState:T}},t.changeSlide=function(e,t){var a,r,s,i,o=e.slidesToScroll,l=e.slidesToShow,c=e.slideCount,d=e.currentSlide,u=e.lazyLoad,h=e.infinite;if(a=c%o!==0?0:(c-d)%o,"previous"===t.message)i=d-(s=0===a?o:l-a),u&&!h&&(i=-1===(r=d-s)?c-1:r);else if("next"===t.message)i=d+(s=0===a?o:a),u&&!h&&(i=(d+o)%c+a);else if("dots"===t.message){if((i=t.index*t.slidesToScroll)===t.currentSlide)return null}else if("children"===t.message){if((i=t.index)===t.currentSlide)return null;if(h){var p=k(n({},e,{targetSlide:i}));i>t.currentSlide&&"left"===p?i-=c:i<t.currentSlide&&"right"===p&&(i+=c)}}else if("index"===t.message&&(i=Number(t.index))===t.currentSlide)return null;return i},t.keyHandler=function(e,t,a){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?a?"next":"previous":39===e.keyCode?a?"previous":"next":""},t.swipeStart=function(e,t,a){return"IMG"===e.target.tagName&&e.preventDefault(),!t||!a&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var a=t.scrolling,r=t.animating,s=t.vertical,i=t.swipeToSlide,o=t.verticalSwiping,l=t.rtl,c=t.currentSlide,d=t.edgeFriction,u=t.edgeDragged,h=t.onEdge,p=t.swiped,f=t.swiping,b=t.slideCount,E=t.slidesToScroll,y=t.infinite,v=t.touchObject,A=t.swipeEvent,I=t.listHeight,T=t.listWidth;if(!a){if(r)return e.preventDefault();s&&i&&o&&e.preventDefault();var k=void 0,O={},_=C(t);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var M=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!o&&!f&&M>10)return{scrolling:!0};o&&(v.swipeLength=M);var N=(l?-1:1)*(v.curX>v.startX?1:-1);o&&(N=v.curY>v.startY?1:-1);var w=Math.ceil(b/E),P=m(t.touchObject,o),R=v.swipeLength;return y||(0===c&&"right"===P||c+1>=w&&"left"===P||!g(t)&&"left"===P)&&(R=v.swipeLength*d,!1===u&&h&&(h(P),O.edgeDragged=!0)),!p&&A&&(A(P),O.swiped=!0),k=s?_+R*(I/T)*N:l?_-R*N:_+R*N,o&&(k=_+R*N),O=n({},O,{touchObject:v,swipeLeft:k,trackStyle:S(n({},t,{left:k}))}),Math.abs(v.curX-v.startX)<.8*Math.abs(v.curY-v.startY)?O:(v.swipeLength>10&&(O.swiping=!0,e.preventDefault()),O)}},t.swipeEnd=function(e,t){var a=t.dragging,r=t.swipe,s=t.touchObject,i=t.listWidth,o=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,d=t.currentSlide,u=t.swipeToSlide,h=t.scrolling,p=t.onSwipe;if(!a)return r&&e.preventDefault(),{};var g=l?c/o:i/o,f=m(s,l),y={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return y;if(!s.swipeLength)return y;if(s.swipeLength>g){e.preventDefault(),p&&p(f);var S=void 0,A=void 0;switch(f){case"left":case"up":A=d+E(t),S=u?b(t,A):A,y.currentDirection=0;break;case"right":case"down":A=d-E(t),S=u?b(t,A):A,y.currentDirection=1;break;default:S=d}y.triggerSlideHandler=S}else{var I=C(t);y.trackStyle=v(n({},t,{left:I}))}return y},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,a=e.infinite?-1*e.slidesToShow:0,n=e.infinite?-1*e.slidesToShow:0,r=[];a<t;)r.push(a),a=n+e.slidesToScroll,n+=Math.min(e.slidesToScroll,e.slidesToShow);return r}),b=t.checkNavigable=function(e,t){var a=f(e),n=0;if(t>a[a.length-1])t=a[a.length-1];else for(var r in a){if(t<a[r]){t=n;break}n=a[r]}return t},E=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var a=void 0,n=s.default.findDOMNode(e.listRef).querySelectorAll(".slick-slide");if(Array.from(n).every((function(n){if(e.vertical){if(n.offsetTop+p(n)/2>-1*e.swipeLeft)return a=n,!1}else if(n.offsetLeft-t+h(n)/2>-1*e.swipeLeft)return a=n,!1;return!0})),!a)return 0;var r=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(a.dataset.index-r)||1}return e.slidesToScroll},y=t.checkSpecKeys=function(e,t){return t.reduce((function(t,a){return t&&e.hasOwnProperty(a)}),!0)?null:console.error("Keys Missing:",e)},S=t.getTrackCSS=function(e){y(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t=void 0,a=void 0,r=e.slideCount+2*e.slidesToShow;e.vertical?a=r*e.slideHeight:t=T(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=n({},s,{WebkitTransform:i,transform:o,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),a&&(s.height=a),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},v=t.getTrackAnimateCSS=function(e){y(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},C=t.getTrackLeft=function(e){if(e.unslick)return 0;y(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,a,n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,l=e.slideCount,c=e.slidesToShow,d=e.slidesToScroll,u=e.slideWidth,h=e.listWidth,p=e.variableWidth,m=e.slideHeight,g=e.fade,f=e.vertical;if(g||1===e.slideCount)return 0;var b=0;if(i?(b=-A(e),l%d!==0&&n+d>l&&(b=-(n>l?c-(n-l):l%d)),o&&(b+=parseInt(c/2))):(l%d!==0&&n+d>l&&(b=c-l%d),o&&(b=parseInt(c/2))),t=f?n*m*-1+b*m:n*u*-1+b*u,!0===p){var E,S=s.default.findDOMNode(r);if(E=n+A(e),t=(a=S&&S.childNodes[E])?-1*a.offsetLeft:0,!0===o){E=i?n+A(e):n,a=S&&S.children[E],t=0;for(var v=0;v<E;v++)t-=S&&S.children[v]&&S.children[v].offsetWidth;t-=parseInt(e.centerPadding),t+=a&&(h-a.offsetWidth)/2}}return t},A=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},I=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},T=t.getTotalSlides=function(e){return 1===e.slideCount?1:A(e)+e.slideCount+I(e)},k=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+O(e)?"left":"right":e.targetSlide<e.currentSlide-_(e)?"right":"left"},O=t.slidesOnRight=function(e){var t=e.slidesToShow,a=e.centerMode,n=e.rtl,r=e.centerPadding;if(a){var s=(t-1)/2+1;return parseInt(r)>0&&(s+=1),n&&t%2===0&&(s+=1),s}return n?0:t-1},_=t.slidesOnLeft=function(e){var t=e.slidesToShow,a=e.centerMode,n=e.rtl,r=e.centerPadding;if(a){var s=(t-1)/2+1;return parseInt(r)>0&&(s+=1),n||t%2!==0||(s+=1),s}return n?t-1:0};t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},function(e,t,a){"use strict";var n=a(144),r=a.n(n),s=a(4),i=a.n(s),o=a(272),l=a(1199),c=a(133),d=a(134),u=a(364),h=a(5),p=a.n(h),m=a(515),g=a.n(m),f=a(36),b=a(42),E=a(73),y=a(1288),S=a(199),v=a(1521),C=a(1349),A=a(367),I=a(1233),T=a(139),k=a(1460),O=a(1322),_=a(1291),M=a(1266),N=a(200),w=a(1283),P=a(1324),R=a(366),x=a(33),L=a(520),D=a(1504),F=a(10),U=a(21),B=a(192),G=a(136),j=a(14),z=(a(1346),a(1220)),q=a(1219);var H=({name:e,iconUrl:t,contentName:a})=>i.a.createElement("div",null,i.a.createElement("div",{className:"group-member-avatar"},a===R.a.BACKPACK_ROOT?i.a.createElement(z.default,{className:"backpack-attachment-icon"}):a===R.a.LIBRARY_ROOT?i.a.createElement(q.default,{className:"library-attachment-icon"}):i.a.createElement("img",{alt:"",src:t})),i.a.createElement("div",{className:"group-member-item-info"},i.a.createElement(u.K,null,e),i.a.createElement(u.L,null)));var V=({contentType:e,handleNavItemClick:t,handleFolderNameClick:a,currentTab:n})=>{const r=e&&e.iconUrl,s=e&&e.name,o=e&&e.stateVal,l=e&&e.contentName,c=n===o;return i.a.createElement("div",null,c?i.a.createElement(u.J,{className:"qa-test-library-nav-active library-item",tag:"a",action:!0,onClick:t,"data-state":o,active:!0},i.a.createElement(H,{name:s,iconUrl:r,contentName:l})):i.a.createElement(u.J,{className:"qa-test-library-nav-inactive library-item",tag:"a",action:!0,onClick:t,"data-state":o},i.a.createElement(H,{name:s,iconUrl:r,contentName:l})))},W=a(255),Q=a(1339),Y=a(156);var K=({handleToggleDisconnectSsoModal:e,currentTab:t,linkedToGoogle:a,linkedToOffice:n})=>a&&t===R.a.GOOGLE_DRIVE?i.a.createElement(u.I,{className:"mt-5"},i.a.createElement("h3",{className:"left-col-headers p3"},i.a.createElement(Y.default,{string:Q.a.GDRIVE})),i.a.createElement(u.J,{className:"disconnect-drive"},i.a.createElement(u.c,{color:"secondary",className:"btn btn-secondary remove","data-provider":W.a.GOOGLE_INFO,onClick:e},i.a.createElement(Y.default,{string:Q.a.DISCONNECT})))):n&&t===R.a.ONE_DRIVE?i.a.createElement(u.I,{className:"mt-5"},i.a.createElement("h3",{className:"left-col-headers p3"},i.a.createElement(Y.default,{string:Q.a.ONE_DRIVE})),i.a.createElement(u.J,{className:"disconnect-drive"},i.a.createElement(u.c,{color:"link",className:"btn btn-secondary remove","data-provider":W.a.OFFICE_INFO,onClick:e},i.a.createElement(Y.default,{string:Q.a.DISCONNECT})))):null,J=a(1627),Z=a(0);a(1214);var X=({handleNavItemClick:e,handleFolderNameClick:t,handleToggleDisconnectSsoModal:a,currentTab:n,isStudent:r,currentUserGoogleSsoInfo:s,currentUserOfficeSsoInfo:o,displayDisconnectButton:l,currentUser:c,handleTeacherBadgesClick:d,inModal:h,translate:p,onlyLibraryNav:m})=>{const g=((e,t,a=!1)=>{let n=t&&t("added_by_me","Library"),r="//a.edim.co/images_v2/icons/library/icon_library.png",s=R.a.LIBRARY_ROOT;return e&&(n=t&&t("backpack","Backpack"),r="//a.edim.co/images_v2/icons/library/icon_backpack.png",s=R.a.BACKPACK_ROOT),a?Object(Z.List)([{name:n,iconUrl:r,stateVal:R.a.LIBRARY,contentName:s}]):Object(Z.List)([{name:n,iconUrl:r,stateVal:R.a.LIBRARY,contentName:s},{name:t&&t("microsoft-onedrive","OneDrive"),iconUrl:"//a.edim.co/images_v2/icons/library/icon_onedrive.png",stateVal:R.a.ONE_DRIVE,contentName:R.a.ONE_DRIVE_TITLE},{name:t&&t("gdocs","Google Drive"),iconUrl:"//a.edim.co/images_v2/icons/library/icon_gdrive.png",stateVal:R.a.GOOGLE_DRIVE,contentName:R.a.GOOGLE_DRIVE_ROOT_TITLE}])})(r,p,m),f=j.a.hasAdminRights(c),b=j.a.isDistrictAdmin(c);return i.a.createElement("div",{className:"user-group-container library-page-container"},i.a.createElement(u.I,null,i.a.createElement("h3",{className:"left-col-headers"},i.a.createElement(Y.default,{string:"my-items",fallbackString:"My Items"})),g&&g.map((a,r)=>i.a.createElement(V,{key:r,contentType:a,handleNavItemClick:t=>{e(t,a)},handleFolderNameClick:t,currentTab:n,translate:p}))),f&&i.a.createElement(u.I,null,i.a.createElement("h3",{className:"left-col-headers"},b?i.a.createElement(Y.default,{string:"district-resources",fallbackString:"District Resources"}):i.a.createElement(Y.default,{string:"school-resources",fallbackString:"School Resources"})),i.a.createElement(u.J,{className:"qa-test-library-nav-inactive library-item",tag:"a",action:!0,onClick:d},i.a.createElement("div",{className:"group-member-item-info"},i.a.createElement(u.K,null,i.a.createElement(Y.default,{string:"teacher_badges",fallbackString:"Teacher Badges"}))))),l&&(s||o)&&i.a.createElement(K,{linkedToGoogle:!!s,linkedToOffice:!!o,currentTab:n,handleToggleDisconnectSsoModal:a}),!h&&i.a.createElement(i.a.Fragment,null,i.a.createElement(J.a,{position:"library-rail-top",sizes:["fluid"]}),i.a.createElement(J.a,{position:"library-rail-mid",sizes:["fluid"]})))},$=a(1565),ee=a(1453),te=a(1692),ae=a(1681),ne=a(1693),re=a(1694),se=a(1691);var ie=({isDisconnectSsoModalOpen:e,toggle:t,handleDisconnectSsoClick:a})=>i.a.createElement("div",null,i.a.createElement(u.M,{isOpen:e,toggle:t,className:"disconnect-drive-modal"},i.a.createElement(u.P,{toggle:t},i.a.createElement(Y.default,{string:Q.a.DISCONNECT})),i.a.createElement(u.N,null,i.a.createElement(Y.default,{string:Q.a.DISCONNECT_CONFIRM})),i.a.createElement(u.O,{className:"disconnect-modal-footer"},i.a.createElement(u.c,{color:"white",onClick:t},i.a.createElement(Y.default,{string:Q.a.CANCEL})),i.a.createElement(u.c,{color:"primary",onClick:a},i.a.createElement(Y.default,{string:Q.a.YES_DISCONNECT}))))),oe=a(1695);var le=({isModalOpen:e,toggle:t})=>i.a.createElement("div",null,i.a.createElement(u.M,{isOpen:e,toggle:t,className:"connect-drive-error-modal"},i.a.createElement(u.P,{toggle:t},"Connect Google Drive"),i.a.createElement(u.N,null,i.a.createElement("p",null,i.a.createElement(Y.default,{string:Q.a.GDRIVE_ERR})),i.a.createElement("p",null,"Please email ",i.a.createElement("a",{href:"mailto:support@edmodo.com?subject=Google Drive Token Error&body=My Google email address is:"},"support@edmodo.com"),' with "Google Drive Token Error" in the subject line and include your Google email address.')),i.a.createElement(u.O,{className:"connect-error-modal-footer"},i.a.createElement("button",{className:"btn btn-primary",onClick:t},"OK")))),ce=a(509),de=a(1527),ue=a(1528),he=a(1700),pe=a(1701);var me=function({isOpen:e,toggle:t,onEdit:a}){return i.a.createElement(u.M,{isOpen:e,size:"sm",toggle:t},i.a.createElement(u.P,{toggle:t},i.a.createElement(Y.default,{string:"assign-assignment",fallback:"Assign Assignment"})),i.a.createElement(u.N,null,i.a.createElement(Y.default,{string:"assignment-invalid-details",fallback:"Your assignment needs a title and instructions before it can be assigned."})),i.a.createElement(u.O,null,i.a.createElement(u.c,{color:"link",className:"qa-test-assignmentEdit-closeInvalidAssignmentModal",onClick:t},i.a.createElement(Y.default,{string:"close",fallback:"Close"})),i.a.createElement(u.c,{color:"primary",className:"qa-test-assignmentEdit-closeInvalidAssignmentModal",onClick:a},i.a.createElement(Y.default,{string:"edit-assignment",fallback:"Edit Assignment"}))))},ge=a(1531),fe=a(77),be=a(517),Ee=a(1326),ye=a(1253),Se=a(337),ve=a(1679);const Ce=Object(b.a)(()=>Promise.all([a.e(11),a.e(21),a.e(288)]).then(a.bind(null,2292))),Ae=Object(b.a)(()=>Promise.all([a.e(11),a.e(21),a.e(38),a.e(320)]).then(a.bind(null,3073))),Ie=Object(b.a)(()=>Promise.all([a.e(11),a.e(301)]).then(a.bind(null,3051))),Te=Object(b.a)(()=>Promise.all([a.e(11),a.e(296)]).then(a.bind(null,3079)));class ke extends s.Component{static getDataIdFromCurrentTarget(e){let t;const a=e.currentTarget.dataset;return t=isNaN(a.itemid)?a.itemid:parseInt(a.itemid,10),t}constructor(e,t){super(e,t),this.onUpdateComplete=()=>{this.setState({isLoading:!1,isEditModalOpen:!1,titleToBeEdited:null,descriptionToBeEdited:null,itemToBeEdited:null,itemToBeEditedType:null}),this.props.libraryPageTrackingActions.updateLibraryItem()},this.state={content:e.content||R.a.LIBRARY,libraryItemsParams:G.a.defaultParams(),breadcrumbParams:G.a.defaultParams(),location:R.a.LIBRARY_ROOT,name:this.props.name||R.a.DEFAULT_LIBRARY_COMPONENT_NAME,newLibraryParams:{page:1,per_page:G.a.defaultParams().per_page,parent_id:null,sort:"modified_date",sort_direction:"descending"},newBreadcrumbParams:{page:1,per_page:30,child_id:null},searchQuery:"",sortType:"date",ascendingNameSort:!0,ascendingDateSort:!1,imagePreviewOpen:!1,imagePreviewId:null,embedPreviewOpen:!1,embedPreviewContent:null,embedPreviewTitle:null,multipleItemsSelected:[],isMultipleSelected:!1,isMoveModalOpen:!1,itemToBeMoved:null,moveToFolder:null,isDeleteModalOpen:!1,itemToBeDeleted:null,resetSelectedRecipients:!1,isCopyModalOpen:!1,itemToBeCopied:null,copyToFolder:null,itemActedOnParentFolderId:null,isEditModalOpen:!1,isLoading:!1,folderToBeShared:null,isShareFolderModalOpen:!1,shareToGroups:[],isAttachModalOpen:!1,itemToBeAttached:null,itemToBeAttachedType:null,isAssignModalOpen:!1,itemToBeAssigned:null,itemToBeAssignedTitle:null,itemToBeAssignedDesc:null,itemToBeAssignedType:null,itemToBeAssignedValid:!1,editItemUrl:null,dueDate:null,showAssignedState:!1,isQuizContentModalOpen:!1,quizBeingViewed:null,quizTitle:null,isDisconnectSsoModalOpen:!1,currentSsoProvider:null,isGDriveConnectErrorModalOpen:!1,inRoot:!0,restrictResourceToTeachers:!1,submitInProgress:!1,loadBreadcrumbs:!1,displayDisconnectButton:"LibraryPage"===e.name},this.handleNavItemClick=this.handleNavItemClick.bind(this),this.handleTeacherBadgesClick=this.handleTeacherBadgesClick.bind(this),this.handleQueryStringChange=this.handleQueryStringChange.bind(this),this.handleFolderNameClick=this.handleFolderNameClick.bind(this),this.handleSortDateByDescClick=this.handleSortDateByDescClick.bind(this),this.handleSortNameByDescClick=this.handleSortNameByDescClick.bind(this),this.displaySortedContent=this.displaySortedContent.bind(this),this.handleItemSelect=this.handleItemSelect.bind(this),this.handleDisconnectSsoClick=this.handleDisconnectSsoClick.bind(this),this.handleImagePreview=this.handleImagePreview.bind(this),this.handleOnEmbedClick=this.handleOnEmbedClick.bind(this),this.handleToggleMoveModal=this.handleToggleMoveModal.bind(this),this.handleCloseMoveModal=this.handleCloseMoveModal.bind(this),this.handleSelectMoveToFolder=this.handleSelectMoveToFolder.bind(this),this.handleMoveToDone=this.handleMoveToDone.bind(this),this.handleToggleCopyModal=this.handleToggleCopyModal.bind(this),this.handleCloseCopyModal=this.handleCloseCopyModal.bind(this),this.handleSelectCopyToFolder=this.handleSelectCopyToFolder.bind(this),this.handleCopyToDone=this.handleCopyToDone.bind(this),this.handleToggleDeleteModal=this.handleToggleDeleteModal.bind(this),this.handleCloseDeleteModal=this.handleCloseDeleteModal.bind(this),this.handleDeleteConfirm=this.handleDeleteConfirm.bind(this),this.handleDeleteMultipleItemsConfirm=this.handleDeleteMultipleItemsConfirm.bind(this),this.handleToggleEditModal=this.handleToggleEditModal.bind(this),this.handleCloseEditModal=this.handleCloseEditModal.bind(this),this.handleEditDone=this.handleEditDone.bind(this),this.handleToggleSharedFolderModal=this.handleToggleSharedFolderModal.bind(this),this.handleSelectShareToGroup=this.handleSelectShareToGroup.bind(this),this.handleCloseSharedFolderModal=this.handleCloseSharedFolderModal.bind(this),this.handleShareFolderDone=this.handleShareFolderDone.bind(this),this.handleToggleAttachToModal=this.handleToggleAttachToModal.bind(this),this.handleMakePublicCopyButtonClick=this.handleMakePublicCopyButtonClick.bind(this),this.handleEditQuizClick=this.handleEditQuizClick.bind(this),this.handleEditAssignmentClick=this.handleEditAssignmentClick.bind(this),this.handleCloseAttachToModal=this.handleCloseAttachToModal.bind(this),this.handleToggleAssignModal=this.handleToggleAssignModal.bind(this),this.handleCloseAssignModal=this.handleCloseAssignModal.bind(this),this.handleToggleQuizContentModal=this.handleToggleQuizContentModal.bind(this),this.handleCloseQuizContentModal=this.handleCloseQuizContentModal.bind(this),this.handleQuizAssignClick=this.handleQuizAssignClick.bind(this),this.handleToggleDisconnectSsoModal=this.handleToggleDisconnectSsoModal.bind(this),this.handleToggleGDriveConnectErrorModal=this.handleToggleGDriveConnectErrorModal.bind(this),this.handleTypeAhead=this.handleTypeAhead.bind(this),this.handleAttachToConfirm=this.handleAttachToConfirm.bind(this),this.loadSortedItems=this.loadSortedItems.bind(this),this.loadMoreItems=this.loadMoreItems.bind(this),this.loadMoreLibraryItems=this.loadMoreLibraryItems.bind(this),this.loadMoreLibraryFolderItems=this.loadMoreLibraryFolderItems.bind(this),this.removeLibrarySelectionsCachedData=this.removeLibrarySelectionsCachedData.bind(this),this.handleRestrictResource=this.handleRestrictResource.bind(this),this.handleDownloadItem=this.handleDownloadItem.bind(this),this.handleOpenItemInOffice=this.handleOpenItemInOffice.bind(this),this.handleSelectMultipleItemsWithShift=this.handleSelectMultipleItemsWithShift.bind(this),this.handleClearMultipleSelections=this.handleClearMultipleSelections.bind(this),this.handleQuizEdit=this.handleQuizEdit.bind(this),this.handleAssignmentEdit=this.handleAssignmentEdit.bind(this),this.listenBroadcast=this.listenBroadcast.bind(this),this.fetchLibraryItems=this.fetchLibraryItems.bind(this),this.debouncedFetchLibraryItems=g()(this.fetchLibraryItems,1e3),"undefined"!==typeof BroadcastChannel&&(this.channel=new BroadcastChannel("office_docs_channel"),this.channel.onmessage=this.listenBroadcast)}static translationFiles(){return["library","admin_page","assignment"]}componentDidMount(){if(this.props.libraryActions.clearSelectedLibraryItemStatusSuccessAction(),B.a.isValid(this.props.accessToken)){if(this.removeLibrarySelectionsCachedData(),this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams),j.a.hasAdminRights(this.props.currentUser)){const e=j.a.getAdministrableEntityIdAndType(this.props.currentUser),t=e.owner_id,a=e.owner_type;this.removeLibrarySelectionsCachedData(),this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,G.a.teacherBadgesParams(t,a))}if(this.props.match.params.slug&&this.state.name!==R.a.COMPOSER_LIBRARY_MODAL&&this.state.name!==R.a.POST_LIBRARY_MODAL){this.setState({loadBreadcrumbs:!0});let e=0,t=R.a.LIBRARY_ROOT;const a=this.props.match.params.slug.split("-"),n=parseInt(a[0],10);0!==n&&(e=n,t=G.a.getFolderName(a),this.handleFolderNameClick(e,t))}else if(this.props.match.params.provider){const e=Ee.b(this.props.match.params.provider)||R.a.LIBRARY;this.setState({content:e})}const e=r.a.parse(this.props.location.search)||{};p.a.includes(e.context,R.a.OFFICE_365_PROVIDER_NAME)?this.setState({content:R.a.ONE_DRIVE}):p.a.includes(e.context,R.a.GOOGLE_PROVIDER_NAME)&&this.setState({content:R.a.GOOGLE_DRIVE})}}UNSAFE_componentWillReceiveProps(e){if(B.a.isValid(this.props.accessToken)){if(void 0===this.props.match.params&&e.match.params&&e.match.params.tab&&e.match.params.tab===R.a.BADGES&&this.setState({content:R.a.TEACHER_BADGES}),!1===e.isModalOpen&&e.isModalOpen!==this.props.isModalOpen&&this.props.libraryActions.clearSelectedLibraryItemStatusSuccessAction(),void 0===e.match.params.slug&&void 0!==this.props.match.params.slug&&(this.removeLibrarySelectionsCachedData(),e.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,G.a.defaultParams()),this.state.content===R.a.LIBRARY&&(this.setState({location:R.a.LIBRARY_ROOT}),this.props.libraryActions.setCurrentFolderAction(null,null))),void 0!==e.match.params.slug&&this.props.match.params.slug!==e.match.params.slug||this.state.loadBreadcrumbs){this.setState({loadBreadcrumbs:!1});const t=e.match.params.slug.split("-"),a=parseInt(t[0],10),n=G.a.getFolderName(t);if(0!==a&&n&&n.length>0){const e=this.state.newLibraryParams,t=this.state.newBreadcrumbParams;e.parent_id=a,t.child_id=a,this.setState({location:"".concat(a,"-").concat(n),newLibraryParams:e,newBreadcrumbParams:t},()=>{this.removeLibrarySelectionsCachedData(a),this.props.libraryActions.setCurrentFolderAction(a,n),this.props.libraryActions.fetchFolderContents(e),this.props.libraryActions.fetchBreadcrumbs(t)})}}if(e.googleDriveConnectError&&401===e.googleDriveConnectError.get("code")&&this.setState({isGDriveConnectErrorModalOpen:!0}),e.sharedGroupsOfResource!==this.props.sharedGroupsOfResource&&e.shareFolderValues){let t=[];e.sharedGroupsOfResource.forEach(a=>{t=[...t,a.owner.id],e.shareFolderValues[a.owner.title]=!0}),this.setState({shareToGroups:t})}}else e&&B.a.isValid(e.accessToken)&&be.a(this.props.libraryItems)&&(this.removeLibrarySelectionsCachedData(),this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams))}componentWillUnmount(){this.debouncedFetchLibraryItems.cancel(),this.channel&&this.channel.close()}loadMoreItems(){const e=this.state,t=e.searchQuery,a=e.searchParams;if(t&&t.length)a.page+=1,this.setState({searchQuery:t,searchParams:a},()=>{this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,a,!0)});else{const e=this.props,t=e.currentFolderId,a=e.currentFolderName;t&&a?this.loadMoreLibraryFolderItems(t,a):this.loadMoreLibraryItems()}}loadMoreLibraryItems(){const e=this.state.libraryItemsParams;e.page+=1,this.setState({libraryItemsParams:e},()=>{this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams)})}loadMoreLibraryFolderItems(e,t){if(e&&t){const a=this.state,n=a.newLibraryParams,r=a.newBreadcrumbParams;n.page+=1,n.parent_id=e,r.child_id=e,this.setState({folderName:t,newLibraryParams:n,newBreadcrumbParams:r},()=>{this.props.libraryActions.setCurrentFolderAction(e,t),this.props.libraryActions.fetchFolderContents(n),this.props.libraryActions.fetchBreadcrumbs(r)})}}needsLoading(e){return p.a.isNull(e)||p.a.isUndefined(e)||0===e.size}handleNavItemClick(e,t){if(ye.a.preventDefaultAndStopPropagation(e),this.state.name===R.a.COMPOSER_LIBRARY_MODAL||this.state.name===R.a.POST_LIBRARY_MODAL)this.setState({content:t.stateVal});else{const t=e&&e.currentTarget.dataset.state||R.a.LIBRARY;this.setState({content:t}),this.props.inModal||this.props.history.push(F.a.LIBRARY_PAGE),this.props.libraryPageTrackingActions.LeftNavClick(t)}}handleTeacherBadgesClick(e){ye.a.preventDefaultAndStopPropagation(e);const t=R.a.TEACHER_BADGES;this.setState({content:t}),this.props.inModal||this.props.history.push("".concat(F.a.LIBRARY_PAGE,"/badges")),this.props.libraryPageTrackingActions.teacherBadgesLeftNavClick()}handleDisconnectSsoClick(){this.state.currentSsoProvider&&(this.props.ssoActions.disconnectSsoAccount(this.state.currentSsoProvider,j.a.getId(this.props.currentUser),{}),this.setState({isDisconnectSsoModalOpen:!1}))}handleQueryStringChange(e){ye.a.preventDefaultAndStopPropagation(e);const t=e.target.value,a={sort:"modified_date",sort_direction:"descending",page:1,per_page:G.a.defaultParams().per_page,query:t.trim()};this.setState({searchParams:a,searchQuery:t},()=>{this.debouncedFetchLibraryItems(this.state.name,a)})}fetchLibraryItems(e,t){this.removeLibrarySelectionsCachedData(),this.props.libraryActions.fetchLibraryItemsForCurrentUser(e,t,!0),this.props.libraryPageTrackingActions.librarySearch()}handleFolderNameClick(e,t){const a=parseInt(e,10);if(0!==a)if(this.state.name===R.a.COMPOSER_LIBRARY_MODAL||this.state.name===R.a.POST_LIBRARY_MODAL||this.state.name===U.a.LIBRARY_MODAL_NAME)0!==a&&t&&t.length>0&&this.setState({location:"".concat(e,"-").concat(t)},()=>{const e=this.state,n=e.newLibraryParams,r=e.newBreadcrumbParams;n.page=1,n.parent_id=a,r.child_id=a,this.removeLibrarySelectionsCachedData(a),this.props.libraryActions.setCurrentFolderAction(a,t),this.props.libraryActions.fetchFolderContents(this.state.newLibraryParams),this.props.libraryActions.fetchBreadcrumbs(this.state.newBreadcrumbParams)});else{const e=fe.a.makeLibraryPageUrl(a,t);this.props.history.push(e)}else this.state.name===R.a.COMPOSER_LIBRARY_MODAL||this.state.name===R.a.POST_LIBRARY_MODAL?this.setState({location:t},()=>{this.removeLibrarySelectionsCachedData(),this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams)}):this.props.history.push(F.a.LIBRARY_PAGE);this.setState({searchQuery:""})}removeLibrarySelectionsCachedData(e){const t=this.state,a=t.libraryItemsParams,n=t.newLibraryParams;a.page=1,n.page=1,this.setState({libraryItemsParams:a,newLibraryParams:n},()=>{this.props.libraryActions.removeLibrarySelectionsCachedData(e)})}handleSelectMultipleItemsWithShift(e,t,a){if(this.props.singleAttachment)return void this.handleItemSelect(e);const n=p.a.clone(this.state.multipleItemsSelected);let r;const s=this.props.selectedAttachmentList&&this.props.selectedAttachmentList.get(t)?0:1,i=e.currentTarget.closest(".card-body").dataset.source;this.state.isMultipleSelected?this.state.isMultipleSelected&&(n.push(t),r=G.a.selectMultipleLibraryItems(n,a,this.state.sortType,this.state.ascendingNameSort,this.state.ascendingDateSort),r.forEach(e=>{const t=this.props.selectedAttachmentList&&this.props.selectedAttachmentList.get(e)?0:1;0!==t&&this.props.libraryActions.updateSelectedLibraryItemStatusSuccessAction(this.state.name,e,t,i)}),this.setState({multipleItemsSelected:r})):(n.push(t),this.props.libraryActions.updateSelectedLibraryItemStatusSuccessAction(this.state.name,t,s,i),this.setState({isMultipleSelected:!0,multipleItemsSelected:n}))}handleClearMultipleSelections(){this.setState({multipleItemsSelected:[],isMultipleSelected:!1}),this.props.libraryActions.clearSelectedLibraryItemStatusSuccessAction()}handleItemSelect(e){ye.a.preventDefaultAndStopPropagation(e);const t=ke.getDataIdFromCurrentTarget(e),a=this.props.selectedAttachmentList&&this.props.selectedAttachmentList.get(t)?0:1,n=this.state.name,r=e.currentTarget.closest(".card-body").dataset.source;this.props.singleAttachment&&this.props.libraryActions.clearSelectedLibraryItemStatusSuccessAction(),this.props.libraryActions.updateSelectedLibraryItemStatusSuccessAction(n,t,a,r)}handleSortDateByDescClick(e){ye.a.preventDefaultAndStopPropagation(e);const t="date"===this.state.sortType?!this.state.ascendingDateSort:this.state.ascendingDateSort;this.setState({ascendingDateSort:t,sortType:"date"}),this.props.endOfLibraryItemListingReached||this.loadSortedItems("modified_date",t)}handleSortNameByDescClick(e){ye.a.preventDefaultAndStopPropagation(e);const t="name"===this.state.sortType?!this.state.ascendingNameSort:this.state.ascendingNameSort;this.setState({ascendingNameSort:t,sortType:"name"}),this.props.endOfLibraryItemListingReached||this.loadSortedItems("name",t)}loadSortedItems(e,t){if(this.state.location===R.a.LIBRARY_ROOT){const a=this.state.libraryItemsParams;a.page=1,a.sort=e,a.sort_direction=t?"ascending":"descending",this.setState({libraryItemsParams:a},()=>{this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams)})}else{const a=this.state.newLibraryParams;a.page=1,a.sort=e,a.sort_direction=t?"ascending":"descending",this.setState({newLibraryParams:a},()=>{this.props.libraryActions.fetchFolderContents(a)})}}displaySortedContent(e,t,a,n,r,s,i){if(null!==this.state.searchQuery&&""!==this.state.searchQuery)return this.props.searchedLibraryItems;if(i){if("name"===this.state.sortType&&!this.state.ascendingNameSort)return n&&n.reverse();if("date"===this.state.sortType&&!this.state.ascendingDateSort)return t&&t.reverse();if("name"===this.state.sortType)return n;if("date"===this.state.sortType)return t}return"name"!==this.state.sortType||this.state.ascendingNameSort?"date"!==this.state.sortType||this.state.ascendingDateSort?"name"===this.state.sortType?r:"date"===this.state.sortType?a:void 0:a&&a.reverse():r&&r.reverse()}handleToggleMoveModal(e){ye.a.preventDefaultAndStopPropagation(e);const t=e.currentTarget.dataset.id,a=this.state.location===R.a.LIBRARY_ROOT?this.props.libraryItems:this.props.libraryFolderContents,n=G.a.getLibraryItemById(a,t),r=0===G.a.getParentId(n);this.setState({isMoveModalOpen:!this.state.isMoveModalOpen,itemToBeMoved:t,inRoot:r,itemActedOnParentFolderId:G.a.getParentId(n)},()=>{if(this.state.isMoveModalOpen){const e={owner_type:x.a.USER_OWNED,owner_id:G.a.getItemOwnerId(n),page:1,per_page:1e3,types:x.a.FOLDER,excluded_ancestor_ids:t};this.props.libraryActions.fetchAvailableFolders(e)}})}handleSelectMoveToFolder(e){ye.a.preventDefaultAndStopPropagation(e);const t=e.currentTarget.dataset.folderid;this.setState({moveToFolder:t})}handleCloseMoveModal(e){ye.a.preventDefaultAndStopPropagation(e),this.setState({isMoveModalOpen:!1,moveToFolder:null})}handleMoveToDone(e){ye.a.preventDefaultAndStopPropagation(e);const t={parent_id:this.state.moveToFolder>0?this.state.moveToFolder:0};let a="move";this.state.location===R.a.LIBRARY_ROOT&&(a="moveFromLibrary"),this.props.libraryActions.updateLibraryItem(this.state.itemToBeMoved,t,a),this.props.libraryPageTrackingActions.libraryItemMoveToDone(),this.setState({isMoveModalOpen:!1,moveToFolder:null})}handleToggleCopyModal(e){ye.a.preventDefaultAndStopPropagation(e);const t=e.currentTarget.dataset.id,a=this.state.location===R.a.LIBRARY_ROOT?this.props.libraryItems:this.props.libraryFolderContents,n=G.a.getLibraryItemById(a,t),r=0===G.a.getParentId(n);this.setState({isCopyModalOpen:!this.state.isCopyModalOpen,itemToBeCopied:t,inRoot:r,itemActedOnParentFolderId:G.a.getParentId(n)},()=>{if(this.state.isCopyModalOpen){const e={owner_type:x.a.USER_OWNED,owner_id:G.a.getItemOwnerId(n),page:1,per_page:1e3,types:x.a.FOLDER,excluded_ancestor_ids:t};this.props.libraryActions.fetchAvailableFolders(e)}})}handleSelectCopyToFolder(e){ye.a.preventDefaultAndStopPropagation(e);const t=e.currentTarget.dataset.folderid;this.setState({copyToFolder:t})}handleCloseCopyModal(e){ye.a.preventDefaultAndStopPropagation(e),this.setState({isCopyModalOpen:!1,copyToFolder:null})}handleCopyToDone(e){const t=this.props,a=t.libraryItems,n=t.libraryFolderContents,r=t.translate,s=this.state,i=s.itemToBeCopied,o=s.copyToFolder;ye.a.preventDefaultAndStopPropagation(e);const l=a&&a.get(parseInt(i,10))||n&&n.get(parseInt(i,10)),c={clone_item_id:i,parent_id:o>0?o:0};if(G.a.getItemType(l)===x.a.QUIZ_CONTENT){const e=r("copy-of-quiz","Copy of %{quiz_title}",{quiz_title:G.a.getItemTitle(l)});c.description=e}this.props.libraryActions.copyLibraryItem(this.state.itemToBeCopied,c),this.props.libraryPageTrackingActions.libraryItemCopyToDone(),this.setState({isCopyModalOpen:!1,copyToFolder:null})}handleToggleDeleteModal(e){ye.a.preventDefaultAndStopPropagation(e);const t=e.currentTarget.dataset.id;this.setState({isDeleteModalOpen:!this.state.isDeleteModalOpen,itemToBeDeleted:t})}handleCloseDeleteModal(e){ye.a.preventDefaultAndStopPropagation(e),this.setState({isDeleteModalOpen:!1,itemToBeDeleted:null})}handleDeleteConfirm(e){ye.a.preventDefaultAndStopPropagation(e);const t=this.state.location,a=G.a.getLibraryItemById(this.props.libraryItems,this.state.itemToBeDeleted),n=G.a.getType(a);let r=!1;null!==this.state.searchQuery&&""!==this.state.searchQuery&&(r=!0),this.props.libraryActions.deleteLibraryItem(this.state.itemToBeDeleted,t,r,n).then(()=>{this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams)}).catch(e=>{f.a.notifyBugsnag(e,"Library.deleteLibraryItem")}),this.props.libraryPageTrackingActions.libraryItemDeleteConfirm(),this.setState({isDeleteModalOpen:!1,itemToBeDeleted:null})}handleDeleteMultipleItemsConfirm(){const e=this.props.selectedAttachmentList,t=[];e&&e.keySeq().forEach(e=>{t.push(e)}),this.props.libraryActions.deleteMultipleLibraryItems(t,this.state.location),this.handleClearMultipleSelections(),this.setState({isDeleteModalOpen:!1})}handleToggleEditModal(e){ye.a.preventDefaultAndStopPropagation(e);const t=this.state.location===R.a.LIBRARY_ROOT?this.props.libraryItems:this.props.libraryFolderContents,a=parseInt(e.currentTarget.dataset.id,10),n=G.a.getLibraryItemById(t,a),r=G.a.getName(n),s=G.a.getDescription(n),i=G.a.getLibraryItemImageUrl(n),o=G.a.subItemLinkUrl(n),l=G.a.getItemType(n),c=G.a.getItemGradeLevel(n),d=G.a.getItemSubjectArea(n),u={};u[D.a.ITEM_TITLE]=r,u[D.a.ITEM_DESCRIPTION]=s,u[D.a.ITEM_IMAGE]=i,u[D.a.ITEM_URL]=o,u[D.a.ITEM_GRADE_SELECT]=c,u[D.a.ITEM_SUBJECT_SELECT]=d,this.props.libraryActions.setInitialEditModalValues(u),this.setState({isEditModalOpen:!this.state.isEditModalOpen,titleToBeEdited:r,descriptionToBeEdited:s,imageToBeEdited:i,itemToBeEdited:a,itemToBeEditedType:l})}handleCloseEditModal(e){ye.a.preventDefaultAndStopPropagation(e),this.props.editModalFormValues&&(this.props.editModalFormValues.itemTitle=""),this.setState({isEditModalOpen:!1,titleToBeEdited:null,descriptionToBeEdited:null,imageToBeEdited:null,itemToBeEdited:null,itemToBeEditedType:null})}handleEditDone(e){this.setState({isLoading:!0}),ye.a.preventDefaultAndStopPropagation(e);const t=this.state.itemToBeEditedType,a=this.props.editModalFormValues.get(D.a.ITEM_TITLE),n=this.props.editModalFormValues.get(D.a.ITEM_SUBJECT_SELECT),r=this.props.editModalFormValues.get(D.a.ITEM_GRADE_SELECT),s={name:a};"folder"===t&&(s[x.a.SUBJECT_AREA]=n,s[x.a.START_LEVEL]=r),this.props.libraryActions.updateLibraryItem(this.state.itemToBeEdited,s,"edit",this.onUpdateComplete)}handleToggleSharedFolderModal(e){ye.a.preventDefaultAndStopPropagation(e);const t=e.currentTarget.dataset.id;B.a.isValid(this.props.accessToken)&&this.props.groupMembershipActions.fetchGroupMembershipsForCurrentUser({mainGroupsOnly:!1,perPage:250});const a={types:"shared_item",resource_id:t,creator_id:j.a.getId(this.props.currentUser),page:1,per_page:250};this.props.libraryActions.fetchSharedGroupsOfResource(a),this.setState({isShareFolderModalOpen:!this.state.isShareFolderModalOpen,folderToBeShared:t})}handleSelectShareToGroup(e){let t=e.currentTarget.dataset.id;const a=e.currentTarget.dataset.title,n=this.state.shareToGroups.filter(e=>e===parseInt(t,10)),r=!(this.state.shareToGroups&&n.length>0);if(this.props.shareFolderValues[a]=r,r)this.setState({shareToGroups:[...this.state.shareToGroups,parseInt(t,10)]});else if(!r){const e=this.state.shareToGroups.filter(e=>e!==parseInt(t,10));this.setState({shareToGroups:e})}}handleCloseSharedFolderModal(e){ye.a.preventDefaultAndStopPropagation(e),this.setState({isShareFolderModalOpen:!1,shareToGroups:[]})}handleShareFolderDone(e){ye.a.preventDefaultAndStopPropagation(e);const t=parseInt(this.state.folderToBeShared,10),a=this.state.shareToGroups,n={requests:G.a.makeLibraryFolderSharedWithGroupRequest(t,a,this.props.sharedGroupsOfResource)};this.props.libraryActions.shareLibraryFolderToGroups(n),this.props.libraryPageTrackingActions.libraryItemShareFolderDone(),this.setState({isShareFolderModalOpen:!1,shareToGroups:[],folderToBeShared:null})}handleToggleAttachToModal(e){if(ye.a.preventDefaultAndStopPropagation(e),e){let t=this.state.location===R.a.LIBRARY_ROOT?this.props.libraryItems:this.props.libraryFolderContents;t=t||this.props.searchedLibraryItems;const a=parseInt(e.currentTarget.dataset.id,10);let n=e.currentTarget.dataset.type;n=n===x.a.ASSIGNMENT?x.a.ASSIGNMENT_TEMPLATE:n;const r=G.a.getLibraryItemById(t,a),s=G.a.getSubItemId(r),i=G.a.getName(r);this.props.libraryActions.setTitleForAttachingToNote(i),this.setState({itemToBeAttached:s,itemToBeAttachedType:n,isAttachModalOpen:!this.state.isAttachModalOpen})}}handleCloseAttachToModal(e){ye.a.preventDefaultAndStopPropagation(e),this.setState({isAttachModalOpen:!1,itemToBeAttached:null,recipients:null})}handleAttachToConfirm(e){ye.a.preventDefaultAndStopPropagation(e);const t={content_type:"",content:{text:"",attachments:{files:[]}},recipients:{users:[],groups:[],schools:[],districts:[],connections:[],topics:[]},post_at:null,moderated:!1,library_item_id:null,urgent:!1},a=this.state.itemToBeAttachedType,n=this.state.itemToBeAttached;let r="";const s=G.a.formatRecipients(this.state.recipients),i={};a&&(i["".concat(a,"s")]=i["".concat(a,"s")]||[],i["".concat(a,"s")].push({id:parseInt(n,10)})),this.props.attachToNoteFormValues&&(r=this.props.attachToNoteFormValues.get(L.a.NOTE_CONTENT)),t.content_type="note",t.content.text=r,t.recipients=s,t.content.attachments=i,this.props.postActions.makePost(t,!1,F.a.LIBRARY_PAGE),this.props.libraryPageTrackingActions.libraryItemAttachToConfirm(),this.setState({isAttachModalOpen:!1,itemToBeAttached:null,itemToBeAttachedType:null,recipients:null})}handleToggleAssignModal(e){const t=this.props.quizTrackingActions;if(e){let a;ye.a.preventDefaultAndStopPropagation(e),a=""!==this.state.searchQuery?this.props.searchedLibraryItems:this.state.location===R.a.LIBRARY_ROOT?this.props.libraryItems:this.props.libraryFolderContents;const n=parseInt(e.currentTarget.dataset.id,10),r=G.a.getLibraryItemById(a,n),s=e.currentTarget.dataset.type,i=G.a.getItemTitle(r),o=G.a.getSubItemDescription(r),l=G.a.getSubItemId(r),c=s===x.a.QUIZ_CONTENT,d=c&&G.a.getSubItemValid(r),u=c?fe.a.makeQuizEditUrl(l):fe.a.makeAssignmentTemplateEditUrl(l);!this.state.isAssignModalOpen&&c&&t.trackQuizAssignDisplay({from:"library",quiz_id:l}),this.setState({isAssignModalOpen:!this.state.isAssignModalOpen,itemToBeAssigned:s!==x.a.QUIZ_CONTENT?n:l,itemToBeAssignedTitle:i,itemToBeAssignedDesc:o,itemToBeAssignedType:s,itemToBeAssignedValid:d,editItemUrl:u})}}handleCloseAssignModal(e){ye.a.preventDefaultAndStopPropagation(e),this.setState({isAssignModalOpen:!1,itemToBeAssigned:null,itemToBeAssignedTitle:null})}handleRestrictResource(){this.setState({restrictResourceToTeachers:!this.state.restrictResourceToTeachers})}handleDownloadItem(e,t){window.open(t,"_blank"),this.props.libraryPageTrackingActions.downloadItemLinkClick()}handleOpenItemInOffice(e,t){window.open(t,"_blank"),this.props.libraryPageTrackingActions.openLibraryItemInOffice()}handleToggleQuizContentModal(e){let t;ye.a.preventDefaultAndStopPropagation(e),t=""!==this.state.searchQuery?this.props.searchedLibraryItems:this.state.location===R.a.LIBRARY_ROOT?this.props.libraryItems:this.props.libraryFolderContents;const a=parseInt(e.currentTarget.dataset.quizid,10),n=parseInt(e.currentTarget.dataset.itemid,10),r=G.a.getLibraryItemById(t,n),s=r&&r.getIn(["item","title"]),i=G.a.getSubItemValid(r),o=fe.a.makeQuizEditUrl(a);this.setState({quizBeingViewed:parseInt(a,10),quizTitle:s,itemToBeAssigned:parseInt(a,10),itemToBeAssignedValid:i,isQuizContentModalOpen:!this.state.isQuizContentModalOpen,editItemUrl:o})}handleQuizAssignClick(){this.setState({itemToBeAssigned:parseInt(this.state.quizBeingViewed,10),itemToBeAssignedTitle:this.state.quizTitle,itemToBeAssignedType:x.a.QUIZ_CONTENT,isAssignModalOpen:!0,isQuizContentModalOpen:!1})}handleCloseQuizContentModal(e){ye.a.preventDefaultAndStopPropagation(e),this.setState({isQuizContentModalOpen:!1,quizBeingViewed:null})}handleToggleDisconnectSsoModal(e){ye.a.preventDefaultAndStopPropagation(e);const t=e&&e.currentTarget&&e.currentTarget.dataset.provider||null;this.setState({isDisconnectSsoModalOpen:!this.state.isDisconnectSsoModalOpen,currentSsoProvider:t})}handleToggleGDriveConnectErrorModal(){this.props.googleApisActions.resetFilesFailure(),this.setState({isGDriveConnectErrorModalOpen:!this.state.isGDriveConnectErrorModalOpen})}handleMakePublicCopyButtonClick(e){ye.a.preventDefaultAndStopPropagation(e);const t=parseInt(e.currentTarget.dataset.itemid,10),a="false"!==e.currentTarget.dataset.ispublic,n=e.currentTarget.dataset.makepublic;if(!a){const e={clone_item_id:t,is_public:!0};this.props.libraryActions.makeQuizPublic(e,t,n).then(()=>{this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams)}).catch(e=>{f.a.notifyBugsnag(e,"Library.makeQuizPublic")})}}handleEditQuizClick(e){const t=this.props,a=t.history,n=t.pageNavActions,r=parseInt(e.currentTarget.dataset.itemid,10),s=fe.a.makeQuizEditUrl(r);s&&(n&&n.storeNewPageDestinationAction(a.location.pathname),a.push(s))}handleEditAssignmentClick(e){const t=this.props.history,a=parseInt(e.currentTarget.dataset.itemid,10),n=fe.a.makeAssignmentTemplateEditUrl(a);n&&t.push(n)}handleImagePreview(e){const t=parseInt(e.currentTarget.dataset.itemid,10);this.setState({imagePreviewOpen:!this.state.imagePreviewOpen,imagePreviewId:t})}handleOnEmbedClick(e){let t=e.currentTarget.dataset,a=t.content,n=t.title;a=fe.a.getSrcFromIframe(a),this.setState({embedPreviewOpen:!this.state.embedPreviewOpen,embedPreviewContent:a,embedPreviewTitle:n})}handleTypeAhead(e){this.setState({recipients:e})}handleQuizEdit(){const e=this.props,t=e.history,a=e.pageNavActions,n=this.state.editItemUrl;n&&(a&&a.storeNewPageDestinationAction(t.location.pathname),t.push(n))}handleAssignmentEdit(){const e=this.props.history,t=this.state.editItemUrl;t&&e.push(t)}listenBroadcast(e){const t=this.state.libraryItemsParams;t.page=1,this.setState({libraryItemsParams:t},()=>{this.props.libraryActions.fetchLibraryItemsForCurrentUser(this.state.name,this.state.libraryItemsParams)})}renderQuizModal(){const e=this.state,t=e.itemToBeAssignedValid,a=e.isAssignModalOpen,n=e.itemToBeAssigned,r=e.itemToBeAssignedTitle;return t?i.a.createElement(de.a,{isOpen:a,quizContentsId:n,title:r,toggle:this.handleCloseAssignModal,onAssigned:this.handleCloseAssignModal,loadQuizContents:!0},i.a.createElement(ue.a,null)):i.a.createElement(ge.a,{isOpen:a,toggle:this.handleCloseAssignModal,onEdit:this.handleQuizEdit})}renderAssignmentModal(){const e=this.state,t=e.isAssignModalOpen,a=e.itemToBeAssigned,n=e.itemToBeAssignedDesc,r=e.itemToBeAssignedTitle;return r&&n?i.a.createElement(he.a,{isOpen:t,title:r,description:n,libraryItemId:a,toggle:this.handleCloseAssignModal,onAssigned:this.handleCloseAssignModal},i.a.createElement(pe.a,null)):i.a.createElement(me,{isOpen:t,toggle:this.handleCloseAssignModal,onEdit:this.handleAssignmentEdit})}render(){const e=this.props,t=e.libraryItems,a=e.libraryFolderContents,n=e.libraryFolderBreadcrumbs,r=e.sortLibraryContentsByModifiedDate,s=e.sortLibraryFolderContentsByModifiedDate,o=e.sortLibraryContentsByName,l=e.sortLibraryFolderContentsByName,c=e.selectedAttachmentList,d=e.hasMenu,h=e.inModal,p=e.isAttachmentPicker,m=e.userGroupMemberships,g=e.availableFolders,f=e.currentUser,b=e.uploadedLibraryItems,E=e.searchedLibraryItems,y=e.translate,S=e.abTests,v=e.abTestInfo,C=this.state.location===R.a.LIBRARY_ROOT,A=j.a.isStudent(f);let I=null,T=this.state.displayDisconnectButton;return(this.state.content===R.a.GOOGLE_DRIVE&&!Se.a.getAccessToken(this.props.currentUserGoogleSsoInfo)||this.state.content===R.a.ONE_DRIVE&&!Se.a.getAccessToken(this.props.currentUserOfficeSsoInfo))&&(T=!1),I=this.state.content===R.a.TEACHER_BADGES?i.a.createElement(Ae,{libraryItems:t,location:this.state.location,hasMenu:d,isStudent:A,context:R.a.LIBRARY}):this.state.content===R.a.ONE_DRIVE?i.a.createElement(Te,{libraryItems:t,selectedItems:c,inModal:h,handleItemSelect:this.handleItemSelect,name:this.state.name}):this.state.content===R.a.GOOGLE_DRIVE?i.a.createElement(Ie,{selectedItems:c,value:this.state.searchQuery,handleQueryStringChange:this.handleQueryStringChange,inModal:h,handleItemSelect:this.handleItemSelect,name:this.state.name}):i.a.createElement(Ce,{abTests:S,abTestInfo:v,libraryItems:this.displaySortedContent(t,r,s,o,l,a,C,E),uploadedLibraryItems:b,selectedItems:c,breadcrumbs:n,sortType:this.state.sortType,ascendingNameSort:this.state.ascendingNameSort,ascendingDateSort:this.state.ascendingDateSort,hasMenu:d,name:this.state.name,location:this.state.location,value:this.state.searchQuery,isStudent:A,imagePreviewOpen:this.state.imagePreviewOpen,imagePreviewId:this.state.imagePreviewId,handleImagePreview:this.handleImagePreview,handleSortDateByDescClick:this.handleSortDateByDescClick,handleSortNameByDescClick:this.handleSortNameByDescClick,handleQueryStringChange:this.handleQueryStringChange,handleFolderNameClick:this.handleFolderNameClick,handleItemSelect:this.handleItemSelect,handleToggleMoveModal:this.handleToggleMoveModal,handleToggleDeleteModal:this.handleToggleDeleteModal,handleToggleCopyModal:this.handleToggleCopyModal,handleToggleEditModal:this.handleToggleEditModal,handleToggleSharedFolderModal:this.handleToggleSharedFolderModal,handleToggleAttachToModal:this.handleToggleAttachToModal,handleToggleAssignModal:this.handleToggleAssignModal,handleToggleQuizContentModal:this.handleToggleQuizContentModal,handleMakePublicCopyButtonClick:this.handleMakePublicCopyButtonClick,handleEditQuizClick:this.handleEditQuizClick,handleEditAssignmentClick:this.handleEditAssignmentClick,fromGroupPage:!1,showAssignedState:this.state.showAssignedState,currentUser:f,inModal:h,isAttachmentPicker:p,loadMoreItems:this.loadMoreItems,endOfItems:this.props.endOfLibraryItemListingReached,handleDownloadItem:this.handleDownloadItem,handleOpenItemInOffice:this.handleOpenItemInOffice,handleOnEmbedClick:this.handleOnEmbedClick,handleSelectMultipleItemsWithShift:this.handleSelectMultipleItemsWithShift,handleClearMultipleSelections:this.handleClearMultipleSelections,isMultipleSelected:this.state.isMultipleSelected,filterOnly:this.props.filterOnly}),i.a.createElement(u.u,{className:"qa-test-library-container view-port"},i.a.createElement(u.db,null,i.a.createElement(u.s,{md:"5",lg:"4"},i.a.createElement(X,{handleNavItemClick:this.handleNavItemClick,handleFolderNameClick:this.handleFolderNameClick,currentTab:this.state.content,isStudent:A,inModal:h,currentUserGoogleSsoInfo:this.props.currentUserGoogleSsoInfo,currentUserOfficeSsoInfo:this.props.currentUserOfficeSsoInfo,handleToggleDisconnectSsoModal:this.handleToggleDisconnectSsoModal,currentUser:f,handleTeacherBadgesClick:this.handleTeacherBadgesClick,displayDisconnectButton:T,translate:y,onlyLibraryNav:this.props.onlyLibraryNav})),i.a.createElement(u.s,{md:"13",lg:"14"},I)),this.state.isMoveModalOpen&&i.a.createElement(te.a,{isMoveModalOpen:this.state.isMoveModalOpen,folders:g,inRoot:this.state.inRoot,isStudent:A,itemToBeMoved:this.state.itemToBeMoved,moveToFolder:this.state.moveToFolder,toggle:this.handleToggleMoveModal,close:this.handleCloseMoveModal,handleSelectMoveToFolder:this.handleSelectMoveToFolder,handleMoveToDone:this.handleMoveToDone,itemActedOnParentFolderId:this.state.itemActedOnParentFolderId}),this.state.isCopyModalOpen&&i.a.createElement(ne.a,{isCopyModalOpen:this.state.isCopyModalOpen,folders:g,inRoot:this.state.inRoot,isStudent:A,copyToFolder:this.state.copyToFolder,toggle:this.handleToggleCopyModal,close:this.handleCloseCopyModal,handleSelectCopyToFolder:this.handleSelectCopyToFolder,handleCopyToDone:this.handleCopyToDone,itemToBeCopied:this.state.itemToBeCopied,itemActedOnParentFolderId:this.state.itemActedOnParentFolderId}),this.state.isDeleteModalOpen&&i.a.createElement(ee.a,{isDeleteModalOpen:this.state.isDeleteModalOpen,isMultipleSelected:this.state.isMultipleSelected,textConstant:this.props.translate("this-will-permanently-delete-contents","Deleting an item permanently removes it and its contents."),toggle:this.handleToggleDeleteModal,close:this.handleCloseDeleteModal,handleDeleteConfirm:this.handleDeleteConfirm,handleDeleteMultipleItemsConfirm:this.handleDeleteMultipleItemsConfirm}),this.state.isEditModalOpen&&i.a.createElement(ae.a,{isEditModalOpen:this.state.isEditModalOpen,toggle:this.handleToggleEditModal,close:this.handleCloseEditModal,title:this.state.titleToBeEdited,description:this.state.descriptionToBeEdited,image:this.state.imageToBeEdited,type:this.state.itemToBeEditedType,handleEditDone:this.handleEditDone,isLoading:this.state.isLoading,translate:y,formValues:this.props.editModalFormValues}),this.state.isShareFolderModalOpen&&i.a.createElement(re.a,{isShareFolderModalOpen:this.state.isShareFolderModalOpen,groupMemberships:m,user:f,handleSelectShareToGroup:this.handleSelectShareToGroup,toggle:this.handleToggleSharedFolderModal,close:this.handleCloseSharedFolderModal,done:this.handleShareFolderDone,shareToGroups:this.state.shareToGroups}),this.state.isAttachModalOpen&&i.a.createElement(se.a,{isAttachModalOpen:this.state.isAttachModalOpen,toggle:this.handleToggleAttachToModal,close:this.handleCloseAttachToModal,handleTypeAhead:this.handleTypeAhead,done:this.handleAttachToConfirm,recipients:this.state.recipients}),this.state.itemToBeAssignedType===x.a.QUIZ_CONTENT?this.renderQuizModal():this.renderAssignmentModal(),i.a.createElement(ve.a,{isOpen:this.state.isQuizContentModalOpen,title:this.state.quizTitle,quizContentsId:this.state.quizBeingViewed,toggle:this.handleCloseQuizContentModal,assignQuiz:this.handleQuizAssignClick}),this.state.isDisconnectSsoModalOpen&&i.a.createElement(ie,{isDisconnectSsoModalOpen:this.state.isDisconnectSsoModalOpen,toggle:this.handleToggleDisconnectSsoModal,handleDisconnectSsoClick:this.handleDisconnectSsoClick}),this.state.isGDriveConnectErrorModalOpen&&i.a.createElement(le,{isModalOpen:this.state.isGDriveConnectErrorModalOpen,toggle:this.handleToggleGDriveConnectErrorModal}),this.state.embedPreviewOpen&&i.a.createElement(oe.a,{content:this.state.embedPreviewContent,title:this.state.embedPreviewTitle,open:this.state.embedPreviewOpen,handleEmbedPreview:this.handleOnEmbedClick,close:this.handleOnEmbedClick}),!h&&i.a.createElement($.default,null))}}ke.defaultProps={singleAttachment:!1,onlyLibraryNav:!1};t.a=Object(l.a)(Object(c.connect)((function(e,t){return{currentUser:E.c(e),accessToken:E.d(e),abTests:E.y(e),libraryItems:y.k(e),currentFolderId:y.d(e),currentFolderName:y.e(e),uploadedLibraryItems:y.r(e),libraryFolderContents:y.i(e),libraryFolderBreadcrumbs:y.o(e),sortLibraryContentsByModifiedDate:y.v(e),sortLibraryFolderContentsByModifiedDate:y.x(e),sortLibraryContentsByName:y.w(e),sortLibraryFolderContentsByName:y.y(e),selectedAttachmentList:y.c(e,t),availableFolders:y.a(e),userGroupMemberships:S.M(e),currentUserProfile:E.p(e),currentUserGoogleSsoInfo:v.c(e),currentUserOfficeSsoInfo:v.f(e),disconnectSsoInfo:v.a(e),currentUserGoogleAccessToken:v.b(e),googleDriveConnectError:C.c(e),editModalFormValues:Object(o.getFormValues)("editModal")(e),selectGradeValues:Object(o.getFormValues)("editModalGradeSelect")(e),selectSubjectValues:Object(o.getFormValues)("editModalSubjectSelect")(e),shareFolderValues:Object(o.getFormValues)("shareFolderModal")(e),attachToNoteFormValues:Object(o.getFormValues)("attachToNoteModal")(e),assignFormValues:Object(o.getFormValues)("assignModal")(e),searchedLibraryItems:y.p(e),endOfLibraryItemListingReached:y.m(e),sharedGroupsOfResource:y.s(e),abTestInfo:A.a(e)}}),(function(e){return{libraryActions:Object(d.bindActionCreators)(I,e),postActions:Object(d.bindActionCreators)(T,e),assignmentActions:Object(d.bindActionCreators)(k,e),ssoActions:Object(d.bindActionCreators)(O,e),googleApisActions:Object(d.bindActionCreators)(_,e),libraryPageTrackingActions:Object(d.bindActionCreators)(M,e),groupMembershipActions:Object(d.bindActionCreators)(N,e),pageNavActions:Object(d.bindActionCreators)(w,e),quizTrackingActions:Object(d.bindActionCreators)(P,e)}}))(Object(ce.a)(ke)))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1199),i=a(133),o=a(134),l=a(1778),c=a(1764),d=a(1765),u=a(35),h=a.n(u);a(1221);var p=({downloadUrl:e,toggleModal:t,index:a,isModal:n,className:s,id:i,fileName:o})=>{const l=h()("AttachmentItem","AttachmentItem--image","image",s);return n?r.a.createElement("div",{key:o+"-"+i,className:"image","data-index":a},r.a.createElement("div",{className:"image-attachment no-click"},r.a.createElement("img",{alt:"",src:e}))):r.a.createElement("div",{key:o+"-"+i,className:l,"data-index":a},r.a.createElement("div",{className:"image-attachment qa-test-image-attachment"},r.a.createElement("img",{alt:"",src:e,role:"button",onClick:()=>t(i)})))},m=a(364),g=a(202);var f=({fileSize:e,fileType:t,downloadUrl:a,fileProgress:n,className:s,id:i,fileName:o})=>{const l=Object(g.a)(e),c=h()("file-item",s);return r.a.createElement("div",{className:c,key:o+"-"+i},a?r.a.createElement("video",{controls:!0,src:a,type:t,className:"video"}):r.a.createElement("span",{className:"subtext"},l),(e=>{if(n)return r.a.createElement(m.cb,{color:"success",value:e,max:"100"})})(n))},b=a(1204),E=a(30),y=a(1203),S=a.n(y);a(1942);class v extends n.Component{getImageOrVideo(e,t,a,n,s="",i=!0){return e.type===E.a.IMAGE?r.a.createElement(p,Object.assign({key:e.id,toggleModal:a,isModal:n,messageId:t,className:s},e)):e.type===E.a.VIDEO?r.a.createElement("div",{className:"MosaicAttachment__video"},i&&r.a.createElement("div",{className:"MosaicAttachment__video__overlay qa-test-mosaic-video-play",onClick:()=>a(e.id)},r.a.createElement(b.a,{name:"play-arrow-icon",size:48,color:S.a.white[0]})),r.a.createElement(f,Object.assign({key:e.id,toggleModal:a,isModal:n,messageId:t,className:s},e))):void 0}render(){const e=this.props,t=e.mediaAttachmentList,a=e.messageId,n=e.toggleModal,s=e.isModal,i=t.slice(0,3),o=t.length-i.length;return 1===i.length?this.getImageOrVideo(i[0],a,n,s,"",!1):2===i.length?r.a.createElement("div",{className:"MosaicAttachment"},r.a.createElement("div",{className:"MosaicAttachment__col"},this.getImageOrVideo(i[0],a,n,s,"MosaicAttachment__item")),r.a.createElement("div",{className:"MosaicAttachment__col"},this.getImageOrVideo(i[1],a,n,s,"MosaicAttachment__item"))):r.a.createElement("div",{className:"MosaicAttachment MosaicAttachment__horizontal_spacing"},r.a.createElement("div",{className:"MosaicAttachment__col"},this.getImageOrVideo(i[0],a,n,s,"MosaicAttachment__item")),r.a.createElement("div",{className:"MosaicAttachment__col MosaicAttachment__vertical_spacing"},this.getImageOrVideo(i[1],a,n,s,"MosaicAttachment__item MosaicAttachment__item--half"),r.a.createElement("div",{className:"MosaicAttachment__additionalContainer"},this.getImageOrVideo(i[2],a,n,s,"MosaicAttachment__item MosaicAttachment__item--half"),o&&r.a.createElement("div",{className:"MosaicAttachment__additionalContainer__label qa-test-mosaic-see-more",onClick:()=>n(i[2].id)},r.a.createElement("span",null,"+",o)))))}}var C=v,A=a(1772),I=a(1683),T=a(1630),k=a(1773),O=a(370),_=a(156);var M=({id:e,fileName:t,fileSize:a,fileType:n,downloadUrl:s,thumbUrl:i,fileProgress:o,showRemove:l,messageId:c,handleDismissClick:d,handleFileAddToLibrary:u,isStudent:p,isTeacher:f,size:E,key:y})=>{const v=g.a(a),C=h()("qa-test-AttachmentItem","AttachmentItem","AttachmentItem--card",{"AttachmentItem--small":"sm"===E},"px-2 pt-2 pb-1");return r.a.createElement("div",{id:"file-attachment",className:C,key:t+"-"+e},r.a.createElement("div",{className:"d-flex align-items-center "},r.a.createElement("div",{className:"AttachmentItem__icon d-flex justify-content-center align-items-center flex-shrink-0"},r.a.createElement(b.a,{name:g.f(n),color:S.a.cyan[30]})),r.a.createElement("div",{className:"AttachmentItem__title pl-2_5 w-100 title"},t),!l&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(O.a,{className:"AttachmentItem__actions",align:"end",hideArrow:!0},r.a.createElement("div",{className:"drop-selector"},r.a.createElement(b.a,{name:"EllipsisIcon",color:S.a.gray[40],className:"group-options-ellipsis"})),r.a.createElement(O.b,null,r.a.createElement(O.c,{onClick:()=>g.h(s,t)},r.a.createElement(_.default,{string:"download",fallbackString:"Download"})),u&&(p?r.a.createElement(O.c,{onClick:()=>u(e)},r.a.createElement(_.default,{string:"add-to-backpack",fallbackString:"Add To Backpack"})):f?r.a.createElement(O.c,{onClick:()=>u(e)},r.a.createElement(_.default,{string:"add-to-library",fallbackString:"Add To Library"})):void 0)))),l&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(b.a,{name:"x-icon",className:"AttachmentItem__remove",color:S.a.gray[40],"data-attachment-id":e,"data-attachment-messageid":c,"data-attachment-type":"audio",onClick:d,onKeyPress:d}))),r.a.createElement("div",{className:"pl-9"},s?r.a.createElement("audio",{controls:!0,className:"w-100",src:s,type:n,controlsList:"nodownload"}):r.a.createElement("span",{className:"subtext"},v),(()=>{if(o)return r.a.createElement(m.cb,{color:"success",value:o,max:"100",isBackgroundTransparent:!0})})()))},N=a(1774),w=a(1206),P=a(1623),R=a(3);var x=({item:e})=>e&&e.type===R.a.LINK?r.a.createElement("div",{className:"link-list-item row",key:e.id},r.a.createElement("div",{className:"modal-thumb col-1"},r.a.createElement("a",{href:e.url},r.a.createElement("img",{className:"modal-icon",src:e.icon,alt:e.title}))),r.a.createElement("a",{className:"modal-file-title col-11",href:e.url},e.title)):e&&e.type===R.a.FILE?r.a.createElement("div",{className:"file-list-item row",key:e.id},r.a.createElement("div",{className:"modal-thumb col-1"},r.a.createElement("a",{href:e.view},r.a.createElement("img",{className:"modal-icon",src:e.icon,alt:e.title}))),r.a.createElement("a",{className:"modal-file-title col-11 ",href:e.view},e.title)):e&&e.type===R.a.IMAGE?r.a.createElement("div",{className:"modal-image-container",key:e.id},r.a.createElement("img",{className:"image-list-item",key:e.key,src:e.thumbUrl,alt:e.title})):e&&e.type===R.a.EMBED?r.a.createElement("div",{key:e.id,className:"modal-embed-container",dangerouslySetInnerHTML:{__html:e.content}}):e&&e.type===R.a.QUIZ_CONTENT?r.a.createElement("div",{className:"file-list-item row",key:e.id},r.a.createElement("div",{className:"modal-thumb col-1"},r.a.createElement("a",{href:e.view},r.a.createElement("img",{className:"modal-icon",src:e.icon,alt:e.title}))),r.a.createElement("a",{className:"modal-file-title col-11 ",href:e.view},e.title)):void 0,L=a(1207),D=a(1338),F=a.n(D),U="download-file",B="previous",G="next",j="download-selected-image",z=(a(1782),a(1294)),q=a(523);class H extends n.Component{constructor(e){super(e),this.state={activeIndex:this.getIndexFromAttachmentId(e.items,e.activeAttachmentId)},this.next=this.next.bind(this),this.previous=this.previous.bind(this),this.goToIndex=this.goToIndex.bind(this),this.onExiting=this.onExiting.bind(this),this.onExited=this.onExited.bind(this)}getIndexFromAttachmentId(e,t){return e.findIndex(e=>e.id===t)}onExiting(){this.animating=!0}onExited(){this.animating=!1}next(){if(this.animating)return;const e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}previous(){if(this.animating)return;const e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}goToIndex(e){this.animating||this.setState({activeIndex:e})}render(){const e=this.props.items,t=e&&e.map(e=>{switch(e.type){case R.a.IMAGE:return r.a.createElement(m.r,{key:e.key,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{className:"attachment-carousel-image-container"},r.a.createElement("img",{className:"attachment-carousel-image",src:e.type===R.a.IMAGE?e.downloadUrl:e.icon,alt:e.tile}),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement(L.a,{onClick:()=>g.h(e.downloadUrl,e.fileName)},r.a.createElement("p",null,r.a.createElement(_.default,{string:j,fallbackString:"Download Selected Image"}))))));case R.a.VIDEO:return r.a.createElement(m.r,{key:e.key,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{className:"attachment-carousel-video-container"},r.a.createElement("video",{controls:!0,src:e.downloadUrl,type:e.fileType,className:"video"})));case R.a.FILE:return r.a.createElement(m.r,{key:e.key,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{className:"attachment-carousel-file attachment-carousel-file-view"},r.a.createElement("div",{onClick:()=>g.h(e.downloadUrl,e.fileName),className:"attachment-download-link"},r.a.createElement("img",{className:"attachment-carousel-file-icon attachment-carousel-file-icon-view",src:e.icon,alt:"Download"}),r.a.createElement("div",{className:"attachment-carousel-file-name attachment-carousel-file-name-view"},e.title))),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement(L.a,{onClick:()=>g.h(e.downloadUrl,e.fileName)},r.a.createElement("p",null,r.a.createElement(_.default,{string:U,fallbackString:"Download File"})))));case R.a.EMBED:return r.a.createElement(m.r,{key:e.key,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{className:"attachment-carousel-embed"},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement(z.a,{src:e.content,title:e.title,frameBorder:0,allowFullScreen:!0,className:"embed-responsive-item"}))));case R.a.MULTIMEDIA_ITEMS:{const t=q.a.getUrl(e.multimediaItem);return r.a.createElement(m.r,{key:e.key,onExiting:this.onExiting,onExited:this.onExited},r.a.createElement("div",{className:"attachment-carousel-multimedia-item-container"},r.a.createElement(F.a,{className:"attachment-carousel-multimedia-item",src:t})))}default:return null}});return r.a.createElement("div",{className:"attachment-modal-carousel"},r.a.createElement(m.q,{interval:!1,slide:!1,activeIndex:this.state.activeIndex,next:this.next,previous:this.previous},t),t&&t.length>1&&r.a.createElement("span",{className:"carousel-control-prev",onClick:this.previous,onKeyPress:this.previous,role:"presentation"},r.a.createElement("img",{src:"//a.edim.co/images_v2/icons/image-chevron-left.png",alt:B})),t&&t.length>1&&r.a.createElement("span",{className:"carousel-control-next",onClick:this.next,onKeyPress:this.next,role:"presentation"},r.a.createElement("img",{src:"//a.edim.co/images_v2/icons/image-chevron-right.png",alt:G})))}}var V=H;var W=({message:e,modalList:t,isOpen:a,toggle:n,messageId:s,displayName:i,creator:o,currentUser:l,recipients:c,contentText:d,smallAvatar:u,handleReplyIconClick:h,accessToken:p,stream:g,streamName:f,handleLikeClick:b,handleFollowClick:E,handleReplyTextChange:y,handleReplySubmit:S,handleReplyDelete:v,handleReplyIconReset:C,trackingContext:A,activeAttachmentId:I,isInteractionsDisabled:T})=>{const k=[],O=[];return t&&t.forEach((e,t)=>{k.push(r.a.createElement(x,{key:t,item:e,index:t})),e.type!==R.a.LINK&&O.push(e)}),r.a.createElement(m.M,{className:"attachment-modal container",isOpen:a,toggle:()=>n()},r.a.createElement(m.N,{className:"attachment-modal-body"},r.a.createElement("div",{className:"modal-close-icon qa-test-modal-close-icon"},r.a.createElement("button",{type:"button",className:"close qa-test-close-btn",onClick:()=>n()},r.a.createElement(w.default,null))),r.a.createElement("div",{className:"post-attachment col-md-18 col-lg-12"},r.a.createElement(V,{items:O,activeAttachmentId:I})),r.a.createElement("div",{className:"post-content col-md-18 col-lg-6"},r.a.createElement("div",{className:"modal-message-container qa-test-modal-message-container"},r.a.createElement(P.a,{message:e,messageId:s,displayName:i,creator:o,currentUser:l,recipients:c,contentText:d,smallAvatar:u,handleReplyIconClick:h,accessToken:p,stream:g,streamName:f,imageModalOpen:a,trackingContext:A,handleLikeClick:b,handleFollowClick:E,handleReplyTextChange:y,handleReplySubmit:S,handleReplyDelete:v,handleReplyIconReset:C,isModal:"true",isInteractionsDisabled:T})))))},Q=a(38),Y=a(14),K=a(254),J=a(547),Z=a(1216),X=a(371),$=a(331),ee=a(178),te=a(1458),ae=a(1233),ne=a(1775),re=a(37);a(1776);class se extends n.Component{constructor(e){super(e),this.state={showingMore:!1,modalOpen:!1,activeAttachmentId:null},this.toggleShowing=this.toggleShowing.bind(this),this.toggleModal=this.toggleModal.bind(this),this.handleQuizAddToLibrary=this.handleQuizAddToLibrary.bind(this),this.handleAssignmentAddToLibrary=this.handleAssignmentAddToLibrary.bind(this),this.handleFileAddToLibrary=this.handleFileAddToLibrary.bind(this),this.handleAddLinkToLibrary=this.handleAddLinkToLibrary.bind(this),this.setActiveIndex=this.setActiveIndex.bind(this)}toggleShowing(){this.setState({showingMore:!this.state.showingMore})}toggleModal(e){if(this.setState({modalOpen:!this.state.modalOpen,activeAttachmentId:e}),this.props.attachments.quiz_contents){this.props.attachments.quiz_contents.forEach(e=>{this.props.quizzesActions.fetchQuizContents("".concat(Z.a.getId(e)))})}}handleQuizAddToLibrary(e){const t={item:{clone:!0,id:e},type:"quiz_content"};this.props.libraryActions.createLibraryItem(null,t)}handleAssignmentAddToLibrary(e){const t={item:{clone:!0,id:parseInt(e,10)},parent_id:null,type:"assignment"};this.props.libraryActions.createLibraryItem(null,t)}handleFileAddToLibrary(e){const t={item:{clone:!0,id:e},parent_id:null,type:"file"};this.props.libraryActions.createLibraryItem(null,t,R.a.ATTACHMENTS,null,this.props.currentUser)}handleAddLinkToLibrary(e,t){const a={item:{title:e,link_url:t},type:"link"};this.props.libraryActions.createLibraryItem(null,a,R.a.ATTACHMENTS,null,this.props.currentUser)}setActiveIndex(e){this.setState({activeIndex:e})}render(){const e=this.props,t=e.attachments,a=e.message,n=e.messageId,s=e.reactionId,i=e.profileAvatar,o=e.fullName,u=e.showRemove,h=e.displayName,m=e.creator,b=e.smallAvatar,y=e.currentUser,S=e.recipients,v=e.contentText,O=e.liked,w=e.accessToken,P=e.stream,R=e.streamName,x=e.handleLikeClick,D=e.handleFollowClick,F=e.handleReplyIconClick,U=e.handleDismissClick,B=e.handleReplyTextChange,G=e.handleReplySubmit,j=e.handleReplyDelete,z=e.isModal,H=e.handleReplyIconReset,V=e.trackingContext,te=e.toggleVideoAttachmentModal,ae=e.setCurrentVideoPosition,ne=e.autoPlayTrackingProperties,se=e.size,ie=e.showMosaic,oe=e.isInteractionsDisabled;let le=[],ce=[],de=0;const ue=Q.a.getAttachedLinks(t),he=Q.a.getAttachedFilesWithoutMedia(t),pe=Q.a.getAttachedMedia(t),me=Q.a.getAttachedQuizzes(t),ge=Q.a.getAttachedMultimediaItems(t),fe=Q.a.getAttachedAssignments(t),be=Q.a.getAttachedEmbeds(t),Ee=Q.a.getAttachedWorksheets(t),ye=Y.a.isStudent(this.props.currentUser),Se=Y.a.isTeacher(this.props.currentUser),ve=ge&&ge.size>0;ne&&(ne.is_from_modal=!1);const Ce=0,Ae=1,Ie=2,Te=3,ke=4,Oe=5,_e=6,Me=7,Ne=8,we=9,Pe=10;if(ge&&ge.size>0){let e=[];ge.forEach(t=>{const a=q.a.getId(t);e.push({id:a,multimediaItem:t,index:de++,key:a,orderBy:Ce,type:re.a.Type.MULTIMEDIA_ITEMS}),le.push(r.a.createElement(A.a,{key:a,multimediaItem:t,toggleModal:this.toggleModal,isModal:z,messageId:n,id:a}))}),ce=ce.concat(e)}if(pe.size>0){let e=[];pe.forEach(t=>{const a=K.a.getFileName(t),n=a&&a.substr(a.lastIndexOf(".")+1)||K.a.getType(t),r=Object(g.b)(n),s=K.a.getId(t),i=K.a.getSize(t),o=K.a.getType(t);let l=K.a.getViewUrl(t);const c=K.a.getS3Name(t),d=K.a.getThumbUrl(t);let u=K.a.getDownloadUrl(t);const h=t.get("creator_id");e.push({id:s,thumbUrl:Object(g.g)(r,!0)||d,fileName:a,fileSize:i,fileType:o,downloadUrl:u,viewUrl:l,s3Name:c,creatorId:h,index:de++,type:r,key:s,orderBy:r===E.a.VIDEO?Ie:Te})}),ve?(e=e.sort((e,t)=>e.orderBy-t.orderBy),ce=ce.concat(e),e.forEach((e,t)=>{e.index=t,le.push(r.a.createElement(l.a,Object.assign({toggleModal:this.toggleModal,isModal:z,messageId:n},e)))})):ie?(le.push(r.a.createElement(C,{key:"mediaMosaic_".concat(n),orderBy:Ae,mediaAttachmentList:e,toggleModal:this.toggleModal,isModal:z,messageId:n})),ce=ce.concat(e)):(e=e.sort((e,t)=>e.orderBy-t.orderBy),ce=ce.concat(e),e.forEach((e,t)=>{e.index=t,e.type===E.a.IMAGE?le.push(r.a.createElement(p,Object.assign({toggleModal:this.toggleModal,isModal:z,messageId:n},e))):e.type===E.a.VIDEO&&le.push(r.a.createElement(f,Object.assign({toggleModal:this.toggleModal,isModal:z,messageId:n},e)))}))}Ee&&Ee.forEach((e,t)=>{le.push(r.a.createElement(N.a,{key:"worksheet-".concat(t),orderBy:Ne,title:ee.a.getTitle(e),viewUrl:ee.a.getViewUrl(e),downloadUrl:ee.a.getDownloadUrl(e),thumbUrl:ee.a.getThumbUrl(e),messageId:n,id:ee.a.getId(e),resourceType:ee.a.getResourceType(e),googleType:ee.a.getGoogleDocType(e)}))}),t&&1===t.size&&ue&&1===ue.size?ue&&ue.forEach(e=>{le.push(r.a.createElement(k.a,{orderBy:ke,key:J.a.getId(e),id:J.a.getId(e),messageId:n,title:J.a.getTitle(e),url:J.a.getUrl(e),thumbUrl:J.a.getThumbUrl(e),size:se,googleType:ee.a.getGoogleDocType(e)}))}):ue&&ue.forEach(e=>{le.push(r.a.createElement(T.a,{orderBy:ke,key:J.a.getId(e),id:J.a.getId(e),messageId:n,title:J.a.getTitle(e),url:J.a.getUrl(e),thumbUrl:J.a.getThumbUrl(e),showRemove:u,handleDismissClick:U,handleAddLinkToLibrary:this.handleAddLinkToLibrary,isStudent:ye,isTeacher:Se,size:se,googleType:ee.a.getGoogleDocType(e)}))}),he&&he.forEach(e=>{const t=K.a.getFileName(e),a=t&&t.substr(t.lastIndexOf(".")+1)||K.a.getType(e),s=Object(g.b)(a),i=K.a.getId(e),o=K.a.getSize(e),c=K.a.getType(e);let d=K.a.getViewUrl(e);const h=K.a.getS3Name(e),p=K.a.getThumbUrl(e);let m=K.a.getDownloadUrl(e);const f=e.get("creator_id"),b={id:i,thumbUrl:Object(g.g)(s,!0)||p,fileName:t,fileSize:o,fileType:c,downloadUrl:m,viewUrl:d,s3Name:h,creatorId:f};s===E.a.AUDIO?le.push(r.a.createElement(M,Object.assign({orderBy:we,key:i,messageId:n,handleFileAddToLibrary:this.handleFileAddToLibrary,isStudent:ye,isTeacher:Se,size:se},b))):le.push(r.a.createElement(l.a,Object.assign({orderBy:Oe,key:i,messageId:n,index:de++,showRemove:u,handleDismissClick:U,isStudent:ye,isTeacher:Se,handleFileAddToLibrary:this.handleFileAddToLibrary,currentUser:y,size:se},b)))}),me&&me.forEach(e=>{const t=Z.a.getId(e)||Z.a.getNonNestedId(e);le.push(r.a.createElement(c.a,{orderBy:_e,key:t,id:t,messageId:n,title:Z.a.getTitle(e),questionsAmount:Z.a.getNumberOfQuestions(e),showRemove:u,handleQuizAddToLibrary:this.handleQuizAddToLibrary,handleDismissClick:U,isTeacher:Se}))}),fe&&fe.forEach(e=>{le.push(r.a.createElement(d.a,{orderBy:Me,key:X.a.getId(e),id:X.a.getId(e),messageId:n,title:X.a.getAssignmentTemplateTitle(e),showRemove:u,handleAssignmentAddToLibrary:this.handleAssignmentAddToLibrary,handleDismissClick:U,isTeacher:Se}))}),be&&be.forEach(e=>{le.push(r.a.createElement(I.a,{embed:e,orderBy:Pe,key:$.a.getId(e),id:$.a.getId(e),messageId:n,index:de++,content:$.a.getContent(e),creator:m,toggleVideoAttachmentModal:te,setCurrentVideoPosition:ae,trackingContext:V,autoPlayTrackingProperties:ne})),ce.push({orderBy:Pe,type:"embed",key:$.a.getId(e),title:$.a.getTitle(e),content:$.a.getContent(e)})}),le=le.sort((e,t)=>e.props.orderBy-t.props.orderBy),ie||(ce=ce.sort((e,t)=>e.orderBy-t.orderBy));const Re=le.slice(0,1),xe=le.slice(1),Le=le.length-1,De=this.state.showingMore;let Fe=null;const Ue=r.a.createElement(L.a,{weight:"quiet",iconColor:"blue-icon",qaSelector:"qa-test-more-button",onClick:this.toggleShowing,collapseLeft:!0,block:!0},1===Le&&r.a.createElement(_.default,{string:"post_stream,show_more_attachments_new,one",fallbackString:"+ 1 more attachment"}),Le>1&&r.a.createElement(_.default,{string:"post_stream,show_more_attachments_new,other",insertions:{count:Le},fallbackString:"+ %{count} more attachments"}));return De&&(Fe=r.a.createElement("div",{className:"AttachmentList__more more-list"},xe.map(e=>e))),r.a.createElement("div",{className:"AttachmentList attachment-list",id:n},r.a.createElement("div",{className:"mb-1"},le.length>0?Re.map(e=>e):null),Fe,r.a.createElement("div",{className:"py-2",style:{display:void 0===t||le.length<2?"none":"block"}},!De&&Ue),r.a.createElement(W,{isOpen:this.state.modalOpen,toggle:this.toggleModal,message:a,messageId:n,modalList:ce,displayName:h,smallAvatar:b,creator:m,currentUser:y,recipients:S,contentText:v,handleReplyIconClick:F,liked:O,accessToken:w,stream:P,streamName:R,handleLikeClick:x,handleFollowClick:D,handleReplyTextChange:B,handleReplySubmit:G,handleReplyDelete:j,handleReplyIconReset:H,reactionId:s,profileAvatar:i,fullName:o,trackingContext:V,activeAttachmentId:this.state.activeAttachmentId,isInteractionsDisabled:oe}))}}se.defaultProps={showMosaic:!0};t.a=Object(s.a)(Object(i.connect)((function(e,t){return{quizQuestions:ne.a(e)}}),(function(e){return{quizzesActions:Object(o.bindActionCreators)(te,e),libraryActions:Object(o.bindActionCreators)(ae,e)}}))(se))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(1323),o=a(1784);class l extends n.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.handleSelectFiles,a=e.disabled;return r.a.createElement(o.a,{disabled:a,handleSelectFiles:t,value:this.props.fileInputFieldValue})}}var c=Object(i.a)({})(l),d=a(1619),u=a(1707),h=a(24),p=a(509),m=a(14),g=a(38),f=a(73);t.a=Object(s.connect)((function(e,t){return{currentUser:f.c(e)}}))(Object(p.a)(({messageId:e,removeFile:t,attachedFilesChangeCb:a,attachedFilesBeginCb:n,toggleLinkAttachment:s,toggleLibraryModal:i,translate:o,currentUser:l,handleGifAttachmentPickerClick:p,attachments:f,filesInProgressAttaching:b})=>{const E=m.a.isStudent(l),y=m.a.isParent(l),S=g.a.hasAttachedMultimediaItems(f),v=g.a.hasAttachedFiles(f,b),C=g.a.hasAttachedLinks(f);return r.a.createElement("div",{className:"reply-attachment-buttons"},r.a.createElement(c,{messageId:e,name:"".concat(h.a.REPLY,"-").concat(e),removeFile:t,translate:o,fromWhere:"fromReplyButton",disabled:S,attachedFilesBeginCb:n,attachedFilesChangeCb:a}),!y&&r.a.createElement(d.a,{toggleLibraryModal:i,isStudent:E,translate:o,fromWhere:"fromReplyButton",disabled:S}),r.a.createElement(u.a,{key:"reply_gif_attachment_picker",onSelect:p,disabled:v||C}))}))},,function(e,t,a){"use strict";var n=a(15),r=a(4),s=a.n(r),i=a(133),o=a(1199),l=a(296),c=a(89),d=a(10);class u extends r.Component{constructor(e){super(e),this.redirectToLandingPage=this.redirectToLandingPage.bind(this)}redirectToLandingPage(){const e=this.props,t=e.doBeforeRedirect,a=e.children,n=e.history;t&&t(a),n.push(d.a.LANDING_PAGE)}render(){const e=this.props,t=e.children,a=e.authenticationStatus===c.a.LOGGED_OUT,r=s.a.Children.only(t);return r.props.onClick&&a?s.a.cloneElement(r,Object(n.a)({},r.props,{onClick:this.redirectToLandingPage})):r}}t.a=Object(i.connect)((function(e){return{authenticationStatus:l.a(e)}}))(Object(o.a)(u))},function(e,t,a){"use strict";var n=a(273),r=a(198),s=a(4),i=a.n(s),o=a(35),l=a.n(o),c=a(364);a(1675);t.a=function(e){let t=e.value,a=e.className,o=Object(r.a)(e,["value","className"]);const d=Object(s.useState)(0),u=Object(n.a)(d,2),h=u[0],p=u[1],m=Object(s.useRef)();return Object(s.useEffect)(()=>{p(m.current&&m.current.getBoundingClientRect().width||0)},[t]),i.a.createElement("div",{className:l()("__expandible-input",a)},i.a.createElement("span",{className:"__expandible-input-width",ref:m},t),i.a.createElement(c.D,Object.assign({className:"__expandible-input-text",style:{width:h},value:t},o)))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(134),o=a(364),l=a(515),c=a.n(l),d=a(35),u=a.n(d),h=a(1263),p=a(1484),m=a(1229),g=a(156),f=a(1461),b=a(1463),E=a(328);var y=({attachments:e,userType:t})=>{const a=E.a.getDisplayableAttachments(e);return a&&r.a.createElement("div",{className:"__quiz-questions-attachments-narrow"},r.a.createElement(f.a,{attachments:a,layout:b.a.COMPACT,layoutSmall:!0,userType:t,hideAltText:!0}))},S=a(1272),v=a(1270),C=a(1212),A=a(1206),I=a(1273),T=a(1274),k=(a(1265),a(1203)),O=a.n(k);class _ extends n.Component{constructor(e){super(e),this.state={selectedAnswer:e.userAnswer,selectedAnswers:e.multiAnswer&&this.setMultipleAnswers()},this.selectChoice=this.selectChoice.bind(this)}setMultipleAnswers(){const e=this.props,t=e.choices,a=e.answers,n=t&&t.size||0,r=Array(n).fill(!1);if(a)for(let s=0;s<n;s++)a.size>s&&!0===a.get(s)&&(r[s]=!0);return r}selectChoice(e){const t=this.state.selectedAnswer;this.props.trueFalse&&(e=0===e),t!==e&&(this.setState({selectedAnswer:e}),this.props.onChange&&this.props.onChange({simplified_answer:e}))}toggleChoice(e){const t=this.state.selectedAnswers.slice();t[e]=!t[e],this.setState({selectedAnswers:t}),this.props.onChange&&this.props.onChange({simplified_answer:t})}toLetter(e){return String.fromCharCode(64+e%27)}renderChoice(e,t,a=!0){const n=this.state,s=n.selectedAnswer,i=n.selectedAnswers,o=this.props,l=o.answerAttachments,c=o.correctAnswer,d=o.reviewMode,h=o.trueFalse,p=o.multiAnswer,b=o.viewMode,y=o.correctAnswers;let k,_,M,N,w,P=c,R=s;h&&(void 0!==c&&(P=!0===c?0:1),void 0!==s&&(R=!0===s?0:1)),p?(k=b?y.get(t):i[t],w=d||b?null:()=>this.toggleChoice(t),_=d&&i[t]===y.get(t),M=d&&!_,N=k?r.a.createElement(T.default,{className:"__quiz-multi-check",color:O.a.gray[30]}):r.a.createElement(I.default,{className:"__quiz-multi-check qa-test-takeQuizPage-quizMultiCheck",color:O.a.gray[30]})):(k=b?P===t:void 0!==R&&R===t,w=d||b?null:()=>this.selectChoice(t),_=!b&&P===t,M=d&&k&&P!==t,N=k?r.a.createElement(S.default,{size:24,className:"__quiz-radio-button",color:O.a.gray[80]}):r.a.createElement(v.default,{size:24,className:"__quiz-radio-button",color:O.a.gray[60]}));let x=null;_?x=r.a.createElement(C.default,{className:"qa-test-quiz-correct-icon __quiz-icon __quiz-icon-correct",viewBox:"2 2 20 20",color:O.a.white[0]}):M&&(x=r.a.createElement(A.default,{className:"qa-test-quiz-incorrect-icon __quiz-icon __quiz-icon-incorrect",viewBox:"2 2 20 20",color:O.a.white[0]}));const L=E.a.getLibraryDisplayableAttachment(l&&l.get(t)),D=u()("__multiple-choice","qa-test-quizTake-multiChoiceSelect",{"__can-edit":!d&&!b,"__selected-choice":k,"__correct-choice":_,"__wrong-choice":M,"__multiple-choice-attachments":L});e=h?0===t?r.a.createElement(g.default,{string:"choice-true",fallback:"True"}):r.a.createElement(g.default,{string:"choice-false",fallback:"False"}):r.a.createElement(m.a,null,e);const F=u()({"__selected-choice":k,"__correct-choice":_,"__wrong-choice":M});return r.a.createElement("div",{key:t,className:"choice-container"},r.a.createElement("div",{key:t,className:D,onClick:w},N,a&&r.a.createElement("span",{className:"__choice-count"},this.toLetter(t+1),"."),r.a.createElement("p",null,e),x),r.a.createElement("div",{className:F},r.a.createElement(f.a,{attachments:L,layout:"slim",showCounter:!1,maxVisible:0,layoutSmall:!0,userType:"student",dragAndDropMessage:!1,hideAltText:!0})))}render(){const e=this.props,t=e.question,a=e.choices,n=e.questionAttachments,s=e.userType;let i;return i=e.trueFalse?[this.renderChoice(null,0,!1),this.renderChoice(null,1,!1)]:a&&a.size&&a.valueSeq().map((e,t)=>this.renderChoice(e,t)),r.a.createElement("div",{className:"__quiz-questions"},r.a.createElement("div",{className:"__quiz-questions-content"},r.a.createElement("p",{className:"__quiz-questions-narrow __multichoice-text"},r.a.createElement(m.a,null,t)),r.a.createElement(y,{attachments:n,userType:s})),i)}}_.defaultProps={trueFalse:!1,multiAnswer:!1,answer:void 0,answers:void 0,correct:void 0,choices:null};var M=_;var N=e=>r.a.createElement(M,Object.assign({trueFalse:!0},e)),w=a(29),P=a(509);class R extends n.Component{constructor(e){super(e),this.state={answer:e.userAnswer},this.handleAnswerChange=this.handleAnswerChange.bind(this),this._debouncedOnChange=e.onChange&&c()(e.onChange,300)}componentWillUnmount(){this._debouncedOnChange&&this._debouncedOnChange.cancel()}handleAnswerChange(e){this.setState({answer:e.target.value}),this._debouncedOnChange&&this._debouncedOnChange({simplified_answer:e.target.value})}renderAnswer(){const e=this.props,t=e.review,a=e.reviewMode,n=this.state.answer,s=this.props.translate("type-your-response","Type your response here...");if(t||a){const e=u()("__short-answer","__short-answer-review","__short-answer-".concat(t));let a;switch(t){case w.a.Review.CORRECT:a=r.a.createElement(C.default,{className:"qa-test-quiz-correct-icon __quiz-icon __quiz-icon-correct",viewBox:"2 2 20 20",color:O.a.white[0]});break;case w.a.Review.PARTIAL:a=r.a.createElement(C.default,{className:"qa-test-quiz-partially-correct-icon __quiz-icon __quiz-icon-partially_correct",viewBox:"2 2 20 20",color:O.a.white[0]});break;case w.a.Review.INCORRECT:a=r.a.createElement(A.default,{className:"qa-test-quiz-incorrect-icon __quiz-icon __quiz-icon-incorrect",viewBox:"2 2 20 20",color:O.a.white[0]})}return r.a.createElement("div",{className:e},r.a.createElement("p",null,n),r.a.createElement("div",null,a))}return r.a.createElement(o.D,{className:"__short-answer qa-test-quizTake-shortAnswerInput",value:n||"",onChange:this.handleAnswerChange,type:"textarea",placeholder:s,rows:"4"})}render(){const e=this.props,t=e.question,a=e.questionAttachments,n=e.userType,s=e.viewMode;return r.a.createElement("div",{className:"__quiz-questions"},r.a.createElement("div",{className:"__quiz-questions-content"},s&&r.a.createElement("h4",{className:"__short-answer-view-title"},r.a.createElement(g.default,{string:"short-answer",fallback:"Short Answer"})),r.a.createElement("p",{className:"__quiz-questions-narrow __short-answer-text"},r.a.createElement(m.a,null,t)),r.a.createElement(y,{attachments:a,userType:n}),!s&&this.renderAnswer()))}}R.defaultProps={userAnswer:void 0,review:void 0};var x=Object(P.a)(R),L=a(1667);class D extends n.Component{constructor(e){super(e),this.state={inputValues:this.setInputValues()},this.handleInputChange=this.handleInputChange.bind(this),this._debouncedOnChange=e.onChange&&c()(e.onChange,300)}componentWillUnmount(){this._debouncedOnChange&&this._debouncedOnChange.cancel()}setInputValues(){const e=this.props,t=e.text,a=e.userAnswer,n=t&&t.split(/(\[math\].*?\[\/math\])|(_+)/);let r=[],s=0;return n&&n.forEach(e=>{e&&"_"===e[0]&&r.push((e=>a&&a.get(e)||"")(s++))}),r}handleInputChange(e,t){let a=this.state.inputValues.slice();a[t]=e.target.value;const n=a.map(e=>e&&e.trim());this.setState({inputValues:a}),this._debouncedOnChange&&this._debouncedOnChange({simplified_answer:n})}renderInputAnswer(e){const t=this.state.inputValues,a=this.props,n=a.correctAnswers,s=a.reviewMode,i=a.viewMode;if(s){const a=n&&n.size>e?n.get(e):null,s=a.toLowerCase()===t[e].toLowerCase(),i="__fill-blanks-review "+(a?"__fill-blanks-".concat(s?"correct":"incorrect"):"");let o;return o=s?r.a.createElement(C.default,{className:"qa-test-quiz-correct-icon __quiz-icon __quiz-icon-correct",viewBox:"2 2 20 20",color:O.a.white[0]}):r.a.createElement(A.default,{className:"qa-test-quiz-incorrect-icon __quiz-icon __quiz-icon-incorrect",viewBox:"2 2 20 20",color:O.a.white[0]}),r.a.createElement("div",{className:i,key:"_fill_blanks_answers_".concat(e)},r.a.createElement("div",{className:"__fill-blanks-review-answer"},r.a.createElement("span",null,t[e]),r.a.createElement("div",null,o)),!s&&a&&r.a.createElement("p",null,a))}{const a=t=>this.handleInputChange(t,e),s=i?n&&n.get(e):t[e];return r.a.createElement(L.a,{className:"__fill-blanks-input qa-test-quizTake-fillBlanksText",key:"_fill_blanks_".concat(e),value:s,onChange:a,disabled:i})}}renderBlanks(){const e=this.props.text,t=e&&e.split(/(\[math\].*?\[\/math\])|(_+)/);let a=0;return t&&t.map(e=>e?"_"===e[0]?this.renderInputAnswer(a++):r.a.createElement(m.a,{key:"_text_".concat(a)},e):"")}render(){const e=this.props,t=e.questionAttachments,a=e.userType;return r.a.createElement("div",{className:"__quiz-questions"},r.a.createElement("div",{className:"__fill-blanks __quiz-questions-narrow"},r.a.createElement("h4",{className:"__fill-blanks-title"},r.a.createElement(g.default,{string:"fill-in-the-blanks",fallback:"Fill in the blanks"})),r.a.createElement("div",{className:"__fill-blanks-text"},this.renderBlanks()),r.a.createElement(y,{attachments:t,userType:a})))}}var F=D,U=a(1218),B=a(1626),G=a.n(B),j=a(1234);const z={beginDrag:e=>({id:e.id})};class q extends n.Component{render(){const e=this.props,t=e.text,a=e.isOver,n=e.highlight,s=e.reviewMode,i=e.connectDragSource,o=e.viewMode,l=u()("__matching-bubbles","__matching-choice","qa-test-quizTake-matchingCoice",{"__matching-choice-highlight":n,"__matching-choice-hover":a,"__matching-choice-disabled":s||o}),c=r.a.createElement(j.default,{color:O.a.gray[30]}),d=r.a.createElement("div",{className:l},r.a.createElement("div",null,c),r.a.createElement("span",null,r.a.createElement(m.a,null,t)));return s||o?d:i(d)}}var H=Object(U.DragSource)("quiz-matching",z,(function(e){return{connectDragSource:e.dragSource()}}))(q);const V={drop(e,t){if(t.didDrop())return;const a=t.getItem();e.handleDrop(e.id,a.id)}};class W extends n.Component{renderChoice(){const e=this.props,t=e.text,a=e.choiceId,n=this.props,s=n.isOver,i=n.canDrop,o=n.connectDropTarget,l=n.viewMode,c=l?q:H,d=!s&&i,h=u()("__matching-bubbles","__matching-pick","qa-test-quizTake-matchingDrop",{"__matching-pick-highlight":d,"__matching-pick-hover":s}),p=void 0!==a?r.a.createElement("div",{className:"__matching-selected qa-test-quizTake-matchingDrop"},r.a.createElement(c,{id:a,text:t,isOver:s,highlight:d,viewMode:l})):r.a.createElement("div",{className:h},"\xa0");return l?p:o(p)}renderReview(){const e=this.props,t=e.text,a=e.review,n=t===a,s="__matching-bubbles __matching-review __matching-".concat(n?"correct":"incorrect"),i=n?r.a.createElement(C.default,{className:"qa-test-quiz-correct-icon __quiz-icon __quiz-icon-correct",viewBox:"2 2 20 20",color:O.a.white[0]}):r.a.createElement(A.default,{className:"qa-test-quiz-incorrect-icon __quiz-icon __quiz-icon-incorrect",viewBox:"2 2 20 20",color:O.a.white[0]});return r.a.createElement("div",{className:s},r.a.createElement("div",{className:"qa-test-matching-review-answer __matching-review-answer"},t&&r.a.createElement(j.default,{color:O.a.gray[30]}),r.a.createElement("span",{className:"qa-test-answer-text answer-text"},r.a.createElement(m.a,null,t)),i),!n&&r.a.createElement("p",{className:"correct-answer-text"},r.a.createElement(m.a,null,a)))}render(){return this.props.reviewMode?this.renderReview():this.renderChoice()}}var Q=Object(U.DropTarget)("quiz-matching",V,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))(W);const Y={drop(e,t){if(t.didDrop())return;const a=t.getItem();e.handleDrop(null,a.id)}};class K extends n.Component{render(){const e=this.props,t=e.children,a=e.reviewMode,n=this.props.connectDropTarget,s=r.a.createElement("div",{className:"__matching-choices-drop qa-test-quizTake-matchingEmptyDrop"},t);return a?s:n(s)}}var J=Object(U.DropTarget)("quiz-matching",Y,(function(e){return{connectDropTarget:e.dropTarget()}}))(K);class Z extends n.Component{constructor(e){super(e),this.state=this.initialState(),this.handleDrop=this.handleDrop.bind(this)}initialState(){const e=this.props,t=e.choices,a=e.answers,n=[],r=a&&a.toJS()||[];return t&&t.forEach(e=>{const t=r&&r.indexOf(e);-1!==t&&(r[t]=null),n.push({text:e,selected:t>=0?t:null})}),{availableChoices:n}}handleDrop(e,t){const a=this.props.options,n=this.state.availableChoices.slice(),r=n.findIndex(t=>t.selected===e&&null!==e);r>=0&&(n[r].selected=null),n[t].selected=e,this.setState({availableChoices:n});let s=[];for(let i=0;i<a.size;i++)t=n.find(e=>e.selected===i),s.push(t&&t.text||"");this.props.onChange&&this.props.onChange({simplified_answer:s})}renderOptions(){const e=this.props,t=e.options,a=e.reviewMode,n=e.viewMode,s=e.correctAnswers,i=this.state.availableChoices,o=n||a?W:Q;return t&&t.map((e,t)=>{let l=void 0,c=void 0;const d=i.findIndex(e=>e.selected===t);n?(l=t,c=s&&s.get(t)):d>=0&&(l=d,c=i[d].text);const u=s&&s.get(t);return r.a.createElement("div",{className:"qa-test-matching-options __matching-options-picks",key:t},r.a.createElement("div",{className:"__matching-bubbles __matching-option"},r.a.createElement(m.a,null,e||r.a.createElement("span",null,"\xa0"))),r.a.createElement("div",{className:"__matching-delimiter"}),r.a.createElement(o,{id:t,handleDrop:this.handleDrop,choiceId:l,text:c,review:u,reviewMode:a,viewMode:n}))})}renderChoices(){const e=this.props.reviewMode,t=this.state.availableChoices,a=[],n=e?q:H;return t&&t.forEach((t,s)=>{null===t.selected&&a.push(r.a.createElement(n,{key:s,id:s,text:t.text,reviewMode:e}))}),a}renderViewAdditionalAnswers(){const e=this.props.options,t=this.state.availableChoices;if(!t||!e||t.length<=e.size)return null;const a=t.slice(e.size);return r.a.createElement("div",{className:"__matching-view-additional-answers"},r.a.createElement("h2",null,r.a.createElement(g.default,{string:"additional-answers",fallback:"Additional Answers"})),a.map((e,t)=>r.a.createElement("div",{key:t},r.a.createElement("div",{className:"__matching-option __matching-bubbles"},r.a.createElement(m.a,null,e.text)))),r.a.createElement("h3",{className:"wide"},r.a.createElement(g.default,{string:"additional-answers-matching-view-description",fallback:"Additional answers are provided to increase the difficulty of a matching question."})))}render(){const e=this.props,t=e.question,a=e.questionAttachments,n=e.userType,s=e.viewMode,i=e.reviewMode,o=i?K:J;return r.a.createElement("div",{className:"__quiz-questions"},r.a.createElement("p",{className:"__quiz-questions-narrow __matching-text"},r.a.createElement(m.a,null,t)),r.a.createElement("div",{className:"__matching-container"},r.a.createElement("div",{className:u()("__matching-options",{"__matching-options-view-mode":s})},!s&&r.a.createElement(g.default,{paragraph:!0,string:"drag-answer-matching",fallback:"Drag and drop answer choices to their matching answer."}),this.renderOptions()),!s&&r.a.createElement("div",{className:"__matching-choices"},r.a.createElement(g.default,{paragraph:!0,string:"answer-choices",fallback:"Answer Choices:"}),r.a.createElement(o,{handleDrop:this.handleDrop,reviewMode:i},this.renderChoices()))),s&&this.renderViewAdditionalAnswers(),r.a.createElement(y,{attachments:a,userType:n}))}}var X=Object(U.DragDropContext)(G.a)(Z),$=a(1213),ee=a(1216),te=a(436),ae=a(36);var ne=e=>r.a.createElement(M,Object.assign({multiAnswer:!0},e));class re extends n.Component{constructor(e){super(e),this.state={inputComments:null,pointsError:!1,commentStatus:null},e.gradingMode&&e.userAnswer&&(this.state.inputComments=ee.a.getUserAnswerComment(e.userAnswer),this.state.shortAnswerCorrect="correct"===e.userAnswer.get("status"),this.state.shortAnswerIncorrect="incorrect"===e.userAnswer.get("status"),this.state.shortAnswerPartial="partially_correct"===e.userAnswer.get("status"),this.state.inputGrade="partially_correct"===e.userAnswer.get("status")&&e.userAnswer.get("points"),this.state.shortAnswerCorrect?this.state.initialGrade=ee.a.getQuestionPoints(e.question):this.state.shortAnswerIncorrect?this.state.initialGrade=0:this.state.initialGrade=this.state.inputGrade||0),this.updateOrCreateUserAnswer=this.updateOrCreateUserAnswer.bind(this),this.handleInputComments=this.handleInputComments.bind(this),this.handleInputGrade=this.handleInputGrade.bind(this),this.setAnswerCorrect=this.setAnswerCorrect.bind(this),this.setAnswerIncorrect=this.setAnswerIncorrect.bind(this),this.setAnswerPartial=this.setAnswerPartial.bind(this),this.handleBlurGrade=this.handleBlurGrade.bind(this),this.handleFocusGrade=this.handleFocusGrade.bind(this),this._debouncedUpdateSubmissionAnswer=c()(this.updateSubmissionAnswer,300)}componentWillUnmount(){this._debouncedUpdateSubmissionAnswer.cancel()}renderQuestion(){const e=this.props,t=e.question,a=e.reviewMode,n=e.gradingMode,s=e.userType,i=e.userAnswer,o=e.viewMode,l=ee.a.getQuestionId(t),c=ee.a.getQuestionText(t),d=ee.a.getQuestionAttachments(t);let u=ee.a.getQuestionChoices(t);const h=ee.a.getQuestionAnswers(t),p=h&&h.size&&ee.a.getAnswerChoices(h.get(0)),m=ee.a.getSimplifiedAnswer(i),g=a?ee.a.getUserAnswerReviewStatus(i):void 0,f=o||a?ee.a.getCorrectAnswer(t):void 0;let b=o||a?ee.a.getCorrectAnswers(t):void 0;const E=o||a?ee.a.getSelectedAnswers(t):void 0,y=t.get("answer_attachments");b&&b.size>1&&null===b.get(0)&&(b=b.delete(0)),u&&u.size>1&&null===u.get(0)&&(u=u.delete(0));const S=o||a?Z:X;switch(ee.a.getQuestionType(t)){case"true_false":return r.a.createElement(N,{key:l,question:c,questionAttachments:d,userType:s,onChange:this.updateOrCreateUserAnswer,choices:u,userAnswer:m,correctAnswer:f,reviewMode:a,viewMode:o});case"short_answer":{const e=r.a.createElement(x,{key:l,question:c,questionAttachments:d,userType:s,onChange:this.updateOrCreateUserAnswer,userAnswer:m,review:g,reviewMode:a,viewMode:o});return n&&i?r.a.createElement(r.a.Fragment,null,e,this.renderShortAnswerGrading()):e}case"fill_in_blank":return r.a.createElement(F,{key:l,onChange:this.updateOrCreateUserAnswer,text:c,questionAttachments:d,userType:s,userAnswer:m,correctAnswers:b,reviewMode:a,viewMode:o});case"matching":return r.a.createElement(S,{key:l,question:c,options:u,questionAttachments:d,userType:s,choices:ee.a.getCorrectAnswers(t),correctAnswers:b,answers:m,onChange:this.updateOrCreateUserAnswer,reviews:p,reviewMode:a,viewMode:o});case"multi_choice":return r.a.createElement(M,{key:l,question:c,questionAttachments:d,answerAttachments:y,userType:s,onChange:this.updateOrCreateUserAnswer,choices:u,userAnswer:m,correctAnswer:f,reviewMode:a,viewMode:o});case"multi_answer":return r.a.createElement(ne,{key:l,question:c,questionAttachments:d,answerAttachments:y,userType:s,onChange:this.updateOrCreateUserAnswer,choices:u,answers:m,correctAnswers:E,reviewMode:a,viewMode:o});default:return null}}updateSubmissionAnswer(e,t=!1){const a=this.props,n=a.quizSubmissionActions,r=a.submission,s=a.activeQuestion,i=a.userAnswer,o=a.question,l=this.state.initialGrade;let c=null;const d=ee.a.getQuestionPoints(o);if(t){let t=0;!0===e.is_correct?t=d:!1===e.is_correct?t=0:e.points>=0&&(t=e.points),c=t-l,this.setState({initialGrade:t})}"saved"===this.state.commentStatus&&e.comment&&this.setState({commentStatus:"saving"}),n.updateSubmissionAnswer(r.getIn(["creator","id"]),s-1,i.get("id"),e,c,d).then(()=>{void 0!==e.comment&&this.setState({commentStatus:e.comment?"saved":null})}).catch(e=>ae.a.notifyBugsnag(e,"QuizQuestion.updateSubmissionAnswer"))}updateOrCreateUserAnswer(e){const t=this.props,a=t.quiz,n=t.question,r=t.quizOverviewActions,s=ee.a.getRawId(a),i=ee.a.getQuestionId(n);r.updateOrCreateUserAnswer(s,i,e)}setAnswerCorrect(){this.props.deleteInProgress||this.state.shortAnswerCorrect||(this.setState({shortAnswerCorrect:!0,shortAnswerIncorrect:!1,shortAnswerPartial:!1}),this._debouncedUpdateSubmissionAnswer({is_correct:!0},!0))}setAnswerIncorrect(){this.props.deleteInProgress||this.state.shortAnswerIncorrect||(this.setState({shortAnswerIncorrect:!0,shortAnswerCorrect:!1,shortAnswerPartial:!1}),this._debouncedUpdateSubmissionAnswer({is_correct:!1},!0))}setAnswerPartial(){this.props.deleteInProgress||this.state.shortAnswerPartial||this.setState({shortAnswerPartial:!0,shortAnswerIncorrect:!1,shortAnswerCorrect:!1,inputGrade:null})}handleInputComments(e){const t=e.target.value;this.setState({inputComments:t}),this._debouncedUpdateSubmissionAnswer({comment:t})}handleInputGrade(e){const t=e.target.value.substring(0,4),a=null===t||""===t.trim()||isNaN(t)||parseFloat(t)<=0;this.setState({inputGrade:t,pointsError:a}),a||this._debouncedUpdateSubmissionAnswer({points:parseFloat(t)||0},!0)}handleFocusGrade(){!this.state.partialGradeFocused&&this.setState({partialGradeFocused:!0})}handleBlurGrade(){this.state.partialGradeFocused&&this.setState({partialGradeFocused:!1})}renderShortAnswerGrading(){const e=this.state,t=e.shortAnswerCorrect,a=e.shortAnswerIncorrect,n=e.shortAnswerPartial,s=e.pointsError,i=e.inputGrade,l=e.partialGradeFocused,c=this.props,d=c.deleteInProgress,h=c.question,p=ee.a.getQuestionPoints(h);return r.a.createElement("div",{className:"grading-short-answer"},r.a.createElement("div",{className:u()("option-bubble qa-test-quizGrade-setCorrect",{"option-selected correct-selected":t}),onClick:this.setAnswerCorrect},r.a.createElement(C.default,{className:"option-icon",size:18,color:t?O.a.green[70]:O.a.gray[3]}),r.a.createElement(g.default,{paragraph:!0,string:"grading-correct",fallback:"Correct"})),r.a.createElement("div",{className:u()("option-bubble qa-test-quizGrade-setIncorrect",{"option-selected incorrect-selected":a}),onClick:this.setAnswerIncorrect},r.a.createElement(A.default,{className:"option-icon",size:18,color:a?O.a.red[80]:O.a.gray[3]}),r.a.createElement(g.default,{paragraph:!0,string:"grading-incorrect",fallback:"Incorrect"})),r.a.createElement("div",{className:u()("option-bubble qa-test-quizGrade-setPartial",{"option-selected partial-selected":n}),onClick:this.setAnswerPartial},r.a.createElement(C.default,{className:"option-icon",size:18,color:n?O.a.gold[60]:O.a.gray[3]}),r.a.createElement(g.default,{paragraph:!0,string:"grading-partial-credit",fallback:"Partial Credit"})),n&&r.a.createElement("div",{className:u()("partial-grade-input",{"grade-focused":l,"points-error":s,"points-error-focused":s&&l})},r.a.createElement(o.D,{className:"partial-points qa-test-quizGrade-partialPointsInput",autoFocus:!0,value:i||"",onChange:this.handleInputGrade,disabled:d,onBlur:this.handleBlurGrade,onFocus:this.handleFocusGrade}),p&&r.a.createElement(r.a.Fragment,null,"/ ",p," ")))}renderGradingComments(){const e=this.state,t=e.inputComments,a=e.commentStatus,n=this.props.studentName;return r.a.createElement("div",{className:"grading-comments question-section"},r.a.createElement(g.default,{paragraph:!0,string:"comments",fallback:"Comments"}),r.a.createElement(o.D,{className:"comments-input qa-test-quizGrade-teacherCommentsInput",value:t||"",onChange:this.handleInputComments,type:"textarea",rows:"2",disabled:this.props.deleteInProgress}),r.a.createElement("p",{className:u()("comment-sent",{"comment-sent-visible":a})},"saved"===a?r.a.createElement(g.default,{string:"your-comment-has-been-added",fallback:"Your comment has been added to %{student}'s quiz results.",insertions:{student:n}}):r.a.createElement(g.default,{string:"saving",fallback:"Saving..."})))}renderTeacherComments(){const e=ee.a.getQuestionUserAnswer(this.props.question),t=ee.a.getUserAnswerComment(e);return t&&r.a.createElement("div",{className:"teacher-comments qa-test-quizReview-teacherComments"},r.a.createElement("h4",null,r.a.createElement(g.default,{string:"teachers-comments",fallback:"Teacher's Comments"})),r.a.createElement("p",null,t))}render(){const e=this.props,t=e.question,a=e.reviewMode,n=e.userAnswer,s=e.gradingMode,i=e.viewMode,l=ee.a.getUserAnswerReviewStatus(n),c=ee.a.getUserAnswerPoints(n),d=ee.a.getQuestionPoints(t);return t?r.a.createElement(o.u,{className:"quiz-question"},r.a.createElement("div",{className:"navigation question-section"},r.a.createElement("div",{className:"title"},r.a.createElement("h3",null,r.a.createElement(g.default,{string:"question-x",fallbackString:"Question %{question_number}",insertions:{question_number:this.props.activeQuestion}})),r.a.createElement("span",null,a?"ungraded"!==l?r.a.createElement(g.default,{string:"y-of-x-points",fallbackString:"%{points} / %{total_points} points",insertions:{points:te.a(c||0,2),total_points:te.a(d||0,2)}}):r.a.createElement(g.default,{string:"ungraded-of-x-points",fallbackString:"ungraded / %{total_points} points",insertions:{total_points:te.a(d||0,2)}}):r.a.createElement(g.default,{string:"total-points",fallbackString:"%{smart_count} points",insertions:{smart_count:d||0}}))),!i&&r.a.createElement("div",{className:"navigation-buttons"},r.a.createElement($.a,{className:"qa-test-quiz-gotoNext",onClick:this.props.handleGoToPrevious,disabled:this.props.isFirst},r.a.createElement(g.default,{string:"previous-btn",fallback:"Previous"})),r.a.createElement($.a,{className:"qa-test-quiz-gotoPrevious",onClick:this.props.handleGoToNext,disabled:this.props.isLast},r.a.createElement(g.default,{string:"admin_pages,next",fallback:"Next"})))),r.a.createElement("div",{className:"content question-section"},this.renderQuestion(),this.renderTeacherComments()),s&&n&&this.renderGradingComments()):null}}t.a=Object(s.connect)(null,(function(e){return{quizOverviewActions:Object(i.bindActionCreators)(h,e),quizSubmissionActions:Object(i.bindActionCreators)(p,e)}}))(re)},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(375),i=a(77),o=a(99),l=a(156);a(1690);const c=({show:e,messageForDevs:t,children:a,className:n})=>{const c=a||r.a.createElement(l.default,{string:"network-error-message",fallbackString:"A temporary network error has occurred. Try again or %{action-begin}click here%{action-end} to refresh this page.",actions:()=>i.a.refreshCurrentPage()});return r.a.createElement(s.CSSTransition,{in:e,timeout:400,classNames:"__error-message-transition"},r.a.createElement("div",{className:"__error-message ".concat(n)},c,o.a.isLocalDev()&&t?r.a.createElement("em",null,r.a.createElement("p",{className:"__error-message-for-devs"},r.a.createElement("strong",null,"FOR DEVS")," ",t)):""))};c.defaultProps={children:null,className:"",show:!1},t.a=c},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(9),r=a(1),s=a(28);const i=Object(n.createSelector)([s.tb],e=>e&&e.get(r.a.CURRENT_USER_RECIPIENTS)),o=Object(n.createSelector)([s.tb],e=>e&&e.get(r.a.CURRENT_USER_COMPACT_RECIPIENTS)),l=Object(n.createSelector)([s.tb],e=>e&&e.get(r.a.NOTE_COMPOSER_RECIPIENTS_FETCHED))},function(e,t,a){},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1199),i=a(134),o=a(133),l=a(364),c=a(73),d=a(1232),u=a(1283),h=a(77),p=a(509),m=a(1263),g=a(1484),f=a(1216),b=a(1668),E=a(156),y=a(527),S=a.n(y);class v extends n.Component{static translationFiles(){return["common","profile_page","quiz","assignment"]}componentDidMount(){const e=this.props,t=e.quizContentsId,a=e.quizOverviewActions;t&&(a.clearQuizContents(t),a.editQuizFetchContents(t))}renderQuestion(e,t){return r.a.createElement(b.a,{key:t,question:e,activeQuestion:t+1,userType:"teacher",viewMode:!0})}renderQuestions(){const e=this.props,t=e.quizContents;if(e.quizFetchError)return r.a.createElement(E.default,{string:"network-request-error",fallback:"There was a problem with your request. Please refresh this page to try again."});if(!t)return r.a.createElement("div",{className:"quiz-loading",ref:this.gridRef},r.a.createElement("img",{alt:"",className:"spinner",src:S.a}),r.a.createElement("p",null,r.a.createElement(E.default,{string:"loading-ellipsis",fallback:"Loading..."})));const a=f.a.getQuizQuestions(t);return a&&a.map((e,t)=>this.renderQuestion(e,t))}render(){return r.a.createElement("div",{className:"__quiz-question-container __quiz-question-container-preview"},this.renderQuestions())}}var C=Object(o.connect)((function(e,t){return{quizContents:d.c(e,t.quizContentsId),quizFetchError:d.d(e)}}),(function(e){return{quizOverviewActions:Object(i.bindActionCreators)(m,e),quizSubmissionActions:Object(i.bindActionCreators)(g,e)}}))(Object(p.a)(v)),A=(a(1698),a(1527)),I=a(1528),T=a(1531);class k extends n.Component{constructor(e){super(e),this.state={assignModalOpen:!1,recipients:null,isAssignModalOpen:!1},this.handleQuizEdit=this.handleQuizEdit.bind(this),this.handleTypeAhead=this.handleTypeAhead.bind(this),this.handleToggleAssignModal=this.handleToggleAssignModal.bind(this),this.handleCloseAssignModal=this.handleCloseAssignModal.bind(this),this.handleOnAssigned=this.handleOnAssigned.bind(this)}static translationFiles(){return["common","group","quiz"]}handleQuizEdit(){const e=this.props,t=e.history,a=e.pageNavActions,n=e.quizContentsId,r=h.a.makeQuizEditUrl(n);r&&(a&&a.storeNewPageDestinationAction(t.location.pathname),t.push(r))}handleToggleAssignModal(){this.setState({isAssignModalOpen:!this.state.isAssignModalOpen})}handleCloseAssignModal(){this.setState({isAssignModalOpen:!1})}handleTypeAhead(e){this.setState({recipients:e})}handleOnAssigned(){const e=this.props.onAssigned;this.handleCloseAssignModal(),e&&e()}renderQuizDetails(){const e=this.props.quizContents;if(!e)return null;const t=e.get("total_points"),a=e.get("questions")&&e.get("questions").size,n=e.get("time_limit"),s=e.get("description"),i=s?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,r.a.createElement(E.default,{string:"description",fallback:"Description"})),r.a.createElement("p",null,s)):null;return r.a.createElement("div",{className:"quiz-overview-container"},i,r.a.createElement("div",{className:"quiz-overview-details"},r.a.createElement(E.default,{string:"num-questions",fallbackString:"%{smart_count} questions",insertions:{smart_count:a||0}})," \u2022 ",r.a.createElement(E.default,{string:"total-points",fallbackString:"%{smart_count} points",insertions:{smart_count:t||0}})," \u2022 ",r.a.createElement(E.default,{string:"time-limit-minutes",fallbackString:"%{smart_count} minutes",insertions:{smart_count:n/60||0}})))}renderQuizModal(){const e=this.state.isAssignModalOpen,t=this.props,a=t.validQuiz,n=t.quizContentsId,s=t.title;return a?r.a.createElement(A.a,{isOpen:e,quizContentsId:n,title:s,toggle:this.handleCloseAssignModal,onAssigned:this.handleOnAssigned,loadQuizContents:!0},r.a.createElement(I.a,null)):r.a.createElement(T.a,{isOpen:e,toggle:this.handleCloseAssignModal,onEdit:this.handleQuizEdit})}render(){let e=this.props,t=e.quizContentsId,a=e.isOpen,n=e.toggle,s=e.title,i=e.assignQuiz,o=e.hideFooterActions;return i||(i=this.handleToggleAssignModal),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.M,{className:"__quiz-view-modal",isOpen:a,toggle:n,size:"lg"},r.a.createElement(l.P,{className:"__quiz-view-modal-header",toggle:n},s||r.a.createElement(E.default,{string:"untitled-quiz",fallback:"Untitled Quiz"})),r.a.createElement(l.N,null,this.renderQuizDetails(),r.a.createElement(C,{quizContentsId:t})),r.a.createElement(l.O,null,!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.c,{color:"primary",className:"qa-test-quizView-edit",onClick:this.handleQuizEdit},r.a.createElement(E.default,{string:"edit",fallback:"Edit"})),r.a.createElement(l.c,{color:"primary",className:"qa-test-quizView-assign",onClick:i},r.a.createElement(E.default,{string:"assign",fallback:"Assign"}))))),this.renderQuizModal())}}t.a=Object(s.a)(Object(o.connect)((function(e,t){return{currentUser:c.c(e),quizContents:d.c(e,t.quizContentsId)}}),(function(e){return{pageNavActions:Object(i.bindActionCreators)(u,e)}}))(Object(p.a)(k)))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(4)),r=g(a(2)),s=a(242),i=g(a(1631)),o=g(a(1730)),l=g(a(1545)),c=g(a(1546)),d=g(a(1547)),u=g(a(1548)),h=a(1210),p=a(1209),m=a(1632);function g(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?C(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=["century","decade","year","month"],O=[].concat(T(k.slice(1)),["day"]),_=function(e,t){return e&&!t||!e&&t||e&&t&&e.getTime()!==t.getTime()},M=function(e,t){return k.slice(k.indexOf(e),k.indexOf(t)+1)},N=function(e,t,a){return-1!==M(t,a).indexOf(e)},w=function(e,t,a){return N(e,t,a)?e:M(t,a).pop()},P=function(e){return O[k.indexOf(e)]},R=function(e){if(!e)return null;var t=e instanceof Array&&2===e.length?e[0]:e;if(!t)return null;var a=new Date(t);if(isNaN(a.getTime()))throw new Error("Invalid date: ".concat(e));return a},x=function(e,t,a,n){var r=R(e);if(!r)return null;var s=(0,h.getBegin)(P(n),r);return(0,m.between)(s,t,a)},L=function(e){if(!e)return null;var t=e instanceof Array&&2===e.length?e[1]:e;if(!t)return null;var a=new Date(t);if(isNaN(a.getTime()))throw new Error("Invalid date: ".concat(e));return a},D=function(e,t,a,n){var r=L(e);if(!r)return null;var s=(0,h.getEnd)(P(n),r);return(0,m.between)(s,t,a)},F=function(e,t,a,n){return e instanceof Array?e:[x(e,t,a,n),D(e,t,a,n)]},U=function(e){function t(){var e,a;E(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return I(C(a=S(this,(e=v(t)).call.apply(e,[this].concat(r)))),"state",{}),I(C(a),"setActiveStartDate",(function(e){var t=a.props.onActiveDateChange;a.setState({activeStartDate:e},(function(){var n=a.state.view;(0,m.callIfDefined)(t,{activeStartDate:e,view:n})}))})),I(C(a),"drillDown",(function(e){if(a.drillDownAvailable){var t=a.props,n=t.maxDetail,r=t.minDetail,s=t.onDrillDown,i=M(r,n);a.setState((function(t){var a=i[i.indexOf(t.view)+1];return{activeStartDate:e,view:a}}),(function(){var t=a.state.view;(0,m.callIfDefined)(s,{activeStartDate:e,view:t})}))}})),I(C(a),"drillUp",(function(){if(a.drillUpAvailable){var e=a.props,t=e.maxDetail,n=e.minDetail,r=e.onDrillUp,s=M(n,t);a.setState((function(e){var t=s[s.indexOf(e.view)-1];return{activeStartDate:(0,h.getBegin)(t,e.activeStartDate),view:t}}),(function(){var e=a.state,t=e.activeStartDate,n=e.view;(0,m.callIfDefined)(r,{activeStartDate:t,view:n})}))}})),I(C(a),"onChange",(function(e){var t,n,r=a.props,s=r.onChange;if(r.selectRange){var i=a.state.value;i&&1===[].concat(i).length?(t=(0,h.getValueRange)(a.valueType,i,e),n=function(){return(0,m.callIfDefined)(s,t)}):t=(0,h.getBegin)(a.valueType,e)}else t=a.getProcessedValue(e),n=function(){return(0,m.callIfDefined)(s,t)};a.setState({value:t},n)})),I(C(a),"onMouseOver",(function(e){a.setState((function(t){return t.hover&&t.hover.getTime()===e.getTime()?null:{hover:e}}))})),I(C(a),"onMouseLeave",(function(){a.setState({hover:null})})),a}var a,r,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),a=t,s=[{key:"getDerivedStateFromProps",value:function(e,t){e.minDate,e.maxDate;var a=e.minDetail,n=e.maxDetail,r={},s=function(e){var t=e.activeStartDate,a=e.maxDate,n=e.maxDetail,r=e.minDate,s=e.minDetail,i=e.value,o=e.view,l=w(o,s,n),c=x(i,r,a,n)||t||new Date;return(0,h.getBegin)(l,c)}(e);_(s,t.activeStartDateProps)&&(r.activeStartDate=s,r.activeStartDateProps=s);var i=w(e.view,a,n);i===t.viewProps||N(t.view,a,n)||(r.view=i,r.viewProps=i);var o=[e.value,t.valueProps];return(r.view||_.apply(void 0,T(o.map((function(e){return R(e)}))))||_.apply(void 0,T(o.map((function(e){return L(e)})))))&&(r.value=e.value,r.valueProps=e.value),!e.selectRange&&t.hover&&(r.hover=null),r}}],(r=[{key:"getProcessedValue",value:function(e){var t=this.props,a=t.minDate,n=t.maxDate,r=t.maxDetail,s=t.returnValue;return function(){switch(s){case"start":return x;case"end":return D;case"range":return F;default:throw new Error("Invalid returnValue.")}}()(e,a,n,r)}},{key:"renderContent",value:function(){var e=this.props,t=e.calendarType,a=e.locale,r=e.maxDate,s=e.minDate,i=e.renderChildren,o=e.selectRange,h=e.tileClassName,p=e.tileContent,g=e.tileDisabled,f=this.state,E=f.activeStartDate,y=f.hover,S=f.value,v=f.view,C=this.onMouseOver,A={activeStartDate:E,hover:y,locale:a,maxDate:r,minDate:s,onMouseOver:o?C:null,tileClassName:h,tileContent:p||i,tileDisabled:g,value:S,valueType:this.valueType},I=this.drillDownAvailable?this.drillDown:this.onChange;switch(v){case"century":var T=this.props.onClickDecade;return n.default.createElement(l.default,b({onClick:(0,m.mergeFunctions)(I,T)},A));case"decade":var k=this.props.onClickYear;return n.default.createElement(c.default,b({onClick:(0,m.mergeFunctions)(I,k)},A));case"year":var O=this.props,_=O.formatMonth,M=O.onClickMonth;return n.default.createElement(d.default,b({formatMonth:_,onClick:(0,m.mergeFunctions)(I,M)},A));case"month":var N=this.props,w=N.formatShortWeekday,P=N.onClickDay,R=N.onClickWeekNumber,x=N.showFixedNumberOfWeeks,L=N.showNeighboringMonth,D=N.showWeekNumbers,F=this.onMouseLeave;return n.default.createElement(u.default,b({calendarType:t,formatShortWeekday:w,onClick:(0,m.mergeFunctions)(I,P),onClickWeekNumber:R,onMouseLeave:F,showFixedNumberOfWeeks:x,showNeighboringMonth:L,showWeekNumbers:D},A));default:throw new Error("Invalid view: ".concat(v,"."))}}},{key:"renderNavigation",value:function(){if(!this.props.showNavigation)return null;var e=this.props,t=e.formatMonthYear,a=e.locale,r=e.maxDate,s=e.maxDetail,i=e.minDate,l=e.minDetail,c=e.navigationAriaLabel,d=e.navigationLabel,u=e.next2AriaLabel,h=e.next2Label,p=e.nextAriaLabel,m=e.nextLabel,g=e.prev2AriaLabel,f=e.prev2Label,b=e.prevAriaLabel,E=e.prevLabel,y=this.state,S=y.activeStartDate,v=y.view;return n.default.createElement(o.default,{activeStartDate:S,drillUp:this.drillUp,formatMonthYear:t,locale:a,maxDate:r,minDate:i,navigationAriaLabel:c,navigationLabel:d,next2AriaLabel:u,next2Label:h,nextAriaLabel:p,nextLabel:m,prev2AriaLabel:g,prev2Label:f,prevAriaLabel:b,prevLabel:E,setActiveStartDate:this.setActiveStartDate,view:v,views:M(l,s)})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.selectRange,r=this.state.value,s=this.onMouseLeave,o=[].concat(r);return n.default.createElement("div",{className:(0,i.default)("react-calendar",a&&1===o.length&&"".concat("react-calendar","--selectRange"),t)},this.renderNavigation(),n.default.createElement("div",{className:"".concat("react-calendar","__viewContainer"),onBlur:a?s:null,onMouseLeave:a?s:null},this.renderContent()))}},{key:"drillDownAvailable",get:function(){var e=this.props,t=e.maxDetail,a=e.minDetail,n=this.state.view,r=M(a,t);return r.indexOf(n)<r.length-1}},{key:"drillUpAvailable",get:function(){var e=this.props,t=e.maxDetail,a=e.minDetail,n=this.state.view;return M(a,t).indexOf(n)>0}},{key:"valueType",get:function(){var e=this.props.maxDetail;return P(e)}}])&&y(a.prototype,r),s&&y(a,s),t}(n.Component);t.default=U,U.defaultProps={maxDetail:"month",minDetail:"century",returnValue:"start",showNavigation:!0,showNeighboringMonth:!0,view:"month"},U.propTypes={activeStartDate:r.default.instanceOf(Date),calendarType:p.isCalendarType,className:p.isClassName,formatMonth:r.default.func,formatMonthYear:r.default.func,formatShortWeekday:r.default.func,locale:r.default.string,maxDate:p.isMaxDate,maxDetail:r.default.oneOf(k),minDate:p.isMinDate,minDetail:r.default.oneOf(k),navigationAriaLabel:r.default.string,navigationLabel:r.default.func,next2AriaLabel:r.default.string,next2Label:r.default.node,nextAriaLabel:r.default.string,nextLabel:r.default.node,onActiveDateChange:r.default.func,onChange:r.default.func,onClickDay:r.default.func,onClickDecade:r.default.func,onClickMonth:r.default.func,onClickWeekNumber:r.default.func,onClickYear:r.default.func,onDrillDown:r.default.func,onDrillUp:r.default.func,prev2AriaLabel:r.default.string,prev2Label:r.default.node,prevAriaLabel:r.default.string,prevLabel:r.default.node,renderChildren:r.default.func,returnValue:r.default.oneOf(["start","end","range"]),selectRange:r.default.bool,showFixedNumberOfWeeks:r.default.bool,showNavigation:r.default.bool,showNeighboringMonth:r.default.bool,showWeekNumbers:r.default.bool,tileClassName:r.default.oneOfType([r.default.func,p.isClassName]),tileContent:r.default.oneOfType([r.default.func,r.default.node]),tileDisabled:r.default.func,value:r.default.oneOfType([r.default.string,p.isValue]),view:r.default.oneOf(k)},(0,s.polyfill)(U)},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(272),i=a(133),o=a(5),l=a.n(o),c=a(364);var d=Object(i.connect)(e=>({formValues:Object(s.getFormValues)("editModal")(e),initialValues:{}}))(Object(s.reduxForm)({form:"editModalGradeSelect"})(({input:e,label:t,type:a,formValues:n,options:s,meta:{touched:i,error:o}})=>{const l=(e,t)=>r.a.createElement("option",{key:"".concat(t,"-").concat(e),value:e[1]},e[0]);if(s)return r.a.createElement("div",null,r.a.createElement(c.D,Object.assign({type:"select",placeholder:t},e),r.a.createElement("option",{value:""},n?n.itemGradeSelect:"Select a Grade"),s.map(l)),i&&o&&r.a.createElement("small",{className:"required-error"},o))}));var u=Object(i.connect)(e=>({formValues:Object(s.getFormValues)("editModal")(e),initialValues:{}}))(Object(s.reduxForm)({form:"editModalSubjectSelect"})(({input:e,label:t,type:a,formValues:n,options:s,meta:{touched:i,error:o}})=>{const l=(e,t)=>r.a.createElement("option",{key:"".concat(t,"-").concat(e),value:e[1]},e[0]);if(s)return r.a.createElement("div",null,r.a.createElement(c.D,Object.assign({type:"select",placeholder:t},e),r.a.createElement("option",{value:""},n?n.itemSubjectSelect:"Subject Area"),s.map(l)),i&&o&&r.a.createElement("small",{className:"required-error"},o))})),h=a(1654),p=a(156),m=a(510),g=a(545),f=a(526),b=a(384),E=(a(1454),"admin_pages,update"),y=a(1),S=a(1504),v=a(366),C=a(527),A=a.n(C);let I=({isEditModalOpen:e,type:t,toggle:a,close:n,translate:i,handleEditDone:o,image:y,handleAttachedImageChange:C,handleAttachedImageBegin:I,showBadgeValidationMessage:T,formValues:k,isLoading:O})=>{const _=e=>"badge"===e?r.a.createElement(p.default,{string:"badge",fallbackString:"Badge"}):e&&e.charAt(0).toUpperCase()+e.slice(1),M=!k||k&&!l.a.trim(k.get(S.a.ITEM_TITLE));return r.a.createElement("div",null,r.a.createElement(c.M,{isOpen:e,toggle:a,className:"lib-add-item-modal"},r.a.createElement(c.P,{toggle:n},r.a.createElement(p.default,{string:"update-item",fallbackString:"Update Item"})),r.a.createElement(c.N,{className:"edit-modal-body p-0"},O?r.a.createElement("div",{className:"edit-loading-container"},r.a.createElement(m.a,null)):r.a.createElement(c.db,null,r.a.createElement(c.s,{xs:"3"},r.a.createElement(c.I,null,r.a.createElement(c.J,{action:!0,className:"selected-tab"},_(t)))),r.a.createElement(c.s,{xs:"15"},"badge"===t?r.a.createElement("div",null,r.a.createElement(c.db,{className:"library-edit-badge"},r.a.createElement(c.s,{xs:"6"},r.a.createElement("div",{className:"badge-image-box"},r.a.createElement("img",{alt:"",className:"badge-image"+(A.a===y?" loading-icon":""),src:"https://a.edim.co/images/badge-border-large.png",style:{backgroundImage:"url("+b.a(y)+") "}})),r.a.createElement(h.a,{name:v.a.TEACHER_BADGES,attachedFilesChangeCb:C,attachedFilesBeginCb:I,translate:i}),T&&(!y||y===A.a)&&r.a.createElement("span",{className:"required-error"},r.a.createElement(p.default,{string:"required",fallbackString:"Required"}))),r.a.createElement(c.s,{xs:"12"},r.a.createElement(s.Field,{name:"itemTitle",component:"input",className:"edit-modal-input qa-test-badge-title",maxLength:50}),T&&M&&r.a.createElement("span",{className:"required-error"},r.a.createElement(p.default,{string:"required",fallbackString:"Required"})),r.a.createElement(s.Field,{name:"itemDescription",component:"textarea",className:"edit-modal-input qa-test-badge-description",maxLength:140}),T&&(!k||k&&!l.a.trim(k.get(S.a.ITEM_DESCRIPTION)))&&r.a.createElement("span",{className:"required-error"},r.a.createElement(p.default,{string:"required",fallbackString:"Required"}))))):r.a.createElement(c.db,null,"link"===t?r.a.createElement(s.Field,{name:"itemUrl",component:"input",className:"edit-modal-input disabled qa-test-badge-link",readOnly:!0}):null,r.a.createElement(s.Field,{name:"itemTitle",component:"input",className:"edit-modal-input qa-test-badge-title"}),M&&r.a.createElement("span",{className:"required-error"},r.a.createElement(p.default,{string:"required",fallbackString:"Required"})),"folder"===t?r.a.createElement("div",{className:"edit-modal-select"},r.a.createElement(s.Field,{name:"itemGradeSelect",component:d,label:"Select Grade",options:g.a,className:"qa-test-badge-select-grade"})):null,"folder"===t?r.a.createElement("div",{className:"edit-modal-select"},r.a.createElement(s.Field,{name:"itemSubjectSelect",component:u,label:"Select Subject",options:f.e,className:"qa-test-badge-select-subject"})):null)))),r.a.createElement(c.O,{className:"edit-modal-footer"},r.a.createElement("button",{className:"qa-test-edit-confirm edit-item-confirm btn",onClick:o,disabled:!(!M&&!O)},r.a.createElement(p.default,{string:E})," ",_(t)))))};I=Object(s.reduxForm)({form:"editModal",enableReinitialize:!0})(I),I=Object(i.connect)(e=>({initialValues:e.getIn([S.a.LIBRARY_ITEM_REDUCER,y.a.INITIAL_EDIT_MODAL_VALUES])}))(I);t.a=I},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1745),i=a(1470),o=a.n(i),l=a(40),c=a(1653);var d=({text:e,isCurrentUserInHashTagABTest:t})=>t?r.a.createElement(o.a,{source:l.a.sanitizeDangerousText(e,["img"]),renderers:{link:c.a},escapeHtml:!1,stripListLeaders:!0}):r.a.createElement(o.a,{source:l.a.sanitizeDangerousText(e,["img"]),renderers:{link:c.b},escapeHtml:!1,stripListLeaders:!0}),u=a(38),h=a(1746);t.a=({text:e,isCurrentUserInHashTagABTest:t})=>{const a=u.a.hasLatexCode(e),n=e&&l.a.addLineBreak(h.a.linkifyText(e));return a?r.a.createElement(s.a,{text:n}):r.a.createElement(d,{text:n,isCurrentUserInHashTagABTest:t})}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(201),i=a(374),o=(a(1221),a(1699)),l=a(0),c=a(14),d=a(331);var u=({embed:e,url:t,toggleVideoAttachmentModal:a,embedId:n,setCurrentVideoPosition:s,creator:u,trackingContext:h,autoPlayTrackingProperties:p})=>{const m={};let g;if(e&&(g=d.a.getJWPlaylist(e)),!g&&t){const e=i.a.getVideoId(t);g=Object(l.fromJS)([{file:"https://cdn.jwplayer.com/videos/".concat(e,".mp4"),image:"https://cdn.jwplayer.com/thumbs/".concat(e,"-720.jpg")}])}return g?(c.a.isPublisher(u)&&(m.publisher=c.a.getUsername(u)),r.a.createElement("div",{className:"qa-test-jw-player-embed",onClick:e=>{e.stopPropagation(),e.target.classList.contains("jw-icon")||e.target.classList.contains("jw-slider-time")||e.target.classList.contains("jw-slider-volume")||!a||!n||a(n)}},r.a.createElement(o.a,{playlist:g,onDisplayClick:s,customAdvertisingParams:m,trackingContext:h,autoPlayTrackingProperties:p}))):null},h=a(1294);t.a=({embed:e,content:t,title:a,creator:n,showRemove:o,id:l,attachType:c,messageId:d,handleDismissClick:p,toggleVideoAttachmentModal:m,setCurrentVideoPosition:g,trackingContext:f,autoPlayTrackingProperties:b})=>{const E=s.f(t)||t;return i.a.isJWEmbed(E)?r.a.createElement(u,{embed:e,url:E,toggleVideoAttachmentModal:m,embedId:l,creator:n,setCurrentVideoPosition:g,trackingContext:f,autoPlayTrackingProperties:b}):r.a.createElement("div",{className:"embed-container mb-3"},r.a.createElement("div",{"data-attachment-id":l,"data-attachment-type":c,"data-attachment-messageid":d,className:"remove-icon",style:{display:o?"block":"none"},onClick:p}),r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement(h.a,{src:E,title:a,frameBorder:0,allowFullScreen:!0,className:"embed-responsive-item qa-test-embed-responsive-item"})))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i="Got-it",o=a(156);a(1625);t.a=({isOpen:e,title:t,messages:a,close:n})=>r.a.createElement(s.M,{className:"message-box-modal",isOpen:e,toggle:n,backdrop:!0},r.a.createElement(s.P,{toggle:n,className:"message-box-modal-header"},t),r.a.createElement(s.N,{className:"message-box-modal-body"},r.a.createElement("div",{className:"message-box-modal-text"},a&&a.map((e,t)=>r.a.createElement("p",{key:t},e)))),r.a.createElement(s.O,{className:"message-box-modal-footer"},r.a.createElement(s.c,{color:"primary",className:"message-box-modal-button",onClick:n},r.a.createElement(o.default,{string:i}))))},function(e,t,a){"use strict";var n=a(1836),r=a(1837),s=a(1621),i=a(1838),o=a(1839),l=a(1840);e.exports=function(e,t){var a,s,i={};t||(t={});for(s in h)a=t[s],i[s]=null===a||void 0===a?h[s]:a;(i.position.indent||i.position.start)&&(i.indent=i.position.indent||[],i.position=i.position.start);return function(e,t){var a,s,i,h,y,S,v,C,A,I,T,k,O,_,M,N,w,P,R,x=t.additional,L=t.nonTerminated,D=t.text,F=t.reference,U=t.warning,B=t.textContext,G=t.referenceContext,j=t.warningContext,z=t.position,q=t.indent||[],H=e.length,V=0,W=-1,Q=z.column||1,Y=z.line||1,K="",J=[];"string"===typeof x&&(x=x.charCodeAt(0));N=X(),C=U?function(e,t){var a=X();a.column+=t,a.offset+=t,U.call(j,b[e],a,e)}:u,V--,H++;for(;++V<H;)if(10===y&&(Q=q[W]||1),38===(y=e.charCodeAt(V))){if(9===(v=e.charCodeAt(V+1))||10===v||12===v||32===v||38===v||60===v||v!==v||x&&v===x){K+=d(y),Q++;continue}for(k=O=V+1,R=O,35===v?(R=++k,88===(v=e.charCodeAt(R))||120===v?(_=m,R=++k):_="decimal"):_=p,a="",T="",h="",M=f[_],R--;++R<H&&(v=e.charCodeAt(R),M(v));)h+=d(v),_===p&&c.call(n,h)&&(a=h,T=n[h]);(i=59===e.charCodeAt(R))&&(R++,(s=_===p&&l(h))&&(a=h,T=s)),P=1+R-O,(i||L)&&(h?_===p?(i&&!T?C(5,1):(a!==h&&(R=k+a.length,P=1+R-k,i=!1),i||(A=a?1:3,t.attribute?61===(v=e.charCodeAt(R))?(C(A,P),T=null):o(v)?T=null:C(A,P):C(A,P))),S=T):(i||C(2,P),S=parseInt(h,g[_]),(Z=S)>=55296&&Z<=57343||Z>1114111?(C(7,P),S=d(65533)):S in r?(C(6,P),S=r[S]):(I="",E(S)&&C(6,P),S>65535&&(I+=d((S-=65536)>>>10|55296),S=56320|1023&S),S=I+d(S))):_!==p&&C(4,P)),S?($(),N=X(),V=R-1,Q+=R-O+1,J.push(S),(w=X()).offset++,F&&F.call(G,S,{start:N,end:w},e.slice(O-1,R)),N=w):(h=e.slice(O-1,R),K+=h,Q+=h.length,V=R-1)}else 10===y&&(Y++,W++,Q=0),y===y?(K+=d(y),Q++):$();var Z;return J.join("");function X(){return{line:Y,column:Q,offset:V+(z.offset||0)}}function $(){K&&(J.push(K),D&&D.call(B,K,{start:N,end:X()}),K="")}}(e,i)};var c={}.hasOwnProperty,d=String.fromCharCode,u=Function.prototype,h={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},p="named",m="hexadecimal",g={hexadecimal:16,decimal:10},f={};f[p]=o,f.decimal=s,f[m]=i;var b={};function E(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535===(65535&e)||65534===(65535&e)}b[1]="Named character references must be terminated by a semicolon",b[2]="Numeric character references must be terminated by a semicolon",b[3]="Named character references cannot be empty",b[4]="Numeric character references cannot be empty",b[5]="Named character references must be known",b[6]="Numeric character references cannot be disallowed",b[7]="Numeric character references cannot be outside the permissible Unicode range"},function(e,t,a){"use strict";var n,r="";e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var a=e.length*t;if(n!==e||"undefined"===typeof n)n=e,r="";else if(r.length>=a)return r.substr(0,a);for(;a>r.length&&t>1;)1&t&&(r+=e),t>>=1,e+=e;return r=(r+=e).substr(0,a)}},function(e,t,a){"use strict";e.exports=function(e){var t=String(e),a=t.length;for(;"\n"===t.charAt(--a););return t.slice(0,a+1)}},function(e,t,a){"use strict";e.exports=function(e,t,a,n){var r,s,i,o,l,c,d=["pedantic","commonmark"],u=d.length,h=e.length,p=-1;for(;++p<h;){for(r=e[p],s=r[1]||{},i=r[0],o=-1,c=!1;++o<u;)if(void 0!==s[l=d[o]]&&s[l]!==a.options[l]){c=!0;break}if(!c&&t[i].apply(a,n))return!0}return!1}},function(e,t,a){"use strict";var n=a(1860);e.exports=function(e){return n(e).toLowerCase()}},function(e,t,a){},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(272),o=a(133),l=a(1298),c=a(1311),d=a(1297),u=a(1268);const h={itemAlreadySelected:(e,t)=>!!t.find(t=>h.getSelectedItemId(t)===h.getSelectedItemId(e)&&h.getSelectedItemType(t)===h.getSelectedItemType(e)),excludeSelectableItemsByTarget:({selectedId:e,selectedItemType:t},a)=>!(parseInt(a[0],10)===parseInt(t,10)&&parseInt(a[1],10)===parseInt(e,10)),findSelectableItemByTarget:({selectedId:e,selectedItemType:t},a)=>parseInt(a[0],10)===parseInt(t,10)&&parseInt(a[1],10)===parseInt(e,10),setSelectedItemBackground:(e,t)=>{let a;return a=t?(void 0).props.defaultBackgroundColor||"#fff":u.b(e[0])?e[3]:u.a(e[0]),e[4]=a,e},getSelectedItemType:e=>e[0],getSelectedItemId:e=>e[1],getSelectedItemTitle:e=>e[2],getSelectedItemBackground:e=>e[4]||e[3]};class p extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(l.a,Object.assign({},this.props,{getSelectedItemId:h&&h.getSelectedItemId,getSelectedItemTitle:h&&h.getSelectedItemTitle,getSelectedItemType:h&&h.getSelectedItemType,getSelectedItemBackground:h&&h.getSelectedItemBackground,SelectableItemView:c.a,inputClassName:"qa-test-send-to-recipients"}))}}var m=Object(d.a)(h)(p),g=a(509),f="chats,send",b="admin_pages,cancel",E="type-your-note",y="send-post";var S=Object(g.a)(({input:e,translate:t})=>r.a.createElement(s.D,Object.assign({},e,{className:"qa-test-attach-modal-input attach-modal-input",type:"textarea",placeholder:t&&t(E)}))),v=a(520);const C=({input:e})=>r.a.createElement(s.C,{className:"attachment-file-title-form"},r.a.createElement("div",{className:"attached-file-image"}),r.a.createElement(s.D,Object.assign({},e,{type:"text",className:"attachment-file-title",readOnly:!0})));var A=()=>r.a.createElement(i.Field,{name:v.a.ATTACH_TO_NOTE_TITLE,component:C,className:"attachment-file-title"}),I=a(156),T=a(1246),k=a(1),O=a(1208),_=a(113);let M=({isAttachModalOpen:e,toggle:t,close:a,handleTypeAhead:n,done:o,invalid:l,recipients:c,context:d})=>{const u=!c,h=d===_.a.PROFILE_PAGE;return r.a.createElement("div",null,r.a.createElement(s.M,{isOpen:e,toggle:t,className:"qa-test-send-to-modal modal-lg composer-library-modal"},r.a.createElement(s.P,{toggle:a},r.a.createElement(I.default,{string:y,fallbackString:"Send Post"})),r.a.createElement(s.N,null,r.a.createElement(i.Field,{name:"noteContent",component:S,validate:O.g}),r.a.createElement(m,{inputClassName:"qa-test-search",selectedItemsChangeCb:n,apiRequestMethod:T.b}),!h&&r.a.createElement(A,null)),r.a.createElement(s.O,{className:"move-modal-footer"},r.a.createElement(s.c,{color:"white",className:"qa-test-cancel",onClick:a},r.a.createElement(I.default,{string:b,fallbackString:"Cancel"})),r.a.createElement(s.c,{color:"primary",className:"qa-test-attach-note-send",onClick:o,disabled:u||l},r.a.createElement(I.default,{string:f})))))};M=Object(i.reduxForm)({form:"attachToNoteModal"})(M),M=Object(o.connect)(e=>({initialValues:e.getIn([v.a.LIBRARY_ITEM_REDUCER,k.a.ATTACH_TITLE])}))(M);t.a=M},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(35),i=a.n(s),o=a(364),l=a(1544),c=a(156),d=a(509);t.a=Object(d.a)(({folders:e,isMoveModalOpen:t,itemToBeMoved:a,itemActedOnParentFolderId:n,moveToFolder:s,inRoot:d,isStudent:u,toggle:h,close:p,handleMoveToDone:m,handleSelectMoveToFolder:g})=>{const f=i()("move-item-confirm btn",{"is-disabled":null===s});return r.a.createElement("div",null,r.a.createElement(o.M,{isOpen:t,toggle:h,className:"modal-lg composer-library-modal"},r.a.createElement(o.P,{toggle:p},r.a.createElement(c.default,{string:"move-to",fallbackString:"Move to..."})),r.a.createElement(o.N,null,r.a.createElement(l.a,{folders:e,activeFolder:s,itemToBeMoved:a,inRoot:d,isStudent:u,clickHandler:g,itemActedOnParentFolderId:n})),r.a.createElement(o.O,{className:"qa-test-move-modal-footer move-modal-footer"},r.a.createElement("button",{className:"qa-test-move-cancel-btn move-item-cancel btn",onClick:p},r.a.createElement(c.default,{string:"cancel",fallbackString:"Cancel"})),r.a.createElement("button",{className:f,onClick:m},r.a.createElement(c.default,{string:"done",fallbackString:"Done"})))))})},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(35),i=a.n(s),o=a(364),l=a(1544),c=a(156);t.a=({folders:e,isCopyModalOpen:t,copyToFolder:a,inRoot:n,isStudent:s,toggle:d,close:u,handleCopyToDone:h,toggleParentFolder:p,handleSelectCopyToFolder:m,itemToBeCopied:g,itemActedOnParentFolderId:f})=>{const b=i()("move-item-confirm btn",{"is-disabled":null===a});return r.a.createElement("div",null,r.a.createElement(o.M,{isOpen:t,toggle:d,className:"modal-lg composer-library-modal"},r.a.createElement(o.P,{toggle:u},r.a.createElement(c.default,{string:"copy-to",fallbackString:"Copy to..."})),r.a.createElement(o.N,null,r.a.createElement(l.a,{folders:e,activeFolder:a,itemToBeCopied:g,inRoot:n,isStudent:s,toggleParentFolder:p,clickHandler:m,itemActedOnParentFolderId:f})),r.a.createElement(o.O,{className:"move-modal-footer"},r.a.createElement("button",{className:"move-item-cancel btn",onClick:u},r.a.createElement(c.default,{string:"cancel",fallbackString:"Cancel"})),r.a.createElement("button",{className:b,onClick:h},r.a.createElement(c.default,{string:"done",fallbackString:"Done"})))))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(272),i=a(133),o=a(364),l=a(78),c=a(19),d=a(156);t.a=Object(i.connect)(e=>({formValues:Object(s.getFormValues)("shareFolderModal")(e),initialValues:{}}))(Object(s.reduxForm)({form:"shareFolderModal"})(({isShareFolderModalOpen:e,groupMemberships:t,toggle:a,close:n,handleSelectShareToGroup:i,user:u,done:h,formValues:p,shareToGroups:m})=>{let g=c.a.getOwnerOrCoteacherMemberships(t);return g&&g.map(e=>{const t=c.a.getSmallGroupMemberships(e);return t&&t.size>0&&(g=g.merge(t)),null}),r.a.createElement("div",null,r.a.createElement(o.M,{isOpen:e,toggle:a,className:"modal-lg composer-library-modal"},r.a.createElement(o.P,{toggle:n}),r.a.createElement(o.N,null,r.a.createElement(s.FormSection,{name:"share-folder-modal",className:"share-group-list"},g&&g.valueSeq().map(e=>{const t=e.get("group"),a=l.a.getGroupTitle(t),n=t.get("id");return((e,t,a)=>{const n=p&&p.getIn(["share-folder-modal",e]),o=m&&m.filter(e=>e===t);return r.a.createElement("div",{className:"share-group",key:a},r.a.createElement("label",{className:"share-group-title"},e),r.a.createElement(s.Field,{name:e,className:"qa-test-group-checkbox",onChange:i,id:t,"data-title":e,"data-id":t,component:"input",type:"checkbox",value:n,checked:o&&o.length>0}))})(a,n,n)}))),r.a.createElement(o.O,{className:"move-modal-footer"},r.a.createElement("button",{className:"qa-test-share-done-btn edit-item-confirm btn",onClick:h},r.a.createElement(d.default,{string:"worksheets,tour_4_next"})))))}))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1294);t.a=({content:e,open:t,title:a,close:n,handleEmbedPreview:o})=>r.a.createElement(s.M,{className:"image-preview-modal   ",isOpen:t,toggle:o},r.a.createElement(s.P,{toggle:n},r.a.createElement("span",{className:"image-preview-modal-header"},a)),r.a.createElement(s.N,null,r.a.createElement(i.a,{src:e,title:a,frameBorder:0,allowFullScreen:!0})))},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"trackJWPlayerVideoStart",(function(){return E})),a.d(n,"trackJWPlayerVideoFiftyPercentComplete",(function(){return y})),a.d(n,"trackJWPlayerVideoComplete",(function(){return S}));var r=a(4),s=a.n(r),i=a(133),o=a(134),l=(a(0),a(156)),c=a(1203),d=a.n(c),u=a(1204);var h=({setNextVideoAndPlay:e,handlePlayAgainClick:t,shouldPlayNextIconDisplay:a})=>{const n={width:"48px",height:"48px",borderRadius:"24px",backgroundColor:"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},r={marginBottom:"1rem",color:"white"},i={display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"overlay",style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",filter:"blur(10px)"}}),s.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"}},s.a.createElement("div",{style:i,onClick:t,className:"qa-test-play-again-btn"},s.a.createElement("div",{style:r},s.a.createElement(l.default,{string:"play-again",fallbackString:"Play Again"})),s.a.createElement("div",{style:n},s.a.createElement(u.a,{name:"reload-icon",color:d.a.white[0]}))),a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{height:"120px",borderLeft:"1px solid rgba(255, 255, 255, 0.2)",marginLeft:"40px",marginRight:"40px"}}),s.a.createElement("div",{onClick:()=>{e(!1)},style:i,className:"qa-test-play-next-btn"},s.a.createElement("div",{style:r},s.a.createElement(l.default,{string:"play-next",fallbackString:"Play Next"})),s.a.createElement("div",{style:n},s.a.createElement(u.a,{name:"play-arrow-icon",color:d.a.white[0]}))))))},p=a(374),m="jw-player-script";var g=e=>{class t extends r.Component{constructor(e,t){super(e,t),this.state={isScriptLoaded:!!window.jwplayer},this.scriptLoaded=this.scriptLoaded.bind(this)}scriptLoaded(){this.setState({isScriptLoaded:!0})}componentDidMount(){const e=!!window.jwplayer,t=document.getElementById(m);e||(p.a.registerOnScriptLoadCallback(this.scriptLoaded),t||p.a.installPlayerScript())}render(){return this.state.isScriptLoaded?s.a.createElement(e,this.props):null}}return t},f=a(295),b=a(389);const E=({context:e,properties:t})=>({type:b.a.TRACK_JW_PLAYER_VIDEO_START,payload:{context:e,properties:t}}),y=({context:e,properties:t})=>({type:b.a.TRACK_JW_PLAYER_VIDEO_50_PERCENT_COMPLETE,payload:{context:e,properties:t}}),S=({context:e,properties:t})=>({type:b.a.TRACK_JW_PLAYER_VIDEO_COMPLETE,payload:{context:e,properties:t}});var v=a(1488);class C extends r.Component{constructor(e){super(e),this.state={videoStartHasFired:!1,fiftyPercentHasFired:!1,oneHundredPercentHasFired:!1},this.videoRef=null,this.playerId=Object(f.a)(),this.player=null,this.setupPlayer=this.setupPlayer.bind(this),this.playCurrentAgain=this.playCurrentAgain.bind(this),this.onPlayHandler=this.onPlayHandler.bind(this),this.onFiftyPercentPlayedHandler=this.onFiftyPercentPlayedHandler.bind(this),this.onBeforeCompleteHandler=this.onBeforeCompleteHandler.bind(this)}setupPlayer(){const e=p.a.getPlayerOpts(this.props);this.player=window.jwplayer(this.videoRef),p.a.setupPlayer(this.player,e)}componentDidMount(){this.setupPlayer(),this.player.once("play",this.onPlayHandler),this.player.on("time",this.onFiftyPercentPlayedHandler),this.player.on("beforeComplete",this.onBeforeCompleteHandler)}onPlayHandler(){const e=this.props,t=e.JWPlayerTrackingActions,a=e.trackingContext,n=e.autoPlayTrackingProperties;this.state.videoStartHasFired||(this.setState({videoStartHasFired:!0}),a&&t.trackJWPlayerVideoStart({context:a,properties:n}))}onFiftyPercentPlayedHandler(e){const t=this.props,a=t.JWPlayerTrackingActions,n=t.trackingContext,r=t.autoPlayTrackingProperties;!this.state.fiftyPercentHasFired&&e.position/e.duration*100>50&&(this.setState({fiftyPercentHasFired:!0}),n&&a.trackJWPlayerVideoFiftyPercentComplete({context:n,properties:r}))}onBeforeCompleteHandler(){const e=this.props,t=e.JWPlayerTrackingActions,a=e.trackingContext,n=e.autoPlayTrackingProperties;this.state.oneHundredPercentHasFired||(this.setState({oneHundredPercentHasFired:!0}),a&&t.trackJWPlayerVideoComplete({context:a,properties:n}))}componentDidUpdate(e){this.props.playlist&&!this.props.playlist.equals(e.playlist)&&(p.a.loadPlaylist(this.player,this.props.playlist),p.a.playPlayer(this.player))}componentWillUnmount(){p.a.removePlayerInstance(this.videoRef)}playCurrentAgain(){const e=this.props,t=e.playlist,a=e.onPlayCurrentAgain;p.a.loadPlaylist(this.player,t),p.a.playPlayer(this.player),a&&a()}render(){const e=this.props,t=e.setNextVideoAndPlay,a=e.shouldOverlayDisplayed,n=e.embedIdToMessageMapping;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:this.playerId,ref:e=>this.videoRef=e}),a&&s.a.createElement(h,{setNextVideoAndPlay:t,handlePlayAgainClick:this.playCurrentAgain,shouldPlayNextIconDisplay:n&&n.size>1}))}}C.defaultProps={aspectRatio:"inherit",isAutoPlay:!1,isMuted:!0};t.a=Object(i.connect)((function(e,t){return{adsInfo:v.a(e)}}),(function(e){return{JWPlayerTrackingActions:Object(o.bindActionCreators)(n,e)}}))(g(C))},function(e,t,a){"use strict";var n=a(15),r=a(133),s=a(134),i=a(1199),o=a(1460),l=a(1477),c=a(253),d=a(1522),u=a(1489),h=a(55),p=a(294);class m extends d.a{constructor(e){super(e),this.state=Object(n.a)({},this.state,{lockAssignment:!1}),this.getParams=this.getParams.bind(this),this.getProps=this.getProps.bind(this),this.afterAssign=this.afterAssign.bind(this),this.assignAction=this.assignAction.bind(this),this.handleLockAssignment=this.handleLockAssignment.bind(this)}getParams(){const e=this.props,t=e.title,a=e.assignmentInstructions,n=e.attachmentPayload,r=e.libraryItemId;return{lock_after_due:this.state.lockAssignment,title:t,description:a,attachments:n,create_template:!r,library_item_id:r||void 0}}getProps(){return{handleLockAssignment:this.handleLockAssignment,lockAssignment:this.state.lockAssignment,addToGradebook:this.state.addToGradebook}}assignAction(e){return this.props.assignmentActions.assignmentFromLibrary(e)}afterAssign(e){const t=this.props,a=t.streamActions,n=t.onboardingActions,r=t.history,s=t.onAssigned;n.updateChecklistOptimistic(h.a.ChecklistItems.CREATE_ASSIGNMENT,p.c()),n.updateChecklistCollapsed(!0),e&&e.forEach(e=>a.groupPageResetStream(e.id)),a.needRefreshStreamAction(!0),s?s():r.goBack()}handleLockAssignment(){this.setState({lockAssignment:!this.state.lockAssignment})}}t.a=Object(r.connect)(null,(function(e){return{assignmentActions:Object(s.bindActionCreators)(o,e),onboardingActions:Object(s.bindActionCreators)(l,e),streamActions:Object(s.bindActionCreators)(c,e)}}))(Object(i.a)(Object(u.a)(m)))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1523),i=a(156);var o=e=>{const t=e.lockAssignment,a=e.handleLockAssignment;return r.a.createElement("div",{className:"section__content"},r.a.createElement("div",{className:"checkbox-group mt-2"},r.a.createElement("div",{className:"checkbox-item"},r.a.createElement("label",{className:"input-container"},r.a.createElement("input",{type:"checkbox",className:"qa-test-lock-assignment",checked:t,onChange:a}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"assign-modal-checkbox-label"},r.a.createElement(i.default,{string:"modal,lock_after_due",fallbackString:"Lock after due date"})))))};t.a=e=>{const t=e.lockAssignment,a=e.handleLockAssignment;return r.a.createElement(s.a,e,r.a.createElement(o,{lockAssignment:t,handleLockAssignment:a}),r.a.createElement(r.a.Fragment,null))}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156),o=a(1462);t.a=({toggle:e,isModalOpen:t,scheduledPostDate:a,handleScheduledPostDateChange:n,scheduledPostHours:l,scheduledPostMinutes:c,scheduledPostMeridian:d,handleScheduledPostHourChange:u,handleScheduledPostMinuteChange:h,handleScheduledPostMeridianChange:p,handleScheduledPostCTAClick:m,handleScheduledPostCancelClick:g})=>r.a.createElement("div",null,r.a.createElement(s.M,{isOpen:t,toggle:e,className:"post-scheduler"},r.a.createElement(s.P,{toggle:e},r.a.createElement(i.default,{string:"schedule-post",fallbackString:"Schedule Your Post"})),r.a.createElement(s.N,{className:"mx-auto"},r.a.createElement("div",{className:"datetime-picker"},r.a.createElement("fieldset",{className:"date-picker"},r.a.createElement(o.a,{className:"date-picker-time-date",value:a,minDate:new Date,onChange:n}),r.a.createElement("div",{className:"date-picker-time mt-3"},r.a.createElement(s.D,{type:"select",className:"date-picker-time-hour qa-test-date-picker-time-hour",onChange:u,defaultValue:l},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"),r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"11"},"11"),r.a.createElement("option",{value:"12"},"12")),r.a.createElement("span",{className:"hour-minute-delimiter"},":"),r.a.createElement(s.D,{type:"select",className:"date-picker-time-minute qa-test-date-picker-time-minute",onChange:h,defaultValue:c},r.a.createElement("option",{value:"00"},"00"),r.a.createElement("option",{value:"01"},"01"),r.a.createElement("option",{value:"02"},"02"),r.a.createElement("option",{value:"03"},"03"),r.a.createElement("option",{value:"04"},"04"),r.a.createElement("option",{value:"05"},"05"),r.a.createElement("option",{value:"06"},"06"),r.a.createElement("option",{value:"07"},"07"),r.a.createElement("option",{value:"08"},"08"),r.a.createElement("option",{value:"09"},"09"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"11"},"11"),r.a.createElement("option",{value:"12"},"12"),r.a.createElement("option",{value:"13"},"13"),r.a.createElement("option",{value:"14"},"14"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"16"},"16"),r.a.createElement("option",{value:"17"},"17"),r.a.createElement("option",{value:"18"},"18"),r.a.createElement("option",{value:"19"},"19"),r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"21"},"21"),r.a.createElement("option",{value:"22"},"22"),r.a.createElement("option",{value:"23"},"23"),r.a.createElement("option",{value:"24"},"24"),r.a.createElement("option",{value:"25"},"25"),r.a.createElement("option",{value:"26"},"26"),r.a.createElement("option",{value:"27"},"27"),r.a.createElement("option",{value:"28"},"28"),r.a.createElement("option",{value:"29"},"29"),r.a.createElement("option",{value:"30"},"30"),r.a.createElement("option",{value:"31"},"31"),r.a.createElement("option",{value:"32"},"32"),r.a.createElement("option",{value:"33"},"33"),r.a.createElement("option",{value:"34"},"34"),r.a.createElement("option",{value:"35"},"35"),r.a.createElement("option",{value:"36"},"36"),r.a.createElement("option",{value:"37"},"37"),r.a.createElement("option",{value:"38"},"38"),r.a.createElement("option",{value:"39"},"39"),r.a.createElement("option",{value:"40"},"40"),r.a.createElement("option",{value:"41"},"41"),r.a.createElement("option",{value:"42"},"42"),r.a.createElement("option",{value:"43"},"43"),r.a.createElement("option",{value:"44"},"44"),r.a.createElement("option",{value:"45"},"45"),r.a.createElement("option",{value:"46"},"46"),r.a.createElement("option",{value:"47"},"47"),r.a.createElement("option",{value:"48"},"48"),r.a.createElement("option",{value:"49"},"49"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"51"},"51"),r.a.createElement("option",{value:"52"},"52"),r.a.createElement("option",{value:"53"},"53"),r.a.createElement("option",{value:"54"},"54"),r.a.createElement("option",{value:"55"},"55"),r.a.createElement("option",{value:"56"},"56"),r.a.createElement("option",{value:"57"},"57"),r.a.createElement("option",{value:"58"},"58"),r.a.createElement("option",{value:"59"},"59")),r.a.createElement(s.D,{type:"select",className:"date-picker-time-meridiem qa-test-date-picker-time-meridiem",onChange:p,defaultValue:d},r.a.createElement("option",{value:"AM"},"AM"),r.a.createElement("option",{value:"PM"},"PM")))))),r.a.createElement(s.O,null,r.a.createElement(s.c,{color:"link",onClick:g},r.a.createElement(i.default,{string:"cancel",fallbackString:"Cancel"})),r.a.createElement(i.default,{string:"admin_pages,or"}),r.a.createElement(s.c,{color:"primary",onClick:m,className:"attach-confirm qa-test-save-date-time-btn ml-3"},r.a.createElement(i.default,{string:"save-scheduling-post",fallbackString:"Save date and time"})))))},function(e,t,a){var n;"undefined"!==typeof self&&self,n=function(){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t,a){},function(e,t,a){"use strict";a.r(t),a(0);var n=function(){function e(e,t,a){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=a}return e.range=function(t,a){return a?t&&t.loc&&a.loc&&t.loc.lexer===a.loc.lexer?new e(t.loc.lexer,t.loc.start,a.loc.end):null:t&&t.loc},e}(),r=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,a){return new e(a,n.range(this,t))},e}(),s=function e(t,a){this.position=void 0;var n,r="KaTeX parse error: "+t,s=a&&a.loc;if(s&&s.start<=s.end){var i=s.lexer.input;n=s.start;var o=s.end;n===i.length?r+=" at end of input: ":r+=" at position "+(n+1)+": ";var l=i.slice(n,o).replace(/[^]/g,"$&\u0332");r+=(n>15?"\u2026"+i.slice(n-15,n):i.slice(0,n))+l+(o+15<i.length?i.slice(o,o+15)+"\u2026":i.slice(o))}var c=new Error(r);return c.name="ParseError",c.__proto__=e.prototype,c.position=n,c};s.prototype.__proto__=Error.prototype;var i=s,o=/([A-Z])/g,l={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},c=/[&><"']/g,d=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},u={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(c,(function(e){return l[e]}))},hyphenate:function(e){return e.replace(o,"-$1").toLowerCase()},getBaseElem:d,isCharacterBox:function(e){var t=d(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type}},h=function(){function e(e){this.displayMode=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.allowedProtocols=void 0,e=e||{},this.displayMode=u.deflt(e.displayMode,!1),this.leqno=u.deflt(e.leqno,!1),this.fleqn=u.deflt(e.fleqn,!1),this.throwOnError=u.deflt(e.throwOnError,!0),this.errorColor=u.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.colorIsTextColor=u.deflt(e.colorIsTextColor,!1),this.strict=u.deflt(e.strict,"warn"),this.maxSize=Math.max(0,u.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,u.deflt(e.maxExpand,1e3)),this.allowedProtocols=u.deflt(e.allowedProtocols,["http","https","mailto","_relative"])}var t=e.prototype;return t.reportNonstrict=function(e,t,a){var n=this.strict;if("function"===typeof n&&(n=n(e,t,a)),n&&"ignore"!==n){if(!0===n||"error"===n)throw new i("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",a);"warn"===n?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,a){var n=this.strict;if("function"===typeof n)try{n=n(e,t,a)}catch(r){n="error"}return!(!n||"ignore"===n)&&(!0===n||"error"===n||("warn"===n?("undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]"),!1)))},e}(),p=function(){function e(e,t,a){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=a}var t=e.prototype;return t.sup=function(){return m[g[this.id]]},t.sub=function(){return m[f[this.id]]},t.fracNum=function(){return m[b[this.id]]},t.fracDen=function(){return m[E[this.id]]},t.cramp=function(){return m[y[this.id]]},t.text=function(){return m[S[this.id]]},t.isTight=function(){return this.size>=2},e}(),m=[new p(0,0,!1),new p(1,0,!0),new p(2,1,!1),new p(3,1,!0),new p(4,2,!1),new p(5,2,!0),new p(6,3,!1),new p(7,3,!0)],g=[4,5,4,5,6,7,6,7],f=[5,5,5,5,7,7,7,7],b=[2,3,4,5,6,7,6,7],E=[3,3,5,5,7,7,7,7],y=[1,1,3,3,5,5,7,7],S=[0,1,2,3,2,3,2,3],v={DISPLAY:m[0],TEXT:m[2],SCRIPT:m[4],SCRIPTSCRIPT:m[6]},C=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],A=[];function I(e){for(var t=0;t<A.length;t+=2)if(e>=A[t]&&e<=A[t+1])return!0;return!1}C.forEach((function(e){return e.blocks.forEach((function(e){return A.push.apply(A,e)}))}));var T={path:{sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"}},k=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){var e=function(e){return e.toText()};return this.children.map(e).join("")},e}(),O=function(e){return e.filter((function(e){return e})).join(" ")},_=function(e,t,a){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=a||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},M=function(e){var t=document.createElement(e);for(var a in t.className=O(this.classes),this.style)this.style.hasOwnProperty(a)&&(t.style[a]=this.style[a]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t},N=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+u.escape(O(this.classes))+'"');var a="";for(var n in this.style)this.style.hasOwnProperty(n)&&(a+=u.hyphenate(n)+":"+this.style[n]+";");for(var r in a&&(t+=' style="'+u.escape(a)+'"'),this.attributes)this.attributes.hasOwnProperty(r)&&(t+=" "+r+'="'+u.escape(this.attributes[r])+'"');t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">"},w=function(){function e(e,t,a,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,_.call(this,e,a,n),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){return M.call(this,"span")},t.toMarkup=function(){return N.call(this,"span")},e}(),P=function(){function e(e,t,a,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,_.call(this,t,n),this.children=a||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){return M.call(this,"a")},t.toMarkup=function(){return N.call(this,"a")},e}(),R={"\xee":"\u0131\u0302","\xef":"\u0131\u0308","\xed":"\u0131\u0301","\xec":"\u0131\u0300"},x=function(){function e(e,t,a,n,r,s,i,o){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=a||0,this.italic=n||0,this.skew=r||0,this.width=s||0,this.classes=i||[],this.style=o||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<C.length;t++)for(var a=C[t],n=0;n<a.blocks.length;n++){var r=a.blocks[n];if(e>=r[0]&&e<=r[1])return a.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=R[this.text])}var t=e.prototype;return t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var a in this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=O(this.classes)),this.style)this.style.hasOwnProperty(a)&&((t=t||document.createElement("span")).style[a]=this.style[a]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=u.escape(O(this.classes)),t+='"');var a="";for(var n in this.italic>0&&(a+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(a+=u.hyphenate(n)+":"+this.style[n]+";");a&&(e=!0,t+=' style="'+u.escape(a)+'"');var r=u.escape(this.text);return e?(t+=">",t+=r,t+="</span>"):r},e}(),L=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var a=0;a<this.children.length;a++)e.appendChild(this.children[a].toNode());return e},t.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var a=0;a<this.children.length;a++)e+=this.children[a].toMarkup();return e+="</svg>"},e}(),D=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",T.path[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+T.path[this.pathName]+"'/>"},e}(),F=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"},e}(),U={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},B={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},G={"\xc5":"A","\xc7":"C","\xd0":"D","\xde":"o","\xe5":"a","\xe7":"c","\xf0":"d","\xfe":"o","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041a":"K","\u041b":"N","\u041c":"M","\u041d":"H","\u041e":"O","\u041f":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042a":"B","\u042b":"X","\u042c":"B","\u042d":"3","\u042e":"X","\u042f":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043a":"n","\u043b":"n","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044a":"a","\u044b":"m","\u044c":"a","\u044d":"e","\u044e":"m","\u044f":"r"};function j(e,t,a){if(!U[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),r=U[t][n];if(!r&&e[0]in G&&(n=G[e[0]].charCodeAt(0),r=U[t][n]),r||"text"!==a||I(n)&&(r=U[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var z={},q={bin:1,close:1,inner:1,open:1,punct:1,rel:1},H={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},V={math:{},text:{}},W=V;function Q(e,t,a,n,r,s){V[e][r]={font:t,group:a,replace:n},s&&n&&(V[e][n]=V[e][r])}var Y="main",K="ams",J="bin",Z="mathord",X="op-token",$="rel";Q("math",Y,$,"\u2261","\\equiv",!0),Q("math",Y,$,"\u227a","\\prec",!0),Q("math",Y,$,"\u227b","\\succ",!0),Q("math",Y,$,"\u223c","\\sim",!0),Q("math",Y,$,"\u22a5","\\perp"),Q("math",Y,$,"\u2aaf","\\preceq",!0),Q("math",Y,$,"\u2ab0","\\succeq",!0),Q("math",Y,$,"\u2243","\\simeq",!0),Q("math",Y,$,"\u2223","\\mid",!0),Q("math",Y,$,"\u226a","\\ll",!0),Q("math",Y,$,"\u226b","\\gg",!0),Q("math",Y,$,"\u224d","\\asymp",!0),Q("math",Y,$,"\u2225","\\parallel"),Q("math",Y,$,"\u22c8","\\bowtie",!0),Q("math",Y,$,"\u2323","\\smile",!0),Q("math",Y,$,"\u2291","\\sqsubseteq",!0),Q("math",Y,$,"\u2292","\\sqsupseteq",!0),Q("math",Y,$,"\u2250","\\doteq",!0),Q("math",Y,$,"\u2322","\\frown",!0),Q("math",Y,$,"\u220b","\\ni",!0),Q("math",Y,$,"\u221d","\\propto",!0),Q("math",Y,$,"\u22a2","\\vdash",!0),Q("math",Y,$,"\u22a3","\\dashv",!0),Q("math",Y,$,"\u220b","\\owns"),Q("math",Y,"punct",".","\\ldotp"),Q("math",Y,"punct","\u22c5","\\cdotp"),Q("math",Y,"textord","#","\\#"),Q("text",Y,"textord","#","\\#"),Q("math",Y,"textord","&","\\&"),Q("text",Y,"textord","&","\\&"),Q("math",Y,"textord","\u2135","\\aleph",!0),Q("math",Y,"textord","\u2200","\\forall",!0),Q("math",Y,"textord","\u210f","\\hbar",!0),Q("math",Y,"textord","\u2203","\\exists",!0),Q("math",Y,"textord","\u2207","\\nabla",!0),Q("math",Y,"textord","\u266d","\\flat",!0),Q("math",Y,"textord","\u2113","\\ell",!0),Q("math",Y,"textord","\u266e","\\natural",!0),Q("math",Y,"textord","\u2663","\\clubsuit",!0),Q("math",Y,"textord","\u2118","\\wp",!0),Q("math",Y,"textord","\u266f","\\sharp",!0),Q("math",Y,"textord","\u2662","\\diamondsuit",!0),Q("math",Y,"textord","\u211c","\\Re",!0),Q("math",Y,"textord","\u2661","\\heartsuit",!0),Q("math",Y,"textord","\u2111","\\Im",!0),Q("math",Y,"textord","\u2660","\\spadesuit",!0),Q("text",Y,"textord","\xa7","\\S",!0),Q("text",Y,"textord","\xb6","\\P",!0),Q("math",Y,"textord","\u2020","\\dag"),Q("text",Y,"textord","\u2020","\\dag"),Q("text",Y,"textord","\u2020","\\textdagger"),Q("math",Y,"textord","\u2021","\\ddag"),Q("text",Y,"textord","\u2021","\\ddag"),Q("text",Y,"textord","\u2021","\\textdaggerdbl"),Q("math",Y,"close","\u23b1","\\rmoustache",!0),Q("math",Y,"open","\u23b0","\\lmoustache",!0),Q("math",Y,"close","\u27ef","\\rgroup",!0),Q("math",Y,"open","\u27ee","\\lgroup",!0),Q("math",Y,J,"\u2213","\\mp",!0),Q("math",Y,J,"\u2296","\\ominus",!0),Q("math",Y,J,"\u228e","\\uplus",!0),Q("math",Y,J,"\u2293","\\sqcap",!0),Q("math",Y,J,"\u2217","\\ast"),Q("math",Y,J,"\u2294","\\sqcup",!0),Q("math",Y,J,"\u25ef","\\bigcirc"),Q("math",Y,J,"\u2219","\\bullet"),Q("math",Y,J,"\u2021","\\ddagger"),Q("math",Y,J,"\u2240","\\wr",!0),Q("math",Y,J,"\u2a3f","\\amalg"),Q("math",Y,J,"&","\\And"),Q("math",Y,$,"\u27f5","\\longleftarrow",!0),Q("math",Y,$,"\u21d0","\\Leftarrow",!0),Q("math",Y,$,"\u27f8","\\Longleftarrow",!0),Q("math",Y,$,"\u27f6","\\longrightarrow",!0),Q("math",Y,$,"\u21d2","\\Rightarrow",!0),Q("math",Y,$,"\u27f9","\\Longrightarrow",!0),Q("math",Y,$,"\u2194","\\leftrightarrow",!0),Q("math",Y,$,"\u27f7","\\longleftrightarrow",!0),Q("math",Y,$,"\u21d4","\\Leftrightarrow",!0),Q("math",Y,$,"\u27fa","\\Longleftrightarrow",!0),Q("math",Y,$,"\u21a6","\\mapsto",!0),Q("math",Y,$,"\u27fc","\\longmapsto",!0),Q("math",Y,$,"\u2197","\\nearrow",!0),Q("math",Y,$,"\u21a9","\\hookleftarrow",!0),Q("math",Y,$,"\u21aa","\\hookrightarrow",!0),Q("math",Y,$,"\u2198","\\searrow",!0),Q("math",Y,$,"\u21bc","\\leftharpoonup",!0),Q("math",Y,$,"\u21c0","\\rightharpoonup",!0),Q("math",Y,$,"\u2199","\\swarrow",!0),Q("math",Y,$,"\u21bd","\\leftharpoondown",!0),Q("math",Y,$,"\u21c1","\\rightharpoondown",!0),Q("math",Y,$,"\u2196","\\nwarrow",!0),Q("math",Y,$,"\u21cc","\\rightleftharpoons",!0),Q("math",K,$,"\u226e","\\nless",!0),Q("math",K,$,"\ue010","\\@nleqslant"),Q("math",K,$,"\ue011","\\@nleqq"),Q("math",K,$,"\u2a87","\\lneq",!0),Q("math",K,$,"\u2268","\\lneqq",!0),Q("math",K,$,"\ue00c","\\@lvertneqq"),Q("math",K,$,"\u22e6","\\lnsim",!0),Q("math",K,$,"\u2a89","\\lnapprox",!0),Q("math",K,$,"\u2280","\\nprec",!0),Q("math",K,$,"\u22e0","\\npreceq",!0),Q("math",K,$,"\u22e8","\\precnsim",!0),Q("math",K,$,"\u2ab9","\\precnapprox",!0),Q("math",K,$,"\u2241","\\nsim",!0),Q("math",K,$,"\ue006","\\@nshortmid"),Q("math",K,$,"\u2224","\\nmid",!0),Q("math",K,$,"\u22ac","\\nvdash",!0),Q("math",K,$,"\u22ad","\\nvDash",!0),Q("math",K,$,"\u22ea","\\ntriangleleft"),Q("math",K,$,"\u22ec","\\ntrianglelefteq",!0),Q("math",K,$,"\u228a","\\subsetneq",!0),Q("math",K,$,"\ue01a","\\@varsubsetneq"),Q("math",K,$,"\u2acb","\\subsetneqq",!0),Q("math",K,$,"\ue017","\\@varsubsetneqq"),Q("math",K,$,"\u226f","\\ngtr",!0),Q("math",K,$,"\ue00f","\\@ngeqslant"),Q("math",K,$,"\ue00e","\\@ngeqq"),Q("math",K,$,"\u2a88","\\gneq",!0),Q("math",K,$,"\u2269","\\gneqq",!0),Q("math",K,$,"\ue00d","\\@gvertneqq"),Q("math",K,$,"\u22e7","\\gnsim",!0),Q("math",K,$,"\u2a8a","\\gnapprox",!0),Q("math",K,$,"\u2281","\\nsucc",!0),Q("math",K,$,"\u22e1","\\nsucceq",!0),Q("math",K,$,"\u22e9","\\succnsim",!0),Q("math",K,$,"\u2aba","\\succnapprox",!0),Q("math",K,$,"\u2246","\\ncong",!0),Q("math",K,$,"\ue007","\\@nshortparallel"),Q("math",K,$,"\u2226","\\nparallel",!0),Q("math",K,$,"\u22af","\\nVDash",!0),Q("math",K,$,"\u22eb","\\ntriangleright"),Q("math",K,$,"\u22ed","\\ntrianglerighteq",!0),Q("math",K,$,"\ue018","\\@nsupseteqq"),Q("math",K,$,"\u228b","\\supsetneq",!0),Q("math",K,$,"\ue01b","\\@varsupsetneq"),Q("math",K,$,"\u2acc","\\supsetneqq",!0),Q("math",K,$,"\ue019","\\@varsupsetneqq"),Q("math",K,$,"\u22ae","\\nVdash",!0),Q("math",K,$,"\u2ab5","\\precneqq",!0),Q("math",K,$,"\u2ab6","\\succneqq",!0),Q("math",K,$,"\ue016","\\@nsubseteqq"),Q("math",K,J,"\u22b4","\\unlhd"),Q("math",K,J,"\u22b5","\\unrhd"),Q("math",K,$,"\u219a","\\nleftarrow",!0),Q("math",K,$,"\u219b","\\nrightarrow",!0),Q("math",K,$,"\u21cd","\\nLeftarrow",!0),Q("math",K,$,"\u21cf","\\nRightarrow",!0),Q("math",K,$,"\u21ae","\\nleftrightarrow",!0),Q("math",K,$,"\u21ce","\\nLeftrightarrow",!0),Q("math",K,$,"\u25b3","\\vartriangle"),Q("math",K,"textord","\u210f","\\hslash"),Q("math",K,"textord","\u25bd","\\triangledown"),Q("math",K,"textord","\u25ca","\\lozenge"),Q("math",K,"textord","\u24c8","\\circledS"),Q("math",K,"textord","\xae","\\circledR"),Q("text",K,"textord","\xae","\\circledR"),Q("math",K,"textord","\u2221","\\measuredangle",!0),Q("math",K,"textord","\u2204","\\nexists"),Q("math",K,"textord","\u2127","\\mho"),Q("math",K,"textord","\u2132","\\Finv",!0),Q("math",K,"textord","\u2141","\\Game",!0),Q("math",K,"textord","\u2035","\\backprime"),Q("math",K,"textord","\u25b2","\\blacktriangle"),Q("math",K,"textord","\u25bc","\\blacktriangledown"),Q("math",K,"textord","\u25a0","\\blacksquare"),Q("math",K,"textord","\u29eb","\\blacklozenge"),Q("math",K,"textord","\u2605","\\bigstar"),Q("math",K,"textord","\u2222","\\sphericalangle",!0),Q("math",K,"textord","\u2201","\\complement",!0),Q("math",K,"textord","\xf0","\\eth",!0),Q("math",K,"textord","\u2571","\\diagup"),Q("math",K,"textord","\u2572","\\diagdown"),Q("math",K,"textord","\u25a1","\\square"),Q("math",K,"textord","\u25a1","\\Box"),Q("math",K,"textord","\u25ca","\\Diamond"),Q("math",K,"textord","\xa5","\\yen",!0),Q("text",K,"textord","\xa5","\\yen",!0),Q("math",K,"textord","\u2713","\\checkmark",!0),Q("text",K,"textord","\u2713","\\checkmark"),Q("math",K,"textord","\u2136","\\beth",!0),Q("math",K,"textord","\u2138","\\daleth",!0),Q("math",K,"textord","\u2137","\\gimel",!0),Q("math",K,"textord","\u03dd","\\digamma"),Q("math",K,"textord","\u03f0","\\varkappa"),Q("math",K,"open","\u250c","\\ulcorner",!0),Q("math",K,"close","\u2510","\\urcorner",!0),Q("math",K,"open","\u2514","\\llcorner",!0),Q("math",K,"close","\u2518","\\lrcorner",!0),Q("math",K,$,"\u2266","\\leqq",!0),Q("math",K,$,"\u2a7d","\\leqslant",!0),Q("math",K,$,"\u2a95","\\eqslantless",!0),Q("math",K,$,"\u2272","\\lesssim",!0),Q("math",K,$,"\u2a85","\\lessapprox",!0),Q("math",K,$,"\u224a","\\approxeq",!0),Q("math",K,J,"\u22d6","\\lessdot"),Q("math",K,$,"\u22d8","\\lll",!0),Q("math",K,$,"\u2276","\\lessgtr",!0),Q("math",K,$,"\u22da","\\lesseqgtr",!0),Q("math",K,$,"\u2a8b","\\lesseqqgtr",!0),Q("math",K,$,"\u2251","\\doteqdot"),Q("math",K,$,"\u2253","\\risingdotseq",!0),Q("math",K,$,"\u2252","\\fallingdotseq",!0),Q("math",K,$,"\u223d","\\backsim",!0),Q("math",K,$,"\u22cd","\\backsimeq",!0),Q("math",K,$,"\u2ac5","\\subseteqq",!0),Q("math",K,$,"\u22d0","\\Subset",!0),Q("math",K,$,"\u228f","\\sqsubset",!0),Q("math",K,$,"\u227c","\\preccurlyeq",!0),Q("math",K,$,"\u22de","\\curlyeqprec",!0),Q("math",K,$,"\u227e","\\precsim",!0),Q("math",K,$,"\u2ab7","\\precapprox",!0),Q("math",K,$,"\u22b2","\\vartriangleleft"),Q("math",K,$,"\u22b4","\\trianglelefteq"),Q("math",K,$,"\u22a8","\\vDash",!0),Q("math",K,$,"\u22aa","\\Vvdash",!0),Q("math",K,$,"\u2323","\\smallsmile"),Q("math",K,$,"\u2322","\\smallfrown"),Q("math",K,$,"\u224f","\\bumpeq",!0),Q("math",K,$,"\u224e","\\Bumpeq",!0),Q("math",K,$,"\u2267","\\geqq",!0),Q("math",K,$,"\u2a7e","\\geqslant",!0),Q("math",K,$,"\u2a96","\\eqslantgtr",!0),Q("math",K,$,"\u2273","\\gtrsim",!0),Q("math",K,$,"\u2a86","\\gtrapprox",!0),Q("math",K,J,"\u22d7","\\gtrdot"),Q("math",K,$,"\u22d9","\\ggg",!0),Q("math",K,$,"\u2277","\\gtrless",!0),Q("math",K,$,"\u22db","\\gtreqless",!0),Q("math",K,$,"\u2a8c","\\gtreqqless",!0),Q("math",K,$,"\u2256","\\eqcirc",!0),Q("math",K,$,"\u2257","\\circeq",!0),Q("math",K,$,"\u225c","\\triangleq",!0),Q("math",K,$,"\u223c","\\thicksim"),Q("math",K,$,"\u2248","\\thickapprox"),Q("math",K,$,"\u2ac6","\\supseteqq",!0),Q("math",K,$,"\u22d1","\\Supset",!0),Q("math",K,$,"\u2290","\\sqsupset",!0),Q("math",K,$,"\u227d","\\succcurlyeq",!0),Q("math",K,$,"\u22df","\\curlyeqsucc",!0),Q("math",K,$,"\u227f","\\succsim",!0),Q("math",K,$,"\u2ab8","\\succapprox",!0),Q("math",K,$,"\u22b3","\\vartriangleright"),Q("math",K,$,"\u22b5","\\trianglerighteq"),Q("math",K,$,"\u22a9","\\Vdash",!0),Q("math",K,$,"\u2223","\\shortmid"),Q("math",K,$,"\u2225","\\shortparallel"),Q("math",K,$,"\u226c","\\between",!0),Q("math",K,$,"\u22d4","\\pitchfork",!0),Q("math",K,$,"\u221d","\\varpropto"),Q("math",K,$,"\u25c0","\\blacktriangleleft"),Q("math",K,$,"\u2234","\\therefore",!0),Q("math",K,$,"\u220d","\\backepsilon"),Q("math",K,$,"\u25b6","\\blacktriangleright"),Q("math",K,$,"\u2235","\\because",!0),Q("math",K,$,"\u22d8","\\llless"),Q("math",K,$,"\u22d9","\\gggtr"),Q("math",K,J,"\u22b2","\\lhd"),Q("math",K,J,"\u22b3","\\rhd"),Q("math",K,$,"\u2242","\\eqsim",!0),Q("math",Y,$,"\u22c8","\\Join"),Q("math",K,$,"\u2251","\\Doteq",!0),Q("math",K,J,"\u2214","\\dotplus",!0),Q("math",K,J,"\u2216","\\smallsetminus"),Q("math",K,J,"\u22d2","\\Cap",!0),Q("math",K,J,"\u22d3","\\Cup",!0),Q("math",K,J,"\u2a5e","\\doublebarwedge",!0),Q("math",K,J,"\u229f","\\boxminus",!0),Q("math",K,J,"\u229e","\\boxplus",!0),Q("math",K,J,"\u22c7","\\divideontimes",!0),Q("math",K,J,"\u22c9","\\ltimes",!0),Q("math",K,J,"\u22ca","\\rtimes",!0),Q("math",K,J,"\u22cb","\\leftthreetimes",!0),Q("math",K,J,"\u22cc","\\rightthreetimes",!0),Q("math",K,J,"\u22cf","\\curlywedge",!0),Q("math",K,J,"\u22ce","\\curlyvee",!0),Q("math",K,J,"\u229d","\\circleddash",!0),Q("math",K,J,"\u229b","\\circledast",!0),Q("math",K,J,"\u22c5","\\centerdot"),Q("math",K,J,"\u22ba","\\intercal",!0),Q("math",K,J,"\u22d2","\\doublecap"),Q("math",K,J,"\u22d3","\\doublecup"),Q("math",K,J,"\u22a0","\\boxtimes",!0),Q("math",K,$,"\u21e2","\\dashrightarrow",!0),Q("math",K,$,"\u21e0","\\dashleftarrow",!0),Q("math",K,$,"\u21c7","\\leftleftarrows",!0),Q("math",K,$,"\u21c6","\\leftrightarrows",!0),Q("math",K,$,"\u21da","\\Lleftarrow",!0),Q("math",K,$,"\u219e","\\twoheadleftarrow",!0),Q("math",K,$,"\u21a2","\\leftarrowtail",!0),Q("math",K,$,"\u21ab","\\looparrowleft",!0),Q("math",K,$,"\u21cb","\\leftrightharpoons",!0),Q("math",K,$,"\u21b6","\\curvearrowleft",!0),Q("math",K,$,"\u21ba","\\circlearrowleft",!0),Q("math",K,$,"\u21b0","\\Lsh",!0),Q("math",K,$,"\u21c8","\\upuparrows",!0),Q("math",K,$,"\u21bf","\\upharpoonleft",!0),Q("math",K,$,"\u21c3","\\downharpoonleft",!0),Q("math",K,$,"\u22b8","\\multimap",!0),Q("math",K,$,"\u21ad","\\leftrightsquigarrow",!0),Q("math",K,$,"\u21c9","\\rightrightarrows",!0),Q("math",K,$,"\u21c4","\\rightleftarrows",!0),Q("math",K,$,"\u21a0","\\twoheadrightarrow",!0),Q("math",K,$,"\u21a3","\\rightarrowtail",!0),Q("math",K,$,"\u21ac","\\looparrowright",!0),Q("math",K,$,"\u21b7","\\curvearrowright",!0),Q("math",K,$,"\u21bb","\\circlearrowright",!0),Q("math",K,$,"\u21b1","\\Rsh",!0),Q("math",K,$,"\u21ca","\\downdownarrows",!0),Q("math",K,$,"\u21be","\\upharpoonright",!0),Q("math",K,$,"\u21c2","\\downharpoonright",!0),Q("math",K,$,"\u21dd","\\rightsquigarrow",!0),Q("math",K,$,"\u21dd","\\leadsto"),Q("math",K,$,"\u21db","\\Rrightarrow",!0),Q("math",K,$,"\u21be","\\restriction"),Q("math",Y,"textord","\u2018","`"),Q("math",Y,"textord","$","\\$"),Q("text",Y,"textord","$","\\$"),Q("text",Y,"textord","$","\\textdollar"),Q("math",Y,"textord","%","\\%"),Q("text",Y,"textord","%","\\%"),Q("math",Y,"textord","_","\\_"),Q("text",Y,"textord","_","\\_"),Q("text",Y,"textord","_","\\textunderscore"),Q("math",Y,"textord","\u2220","\\angle",!0),Q("math",Y,"textord","\u221e","\\infty",!0),Q("math",Y,"textord","\u2032","\\prime"),Q("math",Y,"textord","\u25b3","\\triangle"),Q("math",Y,"textord","\u0393","\\Gamma",!0),Q("math",Y,"textord","\u0394","\\Delta",!0),Q("math",Y,"textord","\u0398","\\Theta",!0),Q("math",Y,"textord","\u039b","\\Lambda",!0),Q("math",Y,"textord","\u039e","\\Xi",!0),Q("math",Y,"textord","\u03a0","\\Pi",!0),Q("math",Y,"textord","\u03a3","\\Sigma",!0),Q("math",Y,"textord","\u03a5","\\Upsilon",!0),Q("math",Y,"textord","\u03a6","\\Phi",!0),Q("math",Y,"textord","\u03a8","\\Psi",!0),Q("math",Y,"textord","\u03a9","\\Omega",!0),Q("math",Y,"textord","A","\u0391"),Q("math",Y,"textord","B","\u0392"),Q("math",Y,"textord","E","\u0395"),Q("math",Y,"textord","Z","\u0396"),Q("math",Y,"textord","H","\u0397"),Q("math",Y,"textord","I","\u0399"),Q("math",Y,"textord","K","\u039a"),Q("math",Y,"textord","M","\u039c"),Q("math",Y,"textord","N","\u039d"),Q("math",Y,"textord","O","\u039f"),Q("math",Y,"textord","P","\u03a1"),Q("math",Y,"textord","T","\u03a4"),Q("math",Y,"textord","X","\u03a7"),Q("math",Y,"textord","\xac","\\neg",!0),Q("math",Y,"textord","\xac","\\lnot"),Q("math",Y,"textord","\u22a4","\\top"),Q("math",Y,"textord","\u22a5","\\bot"),Q("math",Y,"textord","\u2205","\\emptyset"),Q("math",K,"textord","\u2205","\\varnothing"),Q("math",Y,Z,"\u03b1","\\alpha",!0),Q("math",Y,Z,"\u03b2","\\beta",!0),Q("math",Y,Z,"\u03b3","\\gamma",!0),Q("math",Y,Z,"\u03b4","\\delta",!0),Q("math",Y,Z,"\u03f5","\\epsilon",!0),Q("math",Y,Z,"\u03b6","\\zeta",!0),Q("math",Y,Z,"\u03b7","\\eta",!0),Q("math",Y,Z,"\u03b8","\\theta",!0),Q("math",Y,Z,"\u03b9","\\iota",!0),Q("math",Y,Z,"\u03ba","\\kappa",!0),Q("math",Y,Z,"\u03bb","\\lambda",!0),Q("math",Y,Z,"\u03bc","\\mu",!0),Q("math",Y,Z,"\u03bd","\\nu",!0),Q("math",Y,Z,"\u03be","\\xi",!0),Q("math",Y,Z,"\u03bf","\\omicron",!0),Q("math",Y,Z,"\u03c0","\\pi",!0),Q("math",Y,Z,"\u03c1","\\rho",!0),Q("math",Y,Z,"\u03c3","\\sigma",!0),Q("math",Y,Z,"\u03c4","\\tau",!0),Q("math",Y,Z,"\u03c5","\\upsilon",!0),Q("math",Y,Z,"\u03d5","\\phi",!0),Q("math",Y,Z,"\u03c7","\\chi",!0),Q("math",Y,Z,"\u03c8","\\psi",!0),Q("math",Y,Z,"\u03c9","\\omega",!0),Q("math",Y,Z,"\u03b5","\\varepsilon",!0),Q("math",Y,Z,"\u03d1","\\vartheta",!0),Q("math",Y,Z,"\u03d6","\\varpi",!0),Q("math",Y,Z,"\u03f1","\\varrho",!0),Q("math",Y,Z,"\u03c2","\\varsigma",!0),Q("math",Y,Z,"\u03c6","\\varphi",!0),Q("math",Y,J,"\u2217","*"),Q("math",Y,J,"+","+"),Q("math",Y,J,"\u2212","-"),Q("math",Y,J,"\u22c5","\\cdot",!0),Q("math",Y,J,"\u2218","\\circ"),Q("math",Y,J,"\xf7","\\div",!0),Q("math",Y,J,"\xb1","\\pm",!0),Q("math",Y,J,"\xd7","\\times",!0),Q("math",Y,J,"\u2229","\\cap",!0),Q("math",Y,J,"\u222a","\\cup",!0),Q("math",Y,J,"\u2216","\\setminus"),Q("math",Y,J,"\u2227","\\land"),Q("math",Y,J,"\u2228","\\lor"),Q("math",Y,J,"\u2227","\\wedge",!0),Q("math",Y,J,"\u2228","\\vee",!0),Q("math",Y,"textord","\u221a","\\surd"),Q("math",Y,"open","(","("),Q("math",Y,"open","[","["),Q("math",Y,"open","\u27e8","\\langle",!0),Q("math",Y,"open","\u2223","\\lvert"),Q("math",Y,"open","\u2225","\\lVert"),Q("math",Y,"close",")",")"),Q("math",Y,"close","]","]"),Q("math",Y,"close","?","?"),Q("math",Y,"close","!","!"),Q("math",Y,"close","\u27e9","\\rangle",!0),Q("math",Y,"close","\u2223","\\rvert"),Q("math",Y,"close","\u2225","\\rVert"),Q("math",Y,$,"=","="),Q("math",Y,$,"<","<"),Q("math",Y,$,">",">"),Q("math",Y,$,":",":"),Q("math",Y,$,"\u2248","\\approx",!0),Q("math",Y,$,"\u2245","\\cong",!0),Q("math",Y,$,"\u2265","\\ge"),Q("math",Y,$,"\u2265","\\geq",!0),Q("math",Y,$,"\u2190","\\gets"),Q("math",Y,$,">","\\gt"),Q("math",Y,$,"\u2208","\\in",!0),Q("math",Y,$,"\ue020","\\@not"),Q("math",Y,$,"\u2282","\\subset",!0),Q("math",Y,$,"\u2283","\\supset",!0),Q("math",Y,$,"\u2286","\\subseteq",!0),Q("math",Y,$,"\u2287","\\supseteq",!0),Q("math",K,$,"\u2288","\\nsubseteq",!0),Q("math",K,$,"\u2289","\\nsupseteq",!0),Q("math",Y,$,"\u22a8","\\models"),Q("math",Y,$,"\u2190","\\leftarrow",!0),Q("math",Y,$,"\u2264","\\le"),Q("math",Y,$,"\u2264","\\leq",!0),Q("math",Y,$,"<","\\lt"),Q("math",Y,$,"\u2192","\\rightarrow",!0),Q("math",Y,$,"\u2192","\\to"),Q("math",K,$,"\u2271","\\ngeq",!0),Q("math",K,$,"\u2270","\\nleq",!0),Q("math",Y,"spacing","\xa0","\\ "),Q("math",Y,"spacing","\xa0","~"),Q("math",Y,"spacing","\xa0","\\space"),Q("math",Y,"spacing","\xa0","\\nobreakspace"),Q("text",Y,"spacing","\xa0","\\ "),Q("text",Y,"spacing","\xa0","~"),Q("text",Y,"spacing","\xa0","\\space"),Q("text",Y,"spacing","\xa0","\\nobreakspace"),Q("math",Y,"spacing",null,"\\nobreak"),Q("math",Y,"spacing",null,"\\allowbreak"),Q("math",Y,"punct",",",","),Q("math",Y,"punct",";",";"),Q("math",K,J,"\u22bc","\\barwedge",!0),Q("math",K,J,"\u22bb","\\veebar",!0),Q("math",Y,J,"\u2299","\\odot",!0),Q("math",Y,J,"\u2295","\\oplus",!0),Q("math",Y,J,"\u2297","\\otimes",!0),Q("math",Y,"textord","\u2202","\\partial",!0),Q("math",Y,J,"\u2298","\\oslash",!0),Q("math",K,J,"\u229a","\\circledcirc",!0),Q("math",K,J,"\u22a1","\\boxdot",!0),Q("math",Y,J,"\u25b3","\\bigtriangleup"),Q("math",Y,J,"\u25bd","\\bigtriangledown"),Q("math",Y,J,"\u2020","\\dagger"),Q("math",Y,J,"\u22c4","\\diamond"),Q("math",Y,J,"\u22c6","\\star"),Q("math",Y,J,"\u25c3","\\triangleleft"),Q("math",Y,J,"\u25b9","\\triangleright"),Q("math",Y,"open","{","\\{"),Q("text",Y,"textord","{","\\{"),Q("text",Y,"textord","{","\\textbraceleft"),Q("math",Y,"close","}","\\}"),Q("text",Y,"textord","}","\\}"),Q("text",Y,"textord","}","\\textbraceright"),Q("math",Y,"open","{","\\lbrace"),Q("math",Y,"close","}","\\rbrace"),Q("math",Y,"open","[","\\lbrack"),Q("text",Y,"textord","[","\\lbrack"),Q("math",Y,"close","]","\\rbrack"),Q("text",Y,"textord","]","\\rbrack"),Q("math",Y,"open","(","\\lparen"),Q("math",Y,"close",")","\\rparen"),Q("text",Y,"textord","<","\\textless"),Q("text",Y,"textord",">","\\textgreater"),Q("math",Y,"open","\u230a","\\lfloor",!0),Q("math",Y,"close","\u230b","\\rfloor",!0),Q("math",Y,"open","\u2308","\\lceil",!0),Q("math",Y,"close","\u2309","\\rceil",!0),Q("math",Y,"textord","\\","\\backslash"),Q("math",Y,"textord","\u2223","|"),Q("math",Y,"textord","\u2223","\\vert"),Q("text",Y,"textord","|","\\textbar"),Q("math",Y,"textord","\u2225","\\|"),Q("math",Y,"textord","\u2225","\\Vert"),Q("text",Y,"textord","\u2225","\\textbardbl"),Q("text",Y,"textord","~","\\textasciitilde"),Q("text",Y,"textord","\\","\\textbackslash"),Q("text",Y,"textord","^","\\textasciicircum"),Q("math",Y,$,"\u2191","\\uparrow",!0),Q("math",Y,$,"\u21d1","\\Uparrow",!0),Q("math",Y,$,"\u2193","\\downarrow",!0),Q("math",Y,$,"\u21d3","\\Downarrow",!0),Q("math",Y,$,"\u2195","\\updownarrow",!0),Q("math",Y,$,"\u21d5","\\Updownarrow",!0),Q("math",Y,X,"\u2210","\\coprod"),Q("math",Y,X,"\u22c1","\\bigvee"),Q("math",Y,X,"\u22c0","\\bigwedge"),Q("math",Y,X,"\u2a04","\\biguplus"),Q("math",Y,X,"\u22c2","\\bigcap"),Q("math",Y,X,"\u22c3","\\bigcup"),Q("math",Y,X,"\u222b","\\int"),Q("math",Y,X,"\u222b","\\intop"),Q("math",Y,X,"\u222c","\\iint"),Q("math",Y,X,"\u222d","\\iiint"),Q("math",Y,X,"\u220f","\\prod"),Q("math",Y,X,"\u2211","\\sum"),Q("math",Y,X,"\u2a02","\\bigotimes"),Q("math",Y,X,"\u2a01","\\bigoplus"),Q("math",Y,X,"\u2a00","\\bigodot"),Q("math",Y,X,"\u222e","\\oint"),Q("math",Y,X,"\u222f","\\oiint"),Q("math",Y,X,"\u2230","\\oiiint"),Q("math",Y,X,"\u2a06","\\bigsqcup"),Q("math",Y,X,"\u222b","\\smallint"),Q("text",Y,"inner","\u2026","\\textellipsis"),Q("math",Y,"inner","\u2026","\\mathellipsis"),Q("text",Y,"inner","\u2026","\\ldots",!0),Q("math",Y,"inner","\u2026","\\ldots",!0),Q("math",Y,"inner","\u22ef","\\@cdots",!0),Q("math",Y,"inner","\u22f1","\\ddots",!0),Q("math",Y,"textord","\u22ee","\\varvdots"),Q("math",Y,"accent-token","\u02ca","\\acute"),Q("math",Y,"accent-token","\u02cb","\\grave"),Q("math",Y,"accent-token","\xa8","\\ddot"),Q("math",Y,"accent-token","~","\\tilde"),Q("math",Y,"accent-token","\u02c9","\\bar"),Q("math",Y,"accent-token","\u02d8","\\breve"),Q("math",Y,"accent-token","\u02c7","\\check"),Q("math",Y,"accent-token","^","\\hat"),Q("math",Y,"accent-token","\u20d7","\\vec"),Q("math",Y,"accent-token","\u02d9","\\dot"),Q("math",Y,"accent-token","\u02da","\\mathring"),Q("math",Y,Z,"\u0131","\\imath",!0),Q("math",Y,Z,"\u0237","\\jmath",!0),Q("text",Y,"textord","\u0131","\\i",!0),Q("text",Y,"textord","\u0237","\\j",!0),Q("text",Y,"textord","\xdf","\\ss",!0),Q("text",Y,"textord","\xe6","\\ae",!0),Q("text",Y,"textord","\xe6","\\ae",!0),Q("text",Y,"textord","\u0153","\\oe",!0),Q("text",Y,"textord","\xf8","\\o",!0),Q("text",Y,"textord","\xc6","\\AE",!0),Q("text",Y,"textord","\u0152","\\OE",!0),Q("text",Y,"textord","\xd8","\\O",!0),Q("text",Y,"accent-token","\u02ca","\\'"),Q("text",Y,"accent-token","\u02cb","\\`"),Q("text",Y,"accent-token","\u02c6","\\^"),Q("text",Y,"accent-token","\u02dc","\\~"),Q("text",Y,"accent-token","\u02c9","\\="),Q("text",Y,"accent-token","\u02d8","\\u"),Q("text",Y,"accent-token","\u02d9","\\."),Q("text",Y,"accent-token","\u02da","\\r"),Q("text",Y,"accent-token","\u02c7","\\v"),Q("text",Y,"accent-token","\xa8",'\\"'),Q("text",Y,"accent-token","\u02dd","\\H"),Q("text",Y,"accent-token","\u25ef","\\textcircled");var ee={"--":!0,"---":!0,"``":!0,"''":!0};Q("text",Y,"textord","\u2013","--"),Q("text",Y,"textord","\u2013","\\textendash"),Q("text",Y,"textord","\u2014","---"),Q("text",Y,"textord","\u2014","\\textemdash"),Q("text",Y,"textord","\u2018","`"),Q("text",Y,"textord","\u2018","\\textquoteleft"),Q("text",Y,"textord","\u2019","'"),Q("text",Y,"textord","\u2019","\\textquoteright"),Q("text",Y,"textord","\u201c","``"),Q("text",Y,"textord","\u201c","\\textquotedblleft"),Q("text",Y,"textord","\u201d","''"),Q("text",Y,"textord","\u201d","\\textquotedblright"),Q("math",Y,"textord","\xb0","\\degree",!0),Q("text",Y,"textord","\xb0","\\degree"),Q("text",Y,"textord","\xb0","\\textdegree",!0),Q("math",Y,Z,"\xa3","\\pounds"),Q("math",Y,Z,"\xa3","\\mathsterling",!0),Q("text",Y,Z,"\xa3","\\pounds"),Q("text",Y,Z,"\xa3","\\textsterling",!0),Q("math",K,"textord","\u2720","\\maltese"),Q("text",K,"textord","\u2720","\\maltese"),Q("text",Y,"spacing","\xa0","\\ "),Q("text",Y,"spacing","\xa0"," "),Q("text",Y,"spacing","\xa0","~");for(var te=0;te<'0123456789/@."'.length;te++){var ae='0123456789/@."'.charAt(te);Q("math",Y,"textord",ae,ae)}for(var ne=0;ne<'0123456789!@*()-=+[]<>|";:?/.,'.length;ne++){var re='0123456789!@*()-=+[]<>|";:?/.,'.charAt(ne);Q("text",Y,"textord",re,re)}for(var se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ie=0;ie<se.length;ie++){var oe=se.charAt(ie);Q("math",Y,Z,oe,oe),Q("text",Y,"textord",oe,oe)}Q("math",K,"textord","C","\u2102"),Q("text",K,"textord","C","\u2102"),Q("math",K,"textord","H","\u210d"),Q("text",K,"textord","H","\u210d"),Q("math",K,"textord","N","\u2115"),Q("text",K,"textord","N","\u2115"),Q("math",K,"textord","P","\u2119"),Q("text",K,"textord","P","\u2119"),Q("math",K,"textord","Q","\u211a"),Q("text",K,"textord","Q","\u211a"),Q("math",K,"textord","R","\u211d"),Q("text",K,"textord","R","\u211d"),Q("math",K,"textord","Z","\u2124"),Q("text",K,"textord","Z","\u2124"),Q("math",Y,Z,"h","\u210e"),Q("text",Y,Z,"h","\u210e");for(var le="",ce=0;ce<se.length;ce++){var de=se.charAt(ce);Q("math",Y,Z,de,le=String.fromCharCode(55349,56320+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56372+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56424+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56580+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56736+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56788+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56840+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56944+ce)),Q("text",Y,"textord",de,le),ce<26&&(Q("math",Y,Z,de,le=String.fromCharCode(55349,56632+ce)),Q("text",Y,"textord",de,le),Q("math",Y,Z,de,le=String.fromCharCode(55349,56476+ce)),Q("text",Y,"textord",de,le))}Q("math",Y,Z,"k",le=String.fromCharCode(55349,56668)),Q("text",Y,"textord","k",le);for(var ue=0;ue<10;ue++){var he=ue.toString();Q("math",Y,Z,he,le=String.fromCharCode(55349,57294+ue)),Q("text",Y,"textord",he,le),Q("math",Y,Z,he,le=String.fromCharCode(55349,57314+ue)),Q("text",Y,"textord",he,le),Q("math",Y,Z,he,le=String.fromCharCode(55349,57324+ue)),Q("text",Y,"textord",he,le),Q("math",Y,Z,he,le=String.fromCharCode(55349,57334+ue)),Q("text",Y,"textord",he,le)}for(var pe=0;pe<"\xc7\xd0\xde\xe7\xfe".length;pe++){var me="\xc7\xd0\xde\xe7\xfe".charAt(pe);Q("math",Y,Z,me,me),Q("text",Y,"textord",me,me)}Q("text",Y,"textord","\xf0","\xf0"),Q("text",Y,"textord","\u2013","\u2013"),Q("text",Y,"textord","\u2014","\u2014"),Q("text",Y,"textord","\u2018","\u2018"),Q("text",Y,"textord","\u2019","\u2019"),Q("text",Y,"textord","\u201c","\u201c"),Q("text",Y,"textord","\u201d","\u201d");var ge=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathdefault","textit","Math-Italic"],["mathdefault","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],fe=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],be=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Ee=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ye=function(e,t){return t.size<2?e:be[e-1][t.size-1]},Se=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Ee[this.size-1],this.maxSize=t.maxSize,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var a={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);return new e(a)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:ye(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Ee[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var a=ye(e.BASESIZE,t);return this.size===a&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:a})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!z[t=e>=5?0:e>=3?1:2]){var a=z[t]={cssEmPerMu:B.quad[t]/18};for(var n in B)B.hasOwnProperty(n)&&(a[n]=B[n][t])}return z[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":this.color},e}();Se.BASESIZE=6;var ve=Se,Ce={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Ae={ex:!0,em:!0,mu:!0},Ie=function(e,t){var a;if(e.unit in Ce)a=Ce[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)a=t.fontMetrics().cssEmPerMu;else{var n;if(n=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)a=n.fontMetrics().xHeight;else{if("em"!==e.unit)throw new i("Invalid unit: '"+e.unit+"'");a=n.fontMetrics().quad}n!==t&&(a*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*a,t.maxSize)},Te=["\\imath","\u0131","\\jmath","\u0237","\\pounds","\\mathsterling","\\textsterling","\xa3"],ke=function(e,t,a){return W[a][e]&&W[a][e].replace&&(e=W[a][e].replace),{value:e,metrics:j(e,t,a)}},Oe=function(e,t,a,n,r){var s,i=ke(e,t,a),o=i.metrics;if(e=i.value,o){var l=o.italic;("text"===a||n&&"mathit"===n.font)&&(l=0),s=new x(e,o.height,o.depth,l,o.skew,o.width,r)}else"undefined"!==typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"'"),s=new x(e,0,0,0,0,0,r);if(n){s.maxFontSize=n.sizeMultiplier,n.style.isTight()&&s.classes.push("mtight");var c=n.getColor();c&&(s.style.color=c)}return s},_e=function(e,t){if(O(e.classes)!==O(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;for(var a in e.style)if(e.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;return!0},Me=function(e){for(var t=0,a=0,n=0,r=0;r<e.children.length;r++){var s=e.children[r];s.height>t&&(t=s.height),s.depth>a&&(a=s.depth),s.maxFontSize>n&&(n=s.maxFontSize)}e.height=t,e.depth=a,e.maxFontSize=n},Ne=function(e,t,a,n){var r=new w(e,t,a,n);return Me(r),r},we=function(e,t,a,n){return new w(e,t,a,n)},Pe=function(e){var t=new k(e);return Me(t),t},Re=function(e,t,a){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+("textbf"===t&&"textit"===a?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},xe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Le={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},De={fontMap:xe,makeSymbol:Oe,mathsym:function(e,t,a,n){return void 0===n&&(n=[]),a&&a.font&&"boldsymbol"===a.font&&ke(e,"Main-Bold",t).metrics?Oe(e,"Main-Bold",t,a,n.concat(["mathbf"])):"\\"===e||"main"===W[t][e].font?Oe(e,"Main-Regular",t,a,n):Oe(e,"AMS-Regular",t,a,n.concat(["amsrm"]))},makeSpan:Ne,makeSvgSpan:we,makeLineSpan:function(e,t,a){var n=Ne([e],[],t);return n.height=a||t.fontMetrics().defaultRuleThickness,n.style.borderBottomWidth=n.height+"em",n.maxFontSize=1,n},makeAnchor:function(e,t,a,n){var r=new P(e,t,a,n);return Me(r),r},makeFragment:Pe,wrapFragment:function(e,t){return e instanceof k?Ne([],[e],t):e},makeVList:function(e,t){for(var a=function(e){if("individualShift"===e.positionType){for(var t=e.children,a=[t[0]],n=-t[0].shift-t[0].elem.depth,r=n,s=1;s<t.length;s++){var i=-t[s].shift-r-t[s].elem.depth,o=i-(t[s-1].elem.height+t[s-1].elem.depth);r+=i,a.push({type:"kern",size:o}),a.push(t[s])}return{children:a,depth:n}}var l;if("top"===e.positionType){for(var c=e.positionData,d=0;d<e.children.length;d++){var u=e.children[d];c-="kern"===u.type?u.size:u.elem.height+u.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var h=e.children[0];if("elem"!==h.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-h.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-h.elem.depth}}return{children:e.children,depth:l}}(e),n=a.children,r=a.depth,s=0,i=0;i<n.length;i++){var o=n[i];if("elem"===o.type){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=Ne(["pstrut"],[]);c.style.height=s+"em";for(var d=[],u=r,h=r,p=r,m=0;m<n.length;m++){var g=n[m];if("kern"===g.type)p+=g.size;else{var f=g.elem,b=g.wrapperClasses||[],E=g.wrapperStyle||{},y=Ne(b,[c,f],void 0,E);y.style.top=-s-p-f.depth+"em",g.marginLeft&&(y.style.marginLeft=g.marginLeft),g.marginRight&&(y.style.marginRight=g.marginRight),d.push(y),p+=f.height+f.depth}u=Math.min(u,p),h=Math.max(h,p)}var S,v=Ne(["vlist"],d);if(v.style.height=h+"em",u<0){var C=Ne([],[]),A=Ne(["vlist"],[C]);A.style.height=-u+"em";var I=Ne(["vlist-s"],[new x("\u200b")]);S=[Ne(["vlist-r"],[v,I]),Ne(["vlist-r"],[A])]}else S=[Ne(["vlist-r"],[v])];var T=Ne(["vlist-t"],S);return 2===S.length&&T.classes.push("vlist-t2"),T.height=h,T.depth=-u,T},makeOrd:function(e,t,a){var n,r=e.mode,s=e.text,o=["mord"],l="math"===r||"text"===r&&t.font,c=l?t.font:t.fontFamily;if(55349===s.charCodeAt(0)){var d=function(e,t){var a=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,n="math"===t?0:1;if(119808<=a&&a<120484){var r=Math.floor((a-119808)/26);return[ge[r][2],ge[r][n]]}if(120782<=a&&a<=120831){var s=Math.floor((a-120782)/10);return[fe[s][2],fe[s][n]]}if(120485===a||120486===a)return[ge[0][2],ge[0][n]];if(120486<a&&a<120782)return["",""];throw new i("Unsupported character: "+e)}(s,r),h=d[0],p=d[1];return Oe(s,h,r,t,o.concat(p))}if(c){var m,g;if("boldsymbol"===c||"mathnormal"===c){var f="boldsymbol"===c?function(e,t,a,n){return ke(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(s,r):(n=s,u.contains(Te,n)?{fontName:"Main-Italic",fontClass:"mathit"}:/[0-9]/.test(n.charAt(0))?{fontName:"Caligraphic-Regular",fontClass:"mathcal"}:{fontName:"Math-Italic",fontClass:"mathdefault"});m=f.fontName,g=[f.fontClass]}else u.contains(Te,s)?(m="Main-Italic",g=["mathit"]):l?(m=xe[c].fontName,g=[c]):(m=Re(c,t.fontWeight,t.fontShape),g=[c,t.fontWeight,t.fontShape]);if(ke(s,m,r).metrics)return Oe(s,m,r,t,o.concat(g));if(ee.hasOwnProperty(s)&&"Typewriter"===m.substr(0,10)){for(var b=[],E=0;E<s.length;E++)b.push(Oe(s[E],m,r,t,o.concat(g)));return Pe(b)}}if("mathord"===a){var y=function(e,t,a,n){return/[0-9]/.test(e.charAt(0))||u.contains(Te,e)?{fontName:"Main-Italic",fontClass:"mathit"}:{fontName:"Math-Italic",fontClass:"mathdefault"}}(s);return Oe(s,y.fontName,r,t,o.concat([y.fontClass]))}if("textord"===a){var S=W[r][s]&&W[r][s].font;if("ams"===S){var v=Re("amsrm",t.fontWeight,t.fontShape);return Oe(s,v,r,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==S&&S){var C=Re(S,t.fontWeight,t.fontShape);return Oe(s,C,r,t,o.concat(C,t.fontWeight,t.fontShape))}var A=Re("textrm",t.fontWeight,t.fontShape);return Oe(s,A,r,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+a+" in makeOrd")},makeGlue:function(e,t){var a=Ne(["mspace"],[],t),n=Ie(e,t);return a.style.marginRight=n+"em",a},staticSvg:function(e,t){var a=Le[e],n=a[0],r=a[1],s=a[2],i=new D(n),o=new L([i],{width:r+"em",height:s+"em",style:"width:"+r+"em",viewBox:"0 0 "+1e3*r+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=we(["overlay"],[o],t);return l.height=s,l.style.height=s+"em",l.style.width=r+"em",l},svgData:Le,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var a=e[t],n=e[t+1];a instanceof x&&n instanceof x&&_e(a,n)&&(a.text+=n.text,a.height=Math.max(a.height,n.height),a.depth=Math.max(a.depth,n.depth),a.italic=n.italic,e.splice(t+1,1),t--)}return e}};function Fe(e,t){var a=Ue(e,t);if(!a)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return a}function Ue(e,t){return e&&e.type===t?e:null}function Be(e,t){var a=function(e,t){return e&&"atom"===e.type&&e.family===t?e:null}(e,t);if(!a)throw new Error('Expected node of type "atom" and family "'+t+'", but got '+(e?"atom"===e.type?"atom of family "+e.family:"node of type "+e.type:String(e)));return a}function Ge(e){return e&&("atom"===e.type||H.hasOwnProperty(e.type))?e:null}var je={number:3,unit:"mu"},ze={number:4,unit:"mu"},qe={number:5,unit:"mu"},He={mord:{mop:je,mbin:ze,mrel:qe,minner:je},mop:{mord:je,mop:je,mrel:qe,minner:je},mbin:{mord:ze,mop:ze,mopen:ze,minner:ze},mrel:{mord:qe,mop:qe,mopen:qe,minner:qe},mopen:{},mclose:{mop:je,mbin:ze,mrel:qe,minner:je},mpunct:{mord:je,mop:je,mrel:qe,mopen:je,mclose:je,mpunct:je,minner:je},minner:{mord:je,mop:je,mbin:ze,mrel:qe,mopen:je,mpunct:je,minner:je}},Ve={mord:{mop:je},mop:{mord:je,mop:je},mbin:{},mrel:{},mopen:{},mclose:{mop:je},mpunct:{},minner:{mop:je}},We={},Qe={},Ye={};function Ke(e){for(var t=e.type,a=(e.nodeType,e.names),n=e.props,r=e.handler,s=e.htmlBuilder,i=e.mathmlBuilder,o={type:t,numArgs:n.numArgs,argTypes:n.argTypes,greediness:void 0===n.greediness?1:n.greediness,allowedInText:!!n.allowedInText,allowedInMath:void 0===n.allowedInMath||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,consumeMode:n.consumeMode,handler:r},l=0;l<a.length;++l)We[a[l]]=o;t&&(s&&(Qe[t]=s),i&&(Ye[t]=i))}function Je(e){Ke({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var Ze=function(e){var t=Ue(e,"ordgroup");return t?t.body:[e]},Xe=De.makeSpan,$e=["leftmost","mbin","mopen","mrel","mop","mpunct"],et=["rightmost","mrel","mclose","mpunct"],tt={display:v.DISPLAY,text:v.TEXT,script:v.SCRIPT,scriptscript:v.SCRIPTSCRIPT},at={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},nt=function(e,t,a,n){void 0===n&&(n=[null,null]);for(var r=[],s=0;s<e.length;s++){var i=lt(e[s],t);if(i instanceof k){var o=i.children;r.push.apply(r,o)}else r.push(i)}if(!a)return r;var l=t;if(1===e.length){var c=Ue(e[0],"sizing")||Ue(e[0],"styling");c&&("sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(tt[c.style])))}var d=Xe([n[0]||"leftmost"],[],t),h=Xe([n[1]||"rightmost"],[],t);return rt(r,(function(e,t){var a=t.classes[0],n=e.classes[0];"mbin"===a&&u.contains(et,n)?t.classes[0]="mord":"mbin"===n&&u.contains($e,a)&&(e.classes[0]="mord")}),{node:d},h),rt(r,(function(e,t){var a=it(t),n=it(e),r=a&&n?e.hasClass("mtight")?Ve[a][n]:He[a][n]:null;if(r)return De.makeGlue(r,l)}),{node:d},h),r},rt=function e(t,a,n,r){r&&t.push(r);for(var s=0;s<t.length;s++){var i=t[s],o=st(i);if(o)e(o.children,a,n);else if("mspace"!==i.classes[0]){var l=a(i,n.node);l&&(n.insertAfter?n.insertAfter(l):(t.unshift(l),s++)),n.node=i,n.insertAfter=function(e){return function(a){t.splice(e+1,0,a),s++}}(s)}}r&&t.pop()},st=function(e){return e instanceof k||e instanceof P?e:null},it=function(e,t){return e?(t&&(e=function e(t,a){var n=st(t);if(n){var r=n.children;if(r.length){if("right"===a)return e(r[r.length-1],"right");if("left"===a)return e(r[0],"left")}}return t}(e,t)),at[e.classes[0]]||null):null},ot=function(e,t){var a=["nulldelimiter"].concat(e.baseSizingClasses());return Xe(t.concat(a))},lt=function(e,t,a){if(!e)return Xe();if(Qe[e.type]){var n=Qe[e.type](e,t);if(a&&t.size!==a.size){n=Xe(t.sizingClasses(a),[n],t);var r=t.sizeMultiplier/a.sizeMultiplier;n.height*=r,n.depth*=r}return n}throw new i("Got group of unknown type: '"+e.type+"'")};function ct(e,t){var a=Xe(["base"],e,t),n=Xe(["strut"]);return n.style.height=a.height+a.depth+"em",n.style.verticalAlign=-a.depth+"em",a.children.unshift(n),a}function dt(e,t){var a=null;1===e.length&&"tag"===e[0].type&&(a=e[0].tag,e=e[0].body);for(var n,r=nt(e,t,!0),s=[],i=[],o=0;o<r.length;o++)if(i.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,i.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(s.push(ct(i,t)),i=[])}else r[o].hasClass("newline")&&(i.pop(),i.length>0&&(s.push(ct(i,t)),i=[]),s.push(r[o]));i.length>0&&s.push(ct(i,t)),a&&((n=ct(nt(a,t,!0))).classes=["tag"],s.push(n));var c=Xe(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),n){var d=n.children[0];d.style.height=c.height+c.depth+"em",d.style.verticalAlign=-c.depth+"em"}return c}function ut(e){return new k(e)}var ht=function(){function e(e,t){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=e,this.attributes={},this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var a=0;a<this.children.length;a++)e.appendChild(this.children[a].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=u.escape(this.attributes[t]),e+='"');e+=">";for(var a=0;a<this.children.length;a++)e+=this.children[a].toMarkup();return e+="</"+this.type+">"},t.toText=function(){return this.children.map((function(e){return e.toText()})).join("")},e}(),pt=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return u.escape(this.toText())},t.toText=function(){return this.text},e}(),mt={MathNode:ht,TextNode:pt,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?"\u200a":e>=.1666&&e<=.1667?"\u2009":e>=.2222&&e<=.2223?"\u2005":e>=.2777&&e<=.2778?"\u2005\u200a":e>=-.05556&&e<=-.05555?"\u200a\u2063":e>=-.1667&&e<=-.1666?"\u2009\u2063":e>=-.2223&&e<=-.2222?"\u205f\u2063":e>=-.2778&&e<=-.2777?"\u2005\u2063":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:ut},gt=function(e,t,a){return!W[t][e]||!W[t][e].replace||55349===e.charCodeAt(0)||ee.hasOwnProperty(e)&&a&&(a.fontFamily&&"tt"===a.fontFamily.substr(4,2)||a.font&&"tt"===a.font.substr(4,2))||(e=W[t][e].replace),new mt.TextNode(e)},ft=function(e){return 1===e.length?e[0]:new mt.MathNode("mrow",e)},bt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var a=t.font;if(!a||"mathnormal"===a)return null;var n=e.mode;if("mathit"===a)return"italic";if("boldsymbol"===a)return"bold-italic";var r=e.text;return u.contains(["\\imath","\\jmath"],r)?null:(W[n][r]&&W[n][r].replace&&(r=W[n][r].replace),j(r,De.fontMap[a].fontName,n)?De.fontMap[a].variant:null)},Et=function(e,t){for(var a,n=[],r=0;r<e.length;r++){var s=St(e[r],t);if(s instanceof ht&&a instanceof ht){if("mtext"===s.type&&"mtext"===a.type&&s.getAttribute("mathvariant")===a.getAttribute("mathvariant")){var i;(i=a.children).push.apply(i,s.children);continue}if("mn"===s.type&&"mn"===a.type){var o;(o=a.children).push.apply(o,s.children);continue}if("mi"===s.type&&1===s.children.length&&"mn"===a.type){var l=s.children[0];if(l instanceof pt&&"."===l.text){var c;(c=a.children).push.apply(c,s.children);continue}}else if("mi"===a.type&&1===a.children.length){var d=a.children[0];if(d instanceof pt&&"\u0338"===d.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var u=s.children[0];u instanceof pt&&u.text.length>0&&(u.text=u.text.slice(0,1)+"\u0338"+u.text.slice(1),n.pop())}}}n.push(s),a=s}return n},yt=function(e,t){return ft(Et(e,t))},St=function(e,t){if(!e)return new mt.MathNode("mrow");if(Ye[e.type])return Ye[e.type](e,t);throw new i("Got group of unknown type: '"+e.type+"'")},vt=function(e){return new ve({style:e.displayMode?v.DISPLAY:v.TEXT,maxSize:e.maxSize})},Ct=function(e,t){if(t.displayMode){var a=["katex-display"];t.leqno&&a.push("leqno"),t.fleqn&&a.push("fleqn"),e=De.makeSpan(a,[e])}return e},At=function(e,t,a){var n=vt(a),r=function(e,t,a){var n,r=Et(e,a);n=1===r.length&&r[0]instanceof ht&&u.contains(["mrow","mtable"],r[0].type)?r[0]:new mt.MathNode("mrow",r);var s=new mt.MathNode("annotation",[new mt.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var i=new mt.MathNode("semantics",[n,s]),o=new mt.MathNode("math",[i]);return De.makeSpan(["katex-mathml"],[o])}(e,t,n),s=dt(e,n),i=De.makeSpan(["katex"],[r,s]);return Ct(i,a)},It={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb"},Tt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},kt=function(e,t,a,n){var r,s=e.height+e.depth+2*a;if(/fbox|color/.test(t)){if(r=De.makeSpan(["stretchy",t],[],n),"fbox"===t){var i=n.color&&n.getColor();i&&(r.style.borderColor=i)}}else{var o=[];/^[bx]cancel$/.test(t)&&o.push(new F({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&o.push(new F({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new L(o,{width:"100%",height:s+"em"});r=De.makeSvgSpan([],[l],n)}return r.height=s,r.style.height=s+"em",r},Ot=function(e){var t=new mt.MathNode("mo",[new mt.TextNode(It[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},_t=function(e,t){var a=function(){var a=4e5,n=e.label.substr(1);if(u.contains(["widehat","widecheck","widetilde","utilde"],n)){var r,s,i,o="ordgroup"===(m=e.base).type?m.body.length:1;if(o>5)"widehat"===n||"widecheck"===n?(r=420,a=2364,i=.42,s=n+"4"):(r=312,a=2340,i=.34,s="tilde4");else{var l=[1,1,2,2,3,3][o];"widehat"===n||"widecheck"===n?(a=[0,1062,2364,2364,2364][l],r=[0,239,300,360,420][l],i=[0,.24,.3,.3,.36,.42][l],s=n+l):(a=[0,600,1033,2339,2340][l],r=[0,260,286,306,312][l],i=[0,.26,.286,.3,.306,.34][l],s="tilde"+l)}var c=new D(s),d=new L([c],{width:"100%",height:i+"em",viewBox:"0 0 "+a+" "+r,preserveAspectRatio:"none"});return{span:De.makeSvgSpan([],[d],t),minWidth:0,height:i}}var h,p,m,g=[],f=Tt[n],b=f[0],E=f[1],y=f[2],S=y/1e3,v=b.length;if(1===v)h=["hide-tail"],p=[f[3]];else if(2===v)h=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==v)throw new Error("Correct katexImagesData or update code here to support\n                    "+v+" children.");h=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var C=0;C<v;C++){var A=new D(b[C]),I=new L([A],{width:"400em",height:S+"em",viewBox:"0 0 "+a+" "+y,preserveAspectRatio:p[C]+" slice"}),T=De.makeSvgSpan([h[C]],[I],t);if(1===v)return{span:T,minWidth:E,height:S};T.style.height=S+"em",g.push(T)}return{span:De.makeSpan(["stretchy"],g,t),minWidth:E,height:S}}(),n=a.span,r=a.minWidth,s=a.height;return n.height=s,n.style.height=s+"em",r>0&&(n.style.minWidth=r+"em"),n},Mt=function(e,t){var a,n,r,s=Ue(e,"supsub");s?(a=(n=Fe(s.base,"accent")).base,s.base=a,r=function(e){if(e instanceof w)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(lt(s,t)),s.base=n):a=(n=Fe(e,"accent")).base;var i=lt(a,t.havingCrampedStyle()),o=0;if(n.isShifty&&u.isCharacterBox(a)){var l=u.getBaseElem(a);o=function(e){if(e instanceof x)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}(lt(l,t.havingCrampedStyle())).skew}var c,d=Math.min(i.height,t.fontMetrics().xHeight);if(n.isStretchy)c=_t(n,t),c=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+2*o+"em)",marginLeft:2*o+"em"}:void 0}]},t);else{var h,p;"\\vec"===n.label?(h=De.staticSvg("vec",t),p=De.svgData.vec[1]):((h=De.makeSymbol(n.label,"Main-Regular",n.mode,t)).italic=0,p=h.width),c=De.makeSpan(["accent-body"],[h]);var m="\\textcircled"===n.label;m&&(c.classes.push("accent-full"),d=i.height);var g=o;m||(g-=p/2),c.style.left=g+"em","\\textcircled"===n.label&&(c.style.top=".2em"),c=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-d},{type:"elem",elem:c}]},t)}var f=De.makeSpan(["mord","accent"],[c],t);return r?(r.children[0]=f,r.height=Math.max(f.height,r.height),r.classes[0]="mord",r):f},Nt=function(e,t){var a=e.isStretchy?Ot(e.label):new mt.MathNode("mo",[gt(e.label,e.mode)]),n=new mt.MathNode("mover",[St(e.base,t),a]);return n.setAttribute("accent","true"),n},wt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((function(e){return"\\"+e})).join("|"));Ke({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var a=t[0],n=!wt.test(e.funcName),r=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:r,base:a}},htmlBuilder:Mt,mathmlBuilder:Nt}),Ke({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var a=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:a}},htmlBuilder:Mt,mathmlBuilder:Nt}),Ke({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var a=e.parser,n=e.funcName,r=t[0];return{type:"accentUnder",mode:a.mode,label:n,base:r}},htmlBuilder:function(e,t){var a=lt(e.base,t),n=_t(e,t),r="\\utilde"===e.label?.12:0,s=De.makeVList({positionType:"bottom",positionData:n.height+r,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:a}]},t);return De.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:function(e,t){var a=Ot(e.label),n=new mt.MathNode("munder",[St(e.base,t),a]);return n.setAttribute("accentunder","true"),n}});var Pt=function(e){var t=new mt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ke({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,a){var n=e.parser,r=e.funcName;return{type:"xArrow",mode:n.mode,label:r,body:t[0],below:a[0]}},htmlBuilder:function(e,t){var a,n=t.style,r=t.havingStyle(n.sup()),s=De.wrapFragment(lt(e.body,r,t),t);s.classes.push("x-arrow-pad"),e.below&&(r=t.havingStyle(n.sub()),(a=De.wrapFragment(lt(e.below,r,t),t)).classes.push("x-arrow-pad"));var i,o=_t(e,t),l=-t.fontMetrics().axisHeight+.5*o.height,c=-t.fontMetrics().axisHeight-.5*o.height-.111;if((s.depth>.25||"\\xleftequilibrium"===e.label)&&(c-=s.depth),a){var d=-t.fontMetrics().axisHeight+a.height+.5*o.height+.111;i=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:c},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},t)}else i=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:c},{type:"elem",elem:o,shift:l}]},t);return i.children[0].children[0].children[1].classes.push("svg-align"),De.makeSpan(["mrel","x-arrow"],[i],t)},mathmlBuilder:function(e,t){var a,n=Ot(e.label);if(e.body){var r=Pt(St(e.body,t));if(e.below){var s=Pt(St(e.below,t));a=new mt.MathNode("munderover",[n,s,r])}else a=new mt.MathNode("mover",[n,r])}else if(e.below){var i=Pt(St(e.below,t));a=new mt.MathNode("munder",[n,i])}else a=Pt(),a=new mt.MathNode("mover",[n,a]);return a}}),Ke({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var a=e.parser,n=Fe(t[0],"ordgroup").body,r="",s=0;s<n.length;s++)r+=Fe(n[s],"textord").text;var o=parseInt(r);if(isNaN(o))throw new i("\\@char has non-numeric argument "+r);return{type:"textord",mode:a.mode,text:String.fromCharCode(o)}}});var Rt=function(e,t){var a=nt(e.body,t.withColor(e.color),!1);return De.makeFragment(a)},xt=function(e,t){var a=Et(e.body,t.withColor(e.color)),n=new mt.MathNode("mstyle",a);return n.setAttribute("mathcolor",e.color),n};Ke({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(e,t){var a=e.parser,n=Fe(t[0],"color-token").color,r=t[1];return{type:"color",mode:a.mode,color:n,body:Ze(r)}},htmlBuilder:Rt,mathmlBuilder:xt}),Ke({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(e,t){var a=e.parser,n=e.breakOnTokenText,r=Fe(t[0],"color-token").color,s=a.parseExpression(!0,n);return{type:"color",mode:a.mode,color:r,body:s}},htmlBuilder:Rt,mathmlBuilder:xt}),Ke({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,a){var n=e.parser,r=e.funcName,s=a[0],i="\\cr"===r,o=!1;return i||(o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:n.mode,newLine:o,newRow:i,size:s&&Fe(s,"size").value}},htmlBuilder:function(e,t){if(e.newRow)throw new i("\\cr valid only within a tabular/array environment");var a=De.makeSpan(["mspace"],[],t);return e.newLine&&(a.classes.push("newline"),e.size&&(a.style.marginTop=Ie(e.size,t)+"em")),a},mathmlBuilder:function(e,t){var a=new mt.MathNode("mspace");return e.newLine&&(a.setAttribute("linebreak","newline"),e.size&&a.setAttribute("height",Ie(e.size,t)+"em")),a}});var Lt=function(e,t,a){var n=j(W.math[e]&&W.math[e].replace||e,t,a);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},Dt=function(e,t,a,n){var r=a.havingBaseStyle(t),s=De.makeSpan(n.concat(r.sizingClasses(a)),[e],a),i=r.sizeMultiplier/a.sizeMultiplier;return s.height*=i,s.depth*=i,s.maxFontSize=r.sizeMultiplier,s},Ft=function(e,t,a){var n=t.havingBaseStyle(a),r=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=r+"em",e.height-=r,e.depth+=r},Ut=function(e,t,a,n,r,s){var i=function(e,t,a,n){return De.makeSymbol(e,"Size"+t+"-Regular",a,n)}(e,t,r,n),o=Dt(De.makeSpan(["delimsizing","size"+t],[i],n),v.TEXT,n,s);return a&&Ft(o,n,v.TEXT),o},Bt=function(e,t,a){var n;return n="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:De.makeSpan(["delimsizinginner",n],[De.makeSpan([],[De.makeSymbol(e,t,a)])])}},Gt=function(e,t,a,n,r,s){var i,o,l,c;i=l=c=e,o=null;var d="Size1-Regular";"\\uparrow"===e?l=c="\u23d0":"\\Uparrow"===e?l=c="\u2016":"\\downarrow"===e?i=l="\u23d0":"\\Downarrow"===e?i=l="\u2016":"\\updownarrow"===e?(i="\\uparrow",l="\u23d0",c="\\downarrow"):"\\Updownarrow"===e?(i="\\Uparrow",l="\u2016",c="\\Downarrow"):"["===e||"\\lbrack"===e?(i="\u23a1",l="\u23a2",c="\u23a3",d="Size4-Regular"):"]"===e||"\\rbrack"===e?(i="\u23a4",l="\u23a5",c="\u23a6",d="Size4-Regular"):"\\lfloor"===e||"\u230a"===e?(l=i="\u23a2",c="\u23a3",d="Size4-Regular"):"\\lceil"===e||"\u2308"===e?(i="\u23a1",l=c="\u23a2",d="Size4-Regular"):"\\rfloor"===e||"\u230b"===e?(l=i="\u23a5",c="\u23a6",d="Size4-Regular"):"\\rceil"===e||"\u2309"===e?(i="\u23a4",l=c="\u23a5",d="Size4-Regular"):"("===e||"\\lparen"===e?(i="\u239b",l="\u239c",c="\u239d",d="Size4-Regular"):")"===e||"\\rparen"===e?(i="\u239e",l="\u239f",c="\u23a0",d="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(i="\u23a7",o="\u23a8",c="\u23a9",l="\u23aa",d="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(i="\u23ab",o="\u23ac",c="\u23ad",l="\u23aa",d="Size4-Regular"):"\\lgroup"===e||"\u27ee"===e?(i="\u23a7",c="\u23a9",l="\u23aa",d="Size4-Regular"):"\\rgroup"===e||"\u27ef"===e?(i="\u23ab",c="\u23ad",l="\u23aa",d="Size4-Regular"):"\\lmoustache"===e||"\u23b0"===e?(i="\u23a7",c="\u23ad",l="\u23aa",d="Size4-Regular"):"\\rmoustache"!==e&&"\u23b1"!==e||(i="\u23ab",c="\u23a9",l="\u23aa",d="Size4-Regular");var u=Lt(i,d,r),h=u.height+u.depth,p=Lt(l,d,r),m=p.height+p.depth,g=Lt(c,d,r),f=g.height+g.depth,b=0,E=1;if(null!==o){var y=Lt(o,d,r);b=y.height+y.depth,E=2}var S=h+f+b,C=Math.ceil((t-S)/(E*m)),A=S+C*E*m,I=n.fontMetrics().axisHeight;a&&(I*=n.sizeMultiplier);var T=A/2-I,k=[];if(k.push(Bt(c,d,r)),null===o)for(var O=0;O<C;O++)k.push(Bt(l,d,r));else{for(var _=0;_<C;_++)k.push(Bt(l,d,r));k.push(Bt(o,d,r));for(var M=0;M<C;M++)k.push(Bt(l,d,r))}k.push(Bt(i,d,r));var N=n.havingBaseStyle(v.TEXT),w=De.makeVList({positionType:"bottom",positionData:T,children:k},N);return Dt(De.makeSpan(["delimsizing","mult"],[w],N),v.TEXT,n,s)},jt=function(e,t,a,n){var r;"sqrtTall"===e&&(r="M702 80H400000v40H742v"+(a-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var s=new D(e,r),i=new L([s],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+a,preserveAspectRatio:"xMinYMin slice"});return De.makeSvgSpan(["hide-tail"],[i],n)},zt=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],qt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],Ht=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Vt=[0,1.2,1.8,2.4,3],Wt=[{type:"small",style:v.SCRIPTSCRIPT},{type:"small",style:v.SCRIPT},{type:"small",style:v.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Qt=[{type:"small",style:v.SCRIPTSCRIPT},{type:"small",style:v.SCRIPT},{type:"small",style:v.TEXT},{type:"stack"}],Yt=[{type:"small",style:v.SCRIPTSCRIPT},{type:"small",style:v.SCRIPT},{type:"small",style:v.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Kt=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Jt=function(e,t,a,n){for(var r=Math.min(2,3-n.style.size);r<a.length&&"stack"!==a[r].type;r++){var s=Lt(e,Kt(a[r]),"math"),i=s.height+s.depth;if("small"===a[r].type&&(i*=n.havingBaseStyle(a[r].style).sizeMultiplier),i>t)return a[r]}return a[a.length-1]},Zt=function(e,t,a,n,r,s){var i;"<"===e||"\\lt"===e||"\u27e8"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"\u27e9"!==e||(e="\\rangle"),i=u.contains(Ht,e)?Wt:u.contains(zt,e)?Yt:Qt;var o=Jt(e,t,i,n);return"small"===o.type?function(e,t,a,n,r,s){var i=De.makeSymbol(e,"Main-Regular",r,n),o=Dt(i,t,n,s);return a&&Ft(o,n,t),o}(e,o.style,a,n,r,s):"large"===o.type?Ut(e,o.size,a,n,r,s):Gt(e,t,a,n,r,s)},Xt=function(e,t){var a,n,r=t.havingBaseSizing(),s=Jt("\\surd",e*r.sizeMultiplier,Yt,r),i=r.sizeMultiplier,o=0,l=0,c=0;return"small"===s.type?(e<1?i=1:e<1.4&&(i=.7),l=1/i,(a=jt("sqrtMain",o=1.08/i,c=1080,t)).style.minWidth="0.853em",n=.833/i):"large"===s.type?(c=1080*Vt[s.size],l=Vt[s.size]/i,o=(Vt[s.size]+.08)/i,(a=jt("sqrtSize"+s.size,o,c,t)).style.minWidth="1.02em",n=1/i):(o=e+.08,l=e,c=Math.floor(1e3*e)+80,(a=jt("sqrtTall",o,c,t)).style.minWidth="0.742em",n=1.056),a.height=l,a.style.height=o+"em",{span:a,advanceWidth:n,ruleWidth:t.fontMetrics().sqrtRuleThickness*i}},$t=function(e,t,a,n,r){if("<"===e||"\\lt"===e||"\u27e8"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"\u27e9"!==e||(e="\\rangle"),u.contains(zt,e)||u.contains(Ht,e))return Ut(e,t,!1,a,n,r);if(u.contains(qt,e))return Gt(e,Vt[t],!1,a,n,r);throw new i("Illegal delimiter: '"+e+"'")},ea=Zt,ta=function(e,t,a,n,r,s){var i=n.fontMetrics().axisHeight*n.sizeMultiplier,o=5/n.fontMetrics().ptPerEm,l=Math.max(t-i,a+i),c=Math.max(l/500*901,2*l-o);return Zt(e,c,!0,n,r,s)},aa={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},na=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ra(e,t){var a=Ge(e);if(a&&u.contains(na,a.text))return a;throw new i("Invalid delimiter: '"+(a?a.text:JSON.stringify(e))+"' after '"+t.funcName+"'",e)}function sa(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ke({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(e,t){var a=ra(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:aa[e.funcName].size,mclass:aa[e.funcName].mclass,delim:a.text}},htmlBuilder:function(e,t){return"."===e.delim?De.makeSpan([e.mclass]):$t(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(gt(e.delim,e.mode));var a=new mt.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?a.setAttribute("fence","true"):a.setAttribute("fence","false"),a}}),Ke({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(e,t){return{type:"leftright-right",mode:e.parser.mode,delim:ra(t[0],e).text}}}),Ke({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(e,t){var a=ra(t[0],e),n=e.parser;++n.leftrightDepth;var r=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=Fe(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:r,left:a.text,right:s.delim}},htmlBuilder:function(e,t){sa(e);for(var a,n,r=nt(e.body,t,!0,["mopen","mclose"]),s=0,i=0,o=!1,l=0;l<r.length;l++)r[l].isMiddle?o=!0:(s=Math.max(r[l].height,s),i=Math.max(r[l].depth,i));if(s*=t.sizeMultiplier,i*=t.sizeMultiplier,a="."===e.left?ot(t,["mopen"]):ta(e.left,s,i,t,e.mode,["mopen"]),r.unshift(a),o)for(var c=1;c<r.length;c++){var d=r[c].isMiddle;d&&(r[c]=ta(d.delim,s,i,d.options,e.mode,[]))}return n="."===e.right?ot(t,["mclose"]):ta(e.right,s,i,t,e.mode,["mclose"]),r.push(n),De.makeSpan(["minner"],r,t)},mathmlBuilder:function(e,t){sa(e);var a=Et(e.body,t);if("."!==e.left){var n=new mt.MathNode("mo",[gt(e.left,e.mode)]);n.setAttribute("fence","true"),a.unshift(n)}if("."!==e.right){var r=new mt.MathNode("mo",[gt(e.right,e.mode)]);r.setAttribute("fence","true"),a.push(r)}return ft(a)}}),Ke({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(e,t){var a=ra(t[0],e);if(!e.parser.leftrightDepth)throw new i("\\middle without preceding \\left",a);return{type:"middle",mode:e.parser.mode,delim:a.text}},htmlBuilder:function(e,t){var a;if("."===e.delim)a=ot(t,[]);else{a=$t(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};a.isMiddle=n}return a},mathmlBuilder:function(e,t){var a="\\vert"===e.delim||"|"===e.delim?gt("|","text"):gt(e.delim,e.mode),n=new mt.MathNode("mo",[a]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var ia=function(e,t){var a,n,r=De.wrapFragment(lt(e.body,t),t),s=e.label.substr(1),i=t.sizeMultiplier,o=0,l=u.isCharacterBox(e.body);if("sout"===s)(a=De.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else{/cancel/.test(s)?l||r.classes.push("cancel-pad"):r.classes.push("boxpad");var c=0;c=/box/.test(s)?"colorbox"===s?.3:.34:l?.2:0,a=kt(r,s,c,t),o=r.depth+c,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}return n=e.backgroundColor?De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:o},{type:"elem",elem:r,shift:0}]},t):De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:o,wrapperClasses:/cancel/.test(s)?["svg-align"]:[]}]},t),/cancel/.test(s)&&(n.height=r.height,n.depth=r.depth),/cancel/.test(s)&&!l?De.makeSpan(["mord","cancel-lap"],[n],t):De.makeSpan(["mord"],[n],t)},oa=function(e,t){var a=new mt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[St(e.body,t)]);switch(e.label){case"\\cancel":a.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike");break;case"\\sout":a.setAttribute("notation","horizontalstrike");break;case"\\fbox":a.setAttribute("notation","box");break;case"\\fcolorbox":case"\\colorbox":if(a.setAttribute("width","+6pt"),a.setAttribute("height","+6pt"),a.setAttribute("lspace","3pt"),a.setAttribute("voffset","3pt"),"\\fcolorbox"===e.label){var n=t.fontMetrics().defaultRuleThickness;a.setAttribute("style","border: "+n+"em solid "+String(e.borderColor))}break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&a.setAttribute("mathbackground",e.backgroundColor),a};Ke({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(e,t,a){var n=e.parser,r=e.funcName,s=Fe(t[0],"color-token").color,i=t[1];return{type:"enclose",mode:n.mode,label:r,backgroundColor:s,body:i}},htmlBuilder:ia,mathmlBuilder:oa}),Ke({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(e,t,a){var n=e.parser,r=e.funcName,s=Fe(t[0],"color-token").color,i=Fe(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:n.mode,label:r,backgroundColor:i,borderColor:s,body:o}},htmlBuilder:ia,mathmlBuilder:oa}),Ke({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),Ke({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(e,t,a){var n=e.parser,r=e.funcName,s=t[0];return{type:"enclose",mode:n.mode,label:r,body:s}},htmlBuilder:ia,mathmlBuilder:oa});var la={};function ca(e){for(var t=e.type,a=e.names,n=e.props,r=e.handler,s=e.htmlBuilder,i=e.mathmlBuilder,o={type:t,numArgs:n.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<a.length;++l)la[a[l]]=o;s&&(Qe[t]=s),i&&(Ye[t]=i)}function da(e){var t=[];e.consumeSpaces();for(var a=e.nextToken.text;"\\hline"===a||"\\hdashline"===a;)e.consume(),t.push("\\hdashline"===a),e.consumeSpaces(),a=e.nextToken.text;return t}function ua(e,t,a){var n=t.hskipBeforeAndAfter,r=t.addJot,s=t.cols,o=t.arraystretch,l=t.colSeparationType;if(e.gullet.beginGroup(),e.gullet.macros.set("\\\\","\\cr"),!o){var c=e.gullet.expandMacroAsText("\\arraystretch");if(null==c)o=1;else if(!(o=parseFloat(c))||o<0)throw new i("Invalid \\arraystretch: "+c)}var d=[],u=[d],h=[],p=[];for(p.push(da(e));;){var m=e.parseExpression(!1,"\\cr");m={type:"ordgroup",mode:e.mode,body:m},a&&(m={type:"styling",mode:e.mode,style:a,body:[m]}),d.push(m);var g=e.nextToken.text;if("&"===g)e.consume();else{if("\\end"===g){1===d.length&&"styling"===m.type&&0===m.body[0].body.length&&u.pop(),p.length<u.length+1&&p.push([]);break}if("\\cr"!==g)throw new i("Expected & or \\\\ or \\cr or \\end",e.nextToken);var f=Fe(e.parseFunction(),"cr");h.push(f.size),p.push(da(e)),d=[],u.push(d)}}return e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:o,body:u,cols:s,rowGaps:h,hskipBeforeAndAfter:n,hLinesBeforeRow:p,colSeparationType:l}}function ha(e){return"d"===e.substr(0,1)?"display":"text"}var pa=function(e,t){var a,n,r=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(r),c=[],d=1/t.fontMetrics().ptPerEm,h=5*d,p=12*d,m=3*d,g=e.arraystretch*p,f=.7*g,b=.3*g,E=0;function y(e){for(var t=0;t<e.length;++t)t>0&&(E+=.25),c.push({pos:E,isDashed:e[t]})}for(y(s[0]),a=0;a<e.body.length;++a){var S=e.body[a],v=f,C=b;o<S.length&&(o=S.length);var A=new Array(S.length);for(n=0;n<S.length;++n){var I=lt(S[n],t);C<I.depth&&(C=I.depth),v<I.height&&(v=I.height),A[n]=I}var T=e.rowGaps[a],k=0;T&&(k=Ie(T,t))>0&&(C<(k+=b)&&(C=k),k=0),e.addJot&&(C+=m),A.height=v,A.depth=C,E+=v,A.pos=E,E+=C+k,l[a]=A,y(s[a+1])}var O,_,M=E/2+t.fontMetrics().axisHeight,N=e.cols||[],w=[];for(n=0,_=0;n<o||_<N.length;++n,++_){for(var P=N[_]||{},R=!0;"separator"===P.type;){if(R||((O=De.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",w.push(O)),"|"===P.separator){var x=De.makeSpan(["vertical-separator"],[],t);x.style.height=E+"em",x.style.verticalAlign=-(E-M)+"em",w.push(x)}else{if(":"!==P.separator)throw new i("Invalid separator type: "+P.separator);var L=De.makeSpan(["vertical-separator","vs-dashed"],[],t);L.style.height=E+"em",L.style.verticalAlign=-(E-M)+"em",w.push(L)}P=N[++_]||{},R=!1}if(!(n>=o)){var D=void 0;(n>0||e.hskipBeforeAndAfter)&&0!==(D=u.deflt(P.pregap,h))&&((O=De.makeSpan(["arraycolsep"],[])).style.width=D+"em",w.push(O));var F=[];for(a=0;a<r;++a){var U=l[a],B=U[n];if(B){var G=U.pos-M;B.depth=U.depth,B.height=U.height,F.push({type:"elem",elem:B,shift:G})}}F=De.makeVList({positionType:"individualShift",children:F},t),F=De.makeSpan(["col-align-"+(P.align||"c")],[F]),w.push(F),(n<o-1||e.hskipBeforeAndAfter)&&0!==(D=u.deflt(P.postgap,h))&&((O=De.makeSpan(["arraycolsep"],[])).style.width=D+"em",w.push(O))}}if(l=De.makeSpan(["mtable"],w),c.length>0){for(var j=De.makeLineSpan("hline",t,.05),z=De.makeLineSpan("hdashline",t,.05),q=[{type:"elem",elem:l,shift:0}];c.length>0;){var H=c.pop(),V=H.pos-M;H.isDashed?q.push({type:"elem",elem:z,shift:V}):q.push({type:"elem",elem:j,shift:V})}l=De.makeVList({positionType:"individualShift",children:q},t)}return De.makeSpan(["mord"],[l],t)},ma={c:"center ",l:"left ",r:"right "},ga=function(e,t){var a=new mt.MathNode("mtable",e.body.map((function(e){return new mt.MathNode("mtr",e.map((function(e){return new mt.MathNode("mtd",[St(e,t)])})))}))),n=.16+e.arraystretch-1+(e.addJot?.09:0);a.setAttribute("rowspacing",n+"em");var r="",s="";if(e.cols){var i=e.cols,o="",l=!1,c=0,d=i.length;"separator"===i[0].type&&(r+="top ",c=1),"separator"===i[i.length-1].type&&(r+="bottom ",d-=1);for(var u=c;u<d;u++)"align"===i[u].type?(s+=ma[i[u].align],l&&(o+="none "),l=!0):"separator"===i[u].type&&l&&(o+="|"===i[u].separator?"solid ":"dashed ",l=!1);a.setAttribute("columnalign",s.trim()),/[sd]/.test(o)&&a.setAttribute("columnlines",o.trim())}if("align"===e.colSeparationType){for(var h=e.cols||[],p="",m=1;m<h.length;m++)p+=m%2?"0em ":"1em ";a.setAttribute("columnspacing",p.trim())}else"alignat"===e.colSeparationType?a.setAttribute("columnspacing","0em"):a.setAttribute("columnspacing","1em");var g="",f=e.hLinesBeforeRow;r+=f[0].length>0?"left ":"",r+=f[f.length-1].length>0?"right ":"";for(var b=1;b<f.length-1;b++)g+=0===f[b].length?"none ":f[b][0]?"dashed ":"solid ";if(/[sd]/.test(g)&&a.setAttribute("rowlines",g.trim()),""===r)return a;var E=new mt.MathNode("menclose",[a]);return E.setAttribute("notation",r.trim()),E},fa=function(e,t){var a,n=[],r=ua(e.parser,{cols:n,addJot:!0},"display"),s=0,o={type:"ordgroup",mode:e.mode,body:[]},l=Ue(t[0],"ordgroup");if(l){for(var c="",d=0;d<l.body.length;d++)c+=Fe(l.body[d],"textord").text;a=Number(c),s=2*a}var u=!s;r.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var n=Fe(e[t],"styling");Fe(n.body[0],"ordgroup").body.unshift(o)}if(u)s<e.length&&(s=e.length);else{var r=e.length/2;if(a<r)throw new i("Too many math in a row: expected "+a+", but got "+r,e[0])}}));for(var h=0;h<s;++h){var p="r",m=0;h%2===1?p="l":h>0&&u&&(m=1),n[h]={type:"align",align:p,pregap:m,postgap:0}}return r.colSeparationType=u?"align":"alignat",r};ca({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var a={cols:(Ge(t[0])?[t[0]]:Fe(t[0],"ordgroup").body).map((function(e){var t=function(e){var t=Ge(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new i("Unknown column alignment: "+t,e)})),hskipBeforeAndAfter:!0};return ua(e.parser,a,ha(e.envName))},htmlBuilder:pa,mathmlBuilder:ga}),ca({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],a=ua(e.parser,{hskipBeforeAndAfter:!1},ha(e.envName));return t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1]}:a},htmlBuilder:pa,mathmlBuilder:ga}),ca({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(e){var t=ua(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},ha(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:"\\{",right:"."}},htmlBuilder:pa,mathmlBuilder:ga}),ca({type:"array",names:["aligned"],props:{numArgs:0},handler:fa,htmlBuilder:pa,mathmlBuilder:ga}),ca({type:"array",names:["gathered"],props:{numArgs:0},handler:function(e){return ua(e.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:pa,mathmlBuilder:ga}),ca({type:"array",names:["alignedat"],props:{numArgs:1},handler:fa,htmlBuilder:pa,mathmlBuilder:ga}),Ke({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new i(e.funcName+" valid only within array environment")}});var ba=la;Ke({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var a=e.parser,n=e.funcName,r=t[0];if("ordgroup"!==r.type)throw new i("Invalid environment name",r);for(var s="",o=0;o<r.body.length;++o)s+=Fe(r.body[o],"textord").text;if("\\begin"===n){if(!ba.hasOwnProperty(s))throw new i("No such environment: "+s,r);var l=ba[s],c=a.parseArguments("\\begin{"+s+"}",l),d=c.args,u=c.optArgs,h={mode:a.mode,envName:s,parser:a},p=l.handler(h,d,u);a.expect("\\end",!1);var m=a.nextToken,g=Fe(a.parseFunction(),"environment");if(g.name!==s)throw new i("Mismatch: \\begin{"+s+"} matched by \\end{"+g.name+"}",m);return p}return{type:"environment",mode:a.mode,name:s,nameGroup:r}}});var Ea=De.makeSpan;function ya(e,t){var a=nt(e.body,t,!0);return Ea([e.mclass],a,t)}function Sa(e,t){var a=Et(e.body,t);return mt.newDocumentFragment(a)}Ke({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(e,t){var a=e.parser,n=e.funcName,r=t[0];return{type:"mclass",mode:a.mode,mclass:"m"+n.substr(5),body:Ze(r)}},htmlBuilder:ya,mathmlBuilder:Sa});var va=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};Ke({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:va(t[0]),body:[t[1]]}}}),Ke({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var a,n=e.parser,r=e.funcName,s=t[1],i=t[0];a="\\stackrel"!==r?va(s):"mrel";var o={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==r,body:Ze(s)},l={type:"supsub",mode:i.mode,base:o,sup:"\\underset"===r?null:i,sub:"\\underset"===r?i:null};return{type:"mclass",mode:n.mode,mclass:a,body:[l]}},htmlBuilder:ya,mathmlBuilder:Sa});var Ca=function(e,t){var a=e.font,n=t.withFont(a);return lt(e.body,n)},Aa=function(e,t){var a=e.font,n=t.withFont(a);return St(e.body,n)},Ia={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ke({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(e,t){var a=e.parser,n=e.funcName,r=t[0],s=n;return s in Ia&&(s=Ia[s]),{type:"font",mode:a.mode,font:s.slice(1),body:r}},htmlBuilder:Ca,mathmlBuilder:Aa}),Ke({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(e,t){var a=e.parser,n=t[0];return{type:"mclass",mode:a.mode,mclass:va(n),body:[{type:"font",mode:a.mode,font:"boldsymbol",body:n}]}}}),Ke({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var a=e.parser,n=e.funcName,r=e.breakOnTokenText,s=a.mode,i=a.parseExpression(!0,r);return{type:"font",mode:s,font:"math"+n.slice(1),body:{type:"ordgroup",mode:a.mode,body:i}}},htmlBuilder:Ca,mathmlBuilder:Aa});var Ta=function(e,t){var a=t;return"display"===e?a=a.id>=v.SCRIPT.id?a.text():v.DISPLAY:"text"===e&&a.size===v.DISPLAY.size?a=v.TEXT:"script"===e?a=v.SCRIPT:"scriptscript"===e&&(a=v.SCRIPTSCRIPT),a},ka=function(e,t){var a,n=Ta(e.size,t.style),r=n.fracNum(),s=n.fracDen();a=t.havingStyle(r);var i=lt(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;i.height=i.height<o?o:i.height,i.depth=i.depth<l?l:i.depth}a=t.havingStyle(s);var c,d,u,h,p,m,g,f,b,E,y=lt(e.denom,a,t);if(e.hasBarLine?(e.barSize?(d=Ie(e.barSize,t),c=De.makeLineSpan("frac-line",t,d)):c=De.makeLineSpan("frac-line",t),d=c.height,u=c.height):(c=null,d=0,u=t.fontMetrics().defaultRuleThickness),n.size===v.DISPLAY.size||"display"===e.size?(h=t.fontMetrics().num1,p=d>0?3*u:7*u,m=t.fontMetrics().denom1):(d>0?(h=t.fontMetrics().num2,p=u):(h=t.fontMetrics().num3,p=3*u),m=t.fontMetrics().denom2),c){var S=t.fontMetrics().axisHeight;h-i.depth-(S+.5*d)<p&&(h+=p-(h-i.depth-(S+.5*d))),S-.5*d-(y.height-m)<p&&(m+=p-(S-.5*d-(y.height-m)));var C=-(S-.5*d);g=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:m},{type:"elem",elem:c,shift:C},{type:"elem",elem:i,shift:-h}]},t)}else{var A=h-i.depth-(y.height-m);A<p&&(h+=.5*(p-A),m+=.5*(p-A)),g=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:m},{type:"elem",elem:i,shift:-h}]},t)}return a=t.havingStyle(n),g.height*=a.sizeMultiplier/t.sizeMultiplier,g.depth*=a.sizeMultiplier/t.sizeMultiplier,f=n.size===v.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2,b=null==e.leftDelim?ot(t,["mopen"]):ea(e.leftDelim,f,!0,t.havingStyle(n),e.mode,["mopen"]),E=e.continued?De.makeSpan([]):null==e.rightDelim?ot(t,["mclose"]):ea(e.rightDelim,f,!0,t.havingStyle(n),e.mode,["mclose"]),De.makeSpan(["mord"].concat(a.sizingClasses(t)),[b,De.makeSpan(["mfrac"],[g]),E],t)},Oa=function(e,t){var a=new mt.MathNode("mfrac",[St(e.numer,t),St(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=Ie(e.barSize,t);a.setAttribute("linethickness",n+"em")}}else a.setAttribute("linethickness","0px");var r=Ta(e.size,t.style);if(r.size!==t.style.size){a=new mt.MathNode("mstyle",[a]);var s=r.size===v.DISPLAY.size?"true":"false";a.setAttribute("displaystyle",s),a.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var i=[];if(null!=e.leftDelim){var o=new mt.MathNode("mo",[new mt.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),i.push(o)}if(i.push(a),null!=e.rightDelim){var l=new mt.MathNode("mo",[new mt.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),i.push(l)}return ft(i)}return a};Ke({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(e,t){var a,n=e.parser,r=e.funcName,s=t[0],i=t[1],o=null,l=null,c="auto";switch(r){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\cfrac":case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:n.mode,continued:"\\cfrac"===r,numer:s,denom:i,hasBarLine:a,leftDelim:o,rightDelim:l,size:c,barSize:null}},htmlBuilder:ka,mathmlBuilder:Oa}),Ke({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,a=e.parser,n=e.funcName,r=e.token;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:a.mode,replaceWith:t,token:r}}});var _a=["display","text","script","scriptscript"],Ma=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};Ke({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var a=e.parser,n=t[4],r=t[5],s=Ue(t[0],"atom");s&&(s=Be(t[0],"open"));var i=s?Ma(s.text):null,o=Ue(t[1],"atom");o&&(o=Be(t[1],"close"));var l,c=o?Ma(o.text):null,d=Fe(t[2],"size"),u=null;l=!!d.isBlank||(u=d.value).number>0;var h="auto",p=Ue(t[3],"ordgroup");if(p){if(p.body.length>0){var m=Fe(p.body[0],"textord");h=_a[Number(m.text)]}}else p=Fe(t[3],"textord"),h=_a[Number(p.text)];return{type:"genfrac",mode:a.mode,numer:n,denom:r,continued:!1,hasBarLine:l,barSize:u,leftDelim:i,rightDelim:c,size:h}},htmlBuilder:ka,mathmlBuilder:Oa}),Ke({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var a=e.parser,n=(e.funcName,e.token);return{type:"infix",mode:a.mode,replaceWith:"\\\\abovefrac",size:Fe(t[0],"size").value,token:n}}}),Ke({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var a=e.parser,n=(e.funcName,t[0]),r=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Fe(t[1],"infix").size),s=t[2],i=r.number>0;return{type:"genfrac",mode:a.mode,numer:n,denom:s,continued:!1,hasBarLine:i,barSize:r,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ka,mathmlBuilder:Oa});var Na=function(e,t){var a,n,r=t.style,s=Ue(e,"supsub");s?(a=s.sup?lt(s.sup,t.havingStyle(r.sup()),t):lt(s.sub,t.havingStyle(r.sub()),t),n=Fe(s.base,"horizBrace")):n=Fe(e,"horizBrace");var i,o=lt(n.base,t.havingBaseStyle(v.DISPLAY)),l=_t(n,t);if(n.isOver?(i=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(i=De.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[0].classes.push("svg-align"),a){var c=De.makeSpan(["mord",n.isOver?"mover":"munder"],[i],t);i=n.isOver?De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:a}]},t):De.makeVList({positionType:"bottom",positionData:c.depth+.2+a.height+a.depth,children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:c}]},t)}return De.makeSpan(["mord",n.isOver?"mover":"munder"],[i],t)};Ke({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var a=e.parser,n=e.funcName;return{type:"horizBrace",mode:a.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:Na,mathmlBuilder:function(e,t){var a=Ot(e.label);return new mt.MathNode(e.isOver?"mover":"munder",[St(e.base,t),a])}}),Ke({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var a=e.parser,n=t[1],r=Fe(t[0],"url").url;return{type:"href",mode:a.mode,href:r,body:Ze(n)}},htmlBuilder:function(e,t){var a=nt(e.body,t,!1);return De.makeAnchor(e.href,[],a,t)},mathmlBuilder:function(e,t){var a=yt(e.body,t);return a instanceof ht||(a=new ht("mrow",[a])),a.setAttribute("href",e.href),a}}),Ke({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){for(var a=e.parser,n=Fe(t[0],"url").url,r=[],s=0;s<n.length;s++){var i=n[s];"~"===i&&(i="\\textasciitilde"),r.push({type:"textord",mode:"text",text:i})}var o={type:"text",mode:a.mode,font:"\\texttt",body:r};return{type:"href",mode:a.mode,href:n,body:Ze(o)}}}),Ke({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:Ze(t[0]),mathml:Ze(t[1])}},htmlBuilder:function(e,t){var a=nt(e.html,t,!1);return De.makeFragment(a)},mathmlBuilder:function(e,t){return yt(e.mathml,t)}}),Ke({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t){var a=e.parser,n=e.funcName,r=Fe(t[0],"size");if(a.settings.strict){var s="m"===n[1],i="mu"===r.value.unit;s?(i||a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+r.value.unit+" units"),"math"!==a.mode&&a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):i&&a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:a.mode,dimension:r.value}},htmlBuilder:function(e,t){return De.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var a=Ie(e.dimension,t);return new mt.SpaceNode(a)}}),Ke({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var a=e.parser,n=e.funcName,r=t[0];return{type:"lap",mode:a.mode,alignment:n.slice(5),body:r}},htmlBuilder:function(e,t){var a;"clap"===e.alignment?(a=De.makeSpan([],[lt(e.body,t)]),a=De.makeSpan(["inner"],[a],t)):a=De.makeSpan(["inner"],[lt(e.body,t)]);var n=De.makeSpan(["fix"],[]),r=De.makeSpan([e.alignment],[a,n],t),s=De.makeSpan(["strut"]);return s.style.height=r.height+r.depth+"em",s.style.verticalAlign=-r.depth+"em",r.children.unshift(s),r=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),De.makeSpan(["mord"],[r],t)},mathmlBuilder:function(e,t){var a=new mt.MathNode("mpadded",[St(e.body,t)]);if("rlap"!==e.alignment){var n="llap"===e.alignment?"-1":"-0.5";a.setAttribute("lspace",n+"width")}return a.setAttribute("width","0px"),a}}),Ke({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1,consumeMode:"math"},handler:function(e,t){var a=e.funcName,n=e.parser,r=n.mode;n.switchMode("math");var s="\\("===a?"\\)":"$",i=n.parseExpression(!1,s);return n.expect(s,!1),n.switchMode(r),n.consume(),{type:"styling",mode:n.mode,style:"text",body:i}}}),Ke({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new i("Mismatched "+e.funcName)}});var wa=function(e,t){switch(t.style.size){case v.DISPLAY.size:return e.display;case v.TEXT.size:return e.text;case v.SCRIPT.size:return e.script;case v.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ke({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:Ze(t[0]),text:Ze(t[1]),script:Ze(t[2]),scriptscript:Ze(t[3])}},htmlBuilder:function(e,t){var a=wa(e,t),n=nt(a,t,!1);return De.makeFragment(n)},mathmlBuilder:function(e,t){var a=wa(e,t);return yt(a,t)}});var Pa=["\\smallint"],Ra=function(e,t){var a,n,r,s=!1,i=Ue(e,"supsub");i?(a=i.sup,n=i.sub,r=Fe(i.base,"op"),s=!0):r=Fe(e,"op");var o,l=t.style,c=!1;if(l.size===v.DISPLAY.size&&r.symbol&&!u.contains(Pa,r.name)&&(c=!0),r.symbol){var d=c?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==r.name&&"\\oiiint"!==r.name||(h=r.name.substr(1),r.name="oiint"===h?"\\iint":"\\iiint"),o=De.makeSymbol(r.name,d,"math",t,["mop","op-symbol",c?"large-op":"small-op"]),h.length>0){var p=o.italic,m=De.staticSvg(h+"Size"+(c?"2":"1"),t);o=De.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:m,shift:c?.08:0}]},t),r.name="\\"+h,o.classes.unshift("mop"),o.italic=p}}else if(r.body){var g=nt(r.body,t,!0);1===g.length&&g[0]instanceof x?(o=g[0]).classes[0]="mop":o=De.makeSpan(["mop"],De.tryCombineChars(g),t)}else{for(var f=[],b=1;b<r.name.length;b++)f.push(De.mathsym(r.name[b],r.mode));o=De.makeSpan(["mop"],f,t)}var E=0,y=0;if((o instanceof x||"\\oiint"===r.name||"\\oiiint"===r.name)&&!r.suppressBaseShift&&(E=(o.height-o.depth)/2-t.fontMetrics().axisHeight,y=o.italic),s){var S,C,A;if(o=De.makeSpan([],[o]),a){var I=lt(a,t.havingStyle(l.sup()),t);C={elem:I,kern:Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-I.depth)}}if(n){var T=lt(n,t.havingStyle(l.sub()),t);S={elem:T,kern:Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-T.height)}}if(C&&S){var k=t.fontMetrics().bigOpSpacing5+S.elem.height+S.elem.depth+S.kern+o.depth+E;A=De.makeVList({positionType:"bottom",positionData:k,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:S.elem,marginLeft:-y+"em"},{type:"kern",size:S.kern},{type:"elem",elem:o},{type:"kern",size:C.kern},{type:"elem",elem:C.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}else if(S){var O=o.height-E;A=De.makeVList({positionType:"top",positionData:O,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:S.elem,marginLeft:-y+"em"},{type:"kern",size:S.kern},{type:"elem",elem:o}]},t)}else{if(!C)return o;var _=o.depth+E;A=De.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:o},{type:"kern",size:C.kern},{type:"elem",elem:C.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}return De.makeSpan(["mop","op-limits"],[A],t)}return E&&(o.style.position="relative",o.style.top=E+"em"),o},xa=function(e,t){var a;if(e.symbol)a=new ht("mo",[gt(e.name,e.mode)]),u.contains(Pa,e.name)&&a.setAttribute("largeop","false");else if(e.body)a=new ht("mo",Et(e.body,t));else{a=new ht("mi",[new pt(e.name.slice(1))]);var n=new ht("mo",[gt("\u2061","text")]);a=e.parentIsSupSub?new ht("mo",[a,n]):ut([a,n])}return a},La={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};Ke({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:function(e,t){var a=e.parser,n=e.funcName;return 1===n.length&&(n=La[n]),{type:"op",mode:a.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Ra,mathmlBuilder:xa}),Ke({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var a=e.parser,n=t[0];return{type:"op",mode:a.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ze(n)}},htmlBuilder:Ra,mathmlBuilder:xa});var Da={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};function Fa(e,t,a){for(var n=nt(e,t,!1),r=t.sizeMultiplier/a.sizeMultiplier,s=0;s<n.length;s++){var i=n[s].classes.indexOf("sizing");i<0?Array.prototype.push.apply(n[s].classes,t.sizingClasses(a)):n[s].classes[i+1]==="reset-size"+t.size&&(n[s].classes[i+1]="reset-size"+a.size),n[s].height*=r,n[s].depth*=r}return De.makeFragment(n)}Ke({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,a=e.funcName;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:a}},htmlBuilder:Ra,mathmlBuilder:xa}),Ke({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,a=e.funcName;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:a}},htmlBuilder:Ra,mathmlBuilder:xa}),Ke({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0},handler:function(e){var t=e.parser,a=e.funcName;return 1===a.length&&(a=Da[a]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Ra,mathmlBuilder:xa}),Ke({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(e,t){var a=e.parser,n=t[0];return{type:"operatorname",mode:a.mode,body:Ze(n)}},htmlBuilder:function(e,t){if(e.body.length>0){for(var a=e.body.map((function(e){var t=e.text;return"string"===typeof t?{type:"textord",mode:e.mode,text:t}:e})),n=nt(a,t.withFont("mathrm"),!0),r=0;r<n.length;r++){var s=n[r];s instanceof x&&(s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}return De.makeSpan(["mop"],n,t)}return De.makeSpan(["mop"],[],t)},mathmlBuilder:function(e,t){for(var a=Et(e.body,t.withFont("mathrm")),n=!0,r=0;r<a.length;r++){var s=a[r];if(s instanceof mt.SpaceNode);else if(s instanceof mt.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var i=s.children[0];1===s.children.length&&i instanceof mt.TextNode?i.text=i.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var o=a.map((function(e){return e.toText()})).join("");a=[new mt.TextNode(o)]}var l=new mt.MathNode("mi",a);l.setAttribute("mathvariant","normal");var c=new mt.MathNode("mo",[gt("\u2061","text")]);return mt.newDocumentFragment([l,c])}}),Je({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?De.makeFragment(nt(e.body,t,!1)):De.makeSpan(["mord"],nt(e.body,t,!0),t)},mathmlBuilder:function(e,t){return yt(e.body,t)}}),Ke({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var a=e.parser,n=t[0];return{type:"overline",mode:a.mode,body:n}},htmlBuilder:function(e,t){var a=lt(e.body,t.havingCrampedStyle()),n=De.makeLineSpan("overline-line",t),r=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:3*n.height},{type:"elem",elem:n},{type:"kern",size:n.height}]},t);return De.makeSpan(["mord","overline"],[r],t)},mathmlBuilder:function(e,t){var a=new mt.MathNode("mo",[new mt.TextNode("\u203e")]);a.setAttribute("stretchy","true");var n=new mt.MathNode("mover",[St(e.body,t),a]);return n.setAttribute("accent","true"),n}}),Ke({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var a=e.parser,n=t[0];return{type:"phantom",mode:a.mode,body:Ze(n)}},htmlBuilder:function(e,t){var a=nt(e.body,t.withPhantom(),!1);return De.makeFragment(a)},mathmlBuilder:function(e,t){var a=Et(e.body,t);return new mt.MathNode("mphantom",a)}}),Ke({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var a=e.parser,n=t[0];return{type:"hphantom",mode:a.mode,body:n}},htmlBuilder:function(e,t){var a=De.makeSpan([],[lt(e.body,t.withPhantom())]);if(a.height=0,a.depth=0,a.children)for(var n=0;n<a.children.length;n++)a.children[n].height=0,a.children[n].depth=0;return a=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a}]},t),De.makeSpan(["mord"],[a],t)},mathmlBuilder:function(e,t){var a=Et(Ze(e.body),t),n=new mt.MathNode("mphantom",a),r=new mt.MathNode("mpadded",[n]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}}),Ke({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var a=e.parser,n=t[0];return{type:"vphantom",mode:a.mode,body:n}},htmlBuilder:function(e,t){var a=De.makeSpan(["inner"],[lt(e.body,t.withPhantom())]),n=De.makeSpan(["fix"],[]);return De.makeSpan(["mord","rlap"],[a,n],t)},mathmlBuilder:function(e,t){var a=Et(Ze(e.body),t),n=new mt.MathNode("mphantom",a),r=new mt.MathNode("mpadded",[n]);return r.setAttribute("width","0px"),r}});var Ua=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Ba=function(e,t){var a=t.havingSize(e.size);return Fa(e.body,a,t)};Ke({type:"sizing",names:Ua,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var a=e.breakOnTokenText,n=e.funcName,r=e.parser,s=r.parseExpression(!1,a);return{type:"sizing",mode:r.mode,size:Ua.indexOf(n)+1,body:s}},htmlBuilder:Ba,mathmlBuilder:function(e,t){var a=t.havingSize(e.size),n=Et(e.body,a),r=new mt.MathNode("mstyle",n);return r.setAttribute("mathsize",a.sizeMultiplier+"em"),r}}),Ke({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","text"],allowedInText:!0},handler:function(e,t){var a=e.parser,n=Fe(t[0],"size").value,r=t[1];return{type:"raisebox",mode:a.mode,dy:n,body:r}},htmlBuilder:function(e,t){var a={type:"text",mode:e.mode,body:Ze(e.body),font:"mathrm"},n={type:"sizing",mode:e.mode,body:[a],size:6},r=Ba(n,t),s=Ie(e.dy,t);return De.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var a=new mt.MathNode("mpadded",[St(e.body,t)]),n=e.dy.number+e.dy.unit;return a.setAttribute("voffset",n),a}}),Ke({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,a){var n=e.parser,r=a[0],s=Fe(t[0],"size"),i=Fe(t[1],"size");return{type:"rule",mode:n.mode,shift:r&&Fe(r,"size").value,width:s.value,height:i.value}},htmlBuilder:function(e,t){var a=De.makeSpan(["mord","rule"],[],t),n=Ie(e.width,t),r=Ie(e.height,t),s=e.shift?Ie(e.shift,t):0;return a.style.borderRightWidth=n+"em",a.style.borderTopWidth=r+"em",a.style.bottom=s+"em",a.width=n,a.height=r+s,a.depth=-s,a.maxFontSize=1.125*r*t.sizeMultiplier,a},mathmlBuilder:function(e,t){var a=Ie(e.width,t),n=Ie(e.height,t),r=e.shift?Ie(e.shift,t):0,s=t.color&&t.getColor()||"black",i=new mt.MathNode("mspace");i.setAttribute("mathbackground",s),i.setAttribute("width",a+"em"),i.setAttribute("height",n+"em");var o=new mt.MathNode("mpadded",[i]);return r>=0?o.setAttribute("height","+"+r+"em"):(o.setAttribute("height",r+"em"),o.setAttribute("depth","+"+-r+"em")),o.setAttribute("voffset",r+"em"),o}}),Ke({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,a){var n=e.parser,r=!1,s=!1,i=a[0]&&Fe(a[0],"ordgroup");if(i)for(var o="",l=0;l<i.body.length;++l)if("t"===(o=i.body[l].text))r=!0;else{if("b"!==o){r=!1,s=!1;break}s=!0}else r=!0,s=!0;var c=t[0];return{type:"smash",mode:n.mode,body:c,smashHeight:r,smashDepth:s}},htmlBuilder:function(e,t){var a=De.makeSpan([],[lt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return a;if(e.smashHeight&&(a.height=0,a.children))for(var n=0;n<a.children.length;n++)a.children[n].height=0;if(e.smashDepth&&(a.depth=0,a.children))for(var r=0;r<a.children.length;r++)a.children[r].depth=0;var s=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a}]},t);return De.makeSpan(["mord"],[s],t)},mathmlBuilder:function(e,t){var a=new mt.MathNode("mpadded",[St(e.body,t)]);return e.smashHeight&&a.setAttribute("height","0px"),e.smashDepth&&a.setAttribute("depth","0px"),a}}),Ke({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,a){var n=e.parser,r=a[0],s=t[0];return{type:"sqrt",mode:n.mode,body:s,index:r}},htmlBuilder:function(e,t){var a=lt(e.body,t.havingCrampedStyle());0===a.height&&(a.height=t.fontMetrics().xHeight),a=De.wrapFragment(a,t);var n=t.fontMetrics().defaultRuleThickness,r=n;t.style.id<v.TEXT.id&&(r=t.fontMetrics().xHeight);var s=n+r/4,i=a.height+a.depth+s+n,o=Xt(i,t),l=o.span,c=o.ruleWidth,d=o.advanceWidth,u=l.height-c;u>a.height+a.depth+s&&(s=(s+u-a.height-a.depth)/2);var h=l.height-a.height-s-c;a.style.paddingLeft=d+"em";var p=De.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:-(a.height+h)},{type:"elem",elem:l},{type:"kern",size:c}]},t);if(e.index){var m=t.havingStyle(v.SCRIPTSCRIPT),g=lt(e.index,m,t),f=.6*(p.height-p.depth),b=De.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:g}]},t),E=De.makeSpan(["root"],[b]);return De.makeSpan(["mord","sqrt"],[E,p],t)}return De.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder:function(e,t){var a=e.body,n=e.index;return n?new mt.MathNode("mroot",[St(a,t),St(n,t)]):new mt.MathNode("msqrt",[St(a,t)])}});var Ga={display:v.DISPLAY,text:v.TEXT,script:v.SCRIPT,scriptscript:v.SCRIPTSCRIPT};Ke({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var a=e.breakOnTokenText,n=e.funcName,r=e.parser,s=r.parseExpression(!0,a),i=n.slice(1,n.length-5);return{type:"styling",mode:r.mode,style:i,body:s}},htmlBuilder:function(e,t){var a=Ga[e.style],n=t.havingStyle(a).withFont("");return Fa(e.body,n,t)},mathmlBuilder:function(e,t){var a={display:v.DISPLAY,text:v.TEXT,script:v.SCRIPT,scriptscript:v.SCRIPTSCRIPT}[e.style],n=t.havingStyle(a),r=Et(e.body,n),s=new mt.MathNode("mstyle",r),i={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return s.setAttribute("scriptlevel",i[0]),s.setAttribute("displaystyle",i[1]),s}}),Je({type:"supsub",htmlBuilder:function(e,t){var a=function(e,t){var a=e.base;return a?"op"===a.type?a.limits&&(t.style.size===v.DISPLAY.size||a.alwaysHandleSupSub)?Ra:null:"accent"===a.type?u.isCharacterBox(a.base)?Mt:null:"horizBrace"===a.type&&!e.sub===a.isOver?Na:null:null}(e,t);if(a)return a(e,t);var n,r,s,i=e.base,o=e.sup,l=e.sub,c=lt(i,t),d=t.fontMetrics(),h=0,p=0,m=i&&u.isCharacterBox(i);if(o){var g=t.havingStyle(t.style.sup());n=lt(o,g,t),m||(h=c.height-g.fontMetrics().supDrop*g.sizeMultiplier/t.sizeMultiplier)}if(l){var f=t.havingStyle(t.style.sub());r=lt(l,f,t),m||(p=c.depth+f.fontMetrics().subDrop*f.sizeMultiplier/t.sizeMultiplier)}s=t.style===v.DISPLAY?d.sup1:t.style.cramped?d.sup3:d.sup2;var b,E=t.sizeMultiplier,y=.5/d.ptPerEm/E+"em",S=null;if(r){var C=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof x||C)&&(S=-c.italic+"em")}if(n&&r){h=Math.max(h,s,n.depth+.25*d.xHeight),p=Math.max(p,d.sub2);var A=4*d.defaultRuleThickness;if(h-n.depth-(r.height-p)<A){p=A-(h-n.depth)+r.height;var I=.8*d.xHeight-(h-n.depth);I>0&&(h+=I,p-=I)}var T=[{type:"elem",elem:r,shift:p,marginRight:y,marginLeft:S},{type:"elem",elem:n,shift:-h,marginRight:y}];b=De.makeVList({positionType:"individualShift",children:T},t)}else if(r){p=Math.max(p,d.sub1,r.height-.8*d.xHeight);var k=[{type:"elem",elem:r,marginLeft:S,marginRight:y}];b=De.makeVList({positionType:"shift",positionData:p,children:k},t)}else{if(!n)throw new Error("supsub must have either sup or sub.");h=Math.max(h,s,n.depth+.25*d.xHeight),b=De.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:n,marginRight:y}]},t)}var O=it(c,"right")||"mord";return De.makeSpan([O],[c,De.makeSpan(["msupsub"],[b])],t)},mathmlBuilder:function(e,t){var a,n=!1,r=Ue(e.base,"horizBrace");r&&!!e.sup===r.isOver&&(n=!0,a=r.isOver),e.base&&"op"===e.base.type&&(e.base.parentIsSupSub=!0);var s,i=[St(e.base,t)];if(e.sub&&i.push(St(e.sub,t)),e.sup&&i.push(St(e.sup,t)),n)s=a?"mover":"munder";else if(e.sub)if(e.sup){var o=e.base;s=o&&"op"===o.type&&o.limits&&t.style===v.DISPLAY?"munderover":"msubsup"}else{var l=e.base;s=l&&"op"===l.type&&l.limits&&(t.style===v.DISPLAY||l.alwaysHandleSupSub)?"munder":"msub"}else{var c=e.base;s=c&&"op"===c.type&&c.limits&&(t.style===v.DISPLAY||c.alwaysHandleSupSub)?"mover":"msup"}return new mt.MathNode(s,i)}}),Je({type:"atom",htmlBuilder:function(e,t){return De.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var a=new mt.MathNode("mo",[gt(e.text,e.mode)]);if("bin"===e.family){var n=bt(e,t);"bold-italic"===n&&a.setAttribute("mathvariant",n)}else"punct"===e.family?a.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||a.setAttribute("stretchy","false");return a}});var ja={mi:"italic",mn:"normal",mtext:"normal"};Je({type:"mathord",htmlBuilder:function(e,t){return De.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var a=new mt.MathNode("mi",[gt(e.text,e.mode,t)]),n=bt(e,t)||"italic";return n!==ja[a.type]&&a.setAttribute("mathvariant",n),a}}),Je({type:"textord",htmlBuilder:function(e,t){return De.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var a,n=gt(e.text,e.mode,t),r=bt(e,t)||"normal";return a="text"===e.mode?new mt.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new mt.MathNode("mn",[n]):"\\prime"===e.text?new mt.MathNode("mo",[n]):new mt.MathNode("mi",[n]),r!==ja[a.type]&&a.setAttribute("mathvariant",r),a}});var za={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},qa={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Je({type:"spacing",htmlBuilder:function(e,t){if(qa.hasOwnProperty(e.text)){var a=qa[e.text].className||"";if("text"===e.mode){var n=De.makeOrd(e,t,"textord");return n.classes.push(a),n}return De.makeSpan(["mspace",a],[De.mathsym(e.text,e.mode,t)],t)}if(za.hasOwnProperty(e.text))return De.makeSpan(["mspace",za[e.text]],[],t);throw new i('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!qa.hasOwnProperty(e.text)){if(za.hasOwnProperty(e.text))return new mt.MathNode("mspace");throw new i('Unknown type of space "'+e.text+'"')}return new mt.MathNode("mtext",[new mt.TextNode("\xa0")])}});var Ha=function(){var e=new mt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Je({type:"tag",mathmlBuilder:function(e,t){var a=new mt.MathNode("mtable",[new mt.MathNode("mtr",[Ha(),new mt.MathNode("mtd",[yt(e.body,t)]),Ha(),new mt.MathNode("mtd",[yt(e.tag,t)])])]);return a.setAttribute("width","100%"),a}});var Va={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Wa={"\\textbf":"textbf","\\textmd":"textmd"},Qa={"\\textit":"textit","\\textup":"textup"},Ya=function(e,t){var a=e.font;return a?Va[a]?t.withTextFontFamily(Va[a]):Wa[a]?t.withTextFontWeight(Wa[a]):t.withTextFontShape(Qa[a]):t};Ke({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0,consumeMode:"text"},handler:function(e,t){var a=e.parser,n=e.funcName,r=t[0];return{type:"text",mode:a.mode,body:Ze(r),font:n}},htmlBuilder:function(e,t){var a=Ya(e,t),n=nt(e.body,a,!0);return De.makeSpan(["mord","text"],De.tryCombineChars(n),a)},mathmlBuilder:function(e,t){var a=Ya(e,t);return yt(e.body,a)}}),Ke({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var a=lt(e.body,t),n=De.makeLineSpan("underline-line",t),r=De.makeVList({positionType:"top",positionData:a.height,children:[{type:"kern",size:n.height},{type:"elem",elem:n},{type:"kern",size:3*n.height},{type:"elem",elem:a}]},t);return De.makeSpan(["mord","underline"],[r],t)},mathmlBuilder:function(e,t){var a=new mt.MathNode("mo",[new mt.TextNode("\u203e")]);a.setAttribute("stretchy","true");var n=new mt.MathNode("munder",[St(e.body,t),a]);return n.setAttribute("accentunder","true"),n}}),Ke({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,a){throw new i("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var a=Ka(e),n=[],r=t.havingStyle(t.style.text()),s=0;s<a.length;s++){var i=a[s];"~"===i&&(i="\\textasciitilde"),n.push(De.makeSymbol(i,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return De.makeSpan(["mord","text"].concat(r.sizingClasses(t)),De.tryCombineChars(n),r)},mathmlBuilder:function(e,t){var a=new mt.TextNode(Ka(e)),n=new mt.MathNode("mtext",[a]);return n.setAttribute("mathvariant","monospace"),n}});var Ka=function(e){return e.body.replace(/ /g,e.star?"\u2423":"\xa0")},Ja=We,Za=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),Xa=new RegExp("[\u0300-\u036f]+$"),$a=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp("([ \r\n\t]+)|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff][\u0300-\u036f]*|[\ud800-\udbff][\udc00-\udfff][\u0300-\u036f]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new r("EOF",new n(this,t,t));var a=this.tokenRegex.exec(e);if(null===a||a.index!==t)throw new i("Unexpected character: '"+e[t]+"'",new r(e[t],new n(this,t,t+1)));var s=a[2]||" ";if(14===this.catcodes[s]){var o=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===o?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}var l=s.match(Za);return l&&(s=l[1]),new r(s,new n(this,t,this.tokenRegex.lastIndex))},e}(),en=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new i("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,a){if(void 0===a&&(a=!1),a){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var r=this.undefStack[this.undefStack.length-1];r&&!r.hasOwnProperty(e)&&(r[e]=this.current[e])}this.current[e]=t},e}(),tn={},an=tn;function nn(e,t){tn[e]=t}nn("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),nn("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),nn("\\@ifnextchar",(function(e){var t=e.consumeArgs(3),a=e.future();return 1===t[0].length&&t[0][0].text===a.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),nn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),nn("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};nn("\\char",(function(e){var t,a=e.popToken(),n="";if("'"===a.text)t=8,a=e.popToken();else if('"'===a.text)t=16,a=e.popToken();else if("`"===a.text)if("\\"===(a=e.popToken()).text[0])n=a.text.charCodeAt(1);else{if("EOF"===a.text)throw new i("\\char` missing argument");n=a.text.charCodeAt(0)}else t=10;if(t){if(null==(n=rn[a.text])||n>=t)throw new i("Invalid base-"+t+" digit "+a.text);for(var r;null!=(r=rn[e.future().text])&&r<t;)n*=t,n+=r,e.popToken()}return"\\@char{"+n+"}"}));var sn=function(e,t){var a=e.consumeArgs(1)[0];if(1!==a.length)throw new i("\\gdef's first argument must be a macro name");var n=a[0].text,r=0;for(a=e.consumeArgs(1)[0];1===a.length&&"#"===a[0].text;){if(1!==(a=e.consumeArgs(1)[0]).length)throw new i('Invalid argument number length "'+a.length+'"');if(!/^[1-9]$/.test(a[0].text))throw new i('Invalid argument number "'+a[0].text+'"');if(r++,parseInt(a[0].text)!==r)throw new i('Argument number "'+a[0].text+'" out of order');a=e.consumeArgs(1)[0]}return e.macros.set(n,{tokens:a,numArgs:r},t),""};nn("\\gdef",(function(e){return sn(e,!0)})),nn("\\def",(function(e){return sn(e,!1)})),nn("\\global",(function(e){var t=e.consumeArgs(1)[0];if(1!==t.length)throw new i("Invalid command after \\global");var a=t[0].text;if("\\def"===a)return sn(e,!0);throw new i("Invalid command '"+a+"' after \\global")}));var on=function(e,t,a){var n=e.consumeArgs(1)[0];if(1!==n.length)throw new i("\\newcommand's first argument must be a macro name");var r=n[0].text,s=e.isDefined(r);if(s&&!t)throw new i("\\newcommand{"+r+"} attempting to redefine "+r+"; use \\renewcommand");if(!s&&!a)throw new i("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var o=0;if(1===(n=e.consumeArgs(1)[0]).length&&"["===n[0].text){for(var l="",c=e.expandNextToken();"]"!==c.text&&"EOF"!==c.text;)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new i("Invalid number of arguments: "+l);o=parseInt(l),n=e.consumeArgs(1)[0]}return e.macros.set(r,{tokens:n,numArgs:o}),""};nn("\\newcommand",(function(e){return on(e,!1,!0)})),nn("\\renewcommand",(function(e){return on(e,!0,!1)})),nn("\\providecommand",(function(e){return on(e,!0,!0)})),nn("\\bgroup","{"),nn("\\egroup","}"),nn("\\lq","`"),nn("\\rq","'"),nn("\\aa","\\r a"),nn("\\AA","\\r A"),nn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),nn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),nn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),nn("\u212c","\\mathscr{B}"),nn("\u2130","\\mathscr{E}"),nn("\u2131","\\mathscr{F}"),nn("\u210b","\\mathscr{H}"),nn("\u2110","\\mathscr{I}"),nn("\u2112","\\mathscr{L}"),nn("\u2133","\\mathscr{M}"),nn("\u211b","\\mathscr{R}"),nn("\u212d","\\mathfrak{C}"),nn("\u210c","\\mathfrak{H}"),nn("\u2128","\\mathfrak{Z}"),nn("\\Bbbk","\\Bbb{k}"),nn("\xb7","\\cdotp"),nn("\\llap","\\mathllap{\\textrm{#1}}"),nn("\\rlap","\\mathrlap{\\textrm{#1}}"),nn("\\clap","\\mathclap{\\textrm{#1}}"),nn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),nn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),nn("\\ne","\\neq"),nn("\u2260","\\neq"),nn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),nn("\u2209","\\notin"),nn("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),nn("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),nn("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),nn("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),nn("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),nn("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),nn("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),nn("\u27c2","\\perp"),nn("\u203c","\\mathclose{!\\mkern-0.8mu!}"),nn("\u220c","\\notni"),nn("\u231c","\\ulcorner"),nn("\u231d","\\urcorner"),nn("\u231e","\\llcorner"),nn("\u231f","\\lrcorner"),nn("\xa9","\\copyright"),nn("\xae","\\textregistered"),nn("\ufe0f","\\textregistered"),nn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),nn("\u22ee","\\vdots"),nn("\\varGamma","\\mathit{\\Gamma}"),nn("\\varDelta","\\mathit{\\Delta}"),nn("\\varTheta","\\mathit{\\Theta}"),nn("\\varLambda","\\mathit{\\Lambda}"),nn("\\varXi","\\mathit{\\Xi}"),nn("\\varPi","\\mathit{\\Pi}"),nn("\\varSigma","\\mathit{\\Sigma}"),nn("\\varUpsilon","\\mathit{\\Upsilon}"),nn("\\varPhi","\\mathit{\\Phi}"),nn("\\varPsi","\\mathit{\\Psi}"),nn("\\varOmega","\\mathit{\\Omega}"),nn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),nn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),nn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),nn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),nn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var ln={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};nn("\\dots",(function(e){var t="\\dotso",a=e.expandAfterFuture().text;return a in ln?t=ln[a]:("\\not"===a.substr(0,4)||a in W.math&&u.contains(["bin","rel"],W.math[a].group))&&(t="\\dotsb"),t}));var cn={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};nn("\\dotso",(function(e){return e.future().text in cn?"\\ldots\\,":"\\ldots"})),nn("\\dotsc",(function(e){var t=e.future().text;return t in cn&&","!==t?"\\ldots\\,":"\\ldots"})),nn("\\cdots",(function(e){return e.future().text in cn?"\\@cdots\\,":"\\@cdots"})),nn("\\dotsb","\\cdots"),nn("\\dotsm","\\cdots"),nn("\\dotsi","\\!\\cdots"),nn("\\dotsx","\\ldots\\,"),nn("\\DOTSI","\\relax"),nn("\\DOTSB","\\relax"),nn("\\DOTSX","\\relax"),nn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),nn("\\,","\\tmspace+{3mu}{.1667em}"),nn("\\thinspace","\\,"),nn("\\>","\\mskip{4mu}"),nn("\\:","\\tmspace+{4mu}{.2222em}"),nn("\\medspace","\\:"),nn("\\;","\\tmspace+{5mu}{.2777em}"),nn("\\thickspace","\\;"),nn("\\!","\\tmspace-{3mu}{.1667em}"),nn("\\negthinspace","\\!"),nn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),nn("\\negthickspace","\\tmspace-{5mu}{.277em}"),nn("\\enspace","\\kern.5em "),nn("\\enskip","\\hskip.5em\\relax"),nn("\\quad","\\hskip1em\\relax"),nn("\\qquad","\\hskip2em\\relax"),nn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),nn("\\tag@paren","\\tag@literal{({#1})}"),nn("\\tag@literal",(function(e){if(e.macros.get("\\df@tag"))throw new i("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),nn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),nn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),nn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),nn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),nn("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\mathrlap{\\mkern0.4mu\\raisebox{0.4mu}{$#1$}}{\\mkern0.8mu#1}}}{\\mathbf{#1}}"),nn("\\\\","\\newline"),nn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var dn=U["Main-Regular"]["T".charCodeAt(0)][1]-.7*U["Main-Regular"]["A".charCodeAt(0)][1]+"em";nn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+dn+"}{\\scriptsize A}\\kern-.15em\\TeX}{LaTeX}}"),nn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+dn+"}{\\scriptsize A}\\kern-.15em\\TeX}{KaTeX}}"),nn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),nn("\\@hspace","\\hskip #1\\relax"),nn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),nn("\\ordinarycolon",":"),nn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),nn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),nn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),nn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),nn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),nn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),nn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),nn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),nn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),nn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),nn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),nn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),nn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),nn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),nn("\u2237","\\dblcolon"),nn("\u2239","\\eqcolon"),nn("\u2254","\\coloneqq"),nn("\u2255","\\eqqcolon"),nn("\u2a74","\\Coloneqq"),nn("\\ratio","\\vcentcolon"),nn("\\coloncolon","\\dblcolon"),nn("\\colonequals","\\coloneqq"),nn("\\coloncolonequals","\\Coloneqq"),nn("\\equalscolon","\\eqqcolon"),nn("\\equalscoloncolon","\\Eqqcolon"),nn("\\colonminus","\\coloneq"),nn("\\coloncolonminus","\\Coloneq"),nn("\\minuscolon","\\eqcolon"),nn("\\minuscoloncolon","\\Eqcolon"),nn("\\coloncolonapprox","\\Colonapprox"),nn("\\coloncolonsim","\\Colonsim"),nn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),nn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),nn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),nn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),nn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),nn("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),nn("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits"),nn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),nn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),nn("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),nn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),nn("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),nn("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),nn("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),nn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),nn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),nn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),nn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),nn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),nn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),nn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),nn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),nn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),nn("\u27e6","\\llbracket"),nn("\u27e7","\\rrbracket"),nn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),nn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),nn("\u2983","\\lBrace"),nn("\u2984","\\rBrace"),nn("\\darr","\\downarrow"),nn("\\dArr","\\Downarrow"),nn("\\Darr","\\Downarrow"),nn("\\lang","\\langle"),nn("\\rang","\\rangle"),nn("\\uarr","\\uparrow"),nn("\\uArr","\\Uparrow"),nn("\\Uarr","\\Uparrow"),nn("\\N","\\mathbb{N}"),nn("\\R","\\mathbb{R}"),nn("\\Z","\\mathbb{Z}"),nn("\\alef","\\aleph"),nn("\\alefsym","\\aleph"),nn("\\Alpha","\\mathrm{A}"),nn("\\Beta","\\mathrm{B}"),nn("\\bull","\\bullet"),nn("\\Chi","\\mathrm{X}"),nn("\\clubs","\\clubsuit"),nn("\\cnums","\\mathbb{C}"),nn("\\Complex","\\mathbb{C}"),nn("\\Dagger","\\ddagger"),nn("\\diamonds","\\diamondsuit"),nn("\\empty","\\emptyset"),nn("\\Epsilon","\\mathrm{E}"),nn("\\Eta","\\mathrm{H}"),nn("\\exist","\\exists"),nn("\\harr","\\leftrightarrow"),nn("\\hArr","\\Leftrightarrow"),nn("\\Harr","\\Leftrightarrow"),nn("\\hearts","\\heartsuit"),nn("\\image","\\Im"),nn("\\infin","\\infty"),nn("\\Iota","\\mathrm{I}"),nn("\\isin","\\in"),nn("\\Kappa","\\mathrm{K}"),nn("\\larr","\\leftarrow"),nn("\\lArr","\\Leftarrow"),nn("\\Larr","\\Leftarrow"),nn("\\lrarr","\\leftrightarrow"),nn("\\lrArr","\\Leftrightarrow"),nn("\\Lrarr","\\Leftrightarrow"),nn("\\Mu","\\mathrm{M}"),nn("\\natnums","\\mathbb{N}"),nn("\\Nu","\\mathrm{N}"),nn("\\Omicron","\\mathrm{O}"),nn("\\plusmn","\\pm"),nn("\\rarr","\\rightarrow"),nn("\\rArr","\\Rightarrow"),nn("\\Rarr","\\Rightarrow"),nn("\\real","\\Re"),nn("\\reals","\\mathbb{R}"),nn("\\Reals","\\mathbb{R}"),nn("\\Rho","\\mathrm{P}"),nn("\\sdot","\\cdot"),nn("\\sect","\\S"),nn("\\spades","\\spadesuit"),nn("\\sub","\\subset"),nn("\\sube","\\subseteq"),nn("\\supe","\\supseteq"),nn("\\Tau","\\mathrm{T}"),nn("\\thetasym","\\vartheta"),nn("\\weierp","\\wp"),nn("\\Zeta","\\mathrm{Z}"),nn("\\argmin","\\DOTSB\\mathop{\\operatorname{arg\\,min}}\\limits"),nn("\\argmax","\\DOTSB\\mathop{\\operatorname{arg\\,max}}\\limits"),nn("\\blue","\\textcolor{##6495ed}{#1}"),nn("\\orange","\\textcolor{##ffa500}{#1}"),nn("\\pink","\\textcolor{##ff00af}{#1}"),nn("\\red","\\textcolor{##df0030}{#1}"),nn("\\green","\\textcolor{##28ae7b}{#1}"),nn("\\gray","\\textcolor{gray}{##1}"),nn("\\purple","\\textcolor{##9d38bd}{#1}"),nn("\\blueA","\\textcolor{##ccfaff}{#1}"),nn("\\blueB","\\textcolor{##80f6ff}{#1}"),nn("\\blueC","\\textcolor{##63d9ea}{#1}"),nn("\\blueD","\\textcolor{##11accd}{#1}"),nn("\\blueE","\\textcolor{##0c7f99}{#1}"),nn("\\tealA","\\textcolor{##94fff5}{#1}"),nn("\\tealB","\\textcolor{##26edd5}{#1}"),nn("\\tealC","\\textcolor{##01d1c1}{#1}"),nn("\\tealD","\\textcolor{##01a995}{#1}"),nn("\\tealE","\\textcolor{##208170}{#1}"),nn("\\greenA","\\textcolor{##b6ffb0}{#1}"),nn("\\greenB","\\textcolor{##8af281}{#1}"),nn("\\greenC","\\textcolor{##74cf70}{#1}"),nn("\\greenD","\\textcolor{##1fab54}{#1}"),nn("\\greenE","\\textcolor{##0d923f}{#1}"),nn("\\goldA","\\textcolor{##ffd0a9}{#1}"),nn("\\goldB","\\textcolor{##ffbb71}{#1}"),nn("\\goldC","\\textcolor{##ff9c39}{#1}"),nn("\\goldD","\\textcolor{##e07d10}{#1}"),nn("\\goldE","\\textcolor{##a75a05}{#1}"),nn("\\redA","\\textcolor{##fca9a9}{#1}"),nn("\\redB","\\textcolor{##ff8482}{#1}"),nn("\\redC","\\textcolor{##f9685d}{#1}"),nn("\\redD","\\textcolor{##e84d39}{#1}"),nn("\\redE","\\textcolor{##bc2612}{#1}"),nn("\\maroonA","\\textcolor{##ffbde0}{#1}"),nn("\\maroonB","\\textcolor{##ff92c6}{#1}"),nn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),nn("\\maroonD","\\textcolor{##ca337c}{#1}"),nn("\\maroonE","\\textcolor{##9e034e}{#1}"),nn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),nn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),nn("\\purpleC","\\textcolor{##aa87ff}{#1}"),nn("\\purpleD","\\textcolor{##7854ab}{#1}"),nn("\\purpleE","\\textcolor{##543b78}{#1}"),nn("\\mintA","\\textcolor{##f5f9e8}{#1}"),nn("\\mintB","\\textcolor{##edf2df}{#1}"),nn("\\mintC","\\textcolor{##e0e5cc}{#1}"),nn("\\grayA","\\textcolor{##f6f7f7}{#1}"),nn("\\grayB","\\textcolor{##f0f1f2}{#1}"),nn("\\grayC","\\textcolor{##e3e5e6}{#1}"),nn("\\grayD","\\textcolor{##d6d8da}{#1}"),nn("\\grayE","\\textcolor{##babec2}{#1}"),nn("\\grayF","\\textcolor{##888d93}{#1}"),nn("\\grayG","\\textcolor{##626569}{#1}"),nn("\\grayH","\\textcolor{##3b3e40}{#1}"),nn("\\grayI","\\textcolor{##21242c}{#1}"),nn("\\kaBlue","\\textcolor{##314453}{#1}"),nn("\\kaGreen","\\textcolor{##71B307}{#1}");var un={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},hn=function(){function e(e,t,a){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new en(an,t.macros),this.mode=a,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new $a(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},t.consumeArgs=function(e){for(var t=[],a=0;a<e;++a){this.consumeSpaces();var n=this.popToken();if("{"===n.text){for(var r=[],s=1;0!==s;){var o=this.popToken();if(r.push(o),"{"===o.text)++s;else if("}"===o.text)--s;else if("EOF"===o.text)throw new i("End of input in macro argument",n)}r.pop(),r.reverse(),t[a]=r}else{if("EOF"===n.text)throw new i("End of input expecting macro argument");t[a]=[n]}}return t},t.expandOnce=function(){var e=this.popToken(),t=e.text,a=this._getExpansion(t);if(null==a)return this.pushToken(e),e;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new i("Too many expansions: infinite loop or need to increase maxExpand setting");var n=a.tokens;if(a.numArgs)for(var r=this.consumeArgs(a.numArgs),s=(n=n.slice()).length-1;s>=0;--s){var o=n[s];if("#"===o.text){if(0===s)throw new i("Incomplete placeholder at end of macro body",o);if("#"===(o=n[--s]).text)n.splice(s+1,1);else{if(!/^[1-9]$/.test(o.text))throw new i("Not a valid argument number",o);var l;(l=n).splice.apply(l,[s,2].concat(r[+o.text-1]))}}}return this.pushTokens(n),n},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof r){if("\\relax"!==e.text)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){if(this.macros.get(e)){var t=[],a=this.stack.length;for(this.pushToken(new r(e));this.stack.length>a;)this.expandOnce()instanceof r&&t.push(this.stack.pop());return t}},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map((function(e){return e.text})).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;var a="function"===typeof t?t(this):t;if("string"===typeof a){var n=0;if(-1!==a.indexOf("#"))for(var r=a.replace(/##/g,"");-1!==r.indexOf("#"+(n+1));)++n;for(var s=new $a(a,this.settings),i=[],o=s.lex();"EOF"!==o.text;)i.push(o),o=s.lex();return i.reverse(),{tokens:i,numArgs:n}}return a},t.isDefined=function(e){return this.macros.has(e)||Ja.hasOwnProperty(e)||W.math.hasOwnProperty(e)||W.text.hasOwnProperty(e)||un.hasOwnProperty(e)},e}(),pn={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"}},mn={"\xe1":"a\u0301","\xe0":"a\u0300","\xe4":"a\u0308","\u01df":"a\u0308\u0304","\xe3":"a\u0303","\u0101":"a\u0304","\u0103":"a\u0306","\u1eaf":"a\u0306\u0301","\u1eb1":"a\u0306\u0300","\u1eb5":"a\u0306\u0303","\u01ce":"a\u030c","\xe2":"a\u0302","\u1ea5":"a\u0302\u0301","\u1ea7":"a\u0302\u0300","\u1eab":"a\u0302\u0303","\u0227":"a\u0307","\u01e1":"a\u0307\u0304","\xe5":"a\u030a","\u01fb":"a\u030a\u0301","\u1e03":"b\u0307","\u0107":"c\u0301","\u010d":"c\u030c","\u0109":"c\u0302","\u010b":"c\u0307","\u010f":"d\u030c","\u1e0b":"d\u0307","\xe9":"e\u0301","\xe8":"e\u0300","\xeb":"e\u0308","\u1ebd":"e\u0303","\u0113":"e\u0304","\u1e17":"e\u0304\u0301","\u1e15":"e\u0304\u0300","\u0115":"e\u0306","\u011b":"e\u030c","\xea":"e\u0302","\u1ebf":"e\u0302\u0301","\u1ec1":"e\u0302\u0300","\u1ec5":"e\u0302\u0303","\u0117":"e\u0307","\u1e1f":"f\u0307","\u01f5":"g\u0301","\u1e21":"g\u0304","\u011f":"g\u0306","\u01e7":"g\u030c","\u011d":"g\u0302","\u0121":"g\u0307","\u1e27":"h\u0308","\u021f":"h\u030c","\u0125":"h\u0302","\u1e23":"h\u0307","\xed":"i\u0301","\xec":"i\u0300","\xef":"i\u0308","\u1e2f":"i\u0308\u0301","\u0129":"i\u0303","\u012b":"i\u0304","\u012d":"i\u0306","\u01d0":"i\u030c","\xee":"i\u0302","\u01f0":"j\u030c","\u0135":"j\u0302","\u1e31":"k\u0301","\u01e9":"k\u030c","\u013a":"l\u0301","\u013e":"l\u030c","\u1e3f":"m\u0301","\u1e41":"m\u0307","\u0144":"n\u0301","\u01f9":"n\u0300","\xf1":"n\u0303","\u0148":"n\u030c","\u1e45":"n\u0307","\xf3":"o\u0301","\xf2":"o\u0300","\xf6":"o\u0308","\u022b":"o\u0308\u0304","\xf5":"o\u0303","\u1e4d":"o\u0303\u0301","\u1e4f":"o\u0303\u0308","\u022d":"o\u0303\u0304","\u014d":"o\u0304","\u1e53":"o\u0304\u0301","\u1e51":"o\u0304\u0300","\u014f":"o\u0306","\u01d2":"o\u030c","\xf4":"o\u0302","\u1ed1":"o\u0302\u0301","\u1ed3":"o\u0302\u0300","\u1ed7":"o\u0302\u0303","\u022f":"o\u0307","\u0231":"o\u0307\u0304","\u0151":"o\u030b","\u1e55":"p\u0301","\u1e57":"p\u0307","\u0155":"r\u0301","\u0159":"r\u030c","\u1e59":"r\u0307","\u015b":"s\u0301","\u1e65":"s\u0301\u0307","\u0161":"s\u030c","\u1e67":"s\u030c\u0307","\u015d":"s\u0302","\u1e61":"s\u0307","\u1e97":"t\u0308","\u0165":"t\u030c","\u1e6b":"t\u0307","\xfa":"u\u0301","\xf9":"u\u0300","\xfc":"u\u0308","\u01d8":"u\u0308\u0301","\u01dc":"u\u0308\u0300","\u01d6":"u\u0308\u0304","\u01da":"u\u0308\u030c","\u0169":"u\u0303","\u1e79":"u\u0303\u0301","\u016b":"u\u0304","\u1e7b":"u\u0304\u0308","\u016d":"u\u0306","\u01d4":"u\u030c","\xfb":"u\u0302","\u016f":"u\u030a","\u0171":"u\u030b","\u1e7d":"v\u0303","\u1e83":"w\u0301","\u1e81":"w\u0300","\u1e85":"w\u0308","\u0175":"w\u0302","\u1e87":"w\u0307","\u1e98":"w\u030a","\u1e8d":"x\u0308","\u1e8b":"x\u0307","\xfd":"y\u0301","\u1ef3":"y\u0300","\xff":"y\u0308","\u1ef9":"y\u0303","\u0233":"y\u0304","\u0177":"y\u0302","\u1e8f":"y\u0307","\u1e99":"y\u030a","\u017a":"z\u0301","\u017e":"z\u030c","\u1e91":"z\u0302","\u017c":"z\u0307","\xc1":"A\u0301","\xc0":"A\u0300","\xc4":"A\u0308","\u01de":"A\u0308\u0304","\xc3":"A\u0303","\u0100":"A\u0304","\u0102":"A\u0306","\u1eae":"A\u0306\u0301","\u1eb0":"A\u0306\u0300","\u1eb4":"A\u0306\u0303","\u01cd":"A\u030c","\xc2":"A\u0302","\u1ea4":"A\u0302\u0301","\u1ea6":"A\u0302\u0300","\u1eaa":"A\u0302\u0303","\u0226":"A\u0307","\u01e0":"A\u0307\u0304","\xc5":"A\u030a","\u01fa":"A\u030a\u0301","\u1e02":"B\u0307","\u0106":"C\u0301","\u010c":"C\u030c","\u0108":"C\u0302","\u010a":"C\u0307","\u010e":"D\u030c","\u1e0a":"D\u0307","\xc9":"E\u0301","\xc8":"E\u0300","\xcb":"E\u0308","\u1ebc":"E\u0303","\u0112":"E\u0304","\u1e16":"E\u0304\u0301","\u1e14":"E\u0304\u0300","\u0114":"E\u0306","\u011a":"E\u030c","\xca":"E\u0302","\u1ebe":"E\u0302\u0301","\u1ec0":"E\u0302\u0300","\u1ec4":"E\u0302\u0303","\u0116":"E\u0307","\u1e1e":"F\u0307","\u01f4":"G\u0301","\u1e20":"G\u0304","\u011e":"G\u0306","\u01e6":"G\u030c","\u011c":"G\u0302","\u0120":"G\u0307","\u1e26":"H\u0308","\u021e":"H\u030c","\u0124":"H\u0302","\u1e22":"H\u0307","\xcd":"I\u0301","\xcc":"I\u0300","\xcf":"I\u0308","\u1e2e":"I\u0308\u0301","\u0128":"I\u0303","\u012a":"I\u0304","\u012c":"I\u0306","\u01cf":"I\u030c","\xce":"I\u0302","\u0130":"I\u0307","\u0134":"J\u0302","\u1e30":"K\u0301","\u01e8":"K\u030c","\u0139":"L\u0301","\u013d":"L\u030c","\u1e3e":"M\u0301","\u1e40":"M\u0307","\u0143":"N\u0301","\u01f8":"N\u0300","\xd1":"N\u0303","\u0147":"N\u030c","\u1e44":"N\u0307","\xd3":"O\u0301","\xd2":"O\u0300","\xd6":"O\u0308","\u022a":"O\u0308\u0304","\xd5":"O\u0303","\u1e4c":"O\u0303\u0301","\u1e4e":"O\u0303\u0308","\u022c":"O\u0303\u0304","\u014c":"O\u0304","\u1e52":"O\u0304\u0301","\u1e50":"O\u0304\u0300","\u014e":"O\u0306","\u01d1":"O\u030c","\xd4":"O\u0302","\u1ed0":"O\u0302\u0301","\u1ed2":"O\u0302\u0300","\u1ed6":"O\u0302\u0303","\u022e":"O\u0307","\u0230":"O\u0307\u0304","\u0150":"O\u030b","\u1e54":"P\u0301","\u1e56":"P\u0307","\u0154":"R\u0301","\u0158":"R\u030c","\u1e58":"R\u0307","\u015a":"S\u0301","\u1e64":"S\u0301\u0307","\u0160":"S\u030c","\u1e66":"S\u030c\u0307","\u015c":"S\u0302","\u1e60":"S\u0307","\u0164":"T\u030c","\u1e6a":"T\u0307","\xda":"U\u0301","\xd9":"U\u0300","\xdc":"U\u0308","\u01d7":"U\u0308\u0301","\u01db":"U\u0308\u0300","\u01d5":"U\u0308\u0304","\u01d9":"U\u0308\u030c","\u0168":"U\u0303","\u1e78":"U\u0303\u0301","\u016a":"U\u0304","\u1e7a":"U\u0304\u0308","\u016c":"U\u0306","\u01d3":"U\u030c","\xdb":"U\u0302","\u016e":"U\u030a","\u0170":"U\u030b","\u1e7c":"V\u0303","\u1e82":"W\u0301","\u1e80":"W\u0300","\u1e84":"W\u0308","\u0174":"W\u0302","\u1e86":"W\u0307","\u1e8c":"X\u0308","\u1e8a":"X\u0307","\xdd":"Y\u0301","\u1ef2":"Y\u0300","\u0178":"Y\u0308","\u1ef8":"Y\u0303","\u0232":"Y\u0304","\u0176":"Y\u0302","\u1e8e":"Y\u0307","\u0179":"Z\u0301","\u017d":"Z\u030c","\u1e90":"Z\u0302","\u017b":"Z\u0307","\u03ac":"\u03b1\u0301","\u1f70":"\u03b1\u0300","\u1fb1":"\u03b1\u0304","\u1fb0":"\u03b1\u0306","\u03ad":"\u03b5\u0301","\u1f72":"\u03b5\u0300","\u03ae":"\u03b7\u0301","\u1f74":"\u03b7\u0300","\u03af":"\u03b9\u0301","\u1f76":"\u03b9\u0300","\u03ca":"\u03b9\u0308","\u0390":"\u03b9\u0308\u0301","\u1fd2":"\u03b9\u0308\u0300","\u1fd1":"\u03b9\u0304","\u1fd0":"\u03b9\u0306","\u03cc":"\u03bf\u0301","\u1f78":"\u03bf\u0300","\u03cd":"\u03c5\u0301","\u1f7a":"\u03c5\u0300","\u03cb":"\u03c5\u0308","\u03b0":"\u03c5\u0308\u0301","\u1fe2":"\u03c5\u0308\u0300","\u1fe1":"\u03c5\u0304","\u1fe0":"\u03c5\u0306","\u03ce":"\u03c9\u0301","\u1f7c":"\u03c9\u0300","\u038e":"\u03a5\u0301","\u1fea":"\u03a5\u0300","\u03ab":"\u03a5\u0308","\u1fe9":"\u03a5\u0304","\u1fe8":"\u03a5\u0306","\u038f":"\u03a9\u0301","\u1ffa":"\u03a9\u0300"},gn=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new hn(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.nextToken.text!==e)throw new i("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);t&&this.consume()},t.consume=function(){this.nextToken=this.gullet.expandNextToken()},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor"),this.consume();var e=this.parseExpression(!1);return this.expect("EOF",!1),this.gullet.endGroup(),e},t.parseExpression=function(t,a){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.nextToken;if(-1!==e.endOfExpression.indexOf(r.text))break;if(a&&r.text===a)break;if(t&&Ja[r.text]&&Ja[r.text].infix)break;var s=this.parseAtom(a);if(!s)break;n.push(s)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)},t.handleInfixNodes=function(e){for(var t,a=-1,n=0;n<e.length;n++){var r=Ue(e[n],"infix");if(r){if(-1!==a)throw new i("only one infix operator per group",r.token);a=n,t=r.replaceWith}}if(-1!==a&&t){var s,o,l=e.slice(0,a),c=e.slice(a+1);return s=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},o=1===c.length&&"ordgroup"===c[0].type?c[0]:{type:"ordgroup",mode:this.mode,body:c},["\\\\abovefrac"===t?this.callFunction(t,[s,e[a],o],[]):this.callFunction(t,[s,o],[])]}return e},t.handleSupSubscript=function(t){var a=this.nextToken,n=a.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(t,!1,e.SUPSUB_GREEDINESS);if(!r)throw new i("Expected group after '"+n+"'",a);return r},t.handleUnsupportedCmd=function(){for(var e=this.nextToken.text,t=[],a=0;a<e.length;a++)t.push({type:"textord",mode:"text",text:e[a]});var n={type:"text",mode:this.mode,body:t},r={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return this.consume(),r},t.parseAtom=function(e){var t,a,n=this.parseGroup("atom",!1,null,e);if("text"===this.mode)return n;for(;;){this.consumeSpaces();var r=this.nextToken;if("\\limits"===r.text||"\\nolimits"===r.text){var s=Ue(n,"op");if(!s)throw new i("Limit controls must follow a math operator",r);var o="\\limits"===r.text;s.limits=o,s.alwaysHandleSupSub=!0,this.consume()}else if("^"===r.text){if(t)throw new i("Double superscript",r);t=this.handleSupSubscript("superscript")}else if("_"===r.text){if(a)throw new i("Double subscript",r);a=this.handleSupSubscript("subscript")}else{if("'"!==r.text)break;if(t)throw new i("Double superscript",r);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();"'"===this.nextToken.text;)c.push(l),this.consume();"^"===this.nextToken.text&&c.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:c}}}return t||a?{type:"supsub",mode:this.mode,base:n,sup:t,sub:a}:n},t.parseFunction=function(e,t,a){var n=this.nextToken,r=n.text,s=Ja[r];if(!s)return null;if(null!=a&&s.greediness<=a)throw new i("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!s.allowedInText)throw new i("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===s.allowedInMath)throw new i("Can't use function '"+r+"' in math mode",n);if(s.argTypes&&"url"===s.argTypes[0]&&this.gullet.lexer.setCatcode("%",13),s.consumeMode){var o=this.mode;this.switchMode(s.consumeMode),this.consume(),this.switchMode(o)}else this.consume();var l=this.parseArguments(r,s),c=l.args,d=l.optArgs;return this.callFunction(r,c,d,n,e)},t.callFunction=function(e,t,a,n,r){var s={funcName:e,parser:this,token:n,breakOnTokenText:r},o=Ja[e];if(o&&o.handler)return o.handler(s,t,a);throw new i("No function handler for "+e)},t.parseArguments=function(e,t){var a=t.numArgs+t.numOptionalArgs;if(0===a)return{args:[],optArgs:[]};for(var n=t.greediness,r=[],s=[],o=0;o<a;o++){var l=t.argTypes&&t.argTypes[o],c=o<t.numOptionalArgs;o>0&&!c&&this.consumeSpaces(),0!==o||c||"math"!==this.mode||this.consumeSpaces();var d=this.nextToken,u=this.parseGroupOfType("argument to '"+e+"'",l,c,n);if(!u){if(c){s.push(null);continue}throw new i("Expected group after '"+e+"'",d)}(c?s:r).push(u)}return{args:r,optArgs:s}},t.parseGroupOfType=function(e,t,a,n){switch(t){case"color":return this.parseColorGroup(a);case"size":return this.parseSizeGroup(a);case"url":return this.parseUrlGroup(a);case"math":case"text":return this.parseGroup(e,a,n,void 0,t);case"raw":if(a&&"{"===this.nextToken.text)return null;var r=this.parseStringGroup("raw",a,!0);if(r)return{type:"raw",mode:"text",string:r.text};throw new i("Expected raw group",this.nextToken);case"original":case null:case void 0:return this.parseGroup(e,a,n);default:throw new i("Unknown group type as "+e,this.nextToken)}},t.consumeSpaces=function(){for(;" "===this.nextToken.text;)this.consume()},t.parseStringGroup=function(e,t,a){var n=t?"[":"{",r=t?"]":"}",s=this.nextToken;if(s.text!==n){if(t)return null;if(a&&"EOF"!==s.text&&/[^{}[\]]/.test(s.text))return this.gullet.lexer.setCatcode("%",14),this.consume(),s}var o=this.mode;this.mode="text",this.expect(n);for(var l="",c=this.nextToken,d=0,u=c;a&&d>0||this.nextToken.text!==r;){switch(this.nextToken.text){case"EOF":throw new i("Unexpected end of input in "+e,c.range(u,l));case n:d++;break;case r:d--}l+=(u=this.nextToken).text,this.consume()}return this.mode=o,this.gullet.lexer.setCatcode("%",14),this.expect(r),c.range(u,l)},t.parseRegexGroup=function(e,t){var a=this.mode;this.mode="text";for(var n=this.nextToken,r=n,s="";"EOF"!==this.nextToken.text&&e.test(s+this.nextToken.text);)s+=(r=this.nextToken).text,this.consume();if(""===s)throw new i("Invalid "+t+": '"+n.text+"'",n);return this.mode=a,n.range(r,s)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var a=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!a)throw new i("Invalid color: '"+t.text+"'",t);var n=a[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}},t.parseSizeGroup=function(e){var t,a=!1;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",a=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!n)throw new i("Invalid size: '"+t.text+"'",t);var r,s={number:+(n[1]+n[2]),unit:n[3]};if("string"!==typeof(r=s)&&(r=r.unit),!(r in Ce)&&!(r in Ae)&&"ex"!==r)throw new i("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:a}},t.parseUrlGroup=function(e){var t=this.parseStringGroup("url",e,!0);if(!t)return null;var a=t.text.replace(/\\([#$%&~_^{}])/g,"$1"),n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(a);n=null!=n?n[1]:"_relative";var r=this.settings.allowedProtocols;if(!u.contains(r,"*")&&!u.contains(r,n))throw new i("Forbidden protocol '"+n+"'",t);return{type:"url",mode:this.mode,url:a}},t.parseGroup=function(t,a,r,s,o){var l,c,d=this.mode,u=this.nextToken,h=u.text;if(o&&this.switchMode(o),a?"["===h:"{"===h||"\\begingroup"===h){l=e.endOfGroup[h],this.gullet.beginGroup(),this.consume();var p=this.parseExpression(!1,l),m=this.nextToken;this.gullet.endGroup(),c={type:"ordgroup",mode:this.mode,loc:n.range(u,m),body:p,semisimple:"\\begingroup"===h||void 0}}else if(a)c=null;else if(null==(c=this.parseFunction(s,t,r)||this.parseSymbol())&&"\\"===h[0]&&!un.hasOwnProperty(h)){if(this.settings.throwOnError)throw new i("Undefined control sequence: "+h,u);c=this.handleUnsupportedCmd()}return o&&this.switchMode(d),l&&this.expect(l),c},t.formLigatures=function(e){for(var t=e.length-1,a=0;a<t;++a){var r=e[a],s=r.text;"-"===s&&"-"===e[a+1].text&&(a+1<t&&"-"===e[a+2].text?(e.splice(a,3,{type:"textord",mode:"text",loc:n.range(r,e[a+2]),text:"---"}),t-=2):(e.splice(a,2,{type:"textord",mode:"text",loc:n.range(r,e[a+1]),text:"--"}),t-=1)),"'"!==s&&"`"!==s||e[a+1].text!==s||(e.splice(a,2,{type:"textord",mode:"text",loc:n.range(r,e[a+1]),text:s+s}),t-=1)}},t.parseSymbol=function(){var e=this.nextToken,t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var a=t.slice(5),r="*"===a.charAt(0);if(r&&(a=a.slice(1)),a.length<2||a.charAt(0)!==a.slice(-1))throw new i("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:a=a.slice(1,-1),star:r}}mn.hasOwnProperty(t[0])&&!W[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=mn[t[0]]+t.substr(1));var s,o=Xa.exec(t);if(o&&("i"===(t=t.substring(0,o.index))?t="\u0131":"j"===t&&(t="\u0237")),W[this.mode][t]){this.settings.strict&&"math"===this.mode&&"\xc7\xd0\xde\xe7\xfe".indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,c=W[this.mode][t].group,d=n.range(e);if(q.hasOwnProperty(c)){var u=c;l={type:"atom",mode:this.mode,family:u,loc:d,text:t}}else l={type:c,mode:this.mode,loc:d,text:t};s=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(I(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),s={type:"textord",mode:this.mode,loc:n.range(e),text:t}}if(this.consume(),o)for(var h=0;h<o[0].length;h++){var p=o[0][h];if(!pn[p])throw new i("Unknown accent ' "+p+"'",e);var m=pn[p][this.mode];if(!m)throw new i("Accent "+p+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:n.range(e),label:m,isStretchy:!1,isShifty:!0,base:s}}return s},e}();gn.endOfExpression=["}","\\endgroup","\\end","\\right","&"],gn.endOfGroup={"[":"]","{":"}","\\begingroup":"\\endgroup"},gn.SUPSUB_GREEDINESS=1;var fn=function(e,t){if(!("string"===typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var a=new gn(e,t);delete a.gullet.macros.current["\\df@tag"];var n=a.parse();if(a.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new i("\\tag works only in display equations");a.gullet.feed("\\df@tag"),n=[{type:"tag",mode:"text",body:n,tag:a.parse()}]}return n},bn=function(e,t,a){t.textContent="";var n=yn(e,a).toNode();t.appendChild(n)};"undefined"!==typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!==typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),bn=function(){throw new i("KaTeX doesn't work in quirks mode.")});var En=function(e,t,a){if(a.throwOnError||!(e instanceof i))throw e;var n=De.makeSpan(["katex-error"],[new x(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+a.errorColor),n},yn=function(e,t){var a=new h(t);try{var n=fn(e,a);return At(n,e,a)}catch(r){return En(r,e,a)}},Sn={version:"0.10.2",render:bn,renderToString:function(e,t){return yn(e,t).toMarkup()},ParseError:i,__parse:function(e,t){var a=new h(t);return fn(e,a)},__renderToDomTree:yn,__renderToHTMLTree:function(e,t){var a=new h(t);try{return function(e,t,a){var n=dt(e,vt(a)),r=De.makeSpan(["katex"],[n]);return Ct(r,a)}(fn(e,a),0,a)}catch(n){return En(n,e,a)}},__setFontMetrics:function(e,t){U[e]=t},__defineSymbol:Q,__defineMacro:nn,__domTree:{Span:w,Anchor:P,SymbolNode:x,SvgNode:L,PathNode:D,LineNode:F}};t.default=Sn}]).default},e.exports=n()},function(e,t,a){"use strict";a.r(t),a.d(t,"discoverPageDisplay",(function(){return r})),a.d(t,"discoverPageVideosDisplay",(function(){return s})),a.d(t,"discoverPageGamesDisplay",(function(){return i})),a.d(t,"discoverPageAppsDisplay",(function(){return o})),a.d(t,"discoverPageSeeAllVideosClick",(function(){return l})),a.d(t,"discoverPageVideoClick",(function(){return c})),a.d(t,"discoverPageSaveVideoClick",(function(){return d})),a.d(t,"discoverPageNextVideosClick",(function(){return u})),a.d(t,"discoverPagePreviousVideosClick",(function(){return h})),a.d(t,"discoverPageLearnMoreClick",(function(){return p})),a.d(t,"discoverPageGamePlayNowClick",(function(){return m})),a.d(t,"resourceDetailsPageGamePlayClick",(function(){return g})),a.d(t,"resourceDetailsPageAppLaunchClick",(function(){return f})),a.d(t,"discoverPageGameCloseBtnClick",(function(){return b})),a.d(t,"discoverPageAppCloseBtnClick",(function(){return E})),a.d(t,"discoverPageAppStartNowClick",(function(){return y})),a.d(t,"discoverPageAppGameWebviewDisplay",(function(){return S})),a.d(t,"discoverPageLikeClick",(function(){return v})),a.d(t,"discoverPageCarouselVideoClick",(function(){return C})),a.d(t,"discoverPageAutoPlayNext",(function(){return A})),a.d(t,"discoverVideoListPageDisplay",(function(){return I})),a.d(t,"discoverVideoListPageFollowClick",(function(){return T})),a.d(t,"discoverVideoListPageUnFollowClick",(function(){return k})),a.d(t,"discoverVideoListPageVisitPageClick",(function(){return O})),a.d(t,"discoverVideoListPageBackButtonClick",(function(){return _})),a.d(t,"discoverVideoListPageLoadMoreClick",(function(){return M})),a.d(t,"hnpShareModalDisplay",(function(){return N})),a.d(t,"hnpShareSubmit",(function(){return w})),a.d(t,"discoverSharedLinkOpened",(function(){return P})),a.d(t,"discoverCollectionViewButtonClick",(function(){return R})),a.d(t,"discoverCollectionDetailsPageBackButtonClick",(function(){return x})),a.d(t,"discoverPageResourceShareButtonClick",(function(){return L})),a.d(t,"discoverCollectionPageDisplay",(function(){return D})),a.d(t,"discoverCollectionVisitLinkButtonClick",(function(){return F})),a.d(t,"discoverCollectionSaveButtonClick",(function(){return U})),a.d(t,"discoverCollectionResourceListNextButtonClick",(function(){return B})),a.d(t,"discoverCollectionResourceListPrevioueButtonClick",(function(){return G})),a.d(t,"discoverCollectionFeedbackButtonClick",(function(){return j})),a.d(t,"discoverPageFirewordsGameDisplay",(function(){return z})),a.d(t,"contentDetailsPageGameDisplay",(function(){return q})),a.d(t,"discoverPageFirewordsAnswerClick",(function(){return H})),a.d(t,"discoverPageFirewordsResultDisplay",(function(){return V})),a.d(t,"discoverPageFirewordsRoundsCompleteDisplay",(function(){return W})),a.d(t,"discoverPageFirewordsGameClose",(function(){return Q})),a.d(t,"discoverListPageSaveVideoClick",(function(){return Y})),a.d(t,"discoverListPageShareButtonClick",(function(){return K})),a.d(t,"discoverListPageVideoClick",(function(){return J})),a.d(t,"contentDetailsShareButtonClick",(function(){return Z})),a.d(t,"contentDetailsPageDisplay",(function(){return X})),a.d(t,"contentDetailsSaveButtonClick",(function(){return $})),a.d(t,"contentDetailsBackButtonClick",(function(){return ee})),a.d(t,"egyptModuleDisplay",(function(){return te})),a.d(t,"egyptModuleBtnClick",(function(){return ae}));var n=a(56);const r=e=>({type:n.a.TRACK_DISCOVER_PAGE_DISPLAY,payload:e}),s=e=>({type:n.a.TRACK_DISCOVER_PAGE_VIDEOS_DISPLAY,payload:e}),i=e=>({type:n.a.TRACK_DISCOVER_PAGE_GAMES_DISPLAY,payload:e}),o=e=>({type:n.a.TRACK_DISCOVER_PAGE_APPS_DISPLAY,payload:e}),l=e=>({type:n.a.TRACK_DISCOVER_PAGE_SEE_ALL_VIDEOS_CLICK,payload:e}),c=e=>({type:n.a.TRACK_DISCOVER_PAGE_VIDEO_CLICK,payload:e}),d=e=>({type:n.a.TRACK_DISCOVER_PAGE_SAVE_VIDEO_CLICK,payload:e}),u=e=>({type:n.a.TRACK_DISCOVER_PAGE_NEXT_VIDEOS_CLICK,payload:e}),h=e=>({type:n.a.TRACK_DISCOVER_PAGE_PREVIOUS_VIDEOS_CLICK,payload:e}),p=e=>({type:n.a.TRACK_DISCOVER_PAGE_LEARN_MORE_CLICK,payload:e}),m=(e,t)=>({type:n.a.TRACK_DISCOVER_PAGE_GAME_PLAY_NOW_CLICK,payload:e,productGroup:t}),g=(e,t)=>({type:n.a.TRACK_CONTENT_RESOURCE_DETAILS_GAME_PLAY_CLICK,payload:e,productGroup:t}),f=(e,t)=>({type:n.a.TRACK_CONTENT_RESOURCE_DETAILS_APP_START_CLICK,payload:e,productGroup:t}),b=(e,t)=>({type:n.a.TRACK_DISCOVER_PAGE_GAME_CLOSE_BUTTON_CLICK,payload:e,productGroup:t}),E=(e,t)=>({type:n.a.TRACK_DISCOVER_PAGE_APP_CLOSE_BUTTON_CLICK,payload:e,productGroup:t}),y=(e,t)=>({type:n.a.TRACK_DISCOVER_PAGE_APP_START_NOW_CLICK,payload:e,productGroup:t}),S=(e,t)=>({type:n.a.TRACK_DISCOVER_PAGE_APP_GAME_WEBVIEW_DISPLAY,payload:e,productGroup:t}),v=e=>({type:n.a.TRACK_DISCOVER_PAGE_VIDEO_LIKE_CLICK,payload:e}),C=e=>({type:n.a.TRACK_DISCOVER_PAGE_CAROUSEL_VIDEO_CLICK,payload:e}),A=e=>({type:n.a.TRACK_DISCOVER_PAGE_AUTO_PLAY_NEXT,payload:e}),I=e=>({type:n.a.TRACK_DISCOVER_PAGE_VIDEO_LIST_DISPLAY,payload:e}),T=e=>({type:n.a.TRACK_DISCOVER_PAGE_PUBLISHER_FOLLOW_CLICK,payload:e}),k=e=>({type:n.a.TRACK_DISCOVER_PAGE_PUBLISHER_UNFOLLOW_CLICK,payload:e}),O=e=>({type:n.a.TRACK_DISCOVER_PAGE_PUBLISHER_VISIT_PAGE_CLICK,payload:e}),_=e=>({type:n.a.TRACK_DISCOVER_PAGE_PUBLISHER_BACK_LINK_CLICK,payload:e}),M=e=>({type:n.a.TRACK_DISCOVER_PAGE_PUBLISHER_LOAD_MORE_CLICK,payload:e}),N=e=>({type:n.a.TRACK_DISCOVER_PAGE_HNP_SHARE_MODAL_DISPLAY,payload:e}),w=e=>({type:n.a.TRACK_DISCOVER_PAGE_HNP_SHARE_SUBMIT,payload:e}),P=e=>({type:n.a.TRACK_DISCOVER_PAGE_OPEN_SHARED_LINK,payload:e}),R=e=>({type:n.a.TRACK_DISCOVER_PAGE_COLLECTION_VIEW_BUTTON_CLICK,payload:e}),x=e=>({type:n.a.TRACK_DISCOVER_COLLECTION_PAGE_BACK_LINK_CLICK,payload:e}),L=e=>({type:n.a.TRACK_DISCOVER_PAGE_RESOURCE_SHARE_BUTTON_CLICK,payload:e}),D=e=>({type:n.a.TRACK_DISCOVER_COLLECTION_PAGE_DISPLAY,payload:e}),F=e=>({type:n.a.TRACK_DISCOVER_COLLECTION_PAGE_VISIT_LINK_CLICK,payload:e}),U=e=>({type:n.a.TRACK_DISCOVER_COLLECTION_PAGE_SAVE_BUTTON_CLICK,payload:e}),B=e=>({type:n.a.TRACK_DISCOVER_COLLECTION_PAGE_RESOURCE_LIST_NEXT_CLICK,payload:e}),G=e=>({type:n.a.TRACK_DISCOVER_COLLECTION_PAGE_RESOURCE_LIST_PREV_CLICK,payload:e}),j=e=>({type:n.a.TRACK_DISCOVER_COLLECTION_PAGE_FEEDBACK_CLICK,payload:e}),z=e=>({type:n.a.TRACK_DISCOVER_PAGE_FIREWORDS_GAME_DISPLAY,payload:e}),q=e=>({type:n.a.TRACK_CONTENT_RESOURCE_DETAILS_FIREWORDS_GAME_DISPLAY,payload:e}),H=e=>({type:n.a.TRACK_DISCOVER_PAGE_FIREWORDS_ANSWER_CLICK,payload:e}),V=e=>({type:n.a.TRACK_DISCOVER_PAGE_FIREWORDS_RESULT_DISPLAY,payload:e}),W=e=>({type:n.a.TRACK_DISCOVER_PAGE_FIREWORDS_ROUNDS_COMPLETE_DISPLAY,payload:e}),Q=e=>({type:n.a.TRACK_DISCOVER_PAGE_FIREWORDS_CLOSE_GAME,payload:e}),Y=e=>({type:n.a.TRACK_DISCOVER_PAGE_LIST_SAVE_VIDEO_CLICK,payload:e}),K=e=>({type:n.a.TRACK_DISCOVER_PAGE_LIST_SHARE_BUTTON_CLICK,payload:e}),J=e=>({type:n.a.TRACK_DISCOVER_PAGE_LIST_VIDEO_CLICK,payload:e}),Z=e=>({type:n.a.TRACK_CONTENT_RESOURCE_DETAILS_SHARE_BUTTON_CLICK,payload:e}),X=e=>({type:n.a.TRACK_CONTENT_RESOURCE_DETAILS_PAGE_DISPLAY,payload:e}),$=e=>({type:n.a.TRACK_CONTENT_RESOURCE_DETAILS_VIDEO_SAVE,payload:e}),ee=e=>({type:n.a.TRACK_CONTENT_RESOURCE_DETAILS_BACK_CLICK,payload:e}),te=e=>({type:n.a.TRACK_EGYPT_MODULE_DISPLAY,payload:e}),ae=e=>({type:n.a.TRACK_EGYPT_MODULE_BTN_CLICK,payload:e})},function(e,t,a){},function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"fetchMultimediaItemsCategories",(function(){return S})),a.d(n,"fetchMultimediaItems",(function(){return v}));var r=a(4),s=a.n(r),i=a(133),o=a(364),l=a(295),c=a(0),d=a(134),u=a(35),h=a.n(u),p=a(510),m=a(1204),g=a(1649),f=a(156),b=a(509),E=a(18),y=a(25);const S=()=>function(e,t){return y.a.get("".concat(E.a.MULTIMEDIA_ITEMS_CATEGORIES)).then(e=>Promise.resolve(e)).catch(e=>Promise.reject(e))},v=e=>function(t,a){return(n=e,y.a.get("".concat(E.a.MULTIMEDIA_ITEMS),{params:n})).then(e=>Promise.resolve(e)).catch(e=>Promise.reject(e));var n};var C=class{static waterfallRender(e){function t(e){return window.getComputedStyle?getComputedStyle(e,null):e.currentStyle}function a(e,a){return parseFloat(t(a)["margin"+e])||0}function n(e){return parseFloat(e)+"px"}function r(e){return parseFloat(e.style.left)}function s(e){return parseFloat(t(e).width)}function i(e){return function(e){return parseFloat(e.style.top)}(e)+function(e){return parseFloat(t(e).height)}(e)+a("Bottom",e)}function o(e){return r(e)+s(e)+a("Right",e)}function l(e){e.sort((function(e,t){return i(t)-i(e)||r(t)-r(e)}))}function c(e,t,a){e.style.position="absolute",e.style.top=n(t),e.style.left=n(a)}function d(e,t){c(t,e.style.top,o(e)+a("Left",t))}function u(e,t){c(t,i(e)+a("Top",t),r(e))}function h(t,a){return o(t[a-1])+s(t[a])<=s(e)}if("object"!==typeof e)return;const p=e&&e.children;if(p&&p.length){c(m=p[0],0,a("Left",m));let t=1;for(;t<p.length&&h(p,t);t++)d(p[t-1],p[t]);let r=new function(e){let t=e;l(t),this.add=function(e){t.push(e),l(t),t.pop()},this.min=function(){return t[t.length-1]},this.max=function(){return t[0]}}([].slice.call(p,0,t));for(;t<p.length;t++)u(r.min(),p[t]),r.add(p[t]);!function(e,t){e.style.position="relative",e.style.height=n(i(t)+a("Bottom",t))}(e,r.max())}var m}},A="id",I="name",T="background_url";var k=class{static getId(e){if(c.Map.isMap(e))return e.get(A)}static getName(e){if(c.Map.isMap(e))return e.get(I)}static getNameTranslationKey(e){if(c.Map.isMap(e))return"multimedia-item-category-".concat(e.get(I))}static getBackgroundUrl(e){if(c.Map.isMap(e))return e.get(T)}},O=a(523);class _ extends r.Component{constructor(e){super(e),this.state={imageWidth:125,page:1,selectedCategory:null,isLoading:!0,isEndReached:!1,multimediaItems:Object(c.List)(),multimediaCategories:Object(c.List)()},this.fetchMore=this.fetchMore.bind(this),this.onSelectCategory=this.onSelectCategory.bind(this),this.onSelectItem=this.onSelectItem.bind(this),this.backToCategory=this.backToCategory.bind(this),this.initCategory=this.initCategory.bind(this),this.waterfallParentRef=s.a.createRef()}componentDidMount(){this.initCategory()}initCategory(){this.props.multimediaActions.fetchMultimediaItemsCategories().then(e=>{this.setState({isLoading:!1,multimediaCategories:Object(c.fromJS)(e.data)})}).catch(e=>{})}fetchMore(){this.setState({isLoading:!0});const e={category_id:k.getId(this.state.selectedCategory),page:this.state.page,per_page:30};this.props.multimediaActions.fetchMultimediaItems(e).then(e=>{e.data&&e.data.length?(this.setState({isLoading:!1,multimediaItems:this.state.multimediaItems.concat(Object(c.fromJS)(e.data)),page:this.state.page+1}),C.waterfallRender(this.waterfallParentRef.current)):this.setState({isEndReached:!0,isLoading:!1})}).catch(e=>{})}onSelectItem(e){this.props.onSelect(e),this.props.toggleDropdown()}onSelectCategory(e){this.setState({selectedCategory:e,page:1,isEndReached:!1,multimediaItems:Object(c.List)()})}backToCategory(){this.setState({selectedCategory:null,isLoading:!1})}render(){const e=this.state,t=e.imageWidth,a=e.multimediaItems,n=e.multimediaCategories,r=e.selectedCategory,i=e.isLoading,o=e.isEndReached,l=r&&k.getName(r),c=r&&k.getNameTranslationKey(r);let d,u;return r||(u=n.map(e=>{const t=k.getName(e),a=k.getNameTranslationKey(e),n=k.getBackgroundUrl(e),r=k.getId(e),i=h()("picker-category-item","qa-test-gif-category-".concat(t));return s.a.createElement("div",{style:{backgroundImage:"url(".concat(n,")")},key:r,className:i,onClick:()=>this.onSelectCategory(e)},s.a.createElement("div",{className:"picker-category-item-overlay"}),s.a.createElement(f.default,{string:a,fallback:t,className:"gif-category-label"}))})),r&&(d=a.map(e=>{const a=O.a.getId(e),n=O.a.getThumbUrl(e),r=O.a.getWidth(e),i=O.a.getHeight(e),o=h()("picker-image-item","qa-test-gif-item-".concat(a));return s.a.createElement("div",{key:a,className:o,onClick:()=>this.onSelectItem(e)},s.a.createElement("img",{style:{width:t,height:i/r*t},src:n,alt:""}))})),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"picker-top"},r&&s.a.createElement("div",{className:"picker-top-menu"},s.a.createElement(m.a,{name:"left-icon",onClick:this.backToCategory}),s.a.createElement(f.default,{string:c,fallback:l}))),s.a.createElement("div",{className:"picker-content"},!r&&s.a.createElement("div",{className:"picker-category"},i?s.a.createElement(p.a,null):u),r&&s.a.createElement(g.a,{fetchOnMount:!0,isLoading:i,fetchMore:this.fetchMore,isEndReached:o,useWindowAsScrollContainer:!1},s.a.createElement("div",{ref:this.waterfallParentRef},d))),s.a.createElement("div",{className:"picker-bottom"},s.a.createElement(m.a,{name:"giphy-logo-icon",className:"giphy-logo-icon"})))}}var M=Object(i.connect)(null,e=>({multimediaActions:Object(d.bindActionCreators)(n,e)}))(Object(b.a)(_)),N=a(1217),w=a(1207);var P=({target:e,disabled:t})=>N.a()?null:s.a.createElement(s.a.Fragment,null,s.a.createElement(w.a,{disabled:t,id:e},s.a.createElement(m.a,{name:"gif-icon",className:"gif-attachment-icon"})),s.a.createElement(o.lb,{trigger:"click hover",className:"tooltip gif-attachment-tooltip",placement:"bottom",target:e,delay:0},s.a.createElement(f.default,{string:"add-a-gif",fallbackString:"Add a GIF"}))),R=a(367),x=a(327);a(1768);class L extends r.Component{constructor(e){super(e),this.state={isDropdopwnOpen:!1},this.target="gif-btn-"+Object(l.a)(),this.toggleDropdown=this.toggleDropdown.bind(this)}toggleDropdown(){this.setState({isDropdownOpen:!this.state.isDropdownOpen})}render(){const e=this.props,t=e.abTestInfo,a=e.disabled;return x.a.isUserInGifPickerTest(t)?s.a.createElement("li",null,s.a.createElement(o.w,{isOpen:this.state.isDropdownOpen,toggle:this.toggleDropdown},s.a.createElement(o.z,{tag:"span",className:"qa-test-gif-picker-toggle","data-toggle":"dropdown",disabled:a,"aria-expanded":this.state.isDropdownOpen},s.a.createElement(P,{disabled:a,target:this.target})),s.a.createElement(o.y,{className:"gif-attachment-picker-dropdown"},s.a.createElement("div",null,this.state.isDropdownOpen&&s.a.createElement(M,{onSelect:this.props.onSelect,toggleDropdown:this.toggleDropdown}))))):null}}t.a=Object(i.connect)((function(e,t){return{abTestInfo:R.a(e)}}))(L)},,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(11),i=a.n(s),o=a(364),l=a(294),c=a(1462);a(1893);class d extends n.Component{constructor(e,t){super(e,t);const a=e.dueDate&&this.handledateConvertion(e.dueDate,"h"),n=e.dueDate&&this.handledateConvertion(e.dueDate,"m"),s=e.dueDate&&this.handledateConvertion(e.dueDate,"A");let i=new Date;i.setHours(23),i.setMinutes(45),this.state={dueDate:e.dueDate||new Date,dueDateHour:a||"11",dueDateMinutes:n||"15",dueDateMeridian:s||"PM",dueDateDisplayStr:"",dueDateDisplayStrFinal:"",displayDueDateCalendar:!1},this.handleDueDateChange=this.handleDueDateChange.bind(this),this.handleDueDateHourChange=this.handleDueDateHourChange.bind(this),this.handleDueDateMinuteChange=this.handleDueDateMinuteChange.bind(this),this.handleDueDateMeridianChange=this.handleDueDateMeridianChange.bind(this),this.toggleDueDateCalendar=this.toggleDueDateCalendar.bind(this),this.handleDueDateCalendarOutsideClick=this.handleDueDateCalendarOutsideClick.bind(this),this.updateText=this.updateText.bind(this),this.onBlurInput=this.onBlurInput.bind(this),this.isValidDate=this.isValidDate.bind(this),this.isFutureOrToday=this.isFutureOrToday.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.calendarRef=r.a.createRef()}UNSAFE_componentWillReceiveProps(e){e.reset&&(this.reset(),this.props.resetCompleted())}handledateConvertion(e,t){return i()(e).format(t)}handleDueDateChange(e){this.setState({dueDate:e});let t=l.i(e);this.updateText(t),this.toggleDueDateCalendar()}handleDueDateHourChange(e){this.setState({dueDateHour:e.target.value},this.runDateChangeCB)}handleDueDateMinuteChange(e){this.setState({dueDateMinutes:e.target.value},this.runDateChangeCB)}handleDueDateMeridianChange(e){this.setState({dueDateMeridian:e.target.value},this.runDateChangeCB)}toggleDueDateCalendar(){this.state.displayDueDateCalendar?document.removeEventListener("click",this.handleDueDateCalendarOutsideClick,!1):document.addEventListener("click",this.handleDueDateCalendarOutsideClick,!1),this.setState({displayDueDateCalendar:!this.state.displayDueDateCalendar})}onBlurInput(e){e.currentTarget.value&&this.isValidDate(e.currentTarget.value)?e.currentTarget.value!==this.state.dueDateDisplayStrFinal&&this.handleDueDateChange(new Date("".concat(e.currentTarget.value," ").concat(this.state.dueDateHour,":").concat(this.state.dueDateMinutes,":00 ").concat(this.state.dueDateMeridian))):this.setState({dueDateDisplayStrFinal:"",dueDateDisplayStr:""},this.runDateChangeCB)}handleKeyDown(e){"Enter"===e.key&&this.onBlurInput(e)}updateText(e){e&&this.isValidDate(e)?this.setState({dueDateDisplayStrFinal:e,dueDateDisplayStr:e},this.runDateChangeCB):this.setState({dueDateDisplayStrFinal:"",dueDateDisplayStr:""},this.runDateChangeCB)}isValidDate(e){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e))return!1;var t=e.split("/"),a=parseInt(t[1],10),n=parseInt(t[0],10),r=parseInt(t[2],10);if(r<=0||0===n||n>12)return!1;var s=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400===0||r%100!==0&&r%4===0)&&(s[1]=29),a>0&&a<=s[n-1]&&this.isFutureOrToday(a,n,r)}isFutureOrToday(e,t,a){let n=new Date,r=n.getDate(),s=n.getMonth()+1,i=n.getFullYear();return a>i||a===i&&t>s||a===i&&t===s&&e>=r}handleDueDateCalendarOutsideClick(e){this.calendarRef.current&&this.calendarRef.current.contains(e.target)||"TIME"===e.target.tagName||e.target.firstChild&&"TIME"===e.target.firstChild.tagName||this.toggleDueDateCalendar()}reset(){let e=new Date;e.setHours(23),e.setMinutes(45),this.setState({dueDate:null,dueDateDisplayStr:"",dueDateDisplayStrFinal:"",dueDateHour:"11",dueDateMinutes:"15",dueDateMeridian:"PM"})}runDateChangeCB(){this.props.handleDateTimeChange(this.state.dueDate,this.state.dueDateHour,this.state.dueDateMinutes,this.state.dueDateMeridian,this.props.startOrEndDate)}render(){let e=["scheduled-date"];this.state.displayDueDateCalendar||e.push("d-none");const t=Array.from(Array(12),(e,t)=>r.a.createElement("option",{key:t+1,value:t+1},t+1)),a=Array.from(Array(60),(e,t)=>r.a.createElement("option",{key:t,value:t},(t<10&&"0")+t)),n=this.props.hideCalendar;return r.a.createElement("div",{className:"inline-date-time-picker clearfix"},!n&&r.a.createElement("div",{className:"due-date placeholder-container mr-3",ref:this.calendarRef},r.a.createElement(o.D,{type:"text",name:"date",placeholder:this.props.formattedDatePlaceHolder,className:"qa-test-date-formatted formatted-date",value:this.state.dueDateDisplayStr,onChange:e=>this.setState({dueDateDisplayStr:e.target.value}),onBlur:this.onBlurInput,onKeyDown:this.handleKeyDown,"aria-label":"Due Date",onClick:this.toggleDueDateCalendar,autoComplete:"off"}),r.a.createElement("span",{rel:"button",className:"choose-date qa-test-choose-assignment-date","aria-hidden":"true",onClick:this.toggleDueDateCalendar}),r.a.createElement(c.a,{className:e.join(" "),value:this.state.dueDate,minDate:new Date,onChange:e=>this.handleDueDateChange(e)})),r.a.createElement("div",{className:"schedule-time-container"},r.a.createElement("div",{className:"scheduled-time-hour-meridian"},r.a.createElement(o.D,{type:"select",className:"scheduled-time-hour","aria-label":"The hour the assignment is due",onChange:e=>this.handleDueDateHourChange(e),value:this.state.dueDateHour},t),r.a.createElement("span",{className:"schedule-colon"},":"),r.a.createElement(o.D,{type:"select",className:"scheduled-time-minute","aria-label":"The minute the assignment is due",value:this.state.dueDateMinutes,onChange:e=>this.handleDueDateMinuteChange(e)},a),r.a.createElement(o.D,{type:"select",className:"scheduled-time-meridiem am-pm","aria-label":"AM or PM",value:this.state.dueDateMeridian,onChange:e=>this.handleDueDateMeridianChange(e)},r.a.createElement("option",{value:"AM"},"AM"),r.a.createElement("option",{value:"PM"},"PM")))))}}t.a=d},function(e,t,a){"use strict";var n=a(1329);class r{static defaultParams(){return{content_type:"",content:{text:"",attachments:{files:[]}},recipients:{users:[],groups:[],connections:[]},post_at:null,moderated:!1,library_item_id:null}}static getDefaultParamsByContext(e){switch(e){case n.a.NOTE_TAB:return r.defaultNoteParams();case n.a.POLL_TAB:return r.defaultPollParams();default:return r.defaultNoteParams()}}static defaultNoteParams(){return Object.assign({},r.defaultParams(),{content_type:"note"})}static defaultPublicNoteParams(){return{public:!0}}static defaultPollParams(){return Object.assign({},r.defaultParams(),{content_type:"poll",content:{text:""}})}static getPollQuestion(e,t){switch(e){case n.a.WELLNESS_CHECK_POLL:return t&&t("how-are-you-feeling-today-with-question-mark","How are you feeling today?");default:return}}static getPollAnswers(e,t){switch(e){case n.a.WELLNESS_CHECK_POLL:return[{answer:t&&t("im-great","\ud83d\ude00 I'm great")},{answer:t&&t("im-ok","\ud83d\ude42 I'm okay")},{answer:t&&t("im-meh","\ud83d\ude10 I'm meh")},{answer:t&&t("im-strugling","\ud83d\ude22 I'm struggling")}];default:return}}static supportsAttachments(e){return e!==n.a.POLL_TAB}}t.a=r},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1800),i=a(14),o=a(156);t.a=Object(s.a)({})(({targetId:e,displayName:t,isSchool:a,isDistrict:n,handleMouseEnterPopoverButton:s,handleMouseLeavePopoverButton:l,isFromReply:c,creator:d,currentUser:u})=>{let h=null;a?h=r.a.createElement("span",{className:"icon-school"}):n&&(h=r.a.createElement("span",{className:"icon-district"}));let p=t;return c&&d&&u&&i.a.getId(d)!==i.a.getId(u)&&i.a.isParent(d)&&(p=r.a.createElement(o.default,{string:"parents,parent_user",fallbackString:"%{name} (Parent)",insertions:{name:t}})),a||n||c?r.a.createElement("button",{className:"profile-popover-button sender-name",id:e,type:"button"},h,p):r.a.createElement("button",{className:"profile-popover-button sender-name",onMouseEnter:s,id:e,onMouseLeave:l,type:"button"},h,p)})},function(e,t,a){"use strict";t.a={MORE_ELLIPSIS:"global,more",LESS_ELLIPSIS:"global,less",MORE:"post_stream,filter,more",LESS:"post_stream,filter,less",TO:"post_stream,to",POSTED_TO:"post_stream,posted_to",AT:"at",TEACHER:"admin_pages,teacher",SCHEDULED:"scheduled"}},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";var n=a(273),r=a(4),s=a.n(r),i=a(364),o=a(133),l=a(134),c=a(38),d=a(139),u=a(9),h=a(1),p=a(95);const m=(e,t)=>{const a=c.a.getId(t.message);return a&&a.toString()},g=(e,t)=>{const a=p.a.getId(t.reply);return a&&a.toString()},f=(e,t)=>{const a=p.a.getId(t.subReply);return a&&a.toString()},b=Object(u.createSelector)([e=>e.getIn([h.a.REACTIONS,h.a.MESSAGE_REACTIONS]),m],(e,t)=>e.get(t)),E=Object(u.createSelector)([e=>e.getIn([h.a.REACTIONS,h.a.REPLY_REACTIONS]),g],(e,t)=>e.get(t)),y=Object(u.createSelector)([e=>e.getIn([h.a.REACTIONS,h.a.SUB_REPLY_REACTIONS]),f],(e,t)=>e.get(t)),S=Object(u.createSelector)([e=>e.getIn([h.a.REACTIONS,h.a.END_OF_MESSAGE_LIKES_DATA_REACHED]),m],(e,t)=>e.get(t)),v=Object(u.createSelector)([e=>e.getIn([h.a.REACTIONS,h.a.END_OF_REPLY_LIKES_DATA_REACHED]),g],(e,t)=>e.get(t)),C=Object(u.createSelector)([e=>e.getIn([h.a.REACTIONS,h.a.END_OF_SUBREPLY_LIKES_DATA_REACHED]),f],(e,t)=>e.get(t));var A=a(516),I=a(156),T=a(13),k=a(1207),O=a(175),_=a(1211),M=a(14);var N=({reaction:e})=>{const t=O.a.getCreator(e),a=M.a.getFullName(t);return s.a.createElement("div",{className:"d-flex py-1"},s.a.createElement(_.a,{user:t,size:"24"}),s.a.createElement("p",{className:"user-detail pl-1"},a))},w=a(1213),P=a(1649),R=a(0),x=a(1729),L=a(1203),D=a.n(L);var F=({reaction:e})=>{const t=O.a.getCreator(e),a=M.a.formatName(t,!1);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("div",{className:"d-flex"},s.a.createElement(_.a,{user:t}),s.a.createElement("div",{className:"ml-2"},s.a.createElement("p",{className:"font-weight-bold"},a),s.a.createElement("p",{style:{color:D.a.gray[40]}},(e=>{if(!R.Map.isMap(e))return;const t=M.a.getSchoolName(e);return M.a.isStudent(e)?t?s.a.createElement(I.default,{string:"student-at-school",fallbackString:"Student at %{school}",insertions:{school:t}}):s.a.createElement(I.default,{string:"student",fallbackString:"Student"}):M.a.isTeacher(e)?t?s.a.createElement(I.default,{string:"profile,x_teacher_at_school",fallbackString:"Teacher at %{school}",insertions:{school:t}}):s.a.createElement(I.default,{string:"teacher",fallbackString:"Teacher"}):M.a.isParent(e)?s.a.createElement(I.default,{string:"parent",fallbackString:"Parent"}):void 0})(t))))),s.a.createElement(x.a,null))},U=a(518);var B=({reactions:e,isEndOfLikesDataReached:t,fetchMore:a,ajaxStatus:n})=>s.a.createElement(P.a,{isEndReached:t,fetchMore:a,isLoading:U.a.isLoading(n),useWindowAsScrollContainer:!1,containerHeight:"60vh",fetchOnMount:!1},e.valueSeq().map(e=>s.a.createElement(F,{reaction:e,key:O.a.getId(e)})));var G=({toggle:e,isOpen:t,reactions:a,isEndOfLikesDataReached:n,fetchMore:r,ajaxStatus:o})=>s.a.createElement(i.M,{isOpen:t,toggle:e},s.a.createElement(i.P,{toggle:e,className:"p-2"},s.a.createElement(I.default,{string:"post_stream,likes",fallbackString:"Likes"})),s.a.createElement(x.a,{className:"mt-0"}),s.a.createElement(i.N,null,s.a.createElement(B,{reactions:a,isEndOfLikesDataReached:n,fetchMore:r,ajaxStatus:o})),s.a.createElement(x.a,null),s.a.createElement(i.O,{className:"p-2"},s.a.createElement(w.a,{weight:"loud",qaSelector:"qa-test-more-likes-modal-close-btn",onClick:e},s.a.createElement(I.default,{string:"done",fallbackString:"Done"})))),j=a(7);class z extends r.Component{constructor(e){super(e),this.state={isTooltipOpen:!1,isMoreLikesModalOpen:!1},this.page=1,this.fetchLikesData=this.fetchLikesData.bind(this),this.toggleTooltip=this.toggleTooltip.bind(this),this.renderLikeListInTooltip=this.renderLikeListInTooltip.bind(this),this.toggleMoreLikesModal=this.toggleMoreLikesModal.bind(this),this.getReactionsAndEndOfLikesDataReached=this.getReactionsAndEndOfLikesDataReached.bind(this)}fetchLikesData(){const e=this.props,t=e.message,a=e.reply,n=e.subReply,r=e.postActions,s=c.a.getId(t),i=p.a.getId(a),o=p.a.getId(n);s?r.fetchLikesData(s,this.page):i?r.fetchReplyLikesData(i,this.page):o&&r.fetchSubReplyLikesData(o,this.page),this.page++}toggleTooltip(){this.state.isTooltipOpen||1!==this.page||this.fetchLikesData(),this.setState({isTooltipOpen:!this.state.isTooltipOpen})}toggleMoreLikesModal(){const e=this.state.isMoreLikesModalOpen&&this.state.isTooltipOpen;this.setState({isMoreLikesModalOpen:!this.state.isMoreLikesModalOpen,isTooltipOpen:e})}getReactionsAndEndOfLikesDataReached(){const e=this.props,t=e.messageReactionsWithMessageId,a=e.replyReactionsWithReplyId,n=e.subReplyReactionsWithSubReplyId,r=e.isEndOfMessageLikesDataReached,s=e.isEndOfReplyLikesDataReached,i=e.isEndOfSubReplyLikesDataReached,o=e.message,l=e.reply,c=e.subReply;let d,u;return o?(d=t,u=r):l?(d=a,u=s):c&&(d=n,u=i),[d,u]}renderLikeListInTooltip(){const e=this.props,t=e.message,a=e.reply,n=e.subReply;let r=O.a.getNumOfReactions(t,a,n);const i=this.getReactionsAndEndOfLikesDataReached()[0],o=r-T.a.DEFAULT_LIKES_PER_PAGE_VALUE,l=i&&i.valueSeq().slice(0,T.a.DEFAULT_LIKES_PER_PAGE_VALUE).map(e=>s.a.createElement(N,{reaction:e,key:O.a.getId(e)}));return i&&i.size>0?s.a.createElement(s.a.Fragment,null,l,o>0&&s.a.createElement(k.a,{qaSelector:"qa-test-more-likes-btn more-likes-btn",onClick:this.toggleMoreLikesModal},s.a.createElement(I.default,{string:"num-of-more-likes",fallbackString:"+%{num} more",insertions:{num:o}}))):s.a.createElement("p",null,s.a.createElement(I.default,{string:"loading",fallbackString:"Loading"}),"...")}render(){const e=this.props,t=e.message,a=e.reply,r=e.subReply,o=e.ajaxStatus;let l=O.a.getNumOfReactions(t,a,r);const c=this.getReactionsAndEndOfLikesDataReached(),d=Object(n.a)(c,2),u=d[0],h=d[1];return s.a.createElement(s.a.Fragment,null,l>0&&s.a.createElement(i.hb,{className:"tooltip like-listing qa-test-like-listing",placement:"top",trigger:"hover",target:O.a.getTooltipId(t,a,r),isOpen:this.state.isTooltipOpen,toggle:this.toggleTooltip,autohide:!1,boundariesElement:"window"},this.renderLikeListInTooltip()),s.a.createElement(G,{isOpen:this.state.isMoreLikesModalOpen,toggle:this.toggleMoreLikesModal,reactions:u,isEndOfLikesDataReached:!!h,fetchMore:this.fetchLikesData,ajaxStatus:o}))}}t.a=Object(o.connect)((function(e,t){return{messageReactionsWithMessageId:b(e,t),replyReactionsWithReplyId:E(e,t),subReplyReactionsWithSubReplyId:y(e,t),isEndOfMessageLikesDataReached:S(e,t),isEndOfReplyLikesDataReached:v(e,t),isEndOfSubReplyLikesDataReached:C(e,t),ajaxStatus:A.c(e,j.a.LIKE_DATA_FETCH_LOADING_STATUS)}}),(function(e){return{postActions:Object(l.bindActionCreators)(d,e)}}))(z)},function(e,t,a){"use strict";var n=a(4),r=a.n(n);const s=({margin:e,className:t,width:a})=>r.a.createElement("hr",{style:{height:"1px",margin:e,color:"#F2F2F2",width:a},className:t});s.defaultProps={margin:"12px 0"},t.a=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=l(a(4)),r=l(a(2)),s=a(1210),i=a(1335),o=a(1209);function l(e){return e&&e.__esModule?e:{default:e}}var c="react-calendar__navigation";function d(e){var t=e.activeStartDate,a=e.drillUp,r=e.formatMonthYear,i=e.locale,o=e.maxDate,l=e.minDate,d=e.navigationAriaLabel,u=e.navigationLabel,h=e.next2AriaLabel,p=e.next2Label,m=e.nextAriaLabel,g=e.nextLabel,f=e.prev2AriaLabel,b=e.prev2Label,E=e.prevAriaLabel,y=e.prevLabel,S=e.setActiveStartDate,v=e.view,C=e.views.indexOf(v)>0,A="century"!==v,I=(0,s.getBeginPrevious)(v,t),T=A&&(0,s.getBeginPrevious2)(v,t),k=(0,s.getBeginNext)(v,t),O=A&&(0,s.getBeginNext2)(v,t),_=function(){if(I.getFullYear()<1e3)return!0;var e=(0,s.getEndPrevious)(v,t);return l&&l>=e}(),M=A&&function(){if(T.getFullYear()<1e3)return!0;var e=(0,s.getEndPrevious2)(v,t);return l&&l>=e}(),N=o&&o<=k,w=A&&o&&o<=O;var P=function(){switch(v){case"century":return(0,s.getCenturyLabel)(t);case"decade":return(0,s.getDecadeLabel)(t);case"year":return(0,s.getYear)(t);case"month":return r(i,t);default:throw new Error("Invalid view: ".concat(v,"."))}}();return n.default.createElement("div",{className:c,style:{display:"flex"}},null!==b&&A&&n.default.createElement("button",{"aria-label":f,className:"".concat(c,"__arrow ").concat(c,"__prev2-button"),disabled:M,onClick:function(){S(T)},type:"button"},b),n.default.createElement("button",{"aria-label":E,className:"".concat(c,"__arrow ").concat(c,"__prev-button"),disabled:_,onClick:function(){S(I)},type:"button"},y),n.default.createElement("button",{"aria-label":d,className:"react-calendar__navigation__label",disabled:!C,onClick:a,style:{flexGrow:1},type:"button"},u?u({date:t,view:v,label:P}):P),n.default.createElement("button",{"aria-label":m,className:"".concat(c,"__arrow ").concat(c,"__next-button"),disabled:N,onClick:function(){S(k)},type:"button"},g),null!==p&&A&&n.default.createElement("button",{"aria-label":h,className:"".concat(c,"__arrow ").concat(c,"__next2-button"),disabled:w,onClick:function(){S(O)},type:"button"},p))}d.defaultProps={formatMonthYear:i.formatMonthYear,navigationAriaLabel:"",next2AriaLabel:"",next2Label:"\xbb",nextAriaLabel:"",nextLabel:"\u203a",prev2AriaLabel:"",prev2Label:"\xab",prevAriaLabel:"",prevLabel:"\u2039"},d.propTypes={activeStartDate:r.default.instanceOf(Date).isRequired,drillUp:r.default.func.isRequired,formatMonthYear:r.default.func,locale:r.default.string,maxDate:r.default.instanceOf(Date),minDate:r.default.instanceOf(Date),navigationAriaLabel:r.default.string,navigationLabel:r.default.func,next2AriaLabel:r.default.string,next2Label:r.default.oneOfType([r.default.string,r.default.node]),nextAriaLabel:r.default.string,nextLabel:r.default.oneOfType([r.default.string,r.default.node]),prev2AriaLabel:r.default.string,prev2Label:r.default.oneOfType([r.default.string,r.default.node]),prevAriaLabel:r.default.string,prevLabel:r.default.oneOfType([r.default.string,r.default.node]),setActiveStartDate:r.default.func.isRequired,view:o.isView.isRequired,views:o.isViews.isRequired}},function(e,t,a){"use strict";a.r(t),a.d(t,"getUserLocales",(function(){return s})),a.d(t,"getUserLocale",(function(){return i}));var n=a(1732),r=a.n(n);var s=r()((function(){var e=[];return"undefined"!==typeof window&&(window.navigator.languages&&(e=e.concat(window.navigator.languages)),window.navigator.language&&e.push(window.navigator.language),window.navigator.userLanguage&&e.push(window.navigator.userLanguage),window.navigator.browserLanguage&&e.push(window.navigator.browserLanguage),window.navigator.systemLanguage&&e.push(window.navigator.systemLanguage)),e.push("en-US"),function(e){return e.map((function(e){if(!e||-1===e.indexOf("-")||e.toLowerCase()!==e)return e;var t=e.split("-");return"".concat(t[0],"-").concat(t[1].toUpperCase())}))}(e.filter((function(e,t,a){return a.indexOf(e)===t})))}));var i=r()((function(){return s()[0]}));t.default=i},function(e,t){var a=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,s=/^0o[0-7]+$/i,i=parseInt,o=Object.prototype.toString;function l(e,t){var l;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==o.call(e)}(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var l=r.test(e);return l||s.test(e)?i(e.slice(2),l?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0){return 17976931348623157e292*(e<0?-1:1)}return e===e?e:0}(e),l=t%1;return t===t?l?t-l:t:0}(e),function(){return--e>0&&(l=t.apply(this,arguments)),e<=1&&(t=void 0),l}}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return l(2,e)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=l(a(4)),r=l(a(1336)),s=l(a(1734)),i=a(1210),o=a(1209);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e){var t=e.activeStartDate,a=(0,i.getBeginOfCenturyYear)(t),o=a+99;return n.default.createElement(r.default,u({},e,{className:"react-calendar__century-view__decades",dateTransform:i.getBeginOfDecade,dateType:"decade",end:o,start:a,step:10,tile:s.default}))}h.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o.tileGroupProps)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=l(a(4)),r=l(a(2)),s=l(a(1337)),i=a(1210),o=a(1209);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function p(e){var t=e.classes,a=e.point,r=h(e,["classes","point"]);return n.default.createElement(s.default,u({},r,{classes:[].concat(t,"react-calendar__century-view__decades__decade"),maxDateTransform:i.getEndOfDecade,minDateTransform:i.getBeginOfDecade,view:"century"}),(0,i.getDecadeLabel)(a))}p.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o.tileProps,{point:r.default.number.isRequired})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=l(a(4)),r=l(a(1336)),s=l(a(1736)),i=a(1210),o=a(1209);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e){var t=e.activeStartDate,a=(0,i.getBeginOfDecadeYear)(t),o=a+9;return n.default.createElement(r.default,u({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){return new Date(e,0,1)},dateType:"year",end:o,start:a,tile:s.default}))}h.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o.tileGroupProps)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=l(a(4)),r=l(a(2)),s=l(a(1337)),i=a(1210),o=a(1209);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function p(e){var t=e.classes,a=e.point,r=h(e,["classes","point"]);return n.default.createElement(s.default,u({},r,{classes:[].concat(t,"react-calendar__decade-view__years__year"),maxDateTransform:i.getEndOfYear,minDateTransform:i.getBeginOfYear,view:"decade"}),a)}p.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o.tileProps,{point:r.default.number.isRequired})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=c(a(4)),r=c(a(2)),s=c(a(1336)),i=c(a(1738)),o=a(1210),l=a(1209);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e){var t=e.activeStartDate,a=(0,o.getYear)(t);return n.default.createElement(s.default,h({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){return new Date(a,e,1)},dateType:"month",end:11,start:0,tile:i.default}))}p.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l.tileGroupProps,{locale:r.default.string})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=c(a(4)),r=c(a(2)),s=c(a(1337)),i=a(1210),o=a(1335),l=a(1209);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m(e){var t=e.classes,a=e.date,r=e.formatMonth,l=e.locale,c=p(e,["classes","date","formatMonth","locale"]);return n.default.createElement(s.default,h({},c,{classes:[].concat(t,"react-calendar__year-view__months__month"),date:a,formatAbbr:o.formatMonthYear,locale:l,maxDateTransform:i.getEndOfMonth,minDateTransform:i.getBeginOfMonth,view:"year"}),r(l,a))}m.defaultProps={formatMonth:o.formatMonth},m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l.tileProps,{formatMonth:r.default.func})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=c(a(4)),r=c(a(2)),s=c(a(1336)),i=c(a(1740)),o=a(1210),l=a(1209);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m(e){var t=e.activeStartDate,a=e.calendarType,r=e.showFixedNumberOfWeeks,l=e.showNeighboringMonth,c=p(e,["showFixedNumberOfWeeks","showNeighboringMonth"]),d=(0,o.getYear)(t),u=(0,o.getMonthIndex)(t),m=r||l,g=(0,o.getDayOfWeek)(t,a),f=m?0:g,b=1+(m?-g:0),E=function(){if(r)return b+42-1;var e=(0,o.getDaysInMonth)(t);if(l){var n=new Date(d,u,e);return e+(7-(0,o.getDayOfWeek)(n,a)-1)}return e}();return n.default.createElement(s.default,h({},c,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:u,dateTransform:function(e){return new Date(d,u,e)},dateType:"day",end:E,offset:f,start:b,tile:i.default}))}m.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({calendarType:l.isCalendarType.isRequired,showFixedNumberOfWeeks:r.default.bool,showNeighboringMonth:r.default.bool},l.tileGroupProps)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var n=c(a(4)),r=c(a(2)),s=c(a(1337)),i=a(1210),o=a(1335),l=a(1209);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var m="react-calendar__month-view__days__day";function g(e){var t=e.calendarType,a=e.classes,r=e.currentMonthIndex,l=e.date,c=p(e,["calendarType","classes","currentMonthIndex","date"]);return n.default.createElement(s.default,h({},c,{classes:[].concat(a,m,(0,i.isWeekend)(l,t)?"".concat(m,"--weekend"):null,l.getMonth()!==r?"".concat(m,"--neighboringMonth"):null),date:l,formatAbbr:o.formatLongDate,maxDateTransform:i.getEndOfDay,minDateTransform:i.getBeginOfDay,view:"month"}),(0,i.getDay)(l))}g.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l.tileProps,{currentMonthIndex:r.default.number.isRequired})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=c(a(4)),r=c(a(2)),s=c(a(1481)),i=a(1210),o=a(1335),l=a(1209);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){for(var t=e.calendarType,a=e.formatShortWeekday,r=e.locale,l=e.onMouseLeave,c=new Date,d=(0,i.getBeginOfMonth)(c),u=(0,i.getYear)(d),h=(0,i.getMonthIndex)(d),p=[],m=1;m<=7;m+=1){var g=new Date(u,h,m-(0,i.getDayOfWeek)(d,t)),f=(0,o.formatWeekday)(r,g);p.push(n.default.createElement("div",{key:m,className:"react-calendar__month-view__weekdays__weekday"},n.default.createElement("abbr",{"aria-label":f,title:f},a(r,g).replace(".",""))))}return n.default.createElement(s.default,{className:"react-calendar__month-view__weekdays",count:7,onFocus:l,onMouseOver:l},p)}d.defaultProps={formatShortWeekday:o.formatShortWeekday},d.propTypes={calendarType:l.isCalendarType.isRequired,formatShortWeekday:r.default.func,locale:r.default.string,onMouseLeave:r.default.func}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=c(a(4)),r=c(a(2)),s=c(a(1743)),i=c(a(1481)),o=a(1210),l=a(1209);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.activeStartDate,a=e.calendarType,r=e.onClickWeekNumber,l=e.onMouseLeave,c=e.showFixedNumberOfWeeks,d=function(){if(c)return 6;var e=(0,o.getDaysInMonth)(t)-(7-(0,o.getDayOfWeek)(t,a));return 1+Math.ceil(e/7)}(),u=function(){for(var e=(0,o.getYear)(t),n=(0,o.getMonthIndex)(t),r=(0,o.getDay)(t),s=[],i=0;i<d;i+=1)s.push((0,o.getBeginOfWeek)(new Date(e,n,r+7*i),a));return s}(),h=u.map((function(e){return(0,o.getWeekNumber)(e,a)}));return n.default.createElement(i.default,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:l,onMouseOver:l,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},h.map((function(e,t){return n.default.createElement(s.default,{key:e,date:u[t],onClickWeekNumber:r,weekNumber:e})})))}d.propTypes={activeStartDate:r.default.instanceOf(Date).isRequired,calendarType:l.isCalendarType.isRequired,onClickWeekNumber:r.default.func,onMouseLeave:r.default.func,showFixedNumberOfWeeks:r.default.bool}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=s(a(4)),r=s(a(2));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.date,a=e.onClickWeekNumber,r=e.weekNumber;return a?n.default.createElement("button",{className:"react-calendar__tile",onClick:function(){return a(r,t)},style:{flexGrow:1},type:"button"},n.default.createElement("span",null,r)):n.default.createElement("div",{className:"react-calendar__tile",style:{flexGrow:1}},n.default.createElement("span",null,r))}i.propTypes={date:r.default.instanceOf(Date).isRequired,onClickWeekNumber:r.default.func,weekNumber:r.default.number.isRequired}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1616),i=a.n(s),o=a(1470),l=a.n(o),c=a(40),d=a(38),u=a(1653),h=a(1459);t.a=({text:e})=>(e&&e.split(/(\[math\].*?\[\/math\])/g)||[]).map((e,t)=>/(^\[math\].*\[\/math\]$)/.test(e)?(h.a.getKaTextStylesheet(),r.a.createElement(i.a,{key:t},d.a.preprocessLatexCode(e))):r.a.createElement(l.a,{key:t,source:c.a.sanitizeDangerousText(e),renderers:{link:u.a},escapeHtml:!1,stripListLeaders:!0}))},function(e,t,a){"use strict";var n=a(1803),r=a(38),s=a(1804),i=a.n(s),o=a(226),l=a(201),c=a(77);i()(n);t.a=class{static linkifyText(e){const t=r.a.hasLatexCode(e);if(!e)return"";if(t)return e;let a=e.replace(/\\/g,"/");const s=n.find(e).filter(e=>!o.a.IMG_EXTENSIONS.includes(e.value.split(".").pop())),i={};return s.filter(e=>!i.hasOwnProperty(e.value)&&(i[e.value]=!0)).forEach(e=>{if(l.u(e.value)||e.type===o.a.EMAIL)try{const t=new RegExp(e.value,"g");let n;switch(e.type){case o.a.URL:case o.a.EMAIL:n="[".concat(e.value,"](").concat(e.href,")")}n&&(a=a.replace(t,n))}catch(t){}else if(l.n(e.value))try{const t=new RegExp("".concat(e.value,"\\b"),"g"),n=e.href.split("#")[1],r=c.a.makeHomeHashtagUrl(n),s="[".concat(e.value,"](").concat(r,")");a=a.replace(t,s)}catch(t){}}),a}}},,,,,,function(e,t,a){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},function(e,t,a){"use strict";e.exports={position:!0,gfm:!0,commonmark:!1,footnotes:!1,pedantic:!1,blocks:a(1844)}},function(e,t,a){"use strict";e.exports=function(e){var t,a=0,r=0,s=e.charAt(a),i={};for(;s in n;)r+=t=n[s],t>1&&(r=Math.floor(r/t)*t),i[r]=a,s=e.charAt(++a);return{indent:r,stops:i}};var n={" ":1,"\t":4}},function(e,t,a){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";t.openCloseTag=new RegExp("^(?:"+n+"|"+r+")"),t.tag=new RegExp("^(?:"+n+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},function(e,t,a){"use strict";e.exports=function(e,t){return e.indexOf("<",t)}},function(e,t,a){"use strict";e.exports=function(e,t){var a=e.indexOf("[",t),n=e.indexOf("![",t);if(-1===n)return a;return a<n?a:n}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156),o=a(1275),l=a(1207);a(1769);t.a=({toggle:e,fromWhere:t,disabled:a})=>{let n=null;return n="fromReplyButton"===t?"postreply-link-attachment-icon":"postbox-link-attachment-icon",r.a.createElement("li",{className:"qa-test-postbox-link-attachment-icon",id:n},r.a.createElement(l.a,{color:"link",className:"add_link","data-toggle":"modal","data-original-title":"Add Link",title:"",onClick:e,disabled:a},r.a.createElement(o.default,{className:"link-attachment-icon"})),r.a.createElement(s.lb,{className:"tooltip",placement:"bottom",target:n,delay:0},r.a.createElement(i.default,{string:"profile,add_link",fallbackString:"Add Link"})))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1298),i=a(1311),o=a(1297),l=a(1268);const c={itemAlreadySelected:(e,t)=>!!t.find(t=>c.getSelectedItemId(t)===c.getSelectedItemId(e)),excludeSelectableItemsByTarget:({selectedId:e},t)=>parseInt(t[1],10)!==parseInt(e,10),findSelectableItemByTarget:({selectedId:e,selectedTitle:t,selectedItemType:a},n)=>parseInt(n[1],10)===parseInt(e,10)&&parseInt(n[0],10)===parseInt(a,10),setSelectedItemBackground:(e,t)=>{let a;return a=t?(void 0).props.defaultBackgroundColor||"#fff":l.b(e[0])?e[3]:l.a(e[0]),e[4]=a,e},getSelectedItemId:e=>e[1],getSelectedItemTitle:e=>e[2],getSelectedItemBackground:e=>e[4]||e[3]};class d extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(s.a,Object.assign({},this.props,{getSelectedItemId:c.getSelectedItemId,getSelectedItemTitle:c.getSelectedItemTitle,getSelectedItemBackground:c.getSelectedItemBackground,SelectableItemView:i.a,inputClassName:"qa-test-send-to-recipients"}))}}t.a=Object(o.a)(c)(d)},function(e,t,a){"use strict";a.r(t),a.d(t,"NotFoundPageMock",(function(){return I}));var n=a(4),r=a.n(n),s=a(364),i=a(133),o=a(73),l=a(1762),c=a(509),d=a(156),u="oops",h="account_recovery,back_to_home",p="not_found_page,doesnt-exist";a(1295);var m=()=>r.a.createElement("div",{className:"four-o-four-page-title"},r.a.createElement("h1",{className:"text-center"},r.a.createElement(d.default,{string:u})));var g=()=>r.a.createElement("div",{className:"four-o-four-page-error-description"},r.a.createElement("p",{className:"text-center"},r.a.createElement(d.default,{string:p})));var f=()=>r.a.createElement("div",{className:"four-o-four-page-image"}),b=a(819),E=a(10);var y=({loggedIn:e,history:t,lastPageVisited:a})=>r.a.createElement("div",{className:"four-o-four-back-to-previous-page"},r.a.createElement(b.a,{to:E.a.HOME_PAGE},r.a.createElement(d.default,{string:h})));var S=({loggedIn:e,history:t,lastPageVisited:a})=>r.a.createElement("div",{className:"four-o-four-page-content"},r.a.createElement(m,null),r.a.createElement(g,null),r.a.createElement(y,{loggedIn:e,history:t,lastPageVisited:a}),r.a.createElement(f,null)),v=a(192),C=a(1587);class A extends n.Component{constructor(e,t){super(e,t),this.state={loggedIn:v.a.isValid(this.props.accessToken)}}static translationFiles(){return["bell_notification","not_found_page"]}render(){const e=this.props,t=e.history,a=e.lastPageVisited,n=this.state.loggedIn;return r.a.createElement(s.u,{fluid:!0,className:"four-o-four-page"},r.a.createElement(C.default,null),r.a.createElement("div",{className:"four-o-four-page-content"},r.a.createElement(S,{loggedIn:n,history:t,lastPageVisited:a})))}}const I=A;t.default=Object(i.connect)((function(e){return{accessToken:o.d(e),lastPageVisited:l.a(e)}}))(Object(c.a)(A))},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(28),r=a(9);const s=Object(r.createSelector)([n.a],e=>e&&e.last())},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1203),i=a.n(s),o=a(1204),l=a(156),c=(a(1221),a(1207));t.a=({title:e,questionsAmount:t,showRemove:a,messageId:n,handleDismissClick:s,id:d,handleQuizAddToLibrary:u,isTeacher:h})=>r.a.createElement("div",{id:"file-attachment",className:"AttachmentItem AttachmentItem--quiz mx-2_5"},r.a.createElement("div",{className:"d-flex align-items-center p-2"},r.a.createElement("div",{className:"AttachmentItem__icon d-flex justify-content-center align-items-center flex-shrink-0"},r.a.createElement(o.a,{name:"quiz-icon",color:i.a.cyan[30]})),r.a.createElement("div",{className:"pl-2_5 w-100"},r.a.createElement("div",{className:"title AttachmentItem__title"},e),r.a.createElement("span",{className:"subtext"},r.a.createElement(l.default,{string:"quiz",fallbackString:"Quiz"}),"\xa0\xa0\u2022\xa0\xa0",r.a.createElement(l.default,{string:"quiz_question_count",fallbackString:"%{smart_count} Questions",insertions:{smart_count:t}}))),h&&u&&r.a.createElement("div",null,r.a.createElement(c.a,{onClick:()=>u(d)},r.a.createElement(l.default,{string:"add-to-library",fallbackString:"Add To Library"}))),a&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(o.a,{name:"x-icon",className:"AttachmentItem__remove",color:i.a.gray[40],"data-attachment-id":d,"data-attachment-messageid":n,"data-attachment-type":"file",onClick:s,onKeyPress:s}))))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1203),i=a.n(s),o=a(1204),l=a(156),c=(a(1221),a(1207));t.a=({title:e,showRemove:t,messageId:a,handleDismissClick:n,id:s,index:d,handleAssignmentAddToLibrary:u})=>r.a.createElement("div",{id:"file-attachment",className:"AttachmentItem AttachmentItem--assignment mx-2_5"},r.a.createElement("div",{className:"d-flex align-items-center p-2"},r.a.createElement("div",{className:"AttachmentItem__icon d-flex justify-content-center align-items-center flex-shrink-0"},r.a.createElement(o.a,{name:"assignment-icon",color:i.a.cyan[30]})),r.a.createElement("div",{className:"pl-2_5 w-100"},r.a.createElement("div",{className:"title AttachmentItem__title"},e),r.a.createElement("span",{className:"subtext"},r.a.createElement(l.default,{string:"assignment",fallbackString:"Assignment"}))),r.a.createElement("div",null,u&&r.a.createElement(c.a,{onClick:()=>u(s)},r.a.createElement(l.default,{string:"add-to-library",fallbackString:"Add To Library"}))),t&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(o.a,{name:"x-icon",className:"AttachmentItem__remove",color:i.a.gray[40],"data-attachment-id":s,"data-attachment-messageid":a,"data-attachment-type":"file",onClick:n,onKeyPress:n}))))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1300),o=a(1242),l=a(156);t.a=({isAmbassador:e,isStaff:t,messageId:a})=>{return r.a.createElement("div",{className:"user-role-icon-container"},(n=e,c=t,r.a.createElement("div",{className:"user-role-icons"},r.a.createElement("span",{id:"ambassador".concat(a)},n?r.a.createElement(o.default,{className:"ambassador-star-icon"}):null,r.a.createElement(s.lb,{className:"tooltip",placement:"bottom",target:"ambassador".concat(a),delay:0},r.a.createElement(l.default,{string:"post_stream,edmodo_ambassador_tooltip",fallbackString:"Edmodo Ambassador"}))),r.a.createElement("span",{id:"staff".concat(a)},c?r.a.createElement(i.default,{className:"staff-edmodo-icon"}):null,r.a.createElement(s.lb,{className:"tooltip",placement:"bottom",target:"staff".concat(a),delay:0},r.a.createElement(l.default,{string:"post_stream,edmodo_staff_tooltip",fallbackString:"Edmodo Staff"}))))));var n,c}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(2),i=a.n(s),o=a(1198),l=a(819),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=function(e){var t=e.to,a=e.exact,n=e.strict,s=e.location,i=e.activeClassName,u=e.className,h=e.activeStyle,p=e.style,m=e.isActive,g=e["aria-current"],f=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),b="object"===("undefined"===typeof t?"undefined":d(t))?t.pathname:t,E=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return r.a.createElement(o.a,{path:E,exact:a,strict:n,location:s,children:function(e){var a=e.location,n=e.match,s=!!(m?m(n,a):n);return r.a.createElement(l.a,c({to:t,className:s?[u,i].filter((function(e){return e})).join(" "):u,style:s?c({},p,h):p,"aria-current":s&&g||null},f))}})};u.propTypes={to:l.a.propTypes.to,exact:i.a.bool,strict:i.a.bool,location:i.a.object,activeClassName:i.a.string,className:i.a.string,activeStyle:i.a.object,style:i.a.object,isActive:i.a.func,"aria-current":i.a.oneOf(["page","step","location","date","time","true"])},u.defaultProps={activeClassName:"active","aria-current":"page"},t.a=u},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(134),i=a(133),o=a(819),l=a(1723),c=a(11),d=a.n(c),u=a(1666),h=a(1728),p=a(509),m=a(95),g=a(386),f=a(275);a(1725),a(1726);var b=Object(p.a)(({reply:e,liked:t,reactionId:a,translate:n,replyLocation:s,handlesubReplyClick:i,handleLikeClick:o,canReply:l,isInteractionsDisabled:c,isInteractionsHidden:p})=>{const b=e&&e.get(f.a.MESSAGE_ID),E=e&&e.get(f.a.ID),y=e&&e.get(f.a.NUMBER_REACTIONS),S=y>0?"".concat(y," "):"",v="".concat(S).concat(y>1?n&&n(g.a.LIKES):n&&n(g.a.LIKE)),C="".concat(t?"liked footer qa-test-like-reply":"like footer qa-test-like-reply"," ").concat(c?"disabled":""),A=e&&e.get(f.a.NUM_REPLIES),I=n&&n(m.a.getFormattedReplyCount(A)).replace(/%{count}/,A),T=e&&e.get(f.a.CREATED_AT),k=d()(T).format("MMM DD, YYYY, h:mm A"),O=d()().diff(T,"days")>1?k:d()(T).fromNow();return r.a.createElement("div",{className:"reply-footer"},r.a.createElement("div",null,!p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"like-container"},r.a.createElement(u.a,null,r.a.createElement("button",{className:C,"data-message":b,"data-reply":E,"data-reaction":a,"data-location":s,"data-liked":t,onClick:c?void 0:o,id:"like-container-".concat(E)},v)),r.a.createElement(h.a,{reply:e}),r.a.createElement("div",{className:"ns-likes-list"},r.a.createElement("ul",null))),l&&r.a.createElement("span",{className:"dot"}),!l&&!!A&&r.a.createElement("span",{className:"dot"}),r.a.createElement("span",{className:"num-replies"},l&&r.a.createElement(u.a,null,r.a.createElement("button",{className:"qa-test-post-reply post-reply replies footer","data-replyid":E,"data-location":s,onClick:i},I)),!l&&!!A&&r.a.createElement("button",{className:"qa-test-post-reply post-reply footer readonly"},I)),r.a.createElement("span",{className:"dot"})),r.a.createElement("span",{className:"creation-date"},O)))}),E=a(156),y=a(1204),S=a(370),v=a(1203),C=a.n(v);a(1496),a(1779);var A=({reply:e,subReply:t,handleReplyDelete:a,handleReplyEdit:n})=>{const s=e&&e.get(f.a.MESSAGE_ID),i=e&&e.get(f.a.ID),o=t&&t.get(f.a.ID);return r.a.createElement(S.a,{className:"qa-test-reply-drop-down-menu reply-drop-down-menu",align:"end",hideArrow:!0},r.a.createElement("div",{className:"qa-test-drop-selector drop-selector"},r.a.createElement(y.a,{name:"EllipsisIcon",color:C.a.gray[40]})),r.a.createElement(S.b,null,r.a.createElement(S.c,{className:"qa-test-menu-item message menu-item qa-test-edit-reply","data-subreply":o,onClick:n},o&&r.a.createElement(E.default,{string:"post_stream,edit_reply"}),!o&&r.a.createElement(E.default,{string:"post_stream,edit_comment",fallbackString:"Edit Comment"})),r.a.createElement(S.c,{className:"qa-test-menu-item qa-test-delete-reply message menu-item","data-reply":i,"data-message":s,"data-subreply":o,onClick:a},o&&r.a.createElement(E.default,{string:"post_stream,delete_reply"}),!o&&r.a.createElement(E.default,{string:"post_stream,delete_comment",fallbackString:"Delete Comment"}))))},I=a(175);var T=Object(p.a)(({reply:e,reactionId:t,subReply:a,replyLocation:n,subReplyLocation:s,translate:i,handlesubReplyLike:o,isInteractionsDisabled:l})=>{const c=I.a.userLikedReply(a),p=m.a.getMessageId(e),b=m.a.getId(e),E=m.a.getId(a);let y=parseInt(m.a.getNumberOfReactions(a)||0,10);y=y<1&&c?1:y;const S=y>0?"".concat(y," "):"",v="".concat(S).concat(y>1?i&&i(g.a.LIKES):i&&i(g.a.LIKE)),C="".concat(c?"liked footer":"like footer"," ").concat(l?"disabled":""),A=a&&a.get(f.a.CREATED_AT),T=d()(A).format("MMM DD, YYYY, h:mm A"),k=d()().diff(A,"days")>1?T:d()(A).fromNow();return r.a.createElement("div",{className:"reply-footer"},r.a.createElement("div",null,r.a.createElement("span",{className:"like-container"},r.a.createElement(u.a,null,r.a.createElement("button",{className:C,"data-message":p,"data-reply":b,"data-subreply":E,"data-reaction":t,"data-liked":c?1:0,"data-location":n,"data-sublocation":s,onClick:l?void 0:o,id:"like-container-"+E},v)),y>0&&r.a.createElement(h.a,{subReply:a}),r.a.createElement("div",{className:"ns-likes-list"},r.a.createElement("ul",null))),r.a.createElement("span",{className:"dot"}),r.a.createElement("span",{className:"creation-date"},k)))}),k=a(1663),O=a(1745),_=a(38),M=a(1470),N=a.n(M),w=a(1653),P=a(40),R=a(1746),x=a(77),L=a(1783);var D=({replyText:e,replyMentions:t,replyCreatorLocaleDifferent:a,replyId:n,handleDynamicTranslationClick:s,handleShowOriginalTranslationTextClick:i,isTranslationDisplayed:o,translatedText:l})=>{const c=o?l:e,d=c&&P.a.addLineBreak(R.a.linkifyText(c));if(_.a.hasLatexCode(c))return r.a.createElement(O.a,{text:d});const u=/@\[([^\[\]@]*)\]/gm;if(!!c&&!!c.match(u)){const e=e=>{const a=t.filter(t=>t.key===e),n=a&&a[0]&&a[0].user_id;return x.a.makeReactProfileUrl(n)},a=c.replace(u,(t,a)=>"<a href=".concat(e(a),' target="_blank" class="mention">').concat(a,"</a>"));return r.a.createElement("span",{className:"full-text",dangerouslySetInnerHTML:{__html:a}})}return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"full-text"},r.a.createElement(N.a,{source:d,renderers:{link:w.a},escapeHtml:!0})),a&&r.a.createElement(L.a,{active:o,makeActiveBtnText:r.a.createElement(E.default,{string:"translate",fallbackString:"Translate"}),makeInactiveBtnText:r.a.createElement(E.default,{string:"show_original",fallbackString:"Show Original"}),handleMakeActiveClick:s,handleMakeInactiveClick:i,makeInactiveOptions:{isTranslationDisplayed:!1,uid:n},makeActiveOptions:{isTranslationDisplayed:!0,contentText:c},makeInactiveQaSelector:"qa-test-reply-untranslate-btn",makeActiveQaSelector:"qa-test-reply-translate-btn",dataSet:{"data-message-id":n}}))};var F=({replyText:e,hasAttachments:t,reply:a,replyId:n,message:s,messageId:i,reactionId:o,smallAvatar:l,fullName:c,author:d,currentUser:u,recipients:h,contentText:p,liked:g,accessToken:f,stream:b,handleLikeClick:E,handleFollowClick:y,handleReplyIconClick:S,handleDismissClick:v,replyMentions:C,streamName:A,replyCreatorLocaleDifferent:I,translatedText:T,handleDynamicTranslationClick:O,handleShowOriginalTranslationTextClick:_,isTranslationDisplayed:M})=>{const N=m.a.getReplyAttachments(a);return r.a.createElement("div",{className:"text"},r.a.createElement(D,{replyText:e,replyMentions:C,replyCreatorLocaleDifferent:I,handleDynamicTranslationClick:O,handleShowOriginalTranslationTextClick:_,isTranslationDisplayed:M,replyId:n,translatedText:T}),t&&r.a.createElement("div",{className:"pt-2"},r.a.createElement(k.a,{attachments:N,reply:a,message:s,messageId:i,reactionId:o,profileAvatar:l,fullName:c,displayName:d,creator:d,smallAvatar:l,currentUser:u,recipients:h,contentText:p,liked:g,accessToken:f,stream:b,handleLikeClick:E,handleFollowClick:y,handleReplyIconClick:S,handleDismissClick:v,streamName:A,size:"sm",showMosaic:!1})))},U=a(1664),B=a(1482),G=a(1520),j=a(1657),z=a(1486),q=a(1340),H=a(1658),V=a(273),W=a(0),Q=a(5),Y=a.n(Q),K=a(212),J=a(328),Z=a(254),X=a(1468),$=a(45),ee=a(201),te=a(36),ae=a(1288),ne=a(73),re=a(369),se=a(1289),ie=a(3),oe=a(24),le=a(199),ce=a(1253),de=a(436),ue=a(1246);var he=e=>{class t extends n.Component{constructor(e){super(e),this.state={newReplyText:null,replyParams:{message_id:null,text:"",parent_reply_id:null,parent_id:null,mentions:[]},attachments:m.a.getReplyAttachments(this.props.reply)||Object(W.Map)(),editReplyLinkModalOpen:!1,selectedLink:null,selectedEmbedSrc:null,editReplyLibraryModalOpen:!1,disabledEditReplySaveButton:!0,filesInProgressAttaching:[],typeAheadItems:null},this.textInput=null,this.setTextInputRef=e=>{this.textInput=e},this.focusTextInput=e=>{e&&e.focus()},this.handleAttachedFilesBegin=this.handleAttachedFilesBegin.bind(this),this.handleReplyAttachFileUpload=this.handleReplyAttachFileUpload.bind(this),this.handleEditReplyText=this.handleEditReplyText.bind(this),this.handleUpdateReply=this.handleUpdateReply.bind(this),this.handleDismissAttachment=this.handleDismissAttachment.bind(this),this.handleReplyAttachLinkBtnClick=this.handleReplyAttachLinkBtnClick.bind(this),this.handleAttachLinkTextBlur=this.handleAttachLinkTextBlur.bind(this),this.handleAttachLinkPaste=this.handleAttachLinkPaste.bind(this),this.handleAttachLinkTitleChange=this.handleAttachLinkTitleChange.bind(this),this.handleAttachLinkCancel=this.handleAttachLinkCancel.bind(this),this.handleAttachLinkCTAClick=this.handleAttachLinkCTAClick.bind(this),this.handleAddFromLibraryClick=this.handleAddFromLibraryClick.bind(this),this.handleAttachedLibraryFiles=this.handleAttachedLibraryFiles.bind(this),this.handleAddFromLibraryClose=this.handleAddFromLibraryClose.bind(this),this.handleSelectedMentionsChange=this.handleSelectedMentionsChange.bind(this),this.handleMentionsBlur=this.handleMentionsBlur.bind(this),this.handleGifAttachmentPickerClick=this.handleGifAttachmentPickerClick.bind(this)}componentDidMount(){this.setState({disabledEditReplySaveButton:!this.textInput.value.length})}UNSAFE_componentWillReceiveProps(e){e.selectedLibraryItemsAttachmentList&&e.selectedLibraryItemsAttachmentList.length&&this.setAttachedLibraryItems(e.selectedLibraryItemsAttachmentList),e.s3UploadProgress&&this.setUploadProgressInFile(e.s3UploadProgress)}handleSelectedMentionsChange(e){const t=e.currentTarget,a=t.getAttribute("data-key"),n={user_id:t.getAttribute("data-uid"),key:a};this.updateReplyParamsByMention(n),this.resetTypeAheadItems(),this.replaceAtMentionEntryWithFullName(this.textInput,this.state.currentMentionText,a)}replaceAtMentionEntryWithFullName(e,t,a){e.value=e.value.replace(t,a)}updateReplyParamsByMention(e){const t=Y.a.cloneDeep(this.state.replyParams);e&&(t.mentions.push(e),t.text=t.text.replace(this.state.currentMentionText,"@[".concat(e.key,"]"))),this.setState({replyParams:t})}getUnifiedFilesForSubmit(){const e=[];this.state.filesInProgressAttaching.forEach(t=>{const a=t.file_name.split(".")[1],n={id:t.id,file_type:a,s3_name:t.s3_name,file_name:t.file_name,thumb_url:J.a.getAttachmentIcon(a),view_url:"#",size:t.size,progress:101};e.push(Object(W.Map)(n))});const t=Object(W.List)(e);let a=this.state.attachments;const n=this.state.attachments.get("files");return a=n&&n.size>0?a.set("files",this.state.attachments.get("files").concat(t)):a.set("files",t),a}handleAttachedFilesBegin(e){if(!Array.isArray(e)||0===e.length)return;const t=parseInt(this.textInput.id,10);let a=Y.a.cloneDeep(this.state.filesInProgressAttaching),n=[];e.forEach(e=>{-1===a.findIndex(t=>t.s3_name===e.s3_name)&&(e.progress=0,n.push(e))}),a=a.concat(n),this.setState({replyAttachmentId:t,filesInProgressAttaching:a})}handleReplyAttachFileUpload(e){let t,a,n=[];if(e.forEach(e=>{const t=e.file_name.split(".")[1],a={id:e.id,file_type:t,s3_name:e.s3_name,file_name:e.file_name,thumb_url:J.a.getAttachmentIcon(t),view_url:"#",size:e.size,progress:101};n.push(Object(W.Map)(a))}),this.state.attachments){const e=this.state.attachments;t=e.get(ie.a.FILES),n.forEach(e=>{t=t.push(e)}),a=e&&e.set(ie.a.FILES,t)}else t=Object(W.List)(n),a=Object(W.Map)({files:t});this.setState({attachments:a}),n=[]}handleFocusReplyText(e){e=ce.a.resizeElement(e)}handleEditReplyText(e){e.preventDefault(),e.stopPropagation();const t=this.textInput.value;if(this.setState({disabledEditReplySaveButton:!this.textInput.value.length}),this.setState({newReplyText:t}),e&&e.target){const n=de.b(e.currentTarget.dataset.message),r=Y.a.cloneDeep(this.state.replyParams),s={text:t};let i=Object.assign({},r,s);i.mentions&&i.mentions.length&&(i=m.a.decorateReplyParamsTextWithMentionFormat(i,this.state.currentMentionText)),this.setState({replyParams:i});const o=/@([a-zA-Z.0-9]+)$/;if(o.test(t)){const e=t.match(o);let r,s;var a=Object(V.a)(e,2);r=a[0],s=a[1],this.setState({currentMentionText:r}),this.fetchRecipientsByQueryForMessage(s,n)}else this.resetTypeAheadItems()}}fetchRecipientsByQueryForMessage(e,t){const a={query:e,message_id:t};ue.d(this.props.configInfo,this.props.accessToken,a).then(e=>{this.setState({typeAheadItems:e.data})}).catch(e=>{te.a.notifyBugsnag(e,"WithPostSubReplyFocusFactory.fetchRecipientsByQueryForMessage")})}handleMentionsBlur(){this.resetTypeAheadItems()}resetTypeAheadItems(){this.setState({typeAheadItems:null})}handleUpdateReply(e){const t=parseInt(e.currentTarget.dataset.reply,10),a=this.props.currentGroupId,n=parseInt(e.currentTarget.dataset.message,10),r={messageId:n,replyId:t,parentReplyId:parseInt(e.currentTarget.dataset.parentreply,10)};let s=this.state.attachments;const i=this.state.filesInProgressAttaching,o={text:this.state.replyParams.text||this.textInput.value,id:t,message_id:n};(s||i)&&(s=this.getUnifiedFilesForSubmit(),o.attachments=J.a.getPostReplyPayload(s)),this.props.replyActions.updateReply(o,r,null,a,this.props.userProfileId,this.props.childId,this.props.streamName),this.setState({newReplyText:""}),this.props.handleReplyEditDone()}handleDismissAttachment(e){const t=(e=ce.a.preventDefaultAndStopPropagation(e)).currentTarget.dataset.attachmentId,a=e.currentTarget.dataset.attachmentType;if("false"!==e.currentTarget.dataset.fromLibrary){let e=this.state.attachments;const n=e.get(a).filter(e=>e.get(ie.a.ID).toString()!==t);e=e.set(a,n),this.setState({attachments:e,removeFile:t})}else{let e=this.state.filesInProgressAttaching.slice(0);e=e.map(e=>e.s3_name!==t?e:null).filter(Boolean),this.setState({filesInProgressAttaching:e,removeFile:t})}}handleReplyAttachLinkBtnClick(e){e=ce.a.preventDefaultAndStopPropagation(e),this.setState({editReplyLinkModalOpen:!this.state.editReplyLinkModalOpen})}handleAttachLinkTextBlur(e){const t=!!this.state.selectedEmbedSrc;X.b({uri:e.target.value}).then(e=>(this.setState({selectedLink:e.data}),e)).then(e=>{!e.data||e.data.title||t?e.data&&t&&this.getEmbedLinkInfo(this.state.selectedEmbedSrc):this.setSelectedLinkByPollingWebpageApi(e.data.id)}).catch(e=>{Object($.a)("error:",e),te.a.notifyBugsnag(e,"WithReplyEditInteractionsFactory.handleAttachLinkTextBlur")})}handleAttachLinkPaste(e){const t=e.clipboardData.getData("Text"),a=ee.f(t);a&&this.setState({selectedEmbedSrc:a})}setSelectedLinkByPollingWebpageApi(e,t=2,a=2e3,n=0){X.a(e).then(r=>{if(n<t&&r.data&&!r.data.title)setTimeout(()=>{this.setSelectedLinkByPollingWebpageApi(e,t,a,n+1)},a);else{if(!r.data||!r.data.title){const e=Y.a.cloneDeep(this.state.selectedLink);return e.timed_out=!0,this.setState({selectedLink:e}),null}this.setState({selectedLink:r.data})}}).catch(e=>{te.a.notifyBugsnag(e,"WithReplyEditInteractionsFactory.setSelectedLinkByPollingWebpageApi")})}handleAttachLinkTitleChange(e){if(this.state.selectedLink){const t=JSON.parse(JSON.stringify(this.state.selectedLink));t.title=e.target.value,this.setState({selectedLink:t})}}handleAttachLinkCancel(){this.setState({selectedLink:null,selectedEmbedSrc:null,editReplyLinkModalOpen:!1})}handleAttachLinkCTAClick(){const e=parseInt(this.textInput.id,10),t=!!this.state.selectedEmbedSrc,a=this.state.attachments;let n,r;if(console.log("ReplyEditFactory",a&&a.toJS()),t){const t=this.state.selectedLink,s=t.title,i=t.uri,o=t.id,l=ee.d(i);if(ee.t(l)){const t={title:s,content:l,id:o};a&&(r=a.get(ie.a.EMBEDS),r&&(r=r.push(Object(W.Map)(t))),r=Object(W.List)(),r=r.push(Object(W.Map)(t)),n=a&&a.set(ie.a.EMBEDS,r)),r=Object(W.List)(),r=r.push(Object(W.Map)(t)),n=a&&a.set(ie.a.EMBEDS,r),this.setState({replyAttachmentId:e,attachments:n})}}else{const t=this.state.selectedLink,s={title:t.title,id:t.id,link_url:t.uri,thumb_url:t.image};a&&(r=a.get(ie.a.LINKS),r&&r.push(Object(W.Map)(s)),r=Object(W.List)(),r=r.push(Object(W.Map)(s)),n=a&&a.set(ie.a.LINKS,r)),r=Object(W.List)(),r=r.push(Object(W.Map)(s)),n=a&&a.set(ie.a.LINKS,r),console.log("ReplyEditFactory2",n&&n.toJS()),this.setState({replyAttachmentId:e,attachments:n})}this.setState({selectedLink:null,selectedEmbedSrc:null,editReplyLinkModalOpen:!1})}handleAddFromLibraryClick(){this.setState({editReplyLibraryModalOpen:!0})}setAttachedLibraryItems(e){const t=[];e&&e.forEach(e=>{if(e){const a=Y.a.cloneDeep([...e.get("item")]).reduce((function(e,t){return e[t[0]]=t[1],e}),{libraryItemId:e.get("id"),type:e.get("type"),source:"edmodo"});t.push(a)}});const a=parseInt(this.textInput.id,10);this.setState({replyAttachmentId:a,attachedLibraryItems:t})}handleAttachedLibraryFiles(){const e=this.state.attachments,t=this.state.attachedLibraryItems;let a,n;t&&t.forEach(t=>{const r="".concat(t.type,"s");e?(n=e.get(r),n||(n=Object(W.List)()),n=n.push(Object(W.Map)(t)),a=e.set(r,n)):(n=Object(W.List)(),n=n.push(Object(W.Map)(t)),a=Object(W.Map)(),a=a.set(r,n))}),this.setState({editReplyLibraryModalOpen:!1,attachments:a})}handleAddFromLibraryClose(){this.setState({editReplyLibraryModalOpen:!1})}setUploadProgressInFile(e){if(e){const t=Z.a.getFileUploadProgress(e),a=Y.a.cloneDeep(this.state.filesInProgressAttaching),n=a.findIndex(t=>t.id===e.file.id);n>-1&&a[n].progress!==t&&(a[n].progress=t,this.setState({filesInProgressAttaching:a}))}}handleGifAttachmentPickerClick(e){const t=this.state.attachments.set(ie.a.MULTIMEDIA_ITEMS,[e]);this.setState({attachments:t})}render(){return r.a.createElement(e,Object.assign({},this.state,this.props,{inputRef:e=>this.textInput=e,handleFocusReplyText:this.handleFocusReplyText,handleEditReplyText:this.handleEditReplyText,handleUpdateReply:this.handleUpdateReply,handleDismissAttachment:this.handleDismissAttachment,handleReplyAttachLinkBtnClick:this.handleReplyAttachLinkBtnClick,handleAttachLinkTextBlur:this.handleAttachLinkTextBlur,handleAttachLinkPaste:this.handleAttachLinkPaste,handleAttachLinkTitleChange:this.handleAttachLinkTitleChange,handleAttachLinkCancel:this.handleAttachLinkCancel,handleAttachLinkCTAClick:this.handleAttachLinkCTAClick,handleAddFromLibraryClick:this.handleAddFromLibraryClick,handleAttachedLibraryFiles:this.handleAttachedLibraryFiles,handleAddFromLibraryClose:this.handleAddFromLibraryClose,handleAttachedFilesBegin:this.handleAttachedFilesBegin,handleSelectedMentionsChange:this.handleSelectedMentionsChange,handleMentionsBlur:this.handleMentionsBlur,mentionCandidates:this.state.typeAheadItems,handleGifBtnClick:this.handleGifBtnClick,handleGifAttachmentPickerClick:this.handleGifAttachmentPickerClick}))}}return Object(i.connect)((function(e,t){let a="".concat(oe.a.REPLY,"-").concat(t.messageId);return{s3UploadProgress:se.f(e,{name:a}),configInfo:re.a(e),currentUser:ne.c(e),accessToken:ne.d(e),mode:re.b(e),selectedLibraryItemsAttachmentList:ae.b(e,{name:"PostLibraryModal"}),currentGroupId:le.s(e)}}),(function(e){return{replyActions:Object(s.bindActionCreators)(K,e)}}))(t)},pe=(a(1659),a(1264));var me=he(({messageId:e,replyText:t,replyId:a,parentReplyId:n,attachments:s,inputRef:i,mentionCandidates:o,removeFile:l,editReplyLinkModalOpen:c,selectedLink:d,editReplyLibraryModalOpen:u,handleSelectedMentionsChange:h,handleUpdateReply:p,handleEditSubReplyCancel:m,handleFocusReplyText:g,handleEditReplyText:f,handleDismissAttachment:b,handleReplyAttachFileUpload:E,handleReplyAttachLinkBtnClick:y,handleAttachLinkTextBlur:S,handleAttachLinkPaste:v,handleAttachLinkTitleChange:C,handleAttachLinkCancel:A,handleAttachLinkCTAClick:I,handleAddFromLibraryClick:T,handleAttachedLibraryFiles:k,handleAddFromLibraryClose:O,handleAttachedFilesBegin:_,filesInProgressAttaching:M,disabledEditReplySaveButton:N,handleMentionsBlur:w,handleGifAttachmentPickerClick:P})=>r.a.createElement("div",{className:"ns-edit-reply sunken"},r.a.createElement("div",{className:"reply-editor"},r.a.createElement("div",{className:"mentions-input-box",onBlur:w},r.a.createElement("textarea",{className:"edit-reply-input qa-test-edit-subreply-input",type:"text",id:e,ref:i,"data-message":e,defaultValue:t,onFocus:g,onChange:f}),o&&r.a.createElement("div",{className:"mentions-drop-menu",role:"menu"},r.a.createElement(q.a,{selectableItemType:pe.a.PEOPLE,SelectableItemView:H.a,typeAheadItems:o,handleTypeAheadItemClick:h})),r.a.createElement("div",{className:"qa-test-post-reply-tools post-reply-tools"},r.a.createElement(z.a,{attachments:s,filesInProgressAttaching:M,handleDismissClick:b,showRemove:!0,size:"sm"}),r.a.createElement("div",{className:"attachment-icons"},r.a.createElement(U.a,{messageId:e,attachments:s,filesInProgressAttaching:M,removeFile:l,attachedFilesBeginCb:_,toggleLinkAttachment:y,toggleLibraryModal:T,handleGifAttachmentPickerClick:P}),r.a.createElement(j.a,{messageId:e,replyId:a,parentReplyId:n,handleCancel:m,handleSave:p,editMode:!0,saveDisabled:N}))))),r.a.createElement(B.a,{isModalOpen:c,selectedLink:d,messageId:e,toggle:y,handleAttachLinkTextBlur:S,handleAttachLinkPaste:v,handleAttachLinkCTAClick:I,handleAttachLinkTitleChange:C,handleAttachLinkCancelClick:A}),r.a.createElement(G.a,{isModalOpen:u,toggle:O,attachLibraryItem:k}))),ge=a(1453),fe=a(1211),be=a(14),Ee=a(256);var ye=({stream:e,message:t,messageId:a,reply:n,replyLocation:s,currentUser:i,replyText:o,subReply:c,subReplyLocation:d,reactionId:u,recipients:h,hasReplyOperationsPermissions:p,accessToken:g,contentText:b,liked:y,editingSubReply:S,editingSubReplyId:v,deleteModalOpen:C,deletingSubReplyId:I,handlesubReplyLike:k,handleEditSubReply:O,handleLikeClick:_,handleFollowClick:M,handleReplyIconClick:N,handleDismissClick:w,handleSubReplyDelete:P,handleSubReplyDeleteClick:R,handleEditSubReplyCancel:L,handleReplyEditDone:D,groupId:U,userProfileId:B,childId:G,streamName:j,isInteractionsDisabled:z,dynamicTranslations:q,handleDynamicTranslationClick:H,handleShowOriginalTranslationTextClick:V})=>{const W=c&&c.get(ie.a.MESSAGE_OR_REPLY_CREATOR),Q=be.a.getDisplayName(W),Y=be.a.getFullName(W),K=c&&c.get(f.a.ID),J=n&&n.get(f.a.ID),Z=i&&i.get(ie.a.ID),X=be.a.isStaff(W),$=be.a.isAmbassador(W),ee=be.a.getSmallAvatar(W),te=W&&W.get(ie.a.ID)===Z,ae=c?v===c.get(ie.a.ID)&&S:void 0,ne=m.a.hasReplyAttachments(c),re=K===I&&C,se=c&&c.get(ie.a.MENTIONS),oe=be.a.isParent(W)?"":x.a.makeProfilePageUrl(i,W),le=c&&m.a.isReplyCreatorLocaleDifferent(c,i),ce=Ee.a.getTranslationById(q,K),de=Ee.a.getTranslationIsDisplayedById(q,K),ue=r.a.createElement(E.default,{string:"post_stream,confirm_delete_reply",fallbackString:"Are you sure you want to delete this reply?"}),he=(e,t,a)=>{t||e.preventDefault(),a&&a(e)};return r.a.createElement("div",{className:"qa-test-subReply-container subReply-container ns-reply-item","data-message":a,"data-reply":n&&n.get(ie.a.ID),"data-subreply":c&&c.get(ie.a.ID)},r.a.createElement("div",{className:"avatar-container"},r.a.createElement("a",{href:oe,onClick:e=>he(e,oe)},r.a.createElement(fe.a,{user:W,size:"32"}))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"userinfo"},r.a.createElement("a",{href:oe,onClick:e=>he(e,oe)},r.a.createElement(l.a,{isAmbassador:$,isStaff:X,creator:W,displayName:Q,currentUser:i,isFromReply:!0}))),ae?r.a.createElement(me,{replyText:o,messageId:a,reply:c,replyId:c&&c.get(ie.a.ID),parentReplyId:c&&n.get(ie.a.ID),handleEditSubReplyCancel:L,handleReplyEditDone:D,userProfileId:B,streamName:j}):r.a.createElement(F,{reply:c,replyText:o,replyMentions:se,replyId:K,message:t,messageId:a,reactionId:u,profileAvatar:ee,fullName:Y,displayName:Q,creator:W,smallAvatar:ee,currentUser:i,recipients:h,contentText:b,liked:y,accessToken:g,stream:e,streamName:j,handleLikeClick:_,handleFollowClick:M,handleReplyIconClick:N,handleDismissClick:w,replyCreatorLocaleDifferent:le,handleDynamicTranslationClick:H,handleShowOriginalTranslationTextClick:V,isTranslationDisplayed:de,translatedText:ce,hasAttachments:ne}),r.a.createElement(T,{reply:n,subReply:c,replyLocation:s,subReplyLocation:d,handlesubReplyLike:k,userProfileId:B,childId:G,streamName:j,isInteractionsDisabled:z})),(te||p)&&!z&&r.a.createElement(A,{reply:n,className:"dropdown-menu",subReply:c,handleReplyDelete:R,handleReplyEdit:O}),r.a.createElement(ge.a,{isDeleteModalOpen:re,messageId:a,textConstant:ue,replyId:J,itemToDeleteId:K,toggle:R,close:R,handleDeleteConfirm:P,groupId:U}))},Se=a(1639),ve=a(15),Ce=a(1199),Ae=a(253),Ie=a(511),Te=a(1549),ke=a(1349),Oe=a(162),_e=a(366),Me=a(10),Ne=a(1647);var we=(e=>{class t extends n.Component{constructor(e){super(e),this.state={postSubReplyId:null,showTools:!1,subReplyText:"",replyingToId:this.props.replyIconId,subReplyAttachLinkModalOpen:!1,selectedLink:null,showMentionsDropMenu:!1,typeAheadItems:null,selectedEmbedSrc:null,subReplyLibraryModalOpen:!1,disabledSubReplyButton:!0,inactive:!0,replyAttachments:{files:[],links:[],embeds:[],multimedia_items:[]},replyParams:{text:"",mentions:[]},attachedLibraryItems:[],attachedOneDriveItems:[],attachedGoogleDriveItems:[],filesInProgressAttaching:[],isSubReplyButtonDisabled:!0},this.textInput=null,this.setTextInputRef=e=>{this.textInput=e},this.focusTextInput=e=>{e&&(e.focus(),this.setState({postSubReplyId:this.props.postSubReplyId,showTools:!0}))},this.blurTextInput=e=>{e&&e.blur()},this.clearField=this.clearField.bind(this),this.setShowPostSubReplyTools=this.setShowPostSubReplyTools.bind(this),this.handleAttachedFilesBegin=this.handleAttachedFilesBegin.bind(this),this.handlesubReplyTextChange=this.handlesubReplyTextChange.bind(this),this.changeTextAreaHeight=this.changeTextAreaHeight.bind(this),this.handlePostsubReplyConfirm=this.handlePostsubReplyConfirm.bind(this),this.handlePostsubReplyConfirmCb=this.handlePostsubReplyConfirmCb.bind(this),this.handlePostsubReplyCancel=this.handlePostsubReplyCancel.bind(this),this.handleDismissReplyAttachment=this.handleDismissReplyAttachment.bind(this),this.handleReplyAttachFileUpload=this.handleReplyAttachFileUpload.bind(this),this.handleReplyAttachLinkBtnClick=this.handleReplyAttachLinkBtnClick.bind(this),this.handleAttachLinkTextBlur=this.handleAttachLinkTextBlur.bind(this),this.handleAttachLinkPaste=this.handleAttachLinkPaste.bind(this),this.handleAttachLinkTitleChange=this.handleAttachLinkTitleChange.bind(this),this.handleAttachLinkCTAClick=this.handleAttachLinkCTAClick.bind(this),this.handleAttachLinkCancel=this.handleAttachLinkCancel.bind(this),this.handleAddFromLibraryClick=this.handleAddFromLibraryClick.bind(this),this.handleAttachedLibraryFiles=this.handleAttachedLibraryFiles.bind(this),this.handleAddFromLibraryClose=this.handleAddFromLibraryClose.bind(this),this.handleSelectedMentionsChange=this.handleSelectedMentionsChange.bind(this),this.fetchRecipientsByQueryForMessage=this.fetchRecipientsByQueryForMessage.bind(this),this.replaceAtMentionEntryWithFullName=this.replaceAtMentionEntryWithFullName.bind(this),this.handleMentionsBlur=this.handleMentionsBlur.bind(this),this.toggleAlertModal=this.toggleAlertModal.bind(this),this.sendVerificationEmail=this.sendVerificationEmail.bind(this),this.pushToEmailSettings=this.pushToEmailSettings.bind(this),this.emailVerificationSuccess=this.emailVerificationSuccess.bind(this),this.isSubReplyButtonDisabled=this.isSubReplyButtonDisabled.bind(this),this.isUploadInProgress=this.isUploadInProgress.bind(this),this.hasFilesReady=this.hasFilesReady.bind(this),this.handleGifAttachmentPickerClick=this.handleGifAttachmentPickerClick.bind(this)}UNSAFE_componentWillReceiveProps(e){e.selectedLibraryItemsAttachmentList&&e.selectedLibraryItemsAttachmentList.length&&this.setAttachedLibraryItems(e.selectedLibraryItemsAttachmentList),e.selectedOneDriveItemsAttachmentList&&e.selectedOneDriveItemsAttachmentList.length&&this.setState({attachedOneDriveItems:J.a.transformSsoItems(e.selectedOneDriveItemsAttachmentList,"one_drive")}),e.selectedGoogleDriveItemsAttachmentList&&e.selectedGoogleDriveItemsAttachmentList.length&&this.setState({attachedGoogleDriveItems:J.a.transformSsoItems(e.selectedGoogleDriveItemsAttachmentList,"google_drive")}),e.s3UploadProgress&&this.setUploadProgressInFile(e.s3UploadProgress)}componentDidUpdate(e,t){this.props.activeSubReplyInput&&this.props.activeSubReplyInput.get("".concat(this.props.replyId))&&this.state.inactive&&(this.focusTextInput(this.textInput),this.props.streamActions.setSubReplyFocus(this.props.replyId,!1)),this.state.subReplyText===t.subReplyText&&this.state.replyAttachments===t.replyAttachments&&this.state.filesInProgressAttaching===t.filesInProgressAttaching||this.isSubReplyButtonDisabled()}setShowPostSubReplyTools(e){e.stopPropagation(),e.preventDefault();const t=parseInt(this.textInput.id,10);this.setState({postSubReplyId:t,showTools:!0})}changeTextAreaHeight(e){e.target.style.height=f.a.REPLY_DEFAULT_HEIGHT,e.target.style.height="".concat(e.target.scrollHeight,"px"),this.handlesubReplyTextChange(e)}getUnifiedFilesForSubmit(){let e=[];return this.state.filesInProgressAttaching.forEach(t=>{const a=t.file_name.split(".")[1],n={id:t.id,file_type:a,s3_name:t.s3_name,file_name:t.file_name,thumb_url:J.a.getAttachmentIcon(a),view_url:"#",size:t.size,progress:101};e.push(Object(W.Map)(n))}),this.state.replyAttachments.files.concat(e)}handleAttachedFilesBegin(e){if(!Array.isArray(e)||0===e.length)return;const t=parseInt(this.textInput.id,10);let a=Y.a.cloneDeep(this.state.filesInProgressAttaching),n=[];e.forEach(e=>{-1===a.findIndex(t=>t.s3_name===e.s3_name)&&(e.progress=0,n.push(e))}),a=a.concat(n),this.setState({replyAttachmentId:t,filesInProgressAttaching:a})}isUploadInProgress(){return-1!==this.state.filesInProgressAttaching.findIndex(e=>e&&e.progress<100)}hasFilesReady(){return-1!==this.state.filesInProgressAttaching.findIndex(e=>e&&100===e.progress)}isSubReplyButtonDisabled(){const e=0===this.state.replyAttachments.files.length&&0===this.state.replyAttachments.links.length&&0===this.state.replyAttachments.embeds.length,t=this.isUploadInProgress()||!this.state.subReplyText&&!this.hasFilesReady()&&e;t!==this.state.isSubReplyButtonDisabled&&this.setState({isSubReplyButtonDisabled:t})}handlesubReplyTextChange(e){e.preventDefault(),e.stopPropagation();const t=e.target.value;if(this.setState({subReplyText:t}),this.setState({disabledSubReplyButton:!(this.textInput.value&&this.textInput.value.trim().length)}),e&&e.target){const n=de.b(e.currentTarget.dataset.message),r=Y.a.cloneDeep(this.state.replyParams),s={text:t};let i=Object.assign({},r,s);i.mentions&&i.mentions.length&&(i=m.a.decorateReplyParamsTextWithMentionFormat(i,this.state.currentMentionText)),this.setState({replyParams:i});const o=/@([a-zA-Z.0-9]+)$/;if(o.test(t)){const e=t.match(o);let r,s;var a=Object(V.a)(e,2);r=a[0],s=a[1],this.setState({currentMentionText:r}),this.fetchRecipientsByQueryForMessage(s,n)}else this.resetTypeAheadItems()}}handlePostsubReplyConfirmCb(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget.dataset.parentreply;this.handlePostsubReplyConfirm(t)}handlePostsubReplyConfirm(e){const t=this.props,a=t.replyLocation,n=t.streamName,r=parseInt(e,10),s={message_id:this.props.messageId,parent_reply_id:r,text:this.state.replyParams.text,mentions:this.state.replyParams.mentions,hashtag:this.props.currentHashtagOnHomePage,streamName:n};let i=Object.assign({},this.state.replyAttachments);i.files=this.getUnifiedFilesForSubmit(),i&&(s.attachments=J.a.getPostReplyPayload(i)),s.groupId=this.props.currentGroupId,s.distritId=this.props.currentDistrictId,s.userProfileId=this.props.userProfileId,s.childId=this.props.childId,this.props.replyActions.replyToMessageOrAnotherReply(s,a),this.props.handlePostsubReplyDone(),this.setState({showTools:null,replyAttachments:{files:[],links:[],embeds:[]},replyParams:{mentions:[]},filesInProgressAttaching:[]}),this.clearField()}handlePostsubReplyCancel(){this.props.handlePostsubReplyCancelClick(),this.setState({showTools:null,postSubReplyId:null,replyParams:{mentions:[]}}),this.clearField()}handleReplyAttachFileUpload(e){let t=[];const a=parseInt(this.textInput.id,10);e.forEach(e=>{const a=e.file_name.split(".")[1],n={id:e.id,file_type:a,s3_name:e.s3_name,file_name:e.file_name,thumb_url:J.a.getAttachmentIcon(a),view_url:"#",size:e.size,progress:101};t.push(Object(W.Map)(n))});const n=Object.assign({},this.state.replyAttachments);t.map(e=>n.files.push(e)),this.setState({replyAttachmentId:a,replyAttachments:n}),t=[]}handleDismissReplyAttachment(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget.dataset.attachmentId,a=e.currentTarget.dataset.attachmentType;if("false"!==e.currentTarget.dataset.fromLibrary){const e=Object.assign({},this.state.replyAttachments);e[a]=e[a]&&e[a].filter(e=>e.get(ie.a.ID).toString()!==t.toString()),this.setState({replyAttachments:e,removeFile:t})}else{let e=this.state.filesInProgressAttaching.slice(0);e=e.map(e=>e.s3_name!==t?e:null).filter(Boolean),this.setState({filesInProgressAttaching:e,removeFile:t})}}handleReplyAttachLinkBtnClick(e){e.preventDefault(),e.stopPropagation(),this.blurTextInput(this.input),this.setState({subReplyAttachLinkModalOpen:!this.state.subReplyAttachLinkModalOpen})}handleAttachLinkTextBlur(e){const t=!!this.state.selectedEmbedSrc;X.b({uri:e.target.value}).then(e=>(this.setState({selectedLink:e.data}),e)).then(e=>{!e.data||e.data.title||t?e.data&&t&&this.getEmbedLinkInfo(this.state.selectedEmbedSrc):this.setSelectedLinkByPollingWebpageApi(e.data.id)}).catch(e=>{Object($.a)("error:",e),te.a.notifyBugsnag(e,"WithPostSubReplyFocusFactory.handleAttachLinkTextBlur")})}getEmbedLinkInfo(e){X.b({uri:e}).then(e=>{const t=e&&e.data&&e.data.title;if(t){const e=Y.a.cloneDeep(this.state.selectedLink);e.title=t,this.setState({selectedLink:e})}return e}).catch(e=>{te.a.notifyBugsnag(e,"WithPostSubReplyFocusFactory.getEmbedLinkInfo")})}handleAttachLinkPaste(e){const t=e.clipboardData.getData("Text"),a=ee.f(t);a&&this.setState({selectedEmbedSrc:a})}setSelectedLinkByPollingWebpageApi(e,t=2,a=2e3,n=0){X.a(e).then(r=>{if(n<t&&r.data&&!r.data.title)setTimeout(()=>{this.setSelectedLinkByPollingWebpageApi(e,t,a,n+1)},a);else{if(!r.data||!r.data.title){const e=Y.a.cloneDeep(this.state.selectedLink);return e.timed_out=!0,this.setState({selectedLink:e}),null}this.setState({selectedLink:r.data})}}).catch(e=>{te.a.notifyBugsnag(e,"WithPostSubReplyFocusFactory.setSelectedLinkByPollingWebpageApi")})}handleAttachLinkTitleChange(e){if(this.state.selectedLink){const t=JSON.parse(JSON.stringify(this.state.selectedLink));t.title=e.target.value,this.setState({selectedLink:t})}}handleAttachLinkCTAClick(){const e=parseInt(this.textInput.id,10),t=!!this.state.selectedEmbedSrc,a=Object.assign({},this.state.replyAttachments);if(t){const t=this.state.selectedLink,n=t.title,r=t.uri,s=this.state.selectedLink.id.toString(),i=ee.d(r);if(ee.t(i)){const t={title:n,content:i,id:s};a.embeds.push(Object(W.Map)(t)),this.setState({replyAttachmentId:e,replyAttachments:a})}else Object($.a)("Embed src not whitelisted: ".concat(i))}else{const t=this.state.selectedLink,n=t.title,r=t.uri,s=t.image,i={id:J.a.generateRandomKey(),title:n,link_url:r,thumb_url:s};a.links.push(Object(W.Map)(i)),this.setState({replyAttachmentId:e,replyAttachments:a})}this.setState({selectedLink:null,selectedEmbedSrc:null,subReplyAttachLinkModalOpen:!1})}handleAttachLinkCancel(){this.setState({selectedLink:null,selectedEmbedSrc:null,subReplyAttachLinkModalOpen:!1})}handleAddFromLibraryClick(){this.setState({subReplyLibraryModalOpen:!0})}handleGifAttachmentPickerClick(e){const t=this.props.replyId,a=Object(ve.a)({},this.state.replyAttachments,{multimedia_items:[e]});this.setState({replyAttachmentId:t,replyAttachments:a},()=>{this.state.replyParams.text||this.handlePostsubReplyConfirm(t)})}setAttachedLibraryItems(e){const t=[];e&&e.forEach(e=>{if(e){const a=Y.a.cloneDeep([...e.get("item")]).reduce((function(e,t){return e[t[0]]=t[1],e}),{libraryItemId:e.get("id"),type:e.get("type"),source:"edmodo"});t.push(Object(W.Map)(a))}});const a=parseInt(this.textInput.id,10);this.setState({replyAttachmentId:a,attachedLibraryItems:t})}clearField(){this.textInput.value="",this.setState({subReplyText:null,disabledSubReplyButton:!0})}handleAttachedLibraryFiles(){const e=Y.a.cloneDeep(this.state.replyAttachments),t=J.a.unique(e.links,e.files,e.embeds,this.state.attachedLibraryItems,this.state.attachedGoogleDriveItems,this.state.attachedOneDriveItems),a=Object.assign({},e,t);this.setState({subReplyLibraryModalOpen:!1,replyAttachments:a})}handleMentionsBlur(){this.resetTypeAheadItems()}resetTypeAheadItems(){this.setState({typeAheadItems:null})}handleSelectedMentionsChange(e){const t=e.currentTarget,a=t.getAttribute("data-key"),n={user_id:t.getAttribute("data-uid"),key:a};this.updateReplyParamsByMention(n),this.resetTypeAheadItems(),this.replaceAtMentionEntryWithFullName(this.textInput,this.state.currentMentionText,a)}updateReplyParamsByMention(e){const t=Y.a.cloneDeep(this.state.replyParams);e&&(t.mentions.push(e),t.text=t.text.replace(this.state.currentMentionText,"@[".concat(e.key,"]"))),this.setState({replyParams:t})}replaceAtMentionEntryWithFullName(e,t,a){e.value=e.value.replace(t,a)}fetchRecipientsByQueryForMessage(e,t){const a={query:e,message_id:t};ue.d(this.props.configInfo,this.props.accessToken,a).then(e=>{this.setState({typeAheadItems:e.data})}).catch(e=>{te.a.notifyBugsnag(e,"WithPostSubReplyFocusFactory.fetchRecipientsByQueryForMessage")})}handleAddFromLibraryClose(){this.setState({subReplyLibraryModalOpen:!1})}setUploadProgressInFile(e){if(e){const t=Z.a.getFileUploadProgress(e),a=Y.a.cloneDeep(this.state.filesInProgressAttaching),n=a.findIndex(t=>t.id===e.file.id);n>-1&&a[n].progress!==t&&(a[n].progress=t,this.setState({filesInProgressAttaching:a}))}}toggleAlertModal(){const e=this.props.currentUser;be.a.isEmailVerified(e)||this.setState({verifyUserEmailModalOpen:!this.state.verifyUserEmailModalOpen})}sendVerificationEmail(){const e=this.props,t=e.currentUser,a=e.userActions,n=be.a.getUserEmail(t);a.sendVerificationEmail(n,this.emailVerificationSuccess)}pushToEmailSettings(){this.props.history.push("".concat(Me.a.SETTINGS_PAGE).concat(Me.a.NOTIFICATIONS_PAGE))}emailVerificationSuccess(){this.toggleAlertModal()}render(){const t=this.props.currentUser,a=be.a.isEmailVerified(t);return r.a.createElement(e,Object.assign({},this.state,this.props,{inputRef:e=>this.textInput=e,clearField:this.clearField,setShowPostSubReplyTools:this.setShowPostSubReplyTools,handlesubReplyTextChange:this.handlesubReplyTextChange,changeTextAreaHeight:this.changeTextAreaHeight,filesInProgressAttaching:this.state.filesInProgressAttaching,handleAttachedFilesBegin:this.handleAttachedFilesBegin,handlePostsubReplyConfirm:this.handlePostsubReplyConfirmCb,handlePostsubReplyCancel:this.handlePostsubReplyCancel,handleReplyAttachFileUpload:this.handleReplyAttachFileUpload,handleDismissReplyAttachment:this.handleDismissReplyAttachment,handleReplyAttachLinkBtnClick:this.handleReplyAttachLinkBtnClick,handleAttachLinkTextBlur:this.handleAttachLinkTextBlur,handleAttachLinkPaste:this.handleAttachLinkPaste,handleAttachLinkTitleChange:this.handleAttachLinkTitleChange,handleAttachLinkCTAClick:this.handleAttachLinkCTAClick,handleAttachLinkCancel:this.handleAttachLinkCancel,handleAddFromLibraryClick:this.handleAddFromLibraryClick,handleAttachedLibraryFiles:this.handleAttachedLibraryFiles,handleSelectedMentionsChange:this.handleSelectedMentionsChange,mentionCandidates:this.state.typeAheadItems,handleMentionsBlur:this.handleMentionsBlur,disabledSubReplyButton:this.state.isSubReplyButtonDisabled,handleAddFromLibraryClose:this.handleAddFromLibraryClose,isEmailVerified:a,isAlertModalOpen:this.state.verifyUserEmailModalOpen,toggleAlertModal:this.toggleAlertModal,sendVerificationEmail:this.sendVerificationEmail,pushToEmailSettings:this.pushToEmailSettings,handleGifAttachmentPickerClick:this.handleGifAttachmentPickerClick}))}}return Object(Ce.a)(Object(i.connect)((function(e,t){let a="".concat(oe.a.REPLY,"-").concat(t.replyId);return{currentUser:ne.c(e),accessToken:ne.d(e),configInfo:re.a(e),s3UploadProgress:se.f(e,{name:a}),mode:re.b(e),selectedLibraryItemsAttachmentList:ae.b(e,{name:_e.a.POST_LIBRARY_MODAL}),selectedOneDriveItemsAttachmentList:Te.a(e,{name:_e.a.POST_LIBRARY_MODAL}),selectedGoogleDriveItemsAttachmentList:ke.a(e,{name:_e.a.POST_LIBRARY_MODAL}),activeSubReplyInput:Oe.L(e,t),currentGroupId:le.s(e),currentDistrictId:Ne.c(e),currentHashtagOnHomePage:Oe.f(e)}}),(function(e){return{replyActions:Object(s.bindActionCreators)(K,e),streamActions:Object(s.bindActionCreators)(Ae,e),userActions:Object(s.bindActionCreators)(Ie,e)}}))(t))})(Object(p.a)(({currentUser:e,messageId:t,inputRef:a,replyId:n,postSubReplyId:s,replyAttachments:i,replyAttachmentId:o,removeFile:l,subReplyAttachLinkModalOpen:c,selectedLink:d,showTools:u,setShowPostSubReplyTools:h,subReplyLibraryModalOpen:p,subReplyClick:m,handleReplyAttachLinkBtnClick:g,handleAttachLinkTextBlur:f,handleAttachLinkPaste:b,handleAttachLinkCTAClick:E,handleAttachLinkTitleChange:y,handleAttachLinkCancel:S,changeTextAreaHeight:v,handlePostsubReplyConfirm:C,handleReplyAttachFileUpload:A,handleSelectedMentionsChange:I,handlePostsubReplyCancel:T,handleDismissReplyAttachment:k,handleAddFromLibraryClick:O,mentionCandidates:_,handleAddFromLibraryClose:M,handleAttachedLibraryFiles:N,disabledSubReplyButton:w,handleMentionsBlur:P,translate:R,filesInProgressAttaching:x,handleAttachedFilesBegin:L,isParent:D,isAlertModalOpen:F,toggleAlertModal:V,sendVerificationEmail:Q,pushToEmailSettings:Y,isEmailVerified:K,isPublic:J,handleGifAttachmentPickerClick:Z})=>{const X=!K&&J;let $;o===n&&($=Object(W.fromJS)(i));return r.a.createElement("div",{className:"ns-post-sub-reply"},r.a.createElement("div",{className:"ns-avatar-container"},r.a.createElement(fe.a,{user:e,size:"32"})),r.a.createElement("div",{className:"reply-editor-container"},r.a.createElement("div",{className:"reply-editor"},r.a.createElement("div",{className:"mentions-input-box",onBlur:P},r.a.createElement("textarea",{id:n,ref:a,className:"reply-input qa-test-subreply-textarea","data-message":t,placeholder:R&&R("write-reply","Write a reply..."),onFocus:h,onChange:v,onClick:V}),(e=>{if(e)return r.a.createElement("div",{className:"mentions-drop-menu",role:"menu"},r.a.createElement(q.a,{selectableItemType:pe.a.PEOPLE,SelectableItemView:H.a,typeAheadItems:e,handleTypeAheadItemClick:I}))})(_),((e,t,a)=>e===t&&a||m?r.a.createElement("div",{className:"reply-to-reply-tools"},r.a.createElement(z.a,{attachments:$,filesInProgressAttaching:x,handleDismissClick:k,showRemove:!0,size:"sm"}),r.a.createElement("div",{className:"qa-test-ns-attachment-icons ns-attachment-icons"},r.a.createElement(U.a,{messageId:t,attachments:$,filesInProgressAttaching:x,removeFile:l,isParent:D,attachedFilesBeginCb:L,toggleLinkAttachment:g,toggleLibraryModal:O,handleGifAttachmentPickerClick:Z}),r.a.createElement(j.a,{parentReplyId:t,handleCancel:T,handleSave:C,saveDisabled:w||X}))):null)(s,n,u)))),r.a.createElement(B.a,{isModalOpen:c,selectedLink:d,messageId:t,toggle:g,handleAttachLinkTextBlur:f,handleAttachLinkPaste:b,handleAttachLinkCTAClick:E,handleAttachLinkTitleChange:y,handleAttachLinkCancelClick:S}),r.a.createElement(G.a,{isModalOpen:p,toggle:M,attachLibraryItem:N}),J&&r.a.createElement(Se.a,{isModalOpen:F,toggleAlertModal:V,mainCtaAction:Q,secondaryCtaAction:Y}))})),Pe=a(1781);var Re=({smallAvatar:e,stream:t,fullName:a,currentUser:n,recipients:s,profileAvatar:i,reply:o,replyId:l,message:c,messageId:d,accessToken:u,groupId:h,replyingToId:p,replyLocation:g,subReplyClick:f,reactionId:b,hasSubReplies:E,showingMoreSubReplies:y,showMoreSubRepliesId:S,editingSubReply:v,editingSubReplyId:C,contentText:A,liked:I,deletingSubReplyId:T,deleteModalOpen:k,handlesubReplyTextChange:O,handleSetReplyingToId:M,handlePostsubReplyCancelClick:N,handlePostsubReplyDone:w,hasReplyOperationsPermissions:P,handleShowMoreSubRepliesClick:R,handlesubReplyLike:x,handleEditSubReply:L,handleLikeClick:D,handleFollowClick:F,handleReplyIconClick:U,handleDismissClick:B,handleSubReplyDelete:G,displayName:j,handleSubReplyDeleteClick:z,handleEditSubReplyCancel:q,handleReplyEditDone:H,canReply:V,handleReplyIconReset:W,userProfileId:Q,childId:Y,streamName:K,isInteractionsDisabled:J,dynamicTranslations:Z,handleDynamicTranslationClick:X,handleShowOriginalTranslationTextClick:$,isTranslationDisplayed:ee})=>{const te=m.a.getSubReplies(o),ae=m.a.getMoreMessageSubReplies(o),ne=m.a.hasMoreMessageSubReplies(o),re=m.a.getNumberOfSubReplies(o),se=be.a.isParent(n),oe=_.a.isMessagePublic(c);let le=null;return E?(y&&ne&&(le=ae&&ae.map(i=>r.a.createElement(ye,{key:i.get(ie.a.ID),accessToken:u,stream:t,message:c,messageId:d,reply:o,subReply:i,smallAvatar:e,currentUser:n,fullName:a,displayName:j,replyText:i.get("text"),replyLocation:g,reactionId:b,recipients:s,contentText:A,liked:I,subReplyLocation:ie.a.MORE_SUBREPLIES,editingSubReply:v,editingSubReplyId:C,deletingSubReplyId:T,deleteModalOpen:k,hasReplyOperationsPermissions:P,handlesubReplyLike:x,handleEditSubReply:L,handleLikeClick:D,handleFollowClick:F,handleReplyIconClick:U,handleDismissClick:B,handleSubReplyDelete:G,handleSubReplyDeleteClick:z,handleEditSubReplyCancel:q,handleReplyEditDone:H,userProfileId:Q,childId:Y,streamName:K,dynamicTranslations:Z,handleDynamicTranslationClick:X,handleShowOriginalTranslationTextClick:$,isTranslationDisplayed:ee,isInteractionsDisabled:J}))),r.a.createElement("div",{className:"qa-test-post-reply-to-reply post-reply-to-reply"},r.a.createElement(Pe.a,{parentReply:o,replyId:l,messageId:d,replyLocation:g,numberOfReplies:re,showingMore:y,showMoreId:S,handleShowMoreRepliesClick:R}),r.a.createElement("div",{className:"qa-test-replies-container replies-container"},le&&le.map(e=>e),te&&te.map(i=>r.a.createElement(ye,{key:i.get(ie.a.ID),accessToken:u,stream:t,message:c,messageId:d,groupId:h,reply:o,subReply:i,smallAvatar:e,fullName:a,displayName:j,currentUser:n,replyText:i.get("text"),replyLocation:g,reactionId:b,recipients:s,contentText:A,liked:I,subReplyLocation:ie.a.LAST_SUBREPLIES,editingSubReply:v,editingSubReplyId:C,deletingSubReplyId:T,deleteModalOpen:k,hasReplyOperationsPermissions:P,handlesubReplyLike:x,handleEditSubReply:L,handleLikeClick:D,handleFollowClick:F,handleReplyIconClick:U,handleDismissClick:B,handleSubReplyDelete:G,handleSubReplyDeleteClick:z,handleEditSubReplyCancel:q,handleReplyEditDone:H,userProfileId:Q,childId:Y,streamName:K,dynamicTranslations:Z,handleDynamicTranslationClick:X,handleShowOriginalTranslationTextClick:$,isTranslationDisplayed:ee,isInteractionsDisabled:J}))),V&&!J&&r.a.createElement(we,{avatar:i,name:a,messageId:d,replyId:l,replyingToId:p,replyLocation:g,subReplyClick:f,handlesubReplyTextChange:O,handleSetReplyingToId:M,handlePostsubReplyCancelClick:N,handlePostsubReplyDone:w,handleReplyIconReset:W,userProfileId:Q,childId:Y,isParent:se,streamName:K,isPublic:oe}))):f&&V?r.a.createElement("div",{className:"qa-test-post-reply-to-reply post-reply-to-reply"},r.a.createElement(we,{avatar:i,name:a,messageId:d,replyId:l,replyingToId:p,replyLocation:g,subReplyClick:f,handlesubReplyTextChange:O,handleSetReplyingToId:M,handlePostsubReplyCancelClick:N,handlePostsubReplyDone:w,handleReplyIconReset:W,userProfileId:Q,childId:Y,isParent:se,streamName:K,isPublic:oe})):null};var xe=he(({messageId:e,replyText:t,replyId:a,attachments:n,inputRef:s,removeFile:i,editReplyLinkModalOpen:o,selectedLink:l,editReplyLibraryModalOpen:c,handleSelectedMentionsChange:d,handleUpdateReply:u,handleCancelEdit:h,handleEditReplyText:p,filesInProgressAttaching:m,handleDismissAttachment:g,handleAttachedFilesBegin:f,handleReplyAttachLinkBtnClick:b,handleAttachLinkTextBlur:E,handleAttachLinkPaste:y,handleAttachLinkTitleChange:S,handleMentionsBlur:v,handleAttachLinkCancel:C,handleAttachLinkCTAClick:A,handleAddFromLibraryClick:I,mentionCandidates:T,handleAttachedLibraryFiles:k,handleAddFromLibraryClose:O,disabledEditReplySaveButton:_,isParent:M,handleGifAttachmentPickerClick:N})=>r.a.createElement("div",{className:"ns-edit-reply sunken"},r.a.createElement("div",{className:"reply-editor"},r.a.createElement("div",{className:"mentions-input-box",onBlur:v},r.a.createElement("textarea",{className:"edit-reply-input qa-test-edit-reply-input",type:"text",id:e,ref:s,"data-message":e,defaultValue:t,onChange:p}),T&&r.a.createElement("div",{className:"mentions-drop-menu",role:"menu"},r.a.createElement(q.a,{selectableItemType:pe.a.PEOPLE,SelectableItemView:H.a,typeAheadItems:T,handleTypeAheadItemClick:d})),r.a.createElement("div",{className:"qa-test-post-reply-tools post-reply-tools"},r.a.createElement(z.a,{attachments:n,filesInProgressAttaching:m,handleDismissClick:g,size:"sm",showRemove:!0}),r.a.createElement("div",{className:"attachment-icons"},!M&&r.a.createElement(U.a,{messageId:e,replyId:a,removeFile:i,attachments:n,filesInProgressAttaching:m,attachedFilesBeginCb:f,toggleLinkAttachment:b,toggleLibraryModal:I,handleGifAttachmentPickerClick:N}),r.a.createElement(j.a,{messageId:e,replyId:a,handleCancel:h,handleSave:u,editMode:!0,saveDisabled:_}))))),r.a.createElement(B.a,{isModalOpen:o,selectedLink:l,messageId:e,toggle:b,handleAttachLinkTextBlur:E,handleAttachLinkPaste:y,handleAttachLinkCTAClick:A,handleAttachLinkTitleChange:S,handleAttachLinkCancelClick:C}),r.a.createElement(G.a,{isModalOpen:c,toggle:O,attachLibraryItem:k})));var Le=({message:e,messageId:t,reply:a,replyId:n,replyText:s,replyMentions:i,reactionId:o,profileAvatar:l,fullName:c,displayName:d,creator:u,smallAvatar:h,currentUser:p,recipients:g,contentText:f,liked:b,accessToken:E,stream:y,handleLikeClick:S,handleFollowClick:v,handleReplyIconClick:C,handleDismissClick:A,streamName:I,replyCreatorLocaleDifferent:T,handleDynamicTranslationClick:O,handleShowOriginalTranslationTextClick:_,isTranslationDisplayed:M,translatedText:N,isInteractionsDisabled:w})=>{const P=m.a.getReplyAttachments(a);return r.a.createElement("div",{className:"text"},r.a.createElement(D,{replyText:s,replyMentions:i,replyCreatorLocaleDifferent:T,handleDynamicTranslationClick:O,handleShowOriginalTranslationTextClick:_,isTranslationDisplayed:M,replyId:n,translatedText:N}),m.a.hasReplyAttachments(a)&&r.a.createElement("div",{className:"attachments-container"},r.a.createElement("div",{className:"ns-overflow-attachments"},r.a.createElement("div",{className:"first-attachments-container"},r.a.createElement("div",{className:"ns-attachments mt-2"},r.a.createElement(k.a,{attachments:P,message:e,messageId:t,reply:a,reactionId:o,profileAvatar:l,fullName:c,displayName:d,creator:u,smallAvatar:h,currentUser:p,recipients:g,contentText:f,liked:b,accessToken:E,stream:y,handleLikeClick:S,handleFollowClick:v,handleReplyIconClick:C,handleDismissClick:A,streamName:I,size:"sm",showMosaic:!1,isInteractionsDisabled:w}))))))},De=a(192),Fe=a(1727);class Ue extends n.Component{constructor(e){super(e),this.state={editing:!1,editingSubReply:!1,editingSubReplyId:null,deletingReplyId:null,deletingMessageId:null,deletingSubReplyId:null,subReplyClick:!1,hasSubReplies:!1,showingMoreSubReplies:!1,showingMoreSubRepliesId:null,deleteModalOpen:!1},this.handleReplyEdit=this.handleReplyEdit.bind(this),this.handleCancelEdit=this.handleCancelEdit.bind(this),this.handleReplyEditDone=this.handleReplyEditDone.bind(this),this.handleReplyDeleteClick=this.handleReplyDeleteClick.bind(this),this.handleSubReplyDeleteClick=this.handleSubReplyDeleteClick.bind(this),this.handleReplyDelete=this.handleReplyDelete.bind(this),this.handlesubReplyClick=this.handlesubReplyClick.bind(this),this.handleSetReplyingToId=this.handleSetReplyingToId.bind(this),this.handlePostsubReplyCancelClick=this.handlePostsubReplyCancelClick.bind(this),this.handlePostsubReplyDone=this.handlePostsubReplyDone.bind(this),this.handleShowMoreSubRepliesClick=this.handleShowMoreSubRepliesClick.bind(this),this.handleSubReplyLike=this.handleSubReplyLike.bind(this),this.handleEditSubReply=this.handleEditSubReply.bind(this),this.handleSubReplyDelete=this.handleSubReplyDelete.bind(this),this.handleEditSubReplyCancel=this.handleEditSubReplyCancel.bind(this),this.showMoreRepliesCompleted=this.showMoreRepliesCompleted.bind(this)}handleReplyEdit(e){e&&e.target&&De.a.isValid(this.props.accessToken)&&this.props.stream&&this.setState({editing:!0})}handleCancelEdit(e){e&&e.target&&De.a.isValid(this.props.accessToken)&&this.props.stream&&this.setState({editing:!1})}handleReplyEditDone(){this.setState({editing:!1,editingSubReply:!1,editingSubReplyId:null})}handlerOptions(e){return{e:e,currentUser:this.props.currentUser,accessToken:this.props.accessToken,stream:this.props.stream,replyActions:this.props.replyActions,postActions:this.props.postActions,userProfileId:this.props.userProfileId,childId:this.props.childId,hashtag:this.props.currentHashtagOnHomePage,streamName:this.props.streamName}}handleReplyDeleteClick(e){const t=parseInt(e.currentTarget.dataset.reply,10);this.setState({deleteModalOpen:!this.state.deleteModalOpen,deletingReplyId:t})}handleSubReplyDeleteClick(e){const t=parseInt(e.currentTarget.dataset.subreply,10);this.setState({deleteModalOpen:!this.state.deleteModalOpen,deletingSubReplyId:t})}handleReplyDelete(e){Fe.a.handleReplyDelete(this.handlerOptions(e)),this.setState({deleteModalOpen:!1,deletingReplyId:null})}handleSubReplyDelete(e){Fe.a.handleSubReplyDelete(this.handlerOptions(e)),this.setState({deleteModalOpen:!1,deletingSubReplyId:null})}handlesubReplyClick(e){const t=e.currentTarget.dataset.location,a=parseInt(e.currentTarget.dataset.replyid,10);this.setState({subReplyClick:!0,replyingToId:a,replyLocation:t}),this.props.streamActions.setSubReplyFocus(a,!0)}handlePostsubReplyCancelClick(){this.setState({subReplyClick:!1,replyingToId:null})}handleSetReplyingToId(e,t,a){this.setState({replyingToId:e,messageId:t,replyLocation:a})}handlePostsubReplyDone(e){this.setState({hasSubReplies:!0})}handleSubReplyLike(e){const t=parseInt(e.currentTarget.dataset.reply,10),a=parseInt(e.currentTarget.dataset.message,10),n=parseInt(e.currentTarget.dataset.subreply,10),r=e.currentTarget.dataset.location,s=e.currentTarget.dataset.sublocation,i=1===de.b(e.currentTarget.dataset.liked),o={userId:this.props.currentUser.get(ie.a.ID),messageId:a,parentReplyId:t,subReplyId:n,replyLocation:r,subReplyLocation:s,groupId:this.props.currentGroupId,userProfileId:this.props.userProfileId,streamName:this.props.streamName};e&&e.target&&De.a.isValid(this.props.accessToken)&&this.props.stream&&(t&&i?this.props.replyActions.unlikeSubReply(o):t&&!i&&this.props.replyActions.likeSubReply(o))}handleShowMoreSubRepliesClick(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget.dataset.location,a=parseInt(e.currentTarget.dataset.reply,10),n=parseInt(e.currentTarget.dataset.message,10),r=parseInt(e.currentTarget.dataset.maxreply,10)-1,s=m.a.fetchMoreRepliesParams(),i=this.props.userProfileId;s.parent_reply_id=a,s.max_id=r,this.props.replyActions.fetchMoreReplies(s,n,t,this.showMoreRepliesCompleted,i,this.props.streamName),this.setState({showingMoreSubReplies:!0,showMoreSubRepliesId:a})}showMoreRepliesCompleted(){this.setState({showingMoreSubReplies:!1})}handleEditSubReply(e){if(e&&e.target&&De.a.isValid(this.props.accessToken)&&this.props.stream){const t=parseInt(e.currentTarget.dataset.subreply,10);this.setState({editingSubReply:!0,editingSubReplyId:t})}}handleEditSubReplyCancel(e){e&&e.target&&De.a.isValid(this.props.accessToken)&&this.props.stream&&this.setState({editingSubReply:!1,editingSubReplyId:null})}render(){const e=this.props,t=e.message,a=e.messageId,n=e.reply,s=e.profileAvatar,i=e.replyLocation,c=e.reactionId,d=e.creator,u=e.currentUser,h=e.recipients,p=e.contentText,g=e.liked,f=e.accessToken,y=e.stream,S=e.handleFollowClick,v=e.handleLikeClick,C=e.handleReplyIconClick,T=e.handleDismissClick,k=e.handleReplyTextChange,O=e.handleReplySubmit,_=e.canReply,M=e.handleReplyIconReset,N=e.currentGroupId,w=e.userProfileId,P=e.childId,R=e.streamName,L=e.currentCompactGroupMembership,D=e.replyCreatorLocaleDifferent,F=e.handleDynamicTranslationClick,U=e.handleShowOriginalTranslationTextClick,B=e.isTranslationDisplayed,G=e.translatedText,j=e.dynamicTranslations,z=e.isInteractionsDisabled,q=e.isSchoolAdminReadOnly,H=n&&n.get(ie.a.ID),V=n&&n.get(ie.a.MESSAGE_OR_REPLY_CREATOR),W=n&&n.get(ie.a.MESSAGE_MODERATED),Q=be.a.getDisplayName(V),Y=be.a.getFullName(V),K=u&&u.get(ie.a.ID),J=be.a.getSmallAvatar(V),Z=n&&n.get(ie.a.MESSAGE_TEXT),X=I.a.userLikedReply(n)?1:0,$=I.a.getReactionId(n),ee=n&&n.get(ie.a.MENTIONS),te=be.a.isStaff(V),ae=be.a.isAmbassador(V),ne=V&&V.get(ie.a.ID)===K,re=_,se=H===this.state.deletingReplyId&&this.state.deleteModalOpen,oe=be.a.isParent(V)?"":x.a.makeProfilePageUrl(u,V),le=m.a.hasReplyOperationsPermissions(L,h,u),ce=r.a.createElement(E.default,{string:"post_stream,confirm_delete_reply",fallbackString:"Are you sure you want to delete this reply?"});let de=this.state.hasSubReplies;m.a.hasSubReplies(n)&&(de=!0);const ue=(e,t,a)=>{t||e.preventDefault(),a&&a()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"data-message":a,"data-reply":H,"data-groupid":N,className:"ns-reply-item qa-test-reply-item clearfix"},r.a.createElement("div",{className:"avatar-container"},r.a.createElement(o.a,{to:oe,onClick:e=>ue(e,oe),target:W?"_blank":""},r.a.createElement(fe.a,{user:V,size:"32"}))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"userinfo"},r.a.createElement(o.a,{to:oe,onClick:e=>ue(e,oe),target:W?"_blank":""},r.a.createElement(l.a,{isAmbassador:ae,isStaff:te,creator:V,displayName:Q,currentUser:u,isFromReply:!0}))),this.state.editing?r.a.createElement(xe,{replyText:Z,replyId:H,reply:n,messageId:a,handleCancelEdit:this.handleCancelEdit,handleReplyEditDone:this.handleReplyEditDone,userProfileId:w,childId:P,isParent:be.a.isParent(u),streamName:R}):r.a.createElement(Le,{reply:n,replyText:Z,replyMentions:ee,replyId:H,message:t,messageId:a,reactionId:c,profileAvatar:s,fullName:Y,displayName:Q,creator:d,smallAvatar:J,currentUser:u,recipients:h,contentText:p,liked:g,accessToken:f,stream:y,streamName:R,handleLikeClick:v,handleFollowClick:S,handleReplyIconClick:C,handleDismissClick:T,replyCreatorLocaleDifferent:D,handleDynamicTranslationClick:F,handleShowOriginalTranslationTextClick:U,isTranslationDisplayed:B,translatedText:G,handleReplyTextChange:k,handleReplySubmit:O,handleReplyDelete:this.handleReplyDelete,deletingReplyId:this.state.deletingReplyId,isInteractionsDisabled:z}),!q&&r.a.createElement(b,{canReply:_,liked:X,reply:n,handleLikeClick:v,handleReplyDelete:this.handleReplyDelete,handleReplyTextChange:k,handleReplySubmit:O,handlesubReplyClick:this.handlesubReplyClick,reactionId:$,replyLocation:i,userProfileId:w,childId:P,streamName:R,dynamicTranslations:j,isInteractionsDisabled:z,isInteractionsHidden:W}),r.a.createElement("div",{className:"edit-container"})),re&&(ne||le)&&!z&&r.a.createElement(A,{reply:n,className:"dropdown-menu",deleteModalOpen:this.state.deleteModalOpen,handleReplyDelete:this.handleReplyDeleteClick,handleReplyEdit:this.handleReplyEdit}),r.a.createElement(ge.a,{isDeleteModalOpen:se,messageId:a,replyId:H,itemToDeleteId:H,groupId:N,textConstant:ce,toggle:this.handleReplyDeleteClick,close:this.handleReplyDeleteClick,handleDeleteConfirm:this.handleReplyDelete})),r.a.createElement(Re,{stream:y,accessToken:f,canReply:_,hasSubReplies:de,smallAvatar:J,currentUser:u,fullName:Y,profileAvatar:s,message:t,messageId:a,groupId:N,reply:n,replyId:H,replyLocation:i,replyingToId:this.state.replyingToId,reactionId:c,recipients:h,contentText:p,liked:g,deletingSubReplyId:this.state.deletingSubReplyId,deleteModalOpen:this.state.deleteModalOpen,showingMoreSubReplies:this.state.showingMoreSubReplies,showMoreSubRepliesId:this.state.showMoreSubRepliesId,subReplyClick:this.state.subReplyClick,editingSubReply:this.state.editingSubReply,editingSubReplyId:this.state.editingSubReplyId,hasReplyOperationsPermissions:le,handleSetReplyingToId:this.handleSetReplyingToId,handlePostsubReplyCancelClick:this.handlePostsubReplyCancelClick,handlePostsubReplyDone:this.handlePostsubReplyDone,handleShowMoreSubRepliesClick:this.handleShowMoreSubRepliesClick,handlesubReplyLike:this.handleSubReplyLike,handleEditSubReply:this.handleEditSubReply,handleLikeClick:v,handleFollowClick:S,handleReplyIconClick:C,handleDismissClick:T,handleSubReplyDelete:this.handleSubReplyDelete,handleSubReplyDeleteClick:this.handleSubReplyDeleteClick,handleEditSubReplyCancel:this.handleEditSubReplyCancel,handleReplyEditDone:this.handleReplyEditDone,handleReplyIconReset:M,userProfileId:w,childId:P,streamName:R,dynamicTranslations:j,handleDynamicTranslationClick:F,handleShowOriginalTranslationTextClick:U,isTranslationDisplayed:B,isInteractionsDisabled:z}))}}t.a=Object(i.connect)((function(e){return{currentUserMemberships:le.I(e),currentCompactGroupMembership:le.d(e),currentGroupId:le.s(e)}}),(function(e){return{replyActions:Object(s.bindActionCreators)(K,e),streamActions:Object(s.bindActionCreators)(Ae,e)}}))(Ue)},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(1199),o=a(134),l=a(1213),c=a(548),d=a(151),u=a(10),h=a(156),p=a(522);class m extends n.Component{constructor(e,t){super(e,t),this.handleOnClick=this.handleOnClick.bind(this)}componentDidMount(){this.props.chatRoomId||this.props.chatRoomActions.fetchChatRoomsWithCurrentUserAndOtherUsers({recipient_ids:[this.props.userId]})}handleOnClick(){const e=this.props,t=e.callback,a=e.chatRoomId,n=e.context,r=e.history,s=e.userId,i=e.userName,o=e.profilePageTrackingActions;if(a?r.push("".concat(u.a.MESSAGES_PAGE,"/").concat(a)):r.push("".concat(u.a.MESSAGES_PAGE,"/new")+"?new_recipient_id=".concat(s,"&new_recipient_title=").concat(i)),t&&t(),n&&"profile_page"===n){const e={messageRecipientId:s};o.connectionsMessageButtonClick(e)}}render(){const e=this.props.weight,t=this.props.context&&"profile_page"===this.props.context;return r.a.createElement(l.a,Object.assign({},!t&&{size:"compact",className:"profile-btn message-btn"},{customClassNames:this.props.customClassNames,onClick:this.handleOnClick,qaSelector:"qa-test-connection-message",weight:e}),r.a.createElement(h.default,{string:"message",fallbackString:"Message"}))}}t.a=Object(i.a)(Object(s.connect)((function(e,t){return{chatRoomId:d.b(e,t)}}),(function(e){return{chatRoomActions:Object(o.bindActionCreators)(c,e),profilePageTrackingActions:Object(o.bindActionCreators)(p,e)}}))(m))},function(e,t,a){"use strict";var n=a(273),r=a(4),s=a.n(r),i=a(35),o=a.n(i),l=a(364),c=a(1338),d=a.n(c),u=a(1204),h=a(5),p=a(523);a(1221);const m=({multimediaItem:e,toggleModal:t,handleDismissClick:a,index:i,isModal:c,className:h,id:m,showRemove:g,messageId:f,attachmentType:b})=>{const E=Object(r.useState)(!1),y=Object(n.a)(E,2),S=y[0],v=y[1],C=o()("AttachmentItem AttachmentItem--multimediaItem image",h),A=o()("close-icon remove-gif-icon qa-test-remove-multimedia-item-attachment"),I=o()({"default-cursor":g}),T=p.a.getId(e),k=p.a.getUrl(e);return c?s.a.createElement("div",{key:T,className:"image","data-index":i},s.a.createElement("div",{className:"gif-attachment no-click"},s.a.createElement(d.a,{src:k,alt:k}))):s.a.createElement("div",{key:T,className:C,"data-index":i},s.a.createElement("div",{className:"gif-attachment"},s.a.createElement(d.a,{className:I,alt:k,src:k,onLoad:()=>v(!0),onClick:()=>t(m)}),g&&S&&s.a.createElement(l.c,{className:A,color:"link",onClick:a,"data-attachment-id":m,"data-attachment-messageid":f,"data-attachment-type":b},s.a.createElement(u.a,{name:"x-icon"}))))};m.defaultProps={toggleModal:h.noop},t.a=m},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1930),o=a.n(i),l=a(1239),c=a(1630),d=a(226),u=(a(1221),a(77)),h=a(156);t.a=({url:e,thumbUrl:t,title:a,size:n,googleType:i,id:p,messageId:m,showRemove:g,handleDismissClick:f})=>{const b=e&&e.indexOf("/discover/happynotperfect")>-1,E=e&&e.indexOf("/discover/collections/")>-1,y=e&&e.indexOf("/discover/")>-1,S=u.a.getDiscoverAppSharableURL(e),v=u.a.getHNPPageURL(e);if(t===d.a.DEFAULT_ICON||"sm"===n||i)return r.a.createElement(c.a,{title:a,url:e,size:n,googleType:i});let C=null;return E?C={string:"view-collection",fallback:"View Collection"}:y&&(C={string:"open",fallback:"Open"}),r.a.createElement("div",{className:"single-link-item px-2_5"},g&&r.a.createElement("div",{className:"remove-icon p-2-5 m-2_5 rounded-circle","data-attachment-id":p,"data-attachment-messageid":m,"data-attachment-type":"links",onClick:f,role:"presentation",onKeyPress:f}),r.a.createElement("div",{className:"single-link-image"},r.a.createElement("a",{href:b?S:e,className:"qa-test-link-item",target:"_blank",rel:"noopener noreferrer nofollow"},r.a.createElement("div",{className:"position-relative text-center"},r.a.createElement("div",{className:"large-thumb qa-test-large-thumb",style:{backgroundImage:"url(".concat(t,")")}}),C&&r.a.createElement("div",{className:"qa-test-app-overlay app-overlay"},r.a.createElement(s.c,null,r.a.createElement(l.default,null),r.a.createElement(h.default,C)))))),r.a.createElement("div",{className:"single-link-info"},r.a.createElement(s.db,{className:b?"cursor-pointer":"",onClick:()=>{b&&window.open(v,"_blank")}},b&&r.a.createElement(s.s,{md:2},r.a.createElement("div",{className:"hnp-icon-image-container mt-3"},r.a.createElement("img",{alt:"",className:"feature-content-icon ",src:o.a}))),r.a.createElement(s.s,{md:b?13:18},r.a.createElement("a",{className:"link-title mt-3 pr-4 qa-test-single-link-title w-100",href:b?v:e,target:"_blank",type:"link",rel:"noopener noreferrer nofollow"},r.a.createElement("h5",null,a)),r.a.createElement("div",{className:"domain body-2-text mb-3 pr-4 w-100"},r.a.createElement("a",{href:b?S:e,target:"_blank",type:"link",rel:"noopener noreferrer nofollow"},(e=>{const t=e&&e.split("/");return t&&t[2]})(e)))))))}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(156);a(1221);t.a=({title:e,viewUrl:t,downloadUrl:a,thumbUrl:n,messageId:i,id:o,resourceType:l,googleType:c,showRemove:d,handleDismissClick:u})=>{const h="file"===l?"office-online-document":"google-document",p="file"===l?"Office Online Document":"Google Document";return r.a.createElement("div",{id:"file-attachment",className:"container file-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"file-thumb col-3"},r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},((t,a)=>{switch(t){case"google-document":return a?r.a.createElement("div",{className:"google-".concat(a,"-icon")}):r.a.createElement("div",{className:"google-document-icon"});case"office-online-document":return r.a.createElement("div",{className:"".concat(t,"-icon")});default:return r.a.createElement("img",{className:"file-icon",src:n,alt:e})}})(h,c))),r.a.createElement("div",{className:"file-info col-14"},r.a.createElement("div",{className:"remove-icon","data-attachment-id":o,"data-attachment-messageid":i,"data-attachment-type":"worksheet",style:{display:d?"block":"none"},onClick:u,role:"presentation",onKeyPress:u}),r.a.createElement("div",{className:"title"},r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},e)),r.a.createElement("span",{className:"subtext"},r.a.createElement(s.default,{string:h,fallbackString:p})),r.a.createElement("div",{className:"subtext"},r.a.createElement("a",{href:a},r.a.createElement("div",{className:"file-download-icon"})),r.a.createElement("span",null,r.a.createElement(s.default,{string:"recipient-get-copy",fallbackString:"Each recipient will get a copy"}))))))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(9),r=a(28),s=a(1),i=a(333);const o=Object(n.createSelector)([r.rb],e=>e&&e.getIn([s.a.CURRENT_QUIZ_CONTENTS,i.a.QUIZ_QUESTIONS]));Object(n.createSelector)([r.rb],e=>e&&e.get(s.a.QUIZ_LIST)),Object(n.createSelector)([r.rb],e=>e&&e.get(s.a.QUIZ_LIST_COUNT))},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"fetchPublisherSuccess",(function(){return c})),a.d(t,"invalidPublisherId",(function(){return d})),a.d(t,"fetchPublisherMessagesSuccess",(function(){return u})),a.d(t,"fetchPublisher",(function(){return h})),a.d(t,"fetchPublisherMessages",(function(){return p})),a.d(t,"followPublisher",(function(){return m})),a.d(t,"unfollowPublisherSuccessAction",(function(){return g})),a.d(t,"unfollowPublisher",(function(){return f})),a.d(t,"updatePublisher",(function(){return b})),a.d(t,"fetchPublisherVideosSuccess",(function(){return E})),a.d(t,"fetchPublisherVideosEndOfListingReachedAction",(function(){return y})),a.d(t,"fetchPublisherVideos",(function(){return S}));var n=a(18),r=a(25);var s=a(230),i=a(192),o=a(36),l=a(63);const c=e=>({type:s.a.FETCH_PUBLISHER_SUCCESS,payload:e}),d=e=>({type:s.a.INVALID_PUBLISHER_ID,payload:e}),u=(e,t)=>({type:s.a.FETCH_PUBLISHER_MESSAGES_SUCCESS,payload:{publisherId:e,messages:t}}),h=e=>function(t,a){return(e=>r.a.get("".concat(n.a.PUBLISHERS,"/").concat(e)))(e).then(e=>{t(c(e.data))}).catch(a=>{a.response&&404===a.response.status?t(d(e)):o.a.notifyBugsnag(a,"PublisherActionCreator.fetchPublisher")})},p=e=>function(t){return(a={user_ids:[e]},r.a.get(n.a.MESSAGES_THREADED,{params:a})).then(a=>{t(u(e,a.data))}).catch(e=>{o.a.notifyBugsnag(e,"PublisherActionCreator.fetchPublisherMessages")});var a},m=e=>function(t,a){return(e=>r.a.put("".concat(n.a.PUBLISHERS,"/").concat(e).concat(n.a.FOLLOW)))(e).then(e=>{t(c(e.data))}).catch(e=>{o.a.notifyBugsnag(e,"PublisherActionCreator.followPublisher")})},g=(e,t)=>({type:s.a.UNFOLLOW_PUBLISHER_SUCCESS_ACTION,payload:{publisherId:e,profileId:t}}),f=e=>function(t,a){const s=l.a(a).accessToken;return(e=>r.a.put("".concat(n.a.PUBLISHERS,"/").concat(e).concat(n.a.UNFOLLOW)))(e).then(a=>{t(c(a.data));const n=i.a.getUserId(s);t(g(e,n))}).catch(e=>{o.a.notifyBugsnag(e,"PublisherActionCreator.unfollowPublisher")})},b=(e,t)=>function(a,s){return((e,t)=>r.a.put("".concat(n.a.PUBLISHERS,"/").concat(e),t))(e,t).then(e=>{a(c(e.data))}).catch(e=>{o.a.notifyBugsnag(e,"PublisherActionCreator.updatePublisher")})},E=(e,t)=>({type:s.a.FETCH_PUBLISHER_VIDEOS_SUCCESS,payload:{publisherId:e,videoMessages:t}}),y=e=>({type:s.a.FETCH_PUBLISHER_VIDEOS_END_REACHED,payload:{publisherId:e}}),S=(e,t,a)=>function(s,i){return((e,t=1,a=10)=>r.a.get("".concat(n.a.PUBLISHER_VIDEOS,"/?&user_ids=").concat(e,"&page=").concat(t,"&per_page=").concat(a)))(e,t,a).then(t=>{s(E(e,t.data)),t.data.length<a&&s(y(e))}).catch(e=>{o.a.notifyBugsnag(e,"PublisherActionCreator.fetchPublisherVideos")})}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(35),i=a.n(s),o=a(370),l=(a(1221),a(30)),c=a(202),d=a(156),u=a(1203),h=a.n(u),p=a(1204),m=a(512),g=a(198),f=a(364);a(1929);const b=e=>{let t=e.value,a=e.max,n=e.color,s=e.className,o=e.size,l=e.isBackgroundTransparent,c=Object(g.a)(e,["value","max","color","className","size","isBackgroundTransparent"]);const d=i()("EDSProgressBar",s,"EDSProgressBar--".concat(o),{"EDSProgressBar--transparent":l});return r.a.createElement(f.cb,Object.assign({value:t,max:a,color:n,className:d},c))};b.defaultProps={max:"100",color:"success",isBackgroundTransparent:!1,size:"md"};var E=b;const y=({s3_name:e,fileName:t,fileSize:a,viewUrl:n,downloadUrl:s,thumbUrl:u,fileProgress:g,creatorId:f,showRemove:b,messageId:y,id:S,handleDismissClick:v,fileType:C,handleFileAddToLibrary:A,isStudent:I,isTeacher:T,currentUser:k,showDownloadIcon:O,subtext:_,fromLibrary:M,size:N})=>{const w=i()("qa-test-AttachmentItem","AttachmentItem","AttachmentItem--card",{"AttachmentItem--small":"sm"===N});return r.a.createElement("div",{id:"file-attachment",className:w,key:t+"-"+S},r.a.createElement("div",{className:"d-flex align-items-center p-2"},r.a.createElement("div",{className:"AttachmentItem__icon d-flex justify-content-center align-items-center flex-shrink-0"},r.a.createElement(p.a,{name:c.f(C),color:c.b(C)===l.a.PDF?"#FF3352":h.a.cyan[30]})),r.a.createElement("div",{className:"pl-2_5 w-100"},r.a.createElement("div",{className:"title"},r.a.createElement(m.a,{href:n||s,target:"_blank",rel:"noopener noreferrer",className:"qa-test-AttachmentItem__title AttachmentItem__title"},t)),r.a.createElement("span",{className:"subtext"},_)),!b&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(o.a,{className:"AttachmentItem__actions",align:"end",hideArrow:!0},r.a.createElement("div",{className:"drop-selector"},r.a.createElement(p.a,{name:"EllipsisIcon",color:h.a.gray[40]})),r.a.createElement(o.b,null,r.a.createElement(o.c,{onClick:()=>c.h(s,t)},r.a.createElement(d.default,{string:"download",fallbackString:"Download"})),A&&(I?r.a.createElement(o.c,{onClick:()=>A(S)},r.a.createElement(d.default,{string:"add-to-backpack",fallbackString:"Add To Backpack"})):T?r.a.createElement(o.c,{onClick:()=>A(S)},r.a.createElement(d.default,{string:"add-to-library",fallbackString:"Add To Library"})):void 0)))),b&&r.a.createElement("div",{className:"pl-8"},r.a.createElement(p.a,{name:"x-icon",className:"AttachmentItem__remove",color:h.a.gray[40],"data-s3-name":e,"data-attachment-id":S,"data-attachment-messageid":y,"data-attachment-type":"files","data-from-library":M,onClick:v,onKeyPress:v}))),(()=>{if(g&&g<100)return g=g<10?10:g,r.a.createElement(E,{value:g.toString(),max:"100",size:"sm",isBackgroundTransparent:!0})})())};y.defaultProps={showDownloadIcon:!0};t.a=y},function(e,t,a){},,function(e,t,a){"use strict";var n=a(273),r=a(4),s=a.n(r),i=a(156),o=a(95),l=a(3),c=a(275),d="show-more-replies";t.a=({message:e,messageId:t,parentReply:a,replyId:r,numberOfReplies:u,showingMore:h,showMoreId:p,replyLocation:m,handleShowMoreRepliesClick:g})=>{let f,b,E,y,S,v;if(e){f=c.a.SHOW_MORE_REPLIES,S=t,b=o.a.getMessageReplies(e);var C=b;E=Object(n.a)(C,1)[0],y=E&&E.get(l.a.ID),v=b&&b.size||3}else if(a){f=c.a.SHOW_MORE_SUBREPLIES,S=r,b=o.a.getSubReplies(a);var A=b;E=Object(n.a)(A,1)[0],y=E&&E.get(l.a.ID),v=b&&b.size||2}return!h&&u>v||h&&p!==S&&u>v?s.a.createElement("div",{className:f,role:"presentation","data-message":t,"data-reply":r,"data-maxreply":y,"data-location":m,onClick:g,onKeyPress:g},s.a.createElement(i.default,{string:d})):null}},function(e,t,a){},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1207);t.a=e=>(()=>{let t;return t=e.active?r.a.createElement(s.a,{qaSelector:e.makeInactiveQaSelector,onClick:e.handleMakeInactiveClick,options:e.makeInactiveOptions,dataSet:e.dataSet,collapseLeft:!0},e.makeInactiveBtnText):r.a.createElement(s.a,{qaSelector:e.makeActiveQaSelector,onClick:e.handleMakeActiveClick,options:e.makeActiveOptions,dataSet:e.dataSet,collapseLeft:!0},e.makeActiveBtnText),t})()},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(1204),o=a(156);t.a=({handleSelectFiles:e,value:t,disabled:a})=>r.a.createElement("label",{className:"qa-test-postbox-library-attachment-icon",id:"postreply-file-upload-icon"},r.a.createElement(s.D,{type:"file",id:"HOCFileAttach",color:"link",className:"hoc-file-uploader qa-test-HOCFileAttach",multiple:"multiple",value:t,disabled:a,"data-original-title":"Attach Files",onChange:e}),r.a.createElement(i.a,{name:"image-icon",className:"file-attachment-icon"}),r.a.createElement(s.lb,{className:"tooltip",placement:"bottom",target:"postreply-file-upload-icon",delay:0},r.a.createElement(o.default,{string:"attach-files-and-images",fallbackString:"Attach Files and Images"})))},function(e,t){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var a=0,n=e.length;a<n&&!1!==t(e[a],a);a++);}}},function(e,t,a){"use strict";a.r(t),a.d(t,"trackVideoAttachmentModalDisplay",(function(){return r})),a.d(t,"trackVideoAttachmentModalVideoInCarouselClick",(function(){return s})),a.d(t,"trackVideoAttachmentModalAutoPlayNext",(function(){return i})),a.d(t,"trackVideoAttachmentModalPlayAgainClick",(function(){return o})),a.d(t,"trackVideoAttachmentModalPlayNextClick",(function(){return l}));var n=a(311);const r=(e,t)=>({type:n.a.TRACK_VIDEO_ATTACHMENT_MODAL_DISPLAY,payload:{context:e,properties:t}}),s=(e,t)=>({type:n.a.TRACK_VIDEO_ATTACHMENT_MODAL_VIDEO_IN_CAROUSEL_CLICK,payload:{context:e,properties:t}}),i=(e,t)=>({type:n.a.TRACK_VIDEO_ATTACHMENT_MODAL_AUTO_PLAY_NEXT,payload:{context:e,properties:t}}),o=(e,t)=>({type:n.a.TRACK_VIDEO_ATTACHMENT_MODAL_PLAY_AGAIN_CLICK,payload:{context:e,properties:t}}),l=(e,t)=>({type:n.a.TRACK_VIDEO_ATTACHMENT_MODAL_PLAY_NEXT_CLICK,payload:{context:e,properties:t}})},,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"trackPageLikeClick",(function(){return r})),a.d(t,"trackPageShareSubmit",(function(){return s})),a.d(t,"trackShareModalDisplay",(function(){return i}));var n=a(395);const r=e=>({type:n.a.TRACK_EDMODO_PAGES_PAGE_LIKE_CLICK,payload:e}),s=e=>({type:n.a.TRACK_EDMODO_PAGES_PAGE_SHARE_SUBMIT,payload:e}),i=(e,t)=>({type:n.a.TRACK_EDMODO_PAGES_PAGE_SHARE_MODAL_DISPLAY,payload:{context:e,properties:t}})},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1219),i=a(1220);t.a=({isTeacher:e,classNames:t,fillColor:a})=>r.a.createElement(r.a.Fragment,null,e?r.a.createElement(s.default,{size:24,className:t,color:a}):r.a.createElement(i.default,{size:24,className:t,color:a}))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(134),o=a(295),l=a(1313),c=a(1269),d=a(543),u=a(364),h=a(14),p=a(156),m=a(1771),g=a(1937),f=a(61),b=a(77),E=a(1211),y=a(509);var S=Object(y.a)(({user:e,customClassNames:t,translate:a})=>{const n=h.a.getTranslatedGrades(e,a),s="teacher-grades-container ".concat(t);return r.a.createElement("div",{className:s},n)});class v extends n.Component{componentDidUpdate(){const e=this.props,t=e.creator,a=e.currentUser,n=e.connectionStatus,r=e.isOpen,s=h.a.getId(t),i=h.a.getId(a),o="".concat(i&&i.toString(),"-").concat(s&&s.toString());s!==i&&!n&&r&&this.props.connectionActions.checkConnectionExistence({userId:s,twoIdsStr:o})}render(){const e=this.props,t=e.creator,a=e.currentUser,n=e.hideProfileLink,s=e.isOpen,i=e.target,o=e.toggle,l=e.onMouseLeave,c=e.onMouseEnter,d=h.a.isTeacher(t),y=h.a.isTeacher(a),v=h.a.isEmailVerified(t),C=h.a.isEmailVerified(a),A=h.a.getFullName(t),I=h.a.getSchoolName(t),T=h.a.getSchoolUrl(t),k=b.a.makeProfilePageUrl(a,t),O=h.a.getId(t),_=h.a.getId(a),M=h.a.getDistrictName(t),N=h.a.getDistrictUrl(t);let w;return y&&v&&C&&d&&O!==_&&(this.props.connectionStatus?this.props.connectionStatus===f.a.PENDING_STATUS?w=r.a.createElement("button",{className:"btn disabled request-sent-btn profile-btn"},"Request Sent"):this.props.connectionStatus===f.a.ACTIVE_STATUS?w=r.a.createElement(m.a,{creator:t,userId:O,userName:A}):this.props.connectionStatus===f.a.NOT_CONNECTED&&(w=r.a.createElement(g.a,{userId:O,title:"Add Connection"})):w=null),r.a.createElement(u.Z,{placement:"top",isOpen:s,target:i,toggle:o,onMouseLeave:l,onMouseEnter:c},r.a.createElement(u.ab,null,r.a.createElement("div",{className:"profile-popover-container"},r.a.createElement("div",null,r.a.createElement(E.a,{user:t,size:"96"})),r.a.createElement("div",{className:"profile-preview-content"},r.a.createElement("div",null,r.a.createElement("header",{className:"full-name"},A),r.a.createElement(S,{user:t}),r.a.createElement("div",{className:"school-name"},r.a.createElement("a",{href:T},I)),r.a.createElement("div",{className:"district-name"},r.a.createElement("a",{href:N},M)),!n&&r.a.createElement("div",null,r.a.createElement("a",{href:k},r.a.createElement(p.default,{string:"view-profile",fallbackString:"View Profile"})))),r.a.createElement("div",null,w)))))}}var C=Object(s.connect)((function(e,t){return{connectionStatus:d.a(e,t)}}),(function(e){return{connectionActions:Object(i.bindActionCreators)(l,e)}}))(v),A=a(819),I=a(1777),T=a(1797),k=a(1802),O=a(1590),_=a(1456),M=a(1666),N=a(1941),w=a(15);var P=({width:e,height:t,style:a,children:n})=>{const s={position:"relative",display:"block",overflow:"hidden",width:"100%",backgroundColor:"#999",paddingTop:"".concat(t/e*100,"%")},i=Object(w.a)({},s,{},a);return r.a.createElement("div",{className:"rounded-top",style:i},r.a.createElement("div",{style:{position:"absolute",top:"0",bottom:"0",left:"0",width:"100%",height:"100%",border:"0"}},n))};var R=({src:e,style:t})=>r.a.createElement(P,{width:884,height:320,style:t},r.a.createElement("img",{src:e,alt:"Hero",className:"rounded-top",style:{width:"100%",overflow:"hidden"}})),x=a(274),L=a(510),D=a(1306),F=a(1203),U=a.n(F);class B extends n.Component{constructor(e){super(e),this.handleFollowClick=this.handleFollowClick.bind(this)}componentDidMount(){const e=this.props,t=e.creator,a=e.publisher,n=h.a.getId(t);a||this.props.publisherActions.fetchPublisher(n)}handleFollowClick(){const e=this.props,t=e.creator,a=e.publisherActions,n=e.connectionStatus,r=e.edmodoPagesTrackingActions,s=!!n,i=h.a.getId(t),o=O.a.getName(t);s?(a.unfollowPublisher(i),r.trackPageLikeClick({publisher_username:o,liked:"false",utm_source:x.a.PUBLISHER_PROFILE_POPOVER})):(a.followPublisher(i),r.trackPageLikeClick({publisher_username:o,liked:"true",utm_source:x.a.PUBLISHER_PROFILE_POPOVER}))}render(){const e=this.props,t=e.publisher,a=e.toggleShareModal,n=e.togglePopover,s=e.connectionStatus,i=O.a.getHeroImageUrl(t),o=O.a.getName(t),l=O.a.getFollowersCount(t),c=O.a.getAbout(t),d=!!s,h=x.a.PUBLISHER_PROFILE_POPOVER,m=O.a.getPageUrl(t,h),g={fontSize:"0.75rem",height:"1.5rem",lineHeight:"0.75rem"};return t?r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(R,{src:i,style:{width:"calc(100% + 1.5rem)",margin:"-0.5rem -0.75rem 0 -0.75rem"}}),r.a.createElement("div",{className:"d-flex align-items-center mt-2 mb-2"},r.a.createElement(N.a,{publisher:t,style:{width:"36px",height:"36px"}}),r.a.createElement("div",{className:"ml-2",style:{flexGrow:"1"}},r.a.createElement("div",{className:"d-flex"},r.a.createElement("h1",{style:{fontSize:"1rem",color:U.a.gray[80],marginRight:"6px",maxWidth:"307px"},className:"text-truncate"},o),r.a.createElement(D.default,{size:"1rem",color:U.a.cyan[30]})),r.a.createElement("div",{style:{color:U.a.gray[30],fontSize:"12px"}},r.a.createElement(p.default,{string:"admin_pages,publisher",fallbackString:"Publisher"}),"\xa0\xb7\xa0",r.a.createElement(p.default,{string:"total-followers",fallbackString:"%{smart_count} followers",insertions:{smart_count:l}})))),r.a.createElement("p",{className:"mb-3",style:{fontSize:"12px",lineHeight:"18px"}},_.a.truncateText(c,50)),r.a.createElement("hr",{style:{margin:"1rem -0.75rem 0.75rem -0.75rem"}}),r.a.createElement("div",{className:"d-flex justify-content-between",style:{marginBottom:"6px"}},r.a.createElement("div",null,r.a.createElement(M.a,null,r.a.createElement(u.c,{color:d?"light-blue":"light-blue-gray",className:"qa-test-like-button mr-3",style:g,onClick:()=>this.handleFollowClick()},d?r.a.createElement(p.default,{string:"remove-connection-title",fallbackString:"Following",className:"resizable-button-text"}):r.a.createElement(p.default,{string:"topics,capital_follow",fallbackString:"Follow",className:"resizable-button-text"}))),r.a.createElement(M.a,null,r.a.createElement(u.c,{color:"light-blue-gray",className:"qa-test-like-button",style:g,onClick:()=>{a(),n()}},r.a.createElement(p.default,{string:"share-page",fallbackString:"Share Page",className:"resizable-button-text"})))),m&&r.a.createElement(A.a,{to:m,className:"qa-test-visit-publisher-page-btn"},r.a.createElement(u.c,{style:g,color:"primary"},r.a.createElement(p.default,{string:"visit-page",fallbackString:"Visit Page"}))))):r.a.createElement(L.a,null)}}var G=Object(s.connect)((function(e,t){return{publisher:k.e(e,{publisherId:h.a.getId(t.creator)}),connectionStatus:k.f(e,{publisherId:h.a.getId(t.creator)})}}),(function(e){return{publisherActions:Object(i.bindActionCreators)(I,e),edmodoPagesTrackingActions:Object(i.bindActionCreators)(T,e)}}))(B),j=a(519);const z=a.n(j)()({loader:()=>Promise.all([a.e(1),a.e(2),a.e(4),a.e(6),a.e(231)]).then(a.bind(null,1936)),loading:L.a});class q extends n.Component{constructor(e){super(e),this.state={isShareModalOpen:!1},this.toggleShareModal=this.toggleShareModal.bind(this)}toggleShareModal(){this.setState({isShareModalOpen:!this.state.isShareModalOpen})}render(){const e=this.props,t=e.isOpen,a=e.target,n=e.toggle,s=e.onMouseEnter,i=e.onMouseLeave,o=e.creator,l=e.trackingContext,c=h.a.getId(o),d=O.a.getName(o),p=h.a.getUsername(o);return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Z,{placement:"top",container:".message-body",isOpen:t,target:a,toggle:n,onMouseEnter:s,onMouseLeave:i},r.a.createElement(u.ab,null,r.a.createElement(G,{togglePopover:n,creator:o,toggleShareModal:this.toggleShareModal}))),r.a.createElement(z,{isOpen:this.state.isShareModalOpen,toggle:this.toggleShareModal,trackingContext:l,trackingProperties:{publisherId:c,utm_source:x.a.PUBLISHER_PROFILE_POPOVER},linkUrl:b.a.makeFullEdmodoPageURL(p),linkTitle:d,isSharingPublisherPage:!0}))}}var H=q,V=a(1245);class W extends n.Component{constructor(e){super(e),this.renderMessageBtn=this.renderMessageBtn.bind(this)}componentDidMount(){const e=this.props,t=e.creator,a=e.currentUser,n=h.a.getId(t),r=h.a.getId(a),s="".concat(r&&r.toString(),"-").concat(n&&n.toString());n!==r&&this.props.connectionActions.checkConnectionExistence({userId:n,twoIdsStr:s})}renderShield(){return r.a.createElement("div",{className:"d-flex mb-2"},r.a.createElement("div",null,r.a.createElement(V.default,{className:"verified-shield-icon",color:F.green[50]})),r.a.createElement("div",{className:"pt-1 ml-1 shield-text"},r.a.createElement(p.default,{string:"phone_verification,verified",fallbackString:"VERIFIED"})))}renderTitle(e,t){return r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"ml-2 mb-2"},r.a.createElement("h4",null,e)),r.a.createElement("div",{className:"mb-2"},t))}renderMessageBtn(){const e=this.props,t=e.creator,a=e.currentUser,n=e.connectionStatus,s=h.a.getId(t),i=h.a.getId(a),o=h.a.isTeacher(t),l=h.a.isEmailVerified(t),c=h.a.isEmailVerified(a),d=h.a.getFullName(t);let u;return l&&c&&o&&s!==i&&n&&n===f.a.ACTIVE_STATUS&&(u=r.a.createElement("div",{className:"mr-3"},r.a.createElement(m.a,{creator:t,userId:s,userName:d,customClassNames:"teacher-profile-popover"}))),u}render(){const e=this.props,t=e.creator,a=e.displayName,n=e.creatorRoleIcon,s=e.creatorLocation,i=h.a.getLargeAvatar(t),o=h.a.isVerifiedTeacher(t),l=b.a.makeTeacherProfilePageUrl(t,t);return r.a.createElement("div",{className:"teacher-profile-popover-body-container"},r.a.createElement("div",{className:"teacher-profile-popover-body d-flex mt-2 mb-3"},r.a.createElement("div",{className:"avatar-container mr-2 ml-2 mt-2"},r.a.createElement("img",{alt:"User Avatar",src:i})),r.a.createElement("div",{className:"user-info-container"},o&&this.renderShield(),this.renderTitle(a,n),r.a.createElement("div",{className:"ml-2 location"}," ",s," "),r.a.createElement("div",{className:"ml-2"},r.a.createElement(S,{user:t,customClassNames:"user-grades"})))),r.a.createElement("hr",null),r.a.createElement("div",{className:"teacher-profile-popover-footer d-flex"},this.renderMessageBtn(),r.a.createElement("a",{href:l,className:"qa-test-visit-user-page-btn"},r.a.createElement(u.c,{color:"primary eds btn-sm"},r.a.createElement(p.default,{string:"view-profile",fallbackString:"View Profile"})))))}}var Q=Object(s.connect)((function(e,t){return{connectionStatus:d.a(e,t)}}),(function(e){return{connectionActions:Object(i.bindActionCreators)(l,e)}}))(W);class Y extends n.Component{render(){const e=this.props,t=e.isOpen,a=e.target,n=e.toggle,s=e.onMouseEnter,i=e.onMouseLeave,o=e.currentUser,l=e.creator,c=e.creatorRoleIcon,d=e.creatorLocation,h=e.displayName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Z,{placement:"top",container:".message-body",isOpen:t,target:a,toggle:n,onMouseEnter:s,onMouseLeave:i},r.a.createElement(u.ab,null,r.a.createElement(Q,{togglePopover:n,currentUser:o,creator:l,creatorRoleIcon:c,creatorLocation:d,displayName:h}))))}}var K=Y;t.a=e=>t=>{class a extends n.Component{constructor(t){super(t),this.toggle=this.toggle.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleMouseEnterPopoverButton=this.handleMouseEnterPopoverButton.bind(this),this.handleMouseLeavePopoverButton=this.handleMouseLeavePopoverButton.bind(this),this.selectProfilePopoverContent=this.selectProfilePopoverContent.bind(this),this.state={popoverOpen:!1,targetId:e&&e.targetId||"target-".concat(Object(o.a)(6)),isCursorInsidePopover:!1}}toggle(){this.setState({popoverOpen:!this.state.popoverOpen})}handleMouseEnter(){this.setState({isCursorInsidePopover:!0})}handleMouseLeave(){this.setState({isCursorInsidePopover:!1},this.toggle)}handleMouseEnterPopoverButton(){const e=this.props,t=e.streamTrackingActions,a=e.trackingContext,n=e.creator;this.mouseEnteredPopoverButton=!0,setTimeout(()=>{this.mouseEnteredPopoverButton&&(t.trackProfilePopoverDisplay(a,{creatorId:h.a.getId(n)}),this.setState({popoverOpen:!0}))},500)}handleMouseLeavePopoverButton(){this.mouseEnteredPopoverButton=!1,setTimeout(()=>{this.state.isCursorInsidePopover||this.setState({popoverOpen:!1})},800)}selectProfilePopoverContent(){const e=this.props,t=e.creator,a=e.currentUser,n=e.hideProfileLink,s=e.isGroupStream,i=e.creatorRoleIcon,o=h.a.isPublisher(t),l=h.a.isTeacher(t),c=h.a.isTeacher(a);let d;return d=o?r.a.createElement(H,Object.assign({},this.props,{isOpen:this.state.popoverOpen,target:this.state.targetId,toggle:this.toggle,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter})):!s&&l&&c?r.a.createElement(K,Object.assign({},this.props,{isOpen:this.state.popoverOpen,target:this.state.targetId,toggle:this.toggle,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,creatorRoleIcon:i})):r.a.createElement(C,{creator:t,currentUser:a,hideProfileLink:n,isOpen:this.state.popoverOpen,target:this.state.targetId,toggle:this.toggle,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter}),d}render(){return r.a.createElement("div",{className:"profile-popover-component"},r.a.createElement(t,Object.assign({},this.props,this.state,{toggle:this.toggle,handleMouseEnterPopoverButton:this.handleMouseEnterPopoverButton,handleMouseLeavePopoverButton:this.handleMouseLeavePopoverButton})),this.selectProfilePopoverContent())}}return Object(s.connect)((function(e,t){return{connectionStatus:d.a(e,t)}}),(function(e){return{connectionActions:Object(i.bindActionCreators)(l,e),streamTrackingActions:Object(i.bindActionCreators)(c,e)}}))(a)}},function(e,t,a){"use strict";a.r(t),a.d(t,"pollVoteSuccessAction",(function(){return o})),a.d(t,"fetchPollVoteSuccessAction",(function(){return l})),a.d(t,"voteForPoll",(function(){return c})),a.d(t,"fetchPollVotes",(function(){return d}));var n=a(18),r=a(25);var s=a(24),i=a(36);const o=(e,t,a,n,r)=>({type:s.a.UPDATE_POLL_POST,payload:{pollAnswer:e,messageId:t,groupId:a,userProfileId:n,streamName:r}}),l=(e,t,a,n,r)=>({type:s.a.FETCH_POLL_VOTES_SUCCESS,payload:{response:e,messageId:t,groupId:a,userProfileId:n,streamName:r}}),c=(e,t,a,s,l)=>function(c,d){return(u=e,r.a.post(n.a.POLL_VOTES,u)).then(e=>{c(o(e.data,parseInt(t,10),a,s,l))}).catch(e=>{console.log(e),i.a.notifyBugsnag(e,"PollActionCreator.voteForPoll")});var u},d=(e,t,a,s,o)=>function(c,d){return(u=e,r.a.get(n.a.POLL_VOTES,{params:u})).then(n=>{const r=n&&n.headers&&n.headers["x-total-count"],i=(e.per_page||30)*(e.page||1)<r,d={data:n.data,pagination:{hasNextPage:i,currentPage:e.page||1},pollAnswerId:e.poll_answer_id};c(l(d,parseInt(t,10),a,s,o))}).catch(e=>{i.a.notifyBugsnag(e,"PollActionCreator.fetchPollVotes")});var u}},function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return g})),a.d(t,"f",(function(){return f})),a.d(t,"a",(function(){return b}));var n=a(9),r=a(0),s=a(1),i=a(549),o=a(14),l=a(174);const c=(e,t)=>t&&t.publisherId,d=(e,{match:{params:t},currentUserProfile:a})=>{let n;return n=Number.isNaN(Number(t.id))?e.getIn([s.a.PUBLISHERS,s.a.PUBLISHER_IDS_BY_USERNAME,t.id]):parseInt(t.id,10),!n&&o.a.isPublisher(l.a.getProfile(a))&&(n=o.a.getId(l.a.getProfile(a))),e.getIn([s.a.PUBLISHERS,s.a.PUBLISHERS_BY_ID,n])},u=e=>e.getIn([s.a.PUBLISHERS,s.a.PUBLISHER_MESSAGES_BY_ID]),h=e=>e.getIn([s.a.PUBLISHERS,s.a.PUBLISHER_CONNECTIONS_BY_PUBLISHER_ID]),p=e=>{const t=e.getIn([s.a.PUBLISHERS,s.a.PUBLISHER_VIDEOS]),a=e.getIn([s.a.PUBLISHERS,s.a.PUBLISHER_VIDEO_IDS]);if(!a)return null;let n=t.toJS(),i=a.toJS();return Object(r.fromJS)(i.map(e=>n[e]))},m=Object(n.createSelector)([e=>e.getIn([s.a.PUBLISHERS,s.a.PUBLISHERS_BY_ID]),c],(e,t)=>e?e.get(t):null),g=(Object(n.createSelector)([d,u],(e,t)=>{const a=e&&e.get(i.a.MESSAGE_IDS);return a?a.map(e=>t.get(e.toString())):null}),Object(n.createSelector)([u],e=>e),Object(n.createSelector)([d,h],(e,t)=>{if(!e)return null;const a=o.a.getId(e);return t.get(a)})),f=Object(n.createSelector)([h,c],(e,t)=>e?e.get(t):null),b=Object(n.createSelector)([(e,{match:{params:t}})=>t.id,e=>e.getIn([s.a.PUBLISHERS,s.a.INVALID_PUBLISHER_IDS])],(e,t)=>t.includes(e))},function(e,t,a){e.exports=a(823)},function(e,t,a){e.exports=a(1805).default},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){var t=e.scanner.TOKENS,a=e.parser.TOKENS.Base,n=e.parser.start;function r(e){this.v=e}e.inherits(a,r,{type:"hashtag",isLink:!0});var s=n.jump(t.POUND),i=new e.parser.State(r);s.on(t.DOMAIN,i),s.on(t.TLD,i),s.on(t.LOCALHOST,i)}},function(e,t,a){"use strict";var n=a(1807),r=a.n(n),s=a(4),i=a.n(s),o=a(133),l=a(7);t.a=e=>t=>{class a extends s.Component{constructor(e,t){super(e,t),this.state={fetchMore:!1,runInfiniteScroll:!1},this.handleScroll=this.handleScroll.bind(this),this.throttleHandleScroll=r()(this.handleScroll,250),this.runInfiniteScroll=this.runInfiniteScroll.bind(this),this.shouldNotFetchMoreYet=this.shouldNotFetchMoreYet.bind(this),this.isAtScrollThreshold=this.isAtScrollThreshold.bind(this)}componentDidMount(){this.mounted=!0,window.addEventListener("scroll",this.throttleHandleScroll)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("scroll",this.throttleHandleScroll),this.throttleHandleScroll.cancel()}isAtScrollThreshold(e=200){return window.innerHeight+window.pageYOffset>=document.body.scrollHeight-e}runInfiniteScroll(e=!0){this.setState({runInfiniteScroll:e})}handleScroll(){const t=this.isAtScrollThreshold(e&&e.infiniteScrollBottomThresholdOffset);this.mounted&&this.setState({fetchMore:t&&this.props.ajaxStatus!==l.a.LOADING&&!this.props.isEndOfStreamFetchReached})}shouldNotFetchMoreYet(){this.setState({fetchMore:!1})}render(){return i.a.createElement(t,Object.assign({},this.props,this.state,{runInfiniteScroll:this.runInfiniteScroll,shouldNotFetchMoreYet:this.shouldNotFetchMoreYet}))}}return Object(o.connect)((function(e,t){return{}}))(a)}},function(e,t,a){var n=a(515),r=a(228);e.exports=function(e,t,a){var s=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(a)&&(s="leading"in a?!!a.leading:s,i="trailing"in a?!!a.trailing:i),n(e,t,{leading:s,maxWait:t,trailing:i})}},,,,,,,,,function(e,t,a){"use strict";var n=a(1817),r=a(1818),s=a(1819),i=a(1824),o=a(1826),l=a(1827);e.exports=function e(){var t=[],a=i(),E={},y=!1,S=-1;return v.data=function(e,t){if(o(e))return 2===arguments.length?(g("data",y),E[e]=t,v):d.call(E,e)&&E[e]||null;if(e)return g("data",y),E=e,v;return E},v.freeze=C,v.attachers=t,v.use=function(e){var a;if(g("use",y),null===e||void 0===e);else if("function"===typeof e)o.apply(null,arguments);else{if("object"!==typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?i(e):r(e)}a&&(E.settings=n(E.settings||{},a));return v;function r(e){i(e.plugins),e.settings&&(a=n(a||{},e.settings))}function s(e){if("function"===typeof e)o(e);else{if("object"!==typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?o.apply(null,e):r(e)}}function i(e){var t,a;if(null===e||void 0===e);else{if("object"!==typeof e||!("length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(t=e.length,a=-1;++a<t;)s(e[a])}}function o(e,a){var r=A(e);r?(l(r[1])&&l(a)&&(a=n(r[1],a)),r[1]=a):t.push(c.call(arguments))}},v.parse=function(e){var t,a=s(e);if(C(),p("parse",t=v.Parser),h(t))return new t(String(a),a).parse();return t(String(a),a)},v.stringify=function(e,t){var a,n=s(t);if(C(),m("stringify",a=v.Compiler),f(e),h(a))return new a(e,n).compile();return a(e,n)},v.run=I,v.runSync=function(e,t){var a,n=!1;return I(e,t,(function(e,t){n=!0,r(e),a=t})),b("runSync","run",n),a},v.process=T,v.processSync=function(e){var t,a=!1;return C(),p("processSync",v.Parser),m("processSync",v.Compiler),T(t=s(e),(function(e){a=!0,r(e)})),b("processSync","process",a),t},v;function v(){for(var a=e(),r=t.length,s=-1;++s<r;)a.use.apply(null,t[s]);return a.data(n(!0,{},E)),a}function C(){var e,n,r,s;if(y)return v;for(;++S<t.length;)n=(e=t[S])[0],null,!1!==(r=e[1])&&(!0===r&&(e[1]=void 0),"function"===typeof(s=n.apply(v,e.slice(1)))&&a.use(s));return y=!0,S=1/0,v}function A(e){for(var a,n=t.length,r=-1;++r<n;)if((a=t[r])[0]===e)return a}function I(e,t,n){if(f(e),C(),n||"function"!==typeof t||(n=t,t=null),!n)return new Promise(r);function r(r,i){a.run(e,s(t),(function(t,a,s){a=a||e,t?i(t):r?r(a):n(null,a,s)}))}r(null,n)}function T(e,t){if(C(),p("process",v.Parser),m("process",v.Compiler),!t)return new Promise(a);function a(a,n){var r=s(e);u.run(v,{file:r},(function(e){e?n(e):a?a(r):t(null,r)}))}a(null,t)}}().freeze();var c=[].slice,d={}.hasOwnProperty,u=i().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,a){e.run(t.tree,t.file,(function(e,n,r){e?a(e):(t.tree=n,t.file=r,a())}))})).use((function(e,t){t.file.contents=e.stringify(t.tree,t.file)}));function h(e){return"function"===typeof e&&function(e){var t;for(t in e)return!0;return!1}(e.prototype)}function p(e,t){if("function"!==typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function m(e,t){if("function"!==typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function g(e,t){if(t)throw new Error(["Cannot invoke `"+e+"` on a frozen processor.\nCreate a new ","processor first, by invoking it: use `processor()` instead of ","`processor`."].join(""))}function f(e){if(!e||!o(e.type))throw new Error("Expected node, got `"+e+"`")}function b(e,t,a){if(!a)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},function(e,t,a){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},l=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,a=n.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!s)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},c=function(e,t){s&&"__proto__"===t.name?s(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},d=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,a,n,r,s,i,u=arguments[0],h=1,p=arguments.length,m=!1;for("boolean"===typeof u&&(m=u,u=arguments[1]||{},h=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});h<p;++h)if(null!=(t=arguments[h]))for(a in t)n=d(u,a),u!==(r=d(t,a))&&(m&&r&&(l(r)||(s=o(r)))?(s?(s=!1,i=n&&o(n)?n:[]):i=n&&l(n)?n:{},c(u,{name:a,newValue:e(m,i,r)})):"undefined"!==typeof r&&c(u,{name:a,newValue:r}));return u}},function(e,t,a){"use strict";e.exports=function(e){if(e)throw e}},function(e,t,a){"use strict";var n=a(1820),r=a(1822);e.exports=r;var s=r.prototype;function i(e,t,a){var r=this.path,s=new n(e,t,a);return r&&(s.name=r+":"+s.name,s.file=r),s.fatal=!1,this.messages.push(s),s}s.message=i,s.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},s.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e},s.warn=i},function(e,t,a){"use strict";var n=a(1821);function r(){}e.exports=i,r.prototype=Error.prototype,i.prototype=new r;var s=i.prototype;function i(e,t,a){var r,s,i;"string"===typeof t&&(a=t,t=null),r=function(e){var t,a=[null,null];"string"===typeof e&&(-1===(t=e.indexOf(":"))?a[1]=e:(a[0]=e.slice(0,t),a[1]=e.slice(t+1)));return a}(a),s=n(t)||"1:1",i={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(i=t,t=t.start):i.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=s,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=i,this.source=r[0],this.ruleId=r[1]}s.file="",s.name="",s.reason="",s.message="",s.stack="",s.fatal=null,s.column=null,s.line=null},function(e,t,a){"use strict";var n={}.hasOwnProperty;function r(e){return e&&"object"===typeof e||(e={}),i(e.line)+":"+i(e.column)}function s(e){return e&&"object"===typeof e||(e={}),r(e.start)+"-"+r(e.end)}function i(e){return e&&"number"===typeof e?e:1}e.exports=function(e){if(!e||"object"!==typeof e)return null;if(n.call(e,"position")||n.call(e,"type"))return s(e.position);if(n.call(e,"start")||n.call(e,"end"))return s(e);if(n.call(e,"line")||n.call(e,"column"))return r(e);return null}},function(e,t,a){"use strict";(function(t){var n=a(1328),r=a(1823),s=a(824);e.exports=c;var i={}.hasOwnProperty,o=c.prototype;o.toString=function(e){var t=this.contents||"";return s(t)?t.toString(e):String(t)};var l=["history","path","basename","stem","extname","dirname"];function c(e){var a,n,r;if(e){if("string"===typeof e||s(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof c))return new c(e);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),n=-1,r=l.length;++n<r;)a=l[n],i.call(e,a)&&(this[a]=e[a]);for(a in e)-1===l.indexOf(a)&&(this[a]=e[a])}function d(e,t){if(-1!==e.indexOf(n.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+n.sep+"`")}function u(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function h(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}Object.defineProperty(o,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){u(e,"path"),e!==this.path&&this.history.push(e)}}),Object.defineProperty(o,"dirname",{get:function(){return"string"===typeof this.path?n.dirname(this.path):void 0},set:function(e){h(this.path,"dirname"),this.path=n.join(e||"",this.basename)}}),Object.defineProperty(o,"basename",{get:function(){return"string"===typeof this.path?n.basename(this.path):void 0},set:function(e){u(e,"basename"),d(e,"basename"),this.path=n.join(this.dirname||"",e)}}),Object.defineProperty(o,"extname",{get:function(){return"string"===typeof this.path?n.extname(this.path):void 0},set:function(e){var t=e||"";if(d(t,"extname"),h(this.path,"extname"),t){if("."!==t.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==t.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=r(this.path,t)}}),Object.defineProperty(o,"stem",{get:function(){return"string"===typeof this.path?n.basename(this.path,this.extname):void 0},set:function(e){u(e,"stem"),d(e,"stem"),this.path=n.join(this.dirname||"",e+(this.extname||""))}})}).call(this,a(437))},function(e,t,a){"use strict";var n=a(1328);e.exports=function(e,t){if("string"!==typeof e)return e;if(0===e.length)return e;var a=n.basename(e,n.extname(e))+t;return n.join(n.dirname(e),a)}},function(e,t,a){"use strict";var n=a(1825);e.exports=s,s.wrap=n;var r=[].slice;function s(){var e=[],t={run:function(){var t=-1,a=r.call(arguments,0,-1),s=arguments[arguments.length-1];if("function"!==typeof s)throw new Error("Expected function as last argument, not "+s);function i(o){var l=e[++t],c=r.call(arguments,0),d=c.slice(1),u=a.length,h=-1;if(o)s(o);else{for(;++h<u;)null!==d[h]&&void 0!==d[h]||(d[h]=a[h]);a=d,l?n(l,i).apply(null,a):s.apply(null,[null].concat(a))}}i.apply(null,[null].concat(a))},use:function(a){if("function"!==typeof a)throw new Error("Expected `fn` to be a function, not "+a);return e.push(a),t}};return t}},function(e,t,a){"use strict";var n=[].slice;e.exports=function(e,t){var a;return function(){var t,i=n.call(arguments,0),o=e.length>i.length;o&&i.push(r);try{t=e.apply(null,i)}catch(l){if(o&&a)throw l;return r(l)}o||(t&&"function"===typeof t.then?t.then(s,r):t instanceof Error?r(t):s(t))};function r(){a||(a=!0,t.apply(null,arguments))}function s(e){r(null,e)}}},function(e,t){var a=Object.prototype.toString;e.exports=function(e){return"[object String]"===a.call(e)}},function(e,t,a){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===n.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},function(e,t,a){"use strict";var n=a(1829),r=a(1287),s=a(1831);function i(e){var t=n(s);t.prototype.options=r(t.prototype.options,this.data("settings"),e),this.Parser=t}e.exports=i,i.Parser=s},function(e,t,a){"use strict";var n=a(1287),r=a(1830);e.exports=function(e){var t,a,s;for(a in r(o,e),r(i,o),t=o.prototype)(s=t[a])&&"object"===typeof s&&(t[a]="concat"in s?s.concat():n(s));return o;function i(t){return e.apply(this,t)}function o(){return this instanceof o?e.apply(this,arguments):new i(arguments)}}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}}},function(e,t,a){"use strict";var n=a(1287),r=a(1832),s=a(1833),i=a(1834),o=a(1835),l=a(1841);function c(e,t){this.file=t,this.offset={},this.options=n(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=s(t).toOffset,this.unescape=i(this,"escape"),this.decode=o(this)}e.exports=c;var d=c.prototype;function u(e){var t,a=[];for(t in e)a.push(t);return a}d.setOptions=a(1842),d.parse=a(1845),d.options=a(1753),d.exitStart=r("atStart",!0),d.enterList=r("inList",!1),d.enterLink=r("inLink",!1),d.enterBlock=r("inBlock",!1),d.interruptParagraph=[["thematicBreak"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],d.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],d.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],d.blockTokenizers={newline:a(1849),indentedCode:a(1850),fencedCode:a(1851),blockquote:a(1852),atxHeading:a(1853),thematicBreak:a(1854),list:a(1855),setextHeading:a(1857),html:a(1858),footnote:a(1859),definition:a(1861),table:a(1862),paragraph:a(1863)},d.inlineTokenizers={escape:a(1864),autoLink:a(1866),url:a(1867),html:a(1869),link:a(1870),reference:a(1871),strong:a(1872),emphasis:a(1874),deletion:a(1877),code:a(1879),break:a(1881),text:a(1883)},d.blockMethods=u(d.blockTokenizers),d.inlineMethods=u(d.inlineTokenizers),d.tokenizeBlock=l("block"),d.tokenizeInline=l("inline"),d.tokenizeFactory=l},function(e,t,a){"use strict";e.exports=function(e,t,a){return function(){var n=a||this,r=n[e];return n[e]=!t,function(){n[e]=r}}}},function(e,t,a){"use strict";function n(e){return function(t){var a=-1,n=e.length;if(t<0)return{};for(;++a<n;)if(e[a]>t)return{line:a+1,column:t-(e[a-1]||0)+1,offset:t};return{}}}function r(e){return function(t){var a=t&&t.line,n=t&&t.column;if(!isNaN(a)&&!isNaN(n)&&a-1 in e)return(e[a-2]||0)+n-1||0;return-1}}e.exports=function(e){var t=function(e){var t=[],a=e.indexOf("\n");for(;-1!==a;)t.push(a+1),a=e.indexOf("\n",a+1);return t.push(e.length+1),t}(String(e));return{toPosition:n(t),toOffset:r(t)}}},function(e,t,a){"use strict";e.exports=function(e,t){return function(a){var n,r=0,s=a.indexOf("\\"),i=e[t],o=[];for(;-1!==s;)o.push(a.slice(r,s)),r=s+1,(n=a.charAt(r))&&-1!==i.indexOf(n)||o.push("\\"),s=a.indexOf("\\",r);return o.push(a.slice(r)),o.join("")}}},function(e,t,a){"use strict";var n=a(1287),r=a(1685);e.exports=function(e){return s.raw=function(e,s,i){return r(e,n(i,{position:t(s),warning:a}))},s;function t(t){for(var a=e.offset,n=t.line,r=[];++n&&n in a;)r.push((a[n]||0)+1);return{start:t,indent:r}}function a(t,a,n){3!==n&&e.file.message(t,a)}function s(n,s,i){r(n,{position:t(s),warning:a,text:i,reference:i,textContext:e,referenceContext:e})}}},function(e){e.exports=JSON.parse('{"AElig":"\xc6","AMP":"&","Aacute":"\xc1","Acirc":"\xc2","Agrave":"\xc0","Aring":"\xc5","Atilde":"\xc3","Auml":"\xc4","COPY":"\xa9","Ccedil":"\xc7","ETH":"\xd0","Eacute":"\xc9","Ecirc":"\xca","Egrave":"\xc8","Euml":"\xcb","GT":">","Iacute":"\xcd","Icirc":"\xce","Igrave":"\xcc","Iuml":"\xcf","LT":"<","Ntilde":"\xd1","Oacute":"\xd3","Ocirc":"\xd4","Ograve":"\xd2","Oslash":"\xd8","Otilde":"\xd5","Ouml":"\xd6","QUOT":"\\"","REG":"\xae","THORN":"\xde","Uacute":"\xda","Ucirc":"\xdb","Ugrave":"\xd9","Uuml":"\xdc","Yacute":"\xdd","aacute":"\xe1","acirc":"\xe2","acute":"\xb4","aelig":"\xe6","agrave":"\xe0","amp":"&","aring":"\xe5","atilde":"\xe3","auml":"\xe4","brvbar":"\xa6","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","eacute":"\xe9","ecirc":"\xea","egrave":"\xe8","eth":"\xf0","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","iacute":"\xed","icirc":"\xee","iexcl":"\xa1","igrave":"\xec","iquest":"\xbf","iuml":"\xef","laquo":"\xab","lt":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","ntilde":"\xf1","oacute":"\xf3","ocirc":"\xf4","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","oslash":"\xf8","otilde":"\xf5","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","raquo":"\xbb","reg":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","thorn":"\xfe","times":"\xd7","uacute":"\xfa","ucirc":"\xfb","ugrave":"\xf9","uml":"\xa8","uuml":"\xfc","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},function(e){e.exports=JSON.parse('{"0":"\ufffd","128":"\u20ac","130":"\u201a","131":"\u0192","132":"\u201e","133":"\u2026","134":"\u2020","135":"\u2021","136":"\u02c6","137":"\u2030","138":"\u0160","139":"\u2039","140":"\u0152","142":"\u017d","145":"\u2018","146":"\u2019","147":"\u201c","148":"\u201d","149":"\u2022","150":"\u2013","151":"\u2014","152":"\u02dc","153":"\u2122","154":"\u0161","155":"\u203a","156":"\u0153","158":"\u017e","159":"\u0178"}')},function(e,t,a){"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},function(e,t,a){"use strict";var n=a(1752),r=a(1621);e.exports=function(e){return n(e)||r(e)}},function(e,t,a){"use strict";var n;e.exports=function(e){var t,a="&"+e+";";if((n=n||document.createElement("i")).innerHTML=a,59===(t=n.textContent).charCodeAt(t.length-1)&&"semi"!==e)return!1;return t!==a&&t}},function(e,t,a){"use strict";e.exports=function(e){return function(t,a){var s,i,o,l,c,d,u=this,h=u.offset,p=[],m=u[e+"Methods"],g=u[e+"Tokenizers"],f=a.line,b=a.column;if(!t)return p;v.now=y,v.file=u.file,E("");for(;t;){for(s=-1,i=m.length,c=!1;++s<i&&(l=m[s],!(o=g[l])||o.onlyAtStart&&!u.atStart||o.notInList&&u.inList||o.notInBlock&&u.inBlock||o.notInLink&&u.inLink||(d=t.length,o.apply(u,[v,t]),!(c=d!==t.length))););c||u.file.fail(new Error("Infinite loop"),v.now())}return u.eof=y(),p;function E(e){for(var t=-1,a=e.indexOf("\n");-1!==a;)f++,t=a,a=e.indexOf("\n",a+1);-1===t?b+=e.length:b=e.length-t,f in h&&(-1!==t?b+=h[f]:b<=h[f]&&(b=h[f]+1))}function y(){var e={line:f,column:b};return e.offset=u.toOffset(e),e}function S(e){this.start=e,this.end=y()}function v(e){var a=function(){var e=[],t=f+1;return function(){for(var a=f+1;t<a;)e.push((h[t]||0)+1),t++;return e}}(),s=function(){var e=y();return function(t,a){var n=t.position,r=n?n.start:e,s=[],i=n&&n.end.line,o=e.line;if(t.position=new S(r),n&&a&&n.indent){if(s=n.indent,i<o){for(;++i<o;)s.push((h[i]||0)+1);s.push(e.column)}a=s.concat(a)}return t.position.indent=a||[],t}}(),i=y();return function(e){t.substring(0,e.length)!==e&&u.file.fail(new Error("Incorrectly eaten value: please report this warning on http://git.io/vg5Ft"),y())}(e),o.reset=l,l.test=c,o.test=c,t=t.substring(e.length),E(e),a=a(),o;function o(e,t){return s(function(e,t){var a=t?t.children:p,s=a[a.length-1];return s&&e.type===s.type&&e.type in n&&r(s)&&r(e)&&(e=n[e.type].call(u,s,e)),e!==s&&a.push(e),u.atStart&&0!==p.length&&u.exitStart(),e}(s(e),t),a)}function l(){var a=o.apply(null,arguments);return f=i.line,b=i.column,t=e+t,a}function c(){var a=s({});return f=i.line,b=i.column,t=e+t,a.position}}}};var n={text:function(e,t){return e.value+=t.value,e},blockquote:function(e,t){if(this.options.commonmark)return t;return e.children=e.children.concat(t.children),e}};function r(e){var t,a;return"text"!==e.type||!e.position||(t=e.position.start,a=e.position.end,t.line!==a.line||a.column-t.column===e.value.length)}},function(e,t,a){"use strict";var n=a(1287),r=a(1843),s=a(1753);e.exports=function(e){var t,a,i=this.options;if(null==e)e={};else{if("object"!==typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=n(e)}for(t in s){if(null==(a=e[t])&&(a=i[t]),"blocks"!==t&&"boolean"!==typeof a||"blocks"===t&&"object"!==typeof a)throw new Error("Invalid value `"+a+"` for setting `options."+t+"`");e[t]=a}return this.options=e,this.escape=r(e),this}},function(e,t,a){"use strict";e.exports=i;var n=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],r=n.concat(["~","|"]),s=r.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function i(e){var t=e||{};return t.commonmark?s:t.gfm?r:n}i.default=n,i.gfm=r,i.commonmark=s},function(e){e.exports=JSON.parse('["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]')},function(e,t,a){"use strict";var n=a(1287),r=a(1846);e.exports=function(){var e,t=String(this.file),a={line:1,column:1,offset:0},i=n(a);65279===(t=t.replace(s,"\n")).charCodeAt(0)&&(t=t.slice(1),i.column++,i.offset++);e={type:"root",children:this.tokenizeBlock(t,i),position:{start:a,end:this.eof||n(a)}},this.options.position||r(e,!0);return e};var s=/\r\n|\r/g},function(e,t,a){"use strict";var n=a(1622);function r(e){delete e.position}function s(e){e.position=void 0}e.exports=function(e,t){return n(e,t?r:s),e}},function(e,t,a){"use strict";e.exports=r;var n=a(1848);function r(e,t,a,r){var i;function o(e,n,l){var c,d=[];return(t&&!i(e,n,l[l.length-1]||null)||!1!==(d=s(a(e,l)))[0])&&e.children&&"skip"!==d[0]&&!1===(c=s(function(e,t){var a,n=r?-1:1,s=(r?e.length:-1)+n;for(;s>-1&&s<e.length;){if(!1===(a=o(e[s],s,t))[0])return a;s="number"===typeof a[1]?a[1]:s+n}}(e.children,l.concat(e))))[0]?c:d}"function"===typeof t&&"function"!==typeof a&&(r=a,a=t,t=null),i=n(t),o(e,null,[])}function s(e){return null!==e&&"object"===typeof e&&"length"in e?e:"number"===typeof e?[!0,e]:[e]}r.CONTINUE=!0,r.SKIP="skip",r.EXIT=!1},function(e,t,a){"use strict";function n(e){if("string"===typeof e)return function(e){return function(t){return Boolean(t&&t.type===e)}}(e);if(null===e||void 0===e)return i;if("object"===typeof e)return("length"in e?s:r)(e);if("function"===typeof e)return e;throw new Error("Expected function, string, or object as test")}function r(e){return function(t){var a;for(a in e)if(t[a]!==e[a])return!1;return!0}}function s(e){var t=function(e){for(var t=[],a=e.length,r=-1;++r<a;)t[r]=n(e[r]);return t}(e),a=t.length;return function(){var e=-1;for(;++e<a;)if(t[e].apply(this,arguments))return!0;return!1}}function i(){return!0}e.exports=n},function(e,t,a){"use strict";var n=a(1251);e.exports=function(e,t,a){var r,s,i,o,l=t.charAt(0);if("\n"!==l)return;if(a)return!0;o=1,r=t.length,s=l,i="";for(;o<r&&(l=t.charAt(o),n(l));)i+=l,"\n"===l&&(s+=i,i=""),o++;e(s)}},function(e,t,a){"use strict";var n=a(1686),r=a(1687);e.exports=function(e,t,a){var n,i,o,l=-1,c=t.length,d="",u="",h="",p="";for(;++l<c;)if(n=t.charAt(l),o)if(o=!1,d+=h,u+=p,h="",p="","\n"===n)h=n,p=n;else for(d+=n,u+=n;++l<c;){if(!(n=t.charAt(l))||"\n"===n){p=n,h=n;break}d+=n,u+=n}else if(" "===n&&t.charAt(l+1)===n&&t.charAt(l+2)===n&&t.charAt(l+3)===n)h+=s,l+=3,o=!0;else if("\t"===n)h+=n,o=!0;else{for(i="";"\t"===n||" "===n;)i+=n,n=t.charAt(++l);if("\n"!==n)break;h+=i+n,p+=n}if(u)return!!a||e(d)({type:"code",lang:null,value:r(u)})};var s=n(" ",4)},function(e,t,a){"use strict";var n=a(1687);e.exports=function(e,t,a){var r,s,i,o,l,c,d,u,h,p,m,g=this.options,f=t.length+1,b=0,E="";if(!g.gfm)return;for(;b<f&&(" "===(i=t.charAt(b))||"\t"===i);)E+=i,b++;if(p=b,"~"!==(i=t.charAt(b))&&"`"!==i)return;b++,s=i,r=1,E+=i;for(;b<f&&(i=t.charAt(b))===s;)E+=i,r++,b++;if(r<3)return;for(;b<f&&(" "===(i=t.charAt(b))||"\t"===i);)E+=i,b++;o="",l="";for(;b<f&&"\n"!==(i=t.charAt(b))&&"~"!==i&&"`"!==i;)" "===i||"\t"===i?l+=i:(o+=l+i,l=""),b++;if((i=t.charAt(b))&&"\n"!==i)return;if(a)return!0;(m=e.now()).column+=E.length,m.offset+=E.length,E+=o,o=this.decode.raw(this.unescape(o),m),l&&(E+=l);l="",u="",h="",c="",d="";for(;b<f;)if(i=t.charAt(b),c+=u,d+=h,u="",h="","\n"===i){for(c?(u+=i,h+=i):E+=i,l="",b++;b<f&&" "===(i=t.charAt(b));)l+=i,b++;if(u+=l,h+=l.slice(p),!(l.length>=4)){for(l="";b<f&&(i=t.charAt(b))===s;)l+=i,b++;if(u+=l,h+=l,!(l.length<r)){for(l="";b<f&&(" "===(i=t.charAt(b))||"\t"===i);)u+=i,h+=i,b++;if(!i||"\n"===i)break}}}else c+=i,h+=i,b++;return e(E+=c+u)({type:"code",lang:o||null,value:n(d)})}},function(e,t,a){"use strict";var n=a(1457),r=a(1688);e.exports=function(e,t,a){var s,i,o,l,c,d,u,h,p,m=this.offset,g=this.blockTokenizers,f=this.interruptBlockquote,b=e.now(),E=b.line,y=t.length,S=[],v=[],C=[],A=0;for(;A<y&&(" "===(i=t.charAt(A))||"\t"===i);)A++;if(">"!==t.charAt(A))return;if(a)return!0;A=0;for(;A<y;){for(l=t.indexOf("\n",A),u=A,h=!1,-1===l&&(l=y);A<y&&(" "===(i=t.charAt(A))||"\t"===i);)A++;if(">"===t.charAt(A)?(A++,h=!0," "===t.charAt(A)&&A++):A=u,c=t.slice(A,l),!h&&!n(c)){A=u;break}if(!h&&(o=t.slice(A),r(f,g,this,[e,o,!0])))break;d=u===A?c:t.slice(u,l),C.push(A-u),S.push(d),v.push(c),A=l+1}A=-1,y=C.length,s=e(S.join("\n"));for(;++A<y;)m[E]=(m[E]||0)+C[A],E++;return p=this.enterBlock(),v=this.tokenizeBlock(v.join("\n"),b),p(),s({type:"blockquote",children:v})}},function(e,t,a){"use strict";e.exports=function(e,t,a){var n,r,s,i=this.options,o=t.length+1,l=-1,c=e.now(),d="",u="";for(;++l<o;){if(" "!==(n=t.charAt(l))&&"\t"!==n){l--;break}d+=n}s=0;for(;++l<=o;){if("#"!==(n=t.charAt(l))){l--;break}d+=n,s++}if(s>6)return;if(!s||!i.pedantic&&"#"===t.charAt(l+1))return;o=t.length+1,r="";for(;++l<o;){if(" "!==(n=t.charAt(l))&&"\t"!==n){l--;break}r+=n}if(!i.pedantic&&0===r.length&&n&&"\n"!==n)return;if(a)return!0;d+=r,r="",u="";for(;++l<o&&(n=t.charAt(l))&&"\n"!==n;)if(" "===n||"\t"===n||"#"===n){for(;" "===n||"\t"===n;)r+=n,n=t.charAt(++l);for(;"#"===n;)r+=n,n=t.charAt(++l);for(;" "===n||"\t"===n;)r+=n,n=t.charAt(++l);l--}else u+=r+n,r="";return c.column+=d.length,c.offset+=d.length,e(d+=u+r)({type:"heading",depth:s,children:this.tokenizeInline(u,c)})}},function(e,t,a){"use strict";e.exports=function(e,t,a){var n,r,s,i,o=-1,l=t.length+1,c="";for(;++o<l&&("\t"===(n=t.charAt(o))||" "===n);)c+=n;if("*"!==n&&"-"!==n&&"_"!==n)return;r=n,c+=n,s=1,i="";for(;++o<l;)if((n=t.charAt(o))===r)s++,c+=i+r,i="";else{if(" "!==n)return s>=3&&(!n||"\n"===n)?(c+=i,!!a||e(c)({type:"thematicBreak"})):void 0;i+=n}}},function(e,t,a){"use strict";var n=a(1457),r=a(1686),s=a(1621),i=a(1754),o=a(1856),l=a(1688);e.exports=function(e,t,a){var r,i,o,c,d,u,h,p,E,y,S,v,C,A,I,T,k,O,_,M,N,w,P,R,x=this.options.commonmark,L=this.options.pedantic,D=this.blockTokenizers,F=this.interruptList,U=0,B=t.length,G=null,j=0;for(;U<B;){if("\t"===(c=t.charAt(U)))j+=4-j%4;else{if(" "!==c)break;j++}U++}if(j>=4)return;if(c=t.charAt(U),r=x?f:g,!0===m[c])d=c,o=!1;else{for(o=!0,i="";U<B&&(c=t.charAt(U),s(c));)i+=c,U++;if(c=t.charAt(U),!i||!0!==r[c])return;G=parseInt(i,10),d=c}if(" "!==(c=t.charAt(++U))&&"\t"!==c)return;if(a)return!0;U=0,A=[],I=[],T=[];for(;U<B;){for(u=t.indexOf("\n",U),h=U,p=!1,R=!1,-1===u&&(u=B),P=U+4,j=0;U<B;){if("\t"===(c=t.charAt(U)))j+=4-j%4;else{if(" "!==c)break;j++}U++}if(j>=4&&(R=!0),k&&j>=k.indent&&(R=!0),c=t.charAt(U),E=null,!R){if(!0===m[c])E=c,U++,j++;else{for(i="";U<B&&(c=t.charAt(U),s(c));)i+=c,U++;c=t.charAt(U),U++,i&&!0===r[c]&&(E=c,j+=i.length+1)}if(E)if("\t"===(c=t.charAt(U)))j+=4-j%4,U++;else if(" "===c){for(P=U+4;U<P&&" "===t.charAt(U);)U++,j++;U===P&&" "===t.charAt(U)&&(U-=3,j-=3)}else"\n"!==c&&""!==c&&(E=null)}if(E){if(!L&&d!==E)break;p=!0}else x||R||" "!==t.charAt(h)?x&&k&&(R=j>=k.indent||j>4):R=!0,p=!1,U=h;if(S=t.slice(h,u),y=h===U?S:t.slice(U,u),("*"===E||"_"===E||"-"===E)&&D.thematicBreak.call(this,e,S,!0))break;if(v=C,C=!n(y).length,R&&k)k.value=k.value.concat(T,S),I=I.concat(T,S),T=[];else if(p)0!==T.length&&(k.value.push(""),k.trail=T.concat()),k={value:[S],indent:j,trail:[]},A.push(k),I=I.concat(T,S),T=[];else if(C){if(v)break;T.push(S)}else{if(v)break;if(l(F,D,this,[e,S,!0]))break;k.value=k.value.concat(T,S),I=I.concat(T,S),T=[]}U=u+1}N=e(I.join("\n")).reset({type:"list",ordered:o,start:G,loose:null,children:[]}),O=this.enterList(),_=this.enterBlock(),M=!1,U=-1,B=A.length;for(;++U<B;)k=A[U].value.join("\n"),w=e.now(),(k=e(k)(b(this,k,w),N)).loose&&(M=!0),k=A[U].trail.join("\n"),U!==B-1&&(k+="\n"),e(k);return O(),_(),N.loose=M,N};var c=/\n\n(?!\s*$)/,d=/^\[([ \t]|x|X)][ \t]/,u=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,h=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,p=/^( {1,4}|\t)?/gm,m={"*":!0,"+":!0,"-":!0},g={".":!0},f={};function b(e,t,a){var n,r,s=e.offset,i=e.options.pedantic?E:y,o=null;return t=i.apply(null,arguments),e.options.gfm&&(n=t.match(d))&&(r=n[0].length,o="x"===n[1].toLowerCase(),s[a.line]+=r,t=t.slice(r)),{type:"listItem",loose:c.test(t)||"\n"===t.charAt(t.length-1),checked:o,children:e.tokenizeBlock(t,a)}}function E(e,t,a){var n=e.offset,r=a.line;return t=t.replace(h,s),r=a.line,t.replace(p,s);function s(e){return n[r]=(n[r]||0)+e.length,r++,""}}function y(e,t,a){var n,s,l,c,d,h,p,m=e.offset,g=a.line;for(c=(t=t.replace(u,(function(e,t,a,i,o){s=t+a+i,l=o,Number(a)<10&&s.length%2===1&&(a=" "+a);return(n=t+r(" ",a.length)+i)+l}))).split("\n"),(d=o(t,i(n).indent).split("\n"))[0]=l,m[g]=(m[g]||0)+s.length,g++,h=0,p=c.length;++h<p;)m[g]=(m[g]||0)+c[h].length-d[h].length,g++;return d.join("\n")}f["."]=!0,f[")"]=!0},function(e,t,a){"use strict";var n=a(1457),r=a(1686),s=a(1754);e.exports=function(e,t){var a,i,o,l,c=e.split("\n"),d=c.length+1,u=1/0,h=[];c.unshift(r(" ",t)+"!");for(;d--;)if(i=s(c[d]),h[d]=i.stops,0!==n(c[d]).length){if(!i.indent){u=1/0;break}i.indent>0&&i.indent<u&&(u=i.indent)}if(u!==1/0)for(d=c.length;d--;){for(o=h[d],a=u;a&&!(a in o);)a--;l=0!==n(c[d]).length&&u&&a!==u?"\t":"",c[d]=l+c[d].slice(a in o?o[a]+1:0)}return c.shift(),c.join("\n")}},function(e,t,a){"use strict";e.exports=function(e,t,a){var r,s,i,o,l,c=e.now(),d=t.length,u=-1,h="";for(;++u<d;){if(" "!==(i=t.charAt(u))||u>=3){u--;break}h+=i}r="",s="";for(;++u<d;){if("\n"===(i=t.charAt(u))){u--;break}" "===i||"\t"===i?s+=i:(r+=s+i,s="")}if(c.column+=h.length,c.offset+=h.length,h+=r+s,i=t.charAt(++u),o=t.charAt(++u),"\n"!==i||!n[o])return;h+=i,s=o,l=n[o];for(;++u<d;){if((i=t.charAt(u))!==o){if("\n"!==i)return;u--;break}s+=i}if(a)return!0;return e(h+s)({type:"heading",depth:l,children:this.tokenizeInline(r,c)})};var n={};n["="]=1,n["-"]=2},function(e,t,a){"use strict";var n=a(1755).openCloseTag;e.exports=function(e,t,a){var r,s,i,o,l,c,d,u=this.options.blocks,h=t.length,p=0,m=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Za-z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+u.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(n.source+"\\s*$"),/^$/,!1]];for(;p<h&&("\t"===(o=t.charAt(p))||" "===o);)p++;if("<"!==t.charAt(p))return;r=-1===(r=t.indexOf("\n",p+1))?h:r,s=t.slice(p,r),i=-1,l=m.length;for(;++i<l;)if(m[i][0].test(s)){c=m[i];break}if(!c)return;if(a)return c[2];if(p=r,!c[1].test(s))for(;p<h;){if(r=-1===(r=t.indexOf("\n",p+1))?h:r,s=t.slice(p+1,r),c[1].test(s)){s&&(p=r);break}p=r}return d=t.slice(0,p),e(d)({type:"html",value:d})}},function(e,t,a){"use strict";var n=a(1251),r=a(1689);e.exports=i,i.notInList=!0,i.notInBlock=!0;var s=/^( {4}|\t)?/gm;function i(e,t,a){var i,o,l,c,d,u,h,p,m,g,f,b,E=this.offset;if(this.options.footnotes){for(i=0,o=t.length,l="",c=e.now(),d=c.line;i<o&&(m=t.charAt(i),n(m));)l+=m,i++;if("["===t.charAt(i)&&"^"===t.charAt(i+1)){for(i=(l+="[^").length,h="";i<o&&"]"!==(m=t.charAt(i));)"\\"===m&&(h+=m,i++,m=t.charAt(i)),h+=m,i++;if(h&&"]"===t.charAt(i)&&":"===t.charAt(i+1)){if(a)return!0;for(g=r(h),i=(l+=h+"]:").length;i<o&&("\t"===(m=t.charAt(i))||" "===m);)l+=m,i++;for(c.column+=l.length,c.offset+=l.length,h="",u="",p="";i<o;){if("\n"===(m=t.charAt(i))){for(p=m,i++;i<o&&"\n"===(m=t.charAt(i));)p+=m,i++;for(h+=p,p="";i<o&&" "===(m=t.charAt(i));)p+=m,i++;if(0===p.length)break;h+=p}h&&(u+=h,h=""),u+=m,i++}return l+=u,u=u.replace(s,(function(e){return E[d]=(E[d]||0)+e.length,d++,""})),f=e(l),b=this.enterBlock(),u=this.tokenizeBlock(u,c),b(),f({type:"footnoteDefinition",identifier:g,children:u})}}}}},function(e,t,a){"use strict";e.exports=function(e){return String(e).replace(/\s+/g," ")}},function(e,t,a){"use strict";var n=a(1251),r=a(1689);e.exports=s,s.notInList=!0,s.notInBlock=!0;function s(e,t,a){for(var n,s,l,c,d,u,h,p,m=this.options.commonmark,g=0,f=t.length,b="";g<f&&(" "===(c=t.charAt(g))||"\t"===c);)b+=c,g++;if("["===(c=t.charAt(g))){for(g++,b+=c,l="";g<f&&"]"!==(c=t.charAt(g));)"\\"===c&&(l+=c,g++,c=t.charAt(g)),l+=c,g++;if(l&&"]"===t.charAt(g)&&":"===t.charAt(g+1)){for(u=l,g=(b+=l+"]:").length,l="";g<f&&("\t"===(c=t.charAt(g))||" "===c||"\n"===c);)b+=c,g++;if(l="",n=b,"<"===(c=t.charAt(g))){for(g++;g<f&&i(c=t.charAt(g));)l+=c,g++;if((c=t.charAt(g))===i.delimiter)b+="<"+l+c,g++;else{if(m)return;g-=l.length+1,l=""}}if(!l){for(;g<f&&o(c=t.charAt(g));)l+=c,g++;b+=l}if(l){for(h=l,l="";g<f&&("\t"===(c=t.charAt(g))||" "===c||"\n"===c);)l+=c,g++;if(d=null,'"'===(c=t.charAt(g))?d='"':"'"===c?d="'":"("===c&&(d=")"),d){if(!l)return;for(g=(b+=l+c).length,l="";g<f&&(c=t.charAt(g))!==d;){if("\n"===c){if(g++,"\n"===(c=t.charAt(g))||c===d)return;l+="\n"}l+=c,g++}if((c=t.charAt(g))!==d)return;s=b,b+=l+c,g++,p=l,l=""}else l="",g=b.length;for(;g<f&&("\t"===(c=t.charAt(g))||" "===c);)b+=c,g++;return(c=t.charAt(g))&&"\n"!==c?void 0:!!a||(n=e(n).test().end,h=this.decode.raw(this.unescape(h),n,{nonTerminated:!1}),p&&(s=e(s).test().end,p=this.decode.raw(this.unescape(p),s)),e(b)({type:"definition",identifier:r(u),title:p||null,url:h}))}}}}function i(e){return">"!==e&&"["!==e&&"]"!==e}function o(e){return"["!==e&&"]"!==e&&!n(e)}i.delimiter=">"},function(e,t,a){"use strict";var n=a(1251);e.exports=function(e,t,a){var r,s,i,o,l,c,d,u,h,p,m,g,f,b,E,y,S,v,C,A,I,T,k,O;if(!this.options.gfm)return;r=0,v=0,c=t.length+1,d=[];for(;r<c;){if(T=t.indexOf("\n",r),k=t.indexOf("|",r+1),-1===T&&(T=t.length),-1===k||k>T){if(v<2)return;break}d.push(t.slice(r,T)),v++,r=T+1}o=d.join("\n"),s=d.splice(1,1)[0]||[],r=0,c=s.length,v--,i=!1,m=[];for(;r<c;){if("|"===(h=s.charAt(r))){if(p=null,!1===i){if(!1===O)return}else m.push(i),i=!1;O=!1}else if("-"===h)p=!0,i=i||null;else if(":"===h)i="left"===i?"center":p&&null===i?"right":"left";else if(!n(h))return;r++}!1!==i&&m.push(i);if(m.length<1)return;if(a)return!0;S=-1,A=[],I=e(o).reset({type:"table",align:m,children:A});for(;++S<v;){for(C=d[S],l={type:"tableRow",children:[]},S&&e("\n"),e(C).reset(l,I),c=C.length+1,r=0,u="",g="",f=!0,b=null,E=null;r<c;)if("\t"!==(h=C.charAt(r))&&" "!==h){if(""===h||"|"===h)if(f)e(h);else{if(h&&E){u+=h,r++;continue}!g&&!h||f||(o=g,u.length>1&&(h?(o+=u.slice(0,u.length-1),u=u.charAt(u.length-1)):(o+=u,u="")),y=e.now(),e(o)({type:"tableCell",children:this.tokenizeInline(g,y)},l)),e(u+h),u="",g=""}else if(u&&(g+=u,u=""),g+=h,"\\"===h&&r!==c-2&&(g+=C.charAt(r+1),r++),"`"===h){for(b=1;C.charAt(r+1)===h;)g+=h,r++,b++;E?b>=E&&(E=0):E=b}f=!1,r++}else g?u+=h:e(h),r++;S||e("\n"+s)}return I}},function(e,t,a){"use strict";var n=a(1457),r=a(1621),s=a(1687),i=a(1688);e.exports=function(e,t,a){var o,l,c,d,u,h=this.options,p=h.commonmark,m=h.gfm,g=this.blockTokenizers,f=this.interruptParagraph,b=t.indexOf("\n"),E=t.length;for(;b<E;){if(-1===b){b=E;break}if("\n"===t.charAt(b+1))break;if(p){for(d=0,o=b+1;o<E;){if("\t"===(c=t.charAt(o))){d=4;break}if(" "!==c)break;d++,o++}if(d>=4){b=t.indexOf("\n",b+1);continue}}if(l=t.slice(b+1),i(f,g,this,[e,l,!0]))break;if(g.list.call(this,e,l,!0)&&(this.inList||p||m&&!r(n.left(l).charAt(0))))break;if(o=b,-1!==(b=t.indexOf("\n",b+1))&&""===n(t.slice(o,b))){b=o;break}}if(l=t.slice(0,b),""===n(l))return e(l),null;if(a)return!0;return u=e.now(),l=s(l),e(l)({type:"paragraph",children:this.tokenizeInline(l,u)})}},function(e,t,a){"use strict";var n=a(1865);function r(e,t,a){var n,r;if("\\"===t.charAt(0)&&(n=t.charAt(1),-1!==this.escape.indexOf(n)))return!!a||(r="\n"===n?{type:"break"}:{type:"text",value:n},e("\\"+n)(r))}e.exports=r,r.locator=n},function(e,t,a){"use strict";e.exports=function(e,t){return e.indexOf("\\",t)}},function(e,t,a){"use strict";var n=a(1251),r=a(1685),s=a(1756);e.exports=o,o.locator=s,o.notInLink=!0;var i="mailto:".length;function o(e,t,a){var s,o,l,c,d,u,h,p,m,g,f;if("<"===t.charAt(0)){for(this,s="",o=t.length,l=0,c="",u=!1,h="",l++,s="<";l<o&&(d=t.charAt(l),!(n(d)||">"===d||"@"===d||":"===d&&"/"===t.charAt(l+1)));)c+=d,l++;if(c){if(h+=c,c="",h+=d=t.charAt(l),l++,"@"===d)u=!0;else{if(":"!==d||"/"!==t.charAt(l+1))return;h+="/",l++}for(;l<o&&(d=t.charAt(l),!n(d)&&">"!==d);)c+=d,l++;if(d=t.charAt(l),c&&">"===d)return!!a||(m=h+=c,s+=h+d,(p=e.now()).column++,p.offset++,u&&("mailto:"===h.slice(0,i).toLowerCase()?(m=m.substr(i),p.column+=i,p.offset+=i):h="mailto:"+h),g=this.inlineTokenizers,this.inlineTokenizers={text:g.text},f=this.enterLink(),m=this.tokenizeInline(m,p),this.inlineTokenizers=g,f(),e(s)({type:"link",title:null,url:r(h,{nonTerminated:!1}),children:m}))}}}},function(e,t,a){"use strict";var n=a(1685),r=a(1251),s=a(1868);e.exports=l,l.locator=s,l.notInLink=!0;var i=["http://","https://","mailto:"],o=i.length;function l(e,t,a){var s,l,c,d,u,h,p,m,g,f,b,E;if(this.options.gfm){for(s="",d=-1,m=o;++d<m;)if(h=i[d],(p=t.slice(0,h.length)).toLowerCase()===h){s=p;break}if(s){for(d=s.length,m=t.length,g="",f=0;d<m&&(c=t.charAt(d),!r(c)&&"<"!==c)&&("."!==c&&","!==c&&":"!==c&&";"!==c&&'"'!==c&&"'"!==c&&")"!==c&&"]"!==c||(b=t.charAt(d+1))&&!r(b))&&("("!==c&&"["!==c||f++,")"!==c&&"]"!==c||!(--f<0));)g+=c,d++;if(g){if(l=s+=g,"mailto:"===h){if(-1===(u=g.indexOf("@"))||u===m-1)return;l=l.substr("mailto:".length)}return!!a||(E=this.enterLink(),l=this.tokenizeInline(l,e.now()),E(),e(s)({type:"link",title:null,url:n(s,{nonTerminated:!1}),children:l}))}}}}},function(e,t,a){"use strict";e.exports=function(e,t){var a,r=n.length,s=-1,i=-1;if(!this.options.gfm)return-1;for(;++s<r;)-1!==(a=e.indexOf(n[s],t))&&(a<i||-1===i)&&(i=a);return i};var n=["https://","http://","mailto:"]},function(e,t,a){"use strict";var n=a(1752),r=a(1756),s=a(1755).tag;e.exports=l,l.locator=r;var i=/^<a /i,o=/^<\/a>/i;function l(e,t,a){var r,l,c=t.length;if(!("<"!==t.charAt(0)||c<3)&&(r=t.charAt(1),(n(r)||"?"===r||"!"===r||"/"===r)&&(l=t.match(s))))return!!a||(l=l[0],!this.inLink&&i.test(l)?this.inLink=!0:this.inLink&&o.test(l)&&(this.inLink=!1),e(l)({type:"html",value:l}))}},function(e,t,a){"use strict";var n=a(1251),r=a(1757);e.exports=l,l.locator=r;var s={}.hasOwnProperty,i={'"':'"',"'":"'"},o={};function l(e,t,a){var r,l,c,d,u,h,p,m,g,f,b,E,y,S,v,C,A,I,T,k="",O=0,_=t.charAt(0),M=this.options.pedantic,N=this.options.commonmark,w=this.options.gfm;if("!"===_&&(g=!0,k=_,_=t.charAt(++O)),"["===_&&(g||!this.inLink)){for(k+=_,v="",O++,E=t.length,S=0,(A=e.now()).column+=O,A.offset+=O;O<E;){if(h=_=t.charAt(O),"`"===_){for(l=1;"`"===t.charAt(O+1);)h+=_,O++,l++;c?l>=c&&(c=0):c=l}else if("\\"===_)O++,h+=t.charAt(O);else if(c&&!w||"["!==_){if((!c||w)&&"]"===_){if(!S){if(!M)for(;O<E&&(_=t.charAt(O+1),n(_));)h+=_,O++;if("("!==t.charAt(O+1))return;h+="(",r=!0,O++;break}S--}}else S++;v+=h,h="",O++}if(r){for(f=v,k+=v+h,O++;O<E&&(_=t.charAt(O),n(_));)k+=_,O++;if(_=t.charAt(O),m=N?o:i,v="",d=k,"<"===_){for(O++,d+="<";O<E&&">"!==(_=t.charAt(O));){if(N&&"\n"===_)return;v+=_,O++}if(">"!==t.charAt(O))return;k+="<"+v+">",C=v,O++}else{for(_=null,h="";O<E&&(_=t.charAt(O),!h||!s.call(m,_));){if(n(_)){if(!M)break;h+=_}else{if("("===_)S++;else if(")"===_){if(0===S)break;S--}v+=h,h="","\\"===_&&(v+="\\",_=t.charAt(++O)),v+=_}O++}C=v,O=(k+=v).length}for(v="";O<E&&(_=t.charAt(O),n(_));)v+=_,O++;if(_=t.charAt(O),k+=v,v&&s.call(m,_))if(O++,k+=_,v="",b=m[_],u=k,N){for(;O<E&&(_=t.charAt(O))!==b;)"\\"===_&&(v+="\\",_=t.charAt(++O)),O++,v+=_;if((_=t.charAt(O))!==b)return;for(y=v,k+=v+_,O++;O<E&&(_=t.charAt(O),n(_));)k+=_,O++}else for(h="";O<E;){if((_=t.charAt(O))===b)p&&(v+=b+h,h=""),p=!0;else if(p){if(")"===_){k+=v+b+h,y=v;break}n(_)?h+=_:(v+=b+h+_,h="",p=!1)}else v+=_;O++}if(")"===t.charAt(O))return!!a||(k+=")",C=this.decode.raw(this.unescape(C),e(d).test().end,{nonTerminated:!1}),y&&(u=e(u).test().end,y=this.decode.raw(this.unescape(y),u)),T={type:g?"image":"link",title:y||null,url:C},g?T.alt=this.decode.raw(this.unescape(f),A)||null:(I=this.enterLink(),T.children=this.tokenizeInline(f,A),I()),e(k)(T))}}}o['"']='"',o["'"]="'",o["("]=")"},function(e,t,a){"use strict";var n=a(1251),r=a(1757),s=a(1689);e.exports=i,i.locator=r;function i(e,t,a){var r,i,o,l,c,d,u,h,p=t.charAt(0),m=0,g=t.length,f="",b="",E="link",y="shortcut";if("!"===p&&(E="image",b=p,p=t.charAt(++m)),"["===p){if(m++,b+=p,d="",this.options.footnotes&&"^"===t.charAt(m)){if("image"===E)return;b+="^",m++,E="footnote"}for(h=0;m<g;){if("["===(p=t.charAt(m)))u=!0,h++;else if("]"===p){if(!h)break;h--}"\\"===p&&(d+="\\",p=t.charAt(++m)),d+=p,m++}if(f=d,r=d,"]"===(p=t.charAt(m))){for(m++,f+=p,d="";m<g&&(p=t.charAt(m),n(p));)d+=p,m++;if(p=t.charAt(m),"footnote"!==E&&"["===p){for(i="",d+=p,m++;m<g&&"["!==(p=t.charAt(m))&&"]"!==p;)"\\"===p&&(i+="\\",p=t.charAt(++m)),i+=p,m++;"]"===(p=t.charAt(m))?(y=i?"full":"collapsed",d+=i+p,m++):i="",f+=d,d=""}else{if(!r)return;i=r}if("full"===y||!u)return f=b+f,"link"===E&&this.inLink?null:!!a||("footnote"===E&&-1!==r.indexOf(" ")?e(f)({type:"footnote",children:this.tokenizeInline(r,e.now())}):((o=e.now()).column+=b.length,o.offset+=b.length,l={type:E+"Reference",identifier:s(i="full"===y?i:r)},"link"!==E&&"image"!==E||(l.referenceType=y),"link"===E?(c=this.enterLink(),l.children=this.tokenizeInline(r,o),c()):"image"===E&&(l.alt=this.decode.raw(this.unescape(r),o)||null),e(f)(l)))}}}},function(e,t,a){"use strict";var n=a(1457),r=a(1251),s=a(1873);e.exports=i,i.locator=s;function i(e,t,a){var s,i,o,l,c,d,u,h=0,p=t.charAt(h);if(("*"===p||"_"===p)&&t.charAt(++h)===p&&(i=this.options.pedantic,c=(o=p)+o,d=t.length,h++,l="",p="",!i||!r(t.charAt(h))))for(;h<d;){if(u=p,(p=t.charAt(h))===o&&t.charAt(h+1)===o&&(!i||!r(u))&&(p=t.charAt(h+2))!==o){if(!n(l))return;return!!a||((s=e.now()).column+=2,s.offset+=2,e(c+l+c)({type:"strong",children:this.tokenizeInline(l,s)}))}i||"\\"!==p||(l+=p,p=t.charAt(++h)),l+=p,h++}}},function(e,t,a){"use strict";e.exports=function(e,t){var a=e.indexOf("**",t),n=e.indexOf("__",t);if(-1===n)return a;if(-1===a)return n;return n<a?n:a}},function(e,t,a){"use strict";var n=a(1457),r=a(1875),s=a(1251),i=a(1876);e.exports=o,o.locator=i;function o(e,t,a){var i,o,l,c,d,u,h,p=0,m=t.charAt(p);if(("*"===m||"_"===m)&&(o=this.options.pedantic,d=m,l=m,u=t.length,p++,c="",m="",!o||!s(t.charAt(p))))for(;p<u;){if(h=m,(m=t.charAt(p))===l&&(!o||!s(h))){if((m=t.charAt(++p))!==l){if(!n(c)||h===l)return;if(!o&&"_"===l&&r(m)){c+=l;continue}return!!a||((i=e.now()).column++,i.offset++,e(d+c+l)({type:"emphasis",children:this.tokenizeInline(c,i)}))}c+=l}o||"\\"!==m||(c+=m,m=t.charAt(++p)),c+=m,p++}}},function(e,t,a){"use strict";e.exports=function(e){return r.test("number"===typeof e?n(e):e.charAt(0))};var n=String.fromCharCode,r=/\w/},function(e,t,a){"use strict";e.exports=function(e,t){var a=e.indexOf("*",t),n=e.indexOf("_",t);if(-1===n)return a;if(-1===a)return n;return n<a?n:a}},function(e,t,a){"use strict";var n=a(1251),r=a(1878);e.exports=s,s.locator=r;function s(e,t,a){var r,s,i,o="",l="",c="",d="";if(this.options.gfm&&"~"===t.charAt(0)&&"~"===t.charAt(1)&&!n(t.charAt(2)))for(r=1,s=t.length,(i=e.now()).column+=2,i.offset+=2;++r<s;){if("~"===(o=t.charAt(r))&&"~"===l&&(!c||!n(c)))return!!a||e("~~"+d+"~~")({type:"delete",children:this.tokenizeInline(d,i)});d+=l,c=l,l=o}}},function(e,t,a){"use strict";e.exports=function(e,t){return e.indexOf("~~",t)}},function(e,t,a){"use strict";var n=a(1251),r=a(1880);e.exports=s,s.locator=r;function s(e,t,a){for(var r,s,i,o,l,c,d,u,h=t.length,p=0,m="",g="";p<h&&"`"===t.charAt(p);)m+="`",p++;if(m){for(l=m,o=p,m="",u=t.charAt(p),i=0;p<h;){if(c=u,u=t.charAt(p+1),"`"===c?(i++,g+=c):(i=0,m+=c),i&&"`"!==u){if(i===o){l+=m+g,d=!0;break}m+=g,g=""}p++}if(!d){if(o%2!==0)return;m=""}if(a)return!0;for(r="",s="",h=m.length,p=-1;++p<h;)c=m.charAt(p),n(c)?s+=c:(s&&(r&&(r+=s),s=""),r+=c);return e(l)({type:"inlineCode",value:r})}}},function(e,t,a){"use strict";e.exports=function(e,t){return e.indexOf("`",t)}},function(e,t,a){"use strict";var n=a(1882);e.exports=r,r.locator=n;function r(e,t,a){for(var n,r=t.length,s=-1,i="";++s<r;){if("\n"===(n=t.charAt(s))){if(s<2)return;return!!a||e(i+=n)({type:"break"})}if(" "!==n)return;i+=n}}},function(e,t,a){"use strict";e.exports=function(e,t){var a=e.indexOf("\n",t);for(;a>t&&" "===e.charAt(a-1);)a--;return a}},function(e,t,a){"use strict";e.exports=function(e,t,a){var n,r,s,i,o,l,c,d,u,h;if(a)return!0;n=this.inlineMethods,i=n.length,r=this.inlineTokenizers,s=-1,u=t.length;for(;++s<i;)"text"!==(d=n[s])&&r[d]&&((c=r[d].locator)||e.file.fail("Missing locator: `"+d+"`"),-1!==(l=c.call(this,t,1))&&l<u&&(u=l));o=t.slice(0,u),h=e.now(),this.decode(o,h,(function(t,a,n){e(n||t)({type:"text",value:t})}))}},function(e,t,a){var n=a(1885);e.exports=function(){return function(e){return n(e,"list",(function(e,t){var a,n,r=0;for(a=0,n=t.length;a<n;a++)"list"===t[a].type&&(r+=1);for(a=0,n=e.children.length;a<n;a++){var s=e.children[a];s.index=a,s.ordered=e.ordered}e.depth=r})),e}}},function(e,t,a){"use strict";e.exports=function(e,t,a){var n=[];"function"===typeof t&&(a=t,t=null);function r(e){var s;return t&&e.type!==t||(s=a(e,n.concat())),e.children&&!1!==s?function(e,t){var a,s=e.length,i=-1;n.push(t);for(;++i<s;)if((a=e[i])&&!1===r(a))return!1;return n.pop(),!0}(e.children,e):s}r(e)}},function(e,t,a){"use strict";var n=a(1622),r=/^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\s*\/?>$/i,s=/^<(\/?)([a-z]+)\s*>$/;e.exports=function(e){var t=void 0,a=void 0;return n(e,"html",(function(e,n,i){a!==i&&(t=[],a=i);var o=function(e){var t=e.value.match(r);return!!t&&t[1]}(e);if(o)return i.children.splice(n,1,{type:"virtualHtml",tag:o,position:e.position}),!0;var l=function(e,t){var a=e.value.match(s);return!!a&&{tag:a[2],opening:!a[1],node:e}}(e);if(!l)return!0;var c=function(e,t){var a=e.length;for(;a--;)if(e[a].tag===t)return e.splice(a,1)[0];return!1}(t,l.tag);return c?i.children.splice(n,0,function(e,t,a){var n=a.children.indexOf(e.node),r=a.children.indexOf(t.node),s=a.children.splice(n,r-n+1).slice(1,-1);return{type:"virtualHtml",children:s,tag:e.tag,position:{start:e.node.position.start,end:t.node.position.end,indent:[]}}}(l,c,i)):l.opening||t.push(l),!0}),!0),e}},function(e,t,a){"use strict";var n=a(1622);function r(e,t,a,n){if("remove"===n)a.children.splice(t,1);else if("unwrap"===n){var r=[t,1];e.children&&(r=r.concat(e.children)),Array.prototype.splice.apply(a.children,r)}}t.ofType=function(e,t){return function(t){return e.forEach((function(e){return n(t,e,a,!0)})),t};function a(e,a,n){n&&r(e,a,n,t)}},t.ifNotMatch=function(e,t){return function(e){return n(e,a,!0),e};function a(a,n,s){s&&!e(a,n,s)&&r(a,n,s,t)}}},function(e,t,a){"use strict";var n=a(4),r=a(1287);function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=t.renderers[e.type],c=e.position.start,d=[e.type,c.line,c.column].join("-");if("text"===e.type)return l?l(e.value,d):e.value;if("function"!==typeof l&&"string"!==typeof l&&!i(l))throw new Error("Renderer for type `"+e.type+"` not defined or is not renderable");var u=o(e,d,t,l,a,r);return n.createElement(l,u,u.children||h()||void 0);function h(){return e.children&&e.children.map((function(a,n){return s(a,t,{node:e,props:u},n)}))}}function i(e){return n.Fragment&&n.Fragment===e}function o(e,t,a,n,i,o){var c,d={key:t},u="string"===typeof n;a.sourcePos&&e.position&&(d["data-sourcepos"]=[(c=e.position).start.line,":",c.start.column,"-",c.end.line,":",c.end.column].map(String).join("")),a.rawSourcePos&&!u&&(d.sourcePosition=e.position),a.includeNodeIndex&&i.node&&i.node.children&&!u&&(d.index=i.node.children.indexOf(e),d.parentChildCount=i.node.children.length);var h=null!==e.identifier&&void 0!==e.identifier?a.definitions[e.identifier]||{}:null;switch(e.type){case"root":l(d,{className:a.className});break;case"heading":d.level=e.depth;break;case"list":d.start=e.start,d.ordered=e.ordered,d.tight=!e.loose,d.depth=e.depth;break;case"listItem":d.checked=e.checked,d.tight=!e.loose,d.ordered=e.ordered,d.index=e.index,d.children=(d.tight?function(e){return e.children.reduce((function(e,t){return e.concat("paragraph"===t.type?t.children||[]:[t])}),[])}(e):e.children).map((function(t,n){return s(t,a,{node:e,props:d},n)}));break;case"definition":l(d,{identifier:e.identifier,title:e.title,url:e.url});break;case"code":l(d,{language:e.lang&&e.lang.split(/\s/,1)[0]});break;case"inlineCode":d.children=e.value,d.inline=!0;break;case"link":l(d,{title:e.title||void 0,target:"function"===typeof a.linkTarget?a.linkTarget(e.url,e.children,e.title):a.linkTarget,href:a.transformLinkUri?a.transformLinkUri(e.url,e.children,e.title):e.url});break;case"image":l(d,{alt:e.alt||void 0,title:e.title||void 0,src:a.transformImageUri?a.transformImageUri(e.url,e.children,e.title,e.alt):e.url});break;case"linkReference":l(d,r(h,{href:a.transformLinkUri?a.transformLinkUri(h.href):h.href}));break;case"imageReference":l(d,{src:a.transformImageUri&&h.href?a.transformImageUri(h.href,e.children,h.title,e.alt):h.href,title:h.title||void 0,alt:e.alt||void 0});break;case"table":case"tableHead":case"tableBody":d.columnAlignment=e.align;break;case"tableRow":d.isHeader="tableHead"===i.node.type,d.columnAlignment=i.props.columnAlignment;break;case"tableCell":l(d,{isHeader:i.props.isHeader,align:i.props.columnAlignment[o]});break;case"virtualHtml":d.tag=e.tag;break;case"html":d.isBlock=e.position.start.line!==e.position.end.line,d.escapeHtml=a.escapeHtml,d.skipHtml=a.skipHtml;break;default:l(d,r(e,{type:void 0,position:void 0,children:void 0}))}return!u&&e.value&&(d.value=e.value),d}function l(e,t){for(var a in t)"undefined"!==typeof t[a]&&(e[a]=t[a])}e.exports=s},function(e,t,a){"use strict";var n=a(1622);function r(e){var t=e.children;e.children=[{type:"tableHead",align:e.align,children:[t[0]],position:t[0].position}],t.length>1&&e.children.push({type:"tableBody",align:e.align,children:t.slice(1),position:{start:t[1].position.start,end:t[t.length-1].position.end}})}e.exports=function(e){return n(e,"table",r),e}},function(e,t,a){"use strict";e.exports=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t.children||[]).reduce((function(t,a){return"definition"===a.type&&(t[a.identifier]={href:a.url,title:a.title}),e(a,t)}),a)}},function(e,t,a){"use strict";var n=["http","https","mailto","tel"];e.exports=function(e){var t=(e||"").trim(),a=t.charAt(0);if("#"===a||"/"===a)return t;var r=t.indexOf(":");if(-1===r)return t;for(var s=n.length,i=-1;++i<s;){var o=n[i];if(r===o.length&&t.slice(0,o.length)===o)return t}return-1!==(i=t.indexOf("?"))&&r>i||-1!==(i=t.indexOf("#"))&&r>i?t:"javascript:void(0)"}},function(e,t,a){"use strict";var n=a(1287),r=a(4).createElement;function s(e,t){return r(e,i(t),t.children)}function i(e){return e["data-sourcepos"]?{"data-sourcepos":e["data-sourcepos"]}:{}}e.exports={root:"div",break:"br",paragraph:"p",emphasis:"em",strong:"strong",thematicBreak:"hr",blockquote:"blockquote",delete:"del",link:"a",image:"img",linkReference:"a",imageReference:"img",table:s.bind(null,"table"),tableHead:s.bind(null,"thead"),tableBody:s.bind(null,"tbody"),tableRow:s.bind(null,"tr"),tableCell:function(e){var t=e.align?{textAlign:e.align}:void 0,a=i(e);return r(e.isHeader?"th":"td",t?n({style:t},a):a,e.children)},list:function(e){var t=i(e);null!==e.start&&1!==e.start&&(t.start=e.start.toString());return r(e.ordered?"ol":"ul",t,e.children)},listItem:function(e){var t=null;if(null!==e.checked){var a=e.checked;t=r("input",{type:"checkbox",checked:a,readOnly:!0})}return r("li",i(e),t,e.children)},definition:function(){return null},heading:function(e){return r("h"+e.level,i(e),e.children)},inlineCode:function(e){return r("code",i(e),e.children)},code:function(e){var t=e.language&&"language-"+e.language,a=r("code",t?{className:t}:null,e.value);return r("pre",i(e),a)},html:function(e){if(e.skipHtml)return null;var t=e.isBlock?"div":"span";if(e.escapeHtml)return r(t,null,e.value);var a={dangerouslySetInnerHTML:{__html:e.value}};return r(t,a)},virtualHtml:function(e){return r(e.tag,i(e),e.children)}}},function(e,t,a){},,function(e,t,a){"use strict";t.a={SCHOOL_DIRECTORY:"group_invitation,invite_directory",SHARE_GROUP_CODE:"group_invitation,share_group_code",SHARE_CLASS_CODE:"group_invitation,share_class_code",SHARE_THIS_GROUP:"group_invitation,share_this_group",INVITE_BY_EMAIL:"group_invitation,invite_by_email",INVITE_PEOPLE_TO_CLASS:"group_invitation,invite_people_to_class",INVITE_PEOPLE_TO_GROUP:"group_invitation,invite_people_to_group",INVITE_PEOPLE:"group-get-started,invite-btn",RENAME:"rename",DESCRIPTION:"description",DELETE:"delete",DELETE_CLASS:"delete-class-prompt",DELETE_GROUP:"delete-group-prompt",DELETE_GROUP_MESSAGE:"delete-group-message",DELETE_CLASS_MESSAGE:"delete-class-message",SAVE:"save",CANCEL:"cancel",WITHDRAW:"withdraw",RENAME_SMALL_GROUP:"rename-small-group",EDIT_DESC_SMALL_GROUP:"edit_description",DELETE_SMALL_GROUP:"delete-small-group",RESET_CODE:"group_invitation,reset_code",LOCKED:"locked",LOCK_GROUP:"group_invitation,lock_group",UNLOCK_GROUP:"group_invitation,unlock_group",POSTS:"posts",FOLDERS:"folders",CLASSES_AND_GROUPS:"group-management,classes_and_groups",CLASS:"class",CLASSES:"intro-tour-teacher,classes-title",ADVANCED_SETTINGS:"advanced-settings-title",SETTINGS:"settings-index-title",GROUP:"group",GROUPS:"intro-tour-teacher,groups-title",CLICK_TO_ALLOW:"group-management,click_to_allow",CLICK_TO_PREVENT:"group-management,click_to_prevent",PUBLIC_URL:"group-management,public_url",VISIBILITY:"group-management,visibility",SEND_UPDATES:"group-management,send_updates",START_CONVERSATION:"post_stream,start_the_conversation",DISCOVER_CLASS_DISCUSSIONS:"discover-class-discussions",SHOW_ALL:"user_list_component,show_all",ACTIVE:"active",ARCHIVED:"archived",RESTORE:"restore",REMOVE_FROM_FAVORITES:"remove_from_favorites",ADD_TO_FAVORITES:"star_hover",OWNER:"owner",CO_TEACHER:"co_teacher",NAME:"admin_pages,name",MODIFIED_DATE:"modified-date",SMALL_GROUPS:"small-groups",MEMBER_OPTIONS:"group-management,member_options",SEARCH_CLASSES_AND_GROUPS:"search_classes_and_groups"}},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156);a(1625);t.a=({isOpen:e,title:t,messages:a,postitiveButtonTranslateString:n,positiveButtonFallbackString:o,negativeButtonTitle:l,positiveButtonHandler:c,negativeButtonHandler:d,toggle:u,buttonColor:h,messageComponent:p,showNegativeButton:m,footerMsg:g,className:f})=>r.a.createElement(s.M,{className:"confirm-box-modal ".concat(f||""),isOpen:e,toggle:u,backdrop:!0},r.a.createElement(s.P,{toggle:u,className:"confirm-box-modal-header"},t),r.a.createElement(s.N,{className:"confirm-box-modal-body"},r.a.createElement("div",{className:"confirm-box-modal-text"},p)),r.a.createElement(s.O,{className:"confirm-box-modal-footer"},g&&r.a.createElement("small",null,g),m&&r.a.createElement(s.c,{outline:!0,color:"secondary",onClick:d},r.a.createElement(i.default,{string:"admin_pages,cancel",fallbackString:"Cancel"}))," ",r.a.createElement(s.c,{color:h,onClick:c},r.a.createElement(i.default,{string:n,fallbackString:o}))))},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));a(5);const n=(e,t,a)=>(((e,t,a)=>{e.splice(a<0?e.length+a:a,0,e.splice(t,1)[0])})(e=e.slice(),t,a),e),r=(e,t)=>{let a=0,n=[];for(a=0;a<e.length;a+=t){const r=e.slice(a,a+t);n.push(r)}return n}},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(0),i=a(134),o=a(133),l=a(364),c=a(1699),d=a(38),u=a(14),h=a(1304),p=a(1947),m=a.n(p),g=a(35),f=a.n(g),b=a(331),E=a(108),y=(a(1963),a(374));class S extends r.a.Component{componentDidUpdate(e){this.props.videoIndex!==e.videoIndex&&this.props.videoIndex&&this.slider.slickGoTo(this.props.videoIndex)}render(){const e=this.props,t=e.videoIndex,a=e.embedIdToMessageMapping,n=e.setCurrentSelectedEmbedId,s=e.onCarouselThumbClick,i={infinite:a&&a.size>3,speed:500,slidesToShow:3,slidesToScroll:1,centerMode:!0,initialSlide:t},o=a.valueSeq().map((e,a)=>{const i=e&&e.get("embed"),o=e&&e.get("message"),l=b.a.getId(i),c=b.a.getJWPlaylist(i),u=d.a.getEmbedAttachmentContent(i),h=y.a.isJWEmbed(u)?c.getIn([0,"image"]):E.a.getEmbedThumbUrl(i),p=a.toString()===t.toString();return r.a.createElement("div",{className:f()("image-container",{"initial-selected-item":p}),key:l,index:a,style:{width:"auto",display:"flex"},onClick:()=>{n(l),this.slider.slickGoTo(a),s&&s(o)}},r.a.createElement("img",{style:{height:"90px",display:"block"},src:h,alt:"video preview"}))}).toJS();return r.a.createElement(m.a,Object.assign({},i,{ref:e=>this.slider=e,style:{width:"80%"}}),o)}}var v=S,C=a(1206),A=a(1623);class I extends n.Component{constructor(){super(),this.handleClick=this.handleClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleClick)}componentWillUnmount(){document.removeEventListener("click",this.handleClick)}handleClick(e){this.node.contains(e.target)&&this.props.setUserClickDetectedInMessage(!0)}render(){return r.a.createElement("div",{ref:e=>this.node=e,style:{height:"100%"}},r.a.createElement(A.a,this.props))}}var T=I,k=a(40),O=a(201),_=(a(1964),a(1965),a(1966),a(115)),M=a(1294),N=a(1217),w=a(1203);var P=({isOpen:e,toggleVideoAttachmentModal:t,currentSelectedEmbedId:a,embedIdToMessageMapping:n,handleFollowClick:s,onVideoComplete:i,handleReplyIconClick:o,smallAvatar:p,currentUser:m,stream:g,messageId:f,handleReplyIconReset:E,accessToken:S,currentVideoPosition:A,currentVideoIndex:I,setCurrentVideoPosition:P,setCurrentSelectedEmbedId:R,setUserClickDetectedInMessage:x,shouldOverlayDisplayed:L,setNextVideoAndPlay:D,removeOverlay:F,publisherId:U,onPlayCurrentAgain:B,onCarouselThumbClick:G,trackingContext:j,autoPlayTrackingProperties:z,fromDiscoverPage:q,handleSaveClick:H})=>{const V=n.get(a.toString()),W=V&&V.get("embed"),Q=V&&V.get("message"),Y=b.a.getJWPlaylist(W),K=b.a.getTitle(W),J=n&&n.keySeq().findIndex(e=>e===a.toString()),Z=d.a.getMessageCreator(Q),X=b.a.getContent(W),$=O.f(X)||X,ee={};z&&(z.is_from_modal=!0),u.a.isPublisher(Z)&&(ee.publisher=u.a.getUsername(Z));const te=N.a(),ae=N.c();return r.a.createElement(l.M,{isOpen:e,toggle:t,size:"md",centered:!0,className:"qa-test-video-attachment-modal video-attachment-modal"},r.a.createElement("div",{className:"modal-close-icon qa-test-close-video-attachment-modal-btn"},r.a.createElement("button",{type:"button",className:"close qa-test-close-video-attachment-modal-btn",onClick:t},r.a.createElement(C.default,{color:te||ae?w.white[0]:w.black[0]}))),r.a.createElement(l.db,{className:"modal-content-row"},r.a.createElement(l.s,{lg:"12",md:"18",sm:"18",xs:"18",className:"p-0 d-flex flex-column modal-content-column"},r.a.createElement("div",{className:"d-flex flex-row flex-grow-1 align-items-start video-header"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-center video-icon-container"},r.a.createElement(h.default,{color:w.cyan[30]})),r.a.createElement("div",{className:"video-title"},K))),r.a.createElement("div",{className:"video-player-container"},y.a.isJWEmbed($)?r.a.createElement(r.a.Fragment,null,Y&&r.a.createElement(c.a,{playlist:Y,embedIdToMessageMapping:n,style:{maxWidth:"640px"},isAutoPlay:!0,trackingContext:j,onPlaylistComplete:i,onBeforePlay:F,onDisplayClick:P,currentVideoPosition:A,shouldOverlayDisplayed:L,setNextVideoAndPlay:D,isMuted:!1,onPlayCurrentAgain:B,autoPlayTrackingProperties:z})):r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement(M.a,{src:$,title:K,frameBorder:0,allowFullScreen:!0,className:"embed-responsive-item"}))),!te&&r.a.createElement("div",{className:"video-preview-carousel-container d-flex align-items-center justify-content-center flex-grow-1"},n&&n.size>1&&r.a.createElement(v,{style:{width:"80%"},embedIdToMessageMapping:n,videoIndex:J>=0?J:0,setCurrentSelectedEmbedId:R,onCarouselThumbClick:G}))),!(te||ae)&&r.a.createElement(l.s,{lg:"6",md:"6",className:"message-container-column"},r.a.createElement(T,{accessToken:S,message:Q,messageId:f,smallAvatar:p,streamName:k.a.getPublisherStreamName(U),stream:g,currentUser:m,handleFollowClick:s,isModal:!0,imageModalOpen:!0,handleReplyIconClick:o,handleReplyIconReset:E,setUserClickDetectedInMessage:x,fromDiscoverPage:q,publisherId:U,isVideoSaved:_.a.isVideoSavedToLibrary(W),handleSaveClick:H}))))},R=a(162),x=a(41),L=a(36),D=a(253),F=a(1786),U=a(1705);class B extends n.Component{constructor(e){super(e),this.state={embedIdToMessageMapping:Object(s.OrderedMap)(),message:e.message,userClickDetectedInMessage:!1,shouldOverlayDisplayed:!1},this.onVideoComplete=this.onVideoComplete.bind(this),this.setUserClickDetectedInMessage=this.setUserClickDetectedInMessage.bind(this),this.setNextVideoAndPlay=this.setNextVideoAndPlay.bind(this),this.removeOverlay=this.removeOverlay.bind(this),this.fetchRelatedVideos=this.fetchRelatedVideos.bind(this),this.onPlayCurrentAgain=this.onPlayCurrentAgain.bind(this),this.onCarouselThumbClick=this.onCarouselThumbClick.bind(this)}componentDidMount(){const e=this.props,t=e.stream,a=e.streamName,n=e.allMessages;k.a.isHomeStream(a)?this.fetchRelatedVideos():k.a.isPublisherStream(a)?this.setState({embedIdToMessageMapping:x.a.getEmbedsFromStream(t)}):this.props.fromDiscoverPage&&this.setState({embedIdToMessageMapping:x.a.getEmbedsFromStream(n,!0)})}componentDidUpdate(e){this.props.stream!==e.stream&&this.props.stream&&this.setState({embedIdToMessageMapping:x.a.getEmbedsFromStream(this.props.stream)}),this.props.fromDiscoverPage&&this.props.allMessages!==e.allMessages&&this.setState({embedIdToMessageMapping:x.a.getEmbedsFromStream(this.props.allMessages,!0)})}setNextVideoAndPlay(e){this.setState({shouldOverlayDisplayed:!1});const t=this.props,a=t.currentSelectedEmbedId,n=t.setCurrentSelectedEmbedId,r=t.setCurrentVideoPosition,s=t.videoAttachmentModalTrackingActions,i=t.trackingContext,o=t.message,l=this.state.embedIdToMessageMapping,c=d.a.getMessageFromEmbedIdToMessageMapping(l,a.toString()),u=d.a.getId(c),h={original_message_id:d.a.getId(o)||d.a.getMessageId(o),current_message_id:u};if(e){if(this.props.fromDiscoverPage){const e={original_id:d.a.getId(o),current_id:u};this.props.discoverPageTracking.discoverPageAutoPlayNext(e)}s.trackVideoAttachmentModalAutoPlayNext(i,h)}else s.trackVideoAttachmentModalPlayNextClick(i,h);r(0);const p=l.keySeq(),m=p.findIndex(e=>e===a.toString());n(m===l.size-1?l.keySeq().first().toString():p.get(m+1))}onVideoComplete(){this.state.userClickDetectedInMessage?this.setState({shouldOverlayDisplayed:!0,userClickDetectedInMessage:!1}):this.setNextVideoAndPlay(!0)}onPlayCurrentAgain(){const e=this.props,t=e.message,a=e.trackingContext,n=e.currentSelectedEmbedId,r=e.videoAttachmentModalTrackingActions,s=this.state.embedIdToMessageMapping,i=d.a.getMessageFromEmbedIdToMessageMapping(s,n),o=d.a.getId(i);r.trackVideoAttachmentModalPlayAgainClick(a,{original_message_id:d.a.getId(t)||d.a.getMessageId(t),current_message_id:o})}onCarouselThumbClick(e){const t=this.props,a=t.message,n=t.trackingContext,r=t.videoAttachmentModalTrackingActions;let s={original_message_id:d.a.getId(a),current_message_id:d.a.getId(e)};this.props.fromDiscoverPage&&(s={original_id:d.a.getId(a),current_id:d.a.getId(e)},this.props.discoverPageTracking.discoverPageCarouselVideoClick(s)),r.trackVideoAttachmentModalVideoInCarouselClick(n,s)}setUserClickDetectedInMessage(e){this.setState({userClickDetectedInMessage:e})}removeOverlay(){this.setState({shouldOverlayDisplayed:!1})}fetchRelatedVideos(){const e=this.props,t=e.streamActions,a=e.message,n=u.a.getId(d.a.getMessageCreator(a)),r=k.a.getPublisherStreamName(n),s=x.a.defaultParamsForPublisher(n);t.fetchStreamForPublisherPage(s).then(e=>{const n=x.a.makeSortedImmutableStreamSegment(e.data);t.appendImmutableMessageToExistingPublisherStream(a,n,r)}).catch(e=>{L.a.notifyBugsnag(e,"VideoAttachmentModalContainer.fetchStreamForPublisherPage")})}render(){const e=this.props,t=e.currentSelectedEmbedId,a=e.currentVideoPosition,n=e.currentVideoIndex,s=e.setCurrentVideoPosition,i=e.setCurrentSelectedEmbedId,o=e.message;return r.a.createElement(P,Object.assign({},this.props,{embedIdToMessageMapping:this.state.embedIdToMessageMapping,currentSelectedEmbedId:t,currentVideoPosition:a,currentVideoIndex:n,setCurrentVideoPosition:s,onVideoComplete:this.onVideoComplete,setCurrentSelectedEmbedId:i,setUserClickDetectedInMessage:this.setUserClickDetectedInMessage,userClickDetectedInMessage:this.state.userClickDetectedInMessage,shouldOverlayDisplayed:this.state.shouldOverlayDisplayed,setNextVideoAndPlay:this.setNextVideoAndPlay,removeOverlay:this.removeOverlay,publisherId:u.a.getId(d.a.getMessageCreator(o)),onPlayCurrentAgain:this.onPlayCurrentAgain,onCarouselThumbClick:this.onCarouselThumbClick,fromDiscoverPage:this.props.fromDiscoverPage}))}}t.a=Object(o.connect)((function(e,t){const a=u.a.getId(d.a.getMessageCreator(t.message)),n=k.a.getPublisherStreamName(a);return{stream:R.G(e,{reducerName:t.reducerName,streamName:n})}}),(function(e){return{streamActions:Object(i.bindActionCreators)(D,e),videoAttachmentModalTrackingActions:Object(i.bindActionCreators)(F,e),discoverPageTracking:Object(i.bindActionCreators)(U,e)}}))(B)},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(364),i=a(156),o=a(509),l=a(1682),c=a(1519),d="post_stream,filter,more",u=400;t.a=Object(o.a)(Object(c.a)({})(({contentText:e,toggleCollapse:t,collapseOpen:a,isCurrentUserInHashTagABTest:n,translatedText:o,isTranslationDisplayed:c})=>{const h=c?o:e,p=e&&e.length>u,m=h&&"".concat(h.substring(0,u),"...");return r.a.createElement("div",{className:"message-text qa-test-post-stream-title"},!p&&r.a.createElement(l.a,{text:h,isCurrentUserInHashTagABTest:n}),p&&a&&r.a.createElement("div",{className:"collapsed-text"},r.a.createElement(l.a,{text:h,isCurrentUserInHashTagABTest:n})),p&&!a&&r.a.createElement("div",{className:"full-text"},r.a.createElement(l.a,{text:m,isCurrentUserInHashTagABTest:n}),r.a.createElement(s.c,{color:"link message-text-collapser qa-test-message-text-more-btn",onClick:t},r.a.createElement(i.default,{string:d,className:"qa-test-message-text-collapser-more"}))))}))},function(e,t,a){"use strict";t.a=({condition:e,wrap:t,children:a})=>e?t(a):a},function(e,t,a){e.exports=a.p+"static/media/exclamation@2x.4384f5b5.png"},function(e,t,a){},function(e,t,a){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAARs0lEQVR4nO2deXRc1X3HP/e+WTUjzWiXxpYsY9nGFjuYOCTEcCALBkKaQIHQDZoT2iwtTUiAQAiBkKU5cZOSzTQbTQ1Ns0BcMG0oAUpDjY0NGORFkq19GUkjjUazL+/2jzczmtHukRxVQd9z5hzN3Pvu++l7f/e33TtvBPNEU3Oz5VhX9FKlq/ej1GYllAclPKCc8x3j/ydEEKH6hBJ9CHFYSLF7Y73tueampvi8rp6rg+Op5pqoCt2rBDehKFm4wMsAgoBQ7LIJx/2hK5sGZu86Axr3tFo79NG7dSE+hVKOxZdyGUCIkFRqR4MsfbBt+/rYtF2m+9DxVHNNlNDjSrH11Eq4PCAEe204/mg6bZxCoOXpA2cl9dRTKFb/fsRbJhD0mJDb41de8Eb+xzlwPNVcEyG0f4W8GSDosePYkquJMvNH455Wa5TQ4yvkzQLF6iihxxv3tFozH2UJ7NBH716xeXNDKbZ26KN3Z94LyCzdcNtb1tueLIQI2SlqDF3ZNCABoip07wp5JwGlHFEVuhdANDU3W450hIbeMkHyYkEQ2NTgqJTHuqKXrpBXABQlx7qil0qlq/cvtSzLFUpX75cotXmpBVm2UGqzVEJ5llqO5QollEcaJakVFAQlPHL51/OWEsop5+60gtmwQuACsULgArFC4AJhWuwBa6xm1hVZGU/pHAqEZ+wnBehqse/++0dBBJaZTZxRbKfYpPHM8BjxHCb+YXM919aWsds7yocOtE25tspi5pFz1lJs0viv4QD3tfTmtW9xO3hfpStLrkgTPRBL8IIvwPFwLDvOR+orp5TU/ckk+/0h9vlDmIXg1jVVlJk1uqJxftI9nNf3nJIirq52ownBv/b5OBqMnjQXBRH4nsoSdp27jnBKZ+Pzh+iLJrJtvkQSKaDWZkETgpTKV7P3Vrl4T6ULgEaHje90eBmKJ7PtF5U6uW/DqmnvOxxP8snmTv6tbwSPzcwDG6fvl1CKb7V7ufNIN9VWE59r9KCA9nCMF3zjAFik4KEz1nBRqZO2UIxvd3gLoaIwG5ghzCoF1RZzXltbyJhFj9VMkZY/vABu8JRl31daTFxWkV/HSKYJDyZ1Pne0h0++2cl9Lb28OR6hwmLiW031VFpMxHWVnZzvdQ7yiTc7+eyRbv5jaAyzENx+Wg2XV7r4Sls/zeMRBHD/htVYpKGzf7KqgotKnegKbj/SxXDOJJ4MCiJwIJYglNLRhKDGlk9gZom5zRpVlnwFb3TYeFdZMSOJJL8aGAXgek/5tPeI6Drf7vDy3c5BHmjt48aDx4mkdKosZs5xOUgohUgv4J/3j/C9zkG+cWKAa/a38lra9r63ooRwSucLLb0o4J1lTm70lFNs0rh7fS0Av/aO8qTXXwgNQIFLeCiexJ9I4tAsXF7hwiYlG502GotsnFFsB8Bp0qi1mbOEAlxd7aZIk7zgG+erbf1cU+3mkvJiGuxWOiJTt12lmLBw/mQyq51mkW/5ZI4lTCpFOKUDYJGGfvzaO8pTXj9XVbu5o7GWi8uMe44lU9x7zCC3UBRE4FgyiTeWZJXNwm1rq7ltbfWUPgLw2CwTNxKC62qN5ftr7ygHxkK8OR7h7JIitle5+G7nYN71Fim4pLyYQDKFU9P4SH0lxSaNcEqneTxMkaZl+57vKkJHYZGSyytK2OI2iut7/UHAcEL3HOthW3kxGx02NjpsADzU7uVwMFIIBRP/VyEX6Qq6IzHOcxUxlkzx0kiQzkiMllCUgViCr51eR53dwmlF2c0rznUVcZ6riGBSZ78/hMuk8YJvnLNLirjOU8b3uwbzwhqXSeOJC9bn3VcBX2nrpzMS56ySIhQKEHxtU90UGZ/0+nkibSYA3hiP8N3OQe5YZyzdI8EI32wvzHHkouA4sCtqnL05Foxy1f6WvLa/WlNFnd1Cg32CwA/VlGISAqdJsOfCDQBZJ3Oh20GT084b4xPaENcVzw4HiOs6Oobd3e3185uhsSmyvDQaxBtLIIDxZIrnR8b5Wd8IkfRSzmBn5yAfX1ON0yR5uGuI0URhjiMXBRPYkbZtNVYzbrOGP5HKtmW8dL3dWMIOTXJNTalxXSRGJKUjEPgSSeptVpwmoz2XwLFkihtfPc54cmLcycg4kc8f6+V5X2BOmWO6ytrRscTM454MCk7lTqQJrLCYKDPnz0OG3Ma0rbmorJgNDhuBZIorXm7hghcPc/6LzWx58TA7uwzb98Ga0rzsRGCESfOBZZ79cnvN85I5UTCBGS0r0iRrcpYqwBvjYV4PhHlpZByLFPzF6goA/nc0SEsoSlTXs6+MnTq7pIgLXU4yi84m5axn7yQTJGjzJEMIsKU7a2JxGCx4CffF4jw7HCCU0glMWma/6B/l8YFRYrpCCnisz8eeQf+0ufGBsRDXHWijSJMMxRO0h2P8u9dPIJkiNkuy7E+k2O31I4CBnExoNkRSiicG/Dg0SXt42tNqJw0hn9xXcBj0+y4IrCuyYpWStnA0L/9eSsypgU6T5Ja6SuxSstcfzOaSYMR2H6wtxSolzw4H6IlOnIqtspj5QI2braVOHJqkIxJnz6A/7/p3lDo5z+XIC2RVzjuJ4Hej4xwcMzT3nvUerqst42goyr7RIC+OBNk/FqQtZGiTQ5Nc7ymfkkLm4hf9I/jiST5QUzqt7Yzrin3+IJ2ReZ3wnZtAl8nEAxtW4zRJuiNxLvyfwwzGE+k2je+d2UCJSeOaV1qzBG4rL2bnmQ2sTzuRDG4/rYYfdg9xW3MX4ZTOTavKuXVN1az3v6+ll4NjYaxScJ7LgV2TnFtSxLklRdy6popQSmfPoJ9PH+4mruvs2FxHsUmbcbxDgTBv6BH++ZzTZnQ+/bEEN7/ezjPThEyTMS8bGNV1nEjq7BbuaKzl04e7ACPVytipzJJqdFh59Nx11FjNdERi/KR7GG8swSXlJVzvKeMv6yoJJnU+dbiLF0eCuM0mkkpRYzVzWUUJCvjPoTFG4kk0ITiQ1r4Gu5VGhzVL6vFwjCsqXVxd7ea62jJqrGZufr2dUEqn2KSxzx+iNRSd4oj6YwmkMHJti9TY7fWz3x8CoNSsceOqcmqtZr6xqY63j4wTmhRLnjSBUuS7/FvrK3m018eBsRCSidBAT8dXf7e2hhqrmb5ogitebqElXZ15uGuI4+Eon2v0cOuaSn7YPcRjfT4e6/MBxnK+rKKElFJ89kg3zeP5Kdb5bgc2KYnpil/2j3I4GOHRXh/vqXTx+AWNXFxWzMVlxdmJfLhrkB9Pqv9lUGOdKID8amCUn/ZM9DsWirLzzAYaHTY8NgutodlrhHOGMQLD5SeV4rVAGLsmeXDjKjQhEDnkJpTCKgXvTdf6dvUOZ8nL4KH2QQbjCWxSZvtlkEn8wQhhJuOdpcbua1sompe/7veHCCYNLSm3mNDTNtRtNuEyabjNEy/HLLYxg2ha48KpFMFZgvgM5tZAhBFzIfhSax/f2FzPuytdfLCmlOd8gawGJnVFldVMdXp296WXRS4G4wlOhGNUWcyc7rRNaZ8JZiHY4jYILDZpfLyhilf8IbyxJH+6upwKi4mEUhwNRjCl47svrPfwmdNqsmMIAb8dHuemV4/nOa13lTlJ6gohoNxs4mMNVSSV4ifdw/TH5g6P5rmEBVIYee+X2/rYeWYDX9y4iraD0awwKQWWdD+A6AxhRmaJWU4ikK2zW9iQdkj1dgv/2LQGgHBKz3rcJwZGOTgWzpa6FKCTk32ofA+fwS11ldxSV5n32X5/iAfb+ucl2/wITP9tkYJHuoe5pa6St7kd3NlYm40DFQpfIkkwqWOzyLxKTAZ2TVKb1tC+ecxuBue6inCaJAmluOtoD9UWUzY9HEkk+c3QGHce7TFscpqx+1v7+FHXUHYMISCRFjZ36n7aM8wLI+MIBGvsFj7RUM0Fbgd3rKvhzqM9c8o2J4ECkS1sKgxbd/fRHp5+2waurS0zZjpNoj+R4tWxEO+udHGDp4ydnYMkcvZE3l1RkiU2Nx6cC+8oLQagJxLn2+3edDXasHO6UoylbVWuc/AnktnPZ8OzvvE8J6IJwV2NtVxTU8p9LX1E9YV6YSYcRcbTPucL8Fivjz9bXYEAUqhsDvtQxyCXV7p4e6mTH569lm+2D+CLJ9la6uTrm+rQhOCl0eC8CTQLwbZyg8BXA+HshCiYtRx1oduJL55E5JgKCbzsD2Y1EaaakgNjhu0uMWm4zBrR2AIJ1ITIsysZfLGlj+1VbiosJkxCZLXwqUE/X2rt4/PrPdy0qpwbPeVEdD3rAVtDUf76jY4pM5uZJFOOHQXDbLw6FsZt1vjvOUg3KjjGfT5aX8lH6yun9Pnwq8d5enAMe7qfaVIwndlcqrKYKTZJvHOkzHMSOJ5K8aTXjxDkFQ06IjHuOdbDn6+uIKXy24zsIcRH66s4q8SOXZOcCMd4ZmiMb7V781K+DEbiSZ73BUiq/FpdKKXzkUPtuM3anPlvTFf8djhAqXnmTKQ/miChFL8cGMGhaRyfFGq1haL8vH8Eq5TThlOTsaBiAhiaIxDoajofZyxBkxRTqsN/KFjw0Q5DKXJsihRcVWXsvuU6GJH25t54kmeGxthe5aYsR1NyyRfAy+lULIPVNgvbq1xsLrYjMEKqp4fGsmWpOruFbWXFs+6w9UTjJ+W85oNFPxvj0DS+f2YD5Zbph34tEOaZoTG+tmk1m532Gcf5m+bOLIHX1paxY3Mdq3J2+QC8sQS3H+nm0V4fW91OHjnntFlle94X4DLfsZP8j2bHohOoUETSDuJIMEJLMJoNgwTwZjrHjaYMXemIxDgUiOTFZgJoSZeotpUX88g5a7FJyZFghF/0j6KAa2tL2ey08/CZDRwLRjkRjvGk148CbFLwrvISrFJwKBCmPRxDE4KXp8mOFopFJzAXP+oeZseJWb/wzZNeP3/b3DVtmyYE9673YJOSQ4Ew79vXgjcdgO/sHOS5t5/OBoeNz6yr4YaDx7nmlVbAOPz05rYzqLaa+U7nID/ICagXG6eUwPnAKiV2LX//Q1dGCW29w8rWdBHhm+3eLHlgbHPe/Fo7Z5XY8U4612KRIpuRmE4iZSwEp5TAW+oquLisOJsKhlM6tx3uyiPijz1lbCsvziOwKxLnin0tNNit2KSRwr0+zX7KXn8we/pgqXBKCdzktLMpx1FEdZ27j+Xnl0Xp/Dizx6swzrYIwJoOvhO6mjOlWiqcUgJ3dg6yq9eXXU5JnbyzhAC7enzcebQ77yBRUhkb4KPxZNopSKqt5ikHILe6nVxeWYI3luAHXUMLOiRUKE4pgW3hGL8bnX2JBZKpvAOWuWgORuiLxllls3B9bdmUGO6uxlquqnbzu9Eg/3QKHcVsOKUEzseAry2ycml5CbldJcZp0uPhGD/uHuae9R5urqukMxLnX3p9pJTiplXlvK/KqGr/uHtpyINTRGBmt2u2EwPmdJ+rq91cXe2e0v73x/u562gPXz/Rz3muIrZXufny6au5s7EWhbEjCMaexqO9vrxrBWARck4ZFgOLTmBKwSv+EFVWMz2znBh4PRAmpusoBZMVVUB2XzaY1Lnh4HE+1lDNhz1l1NutCGEE6T/rG2HHiYEpJxjiytjbLbeY6J/nqYVCseBiwnQwCTFRJ5xhdE0Yey3TNc90rVUKSkwaAsF4KjVrgWI+MiwGTskSTqq5JU4pxckeMIvpakaHU4gMi4GVbyotECsELhASxNLmQssb4xKh+pZaimULQb8USqwQWCCEEn0SIQ4vtSDLFkIclkKK3Ustx3KFkGK33Fhvew7B3N8RWEE+BIGN9bbnZHNTU1wodi21PMsNQrGruakpLgFswnE/Qiz+jssfKoQI2YTjfkgH0qErmwakUjuWVqrlA6nUjsxjQLOZSIMsfVAI9i6dWMsDQrC3QZY+mH2f27jyENo5MNtDaMFYyiapXYlg7pOFbzWkH4M8+VnSU4oJ8SvOP2THsWVlOU9ACPbacWyZ/AxpmKEaE7qyaWCtKL1EwgNvae8sREjCA2tF6SUzPVN/5ccIpsNi/BjBZKz8HMb0+D+qZZJVK7BOmwAAAABJRU5ErkJggg=="},,,function(e,t,a){},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1770),i=a(95),o=a(256),l=a(3);t.a=({message:e,currentUser:t,messageId:a,profileAvatar:n,accessToken:c,stream:d,reactionId:u,creator:h,recipients:p,contentText:m,liked:g,handleLikeClick:f,handleFollowClick:b,handleReplyIconClick:E,handleReplyTextChange:y,handleReplySubmit:S,handleReplyUpdate:v,handleReplyDelete:C,canReply:A,handleReplyIconReset:I,userProfileId:T,childId:k,currentHashtagOnHomePage:O,streamName:_,handleDynamicTranslationClick:M,handleShowOriginalTranslationTextClick:N,dynamicTranslations:w,isInteractionsDisabled:P,isSchoolAdminReadOnly:R})=>{const x=i.a.getMessageReplies(e),L=[];return x.forEach(u=>{const x=u&&u.get(l.a.ID),D=i.a.isReplyCreatorLocaleDifferent(u,t),F=o.a.getTranslationById(w,x),U=o.a.getTranslationIsDisplayedById(w,x);L.push(r.a.createElement(s.a,{canReply:A,key:u&&u.get(l.a.ID),message:e,reply:u,currentUser:t,messageId:a,profileAvatar:n,accessToken:c,stream:d,creator:h,recipients:p,contentText:m,liked:g,replyLocation:l.a.LAST_REPLIES,handleLikeClick:f,handleFollowClick:b,handleReplyIconClick:E,handleReplyTextChange:y,handleReplySubmit:S,handleReplyUpdate:v,handleReplyDelete:C,handleReplyIconReset:I,userProfileId:T,childId:k,currentHashtagOnHomePage:O,streamName:_,replyCreatorLocaleDifferent:D,handleDynamicTranslationClick:M,handleShowOriginalTranslationTextClick:N,translatedText:F,isTranslationDisplayed:U,dynamicTranslations:w,isInteractionsDisabled:P,isSchoolAdminReadOnly:R}))}),r.a.createElement("div",null,L.map(e=>e))}},function(e,t,a){"use strict";var n=a(38),r=a(254),s=a(202),i=a(30);class o{static getFileInfoForAttachments(e){const t=n.a.getAttachments(e),a=n.a.getAttachedFiles(t);return a&&a.map(e=>{const t=r.a.getFileName(e),a=t&&t.substr(t.lastIndexOf(".")+1)||r.a.getType(e),n=Object(s.b)(a),o=r.a.getId(e),l=r.a.getSize(e),c=r.a.getType(e),d=r.a.getViewUrl(e),u=r.a.getS3Name(e),h=r.a.getThumbUrl(e),p=r.a.getDownloadUrl(e),m=e.get("creator_id");return{id:o,thumbUrl:Object(s.g)(n,!0)||h,fileName:t,fileSize:l,fileType:c,downloadUrl:p,viewUrl:d,s3Name:u,creatorId:m,isImageType:n===i.a.IMAGE,isAudioType:n===i.a.AUDIO,isVideoType:n===i.a.VIDEO,isGeneralFile:n!==i.a.IMAGE&&n!==i.a.AUDIO&&n!==i.a.VIDEO}})}static getFirstImageFileInfo(e){const t=o.getFileInfoForAttachments(e);if(t)return t.filter(e=>e.isImageType).first()}}t.a=o},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchCollectionSuccessAction",(function(){return Ce})),a.d(n,"fetchCollectionNotFoundAction",(function(){return Ae})),a.d(n,"addCollectionSuccessAction",(function(){return Ie})),a.d(n,"updateCollectionSuccessAction",(function(){return Te})),a.d(n,"deleteCollectionSuccessAction",(function(){return ke})),a.d(n,"deleteCollectionProductSuccessAction",(function(){return Oe})),a.d(n,"attachToThemeSuccessAction",(function(){return _e})),a.d(n,"fetchCollection",(function(){return Me})),a.d(n,"addUpdateCollection",(function(){return Ne})),a.d(n,"uploadCollectionImage",(function(){return we})),a.d(n,"deleteCollection",(function(){return Pe})),a.d(n,"deleteCollectionProduct",(function(){return Re})),a.d(n,"clearShareModalForm",(function(){return xe})),a.d(n,"postMessages",(function(){return Le})),a.d(n,"clearAddCollectionForm",(function(){return De})),a.d(n,"attachToThemeCollection",(function(){return Fe})),a.d(n,"fetchThemes",(function(){return Ue})),a.d(n,"clearAttachToThemeForm",(function(){return Be}));var r={};a.r(r),a.d(r,"userClickOpenPublicPostShareModal",(function(){return ze})),a.d(r,"userSubmitShareAsPost",(function(){return qe})),a.d(r,"userSubmitShareToRecipient",(function(){return He}));var s=a(4),i=a.n(s),o=a(133),l=a(1199),c=a(272),d=a(134),u=a(5),h=a.n(u),p=a(45),m=a(10),g=a(445),f=a(364),b=a(1630),E=a(156),y=a(1646),S=a(1760),v=a(509),C=a(1246),A=a(1208);const I=Object(c.reduxForm)({form:"shareModalForm"})(({isOpen:e,toggle:t,translate:a,handleSubmit:n,attachedLink:r,reset:s,handleShareFormSubmit:o,isSharingPublisherPage:l,isSharingSpotlightPage:d,invalidNoteField:u,onChangeFieldValue:h})=>{const p=d?i.a.createElement(E.default,{string:"share-on-edmodo-page",fallbackString:"Share on Edmodo"}):l?i.a.createElement(E.default,{string:"share-page",fallbackString:"Share Page"}):i.a.createElement(E.default,{string:"share-post",fallbackString:"Share Post"}),m=d?a&&a("note-to-share-resource-on-edmodo","Write a note about why you're sharing this resource."):a&&a("type-your-note","Type Your Note"),g=d&&a("share-on-edmodo-recipients-placeholder","Type the name of a group, student, or teacher..."),v=d?[A.N,A.M,A.P,d&&A.g]:[];return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.M,{isOpen:e,toggle:t,onClosed:s,size:"md",centered:!0,className:"qa-test-send-to-modal"},i.a.createElement(c.Form,{onSubmit:n},i.a.createElement(f.P,{toggle:t},p),i.a.createElement(f.N,null,i.a.createElement(c.Field,{name:"text",component:y.b,label:m,className:"qa-test-attach-modal-input",validate:v,style:{height:"75px",resize:"none"},onChange:h}),u&&i.a.createElement("small",{className:"required-error"},u),i.a.createElement(c.Field,{name:"recipients",component:S.a,placeHolderText:g,className:"my-3",validate:A.f,apiRequestMethod:C.b}),r&&i.a.createElement(b.a,{title:r.title,url:r.url})),i.a.createElement(f.O,{className:"move-modal-footer"},i.a.createElement(f.c,{color:"white",className:"qa-test-cancel",onClick:t},i.a.createElement(E.default,{string:"admin_pages,cancel",fallbackString:"Cancel"})),i.a.createElement(f.c,{color:"primary",className:"qa-test-attach-note-send",type:"submit"},i.a.createElement(E.default,{string:"chats,send",fallbackString:"Send"}))))))});var T=Object(v.a)(I),k=a(1724),O=a(1766),_=a(77),M=a(38),N=a(1282),w=a(1456),P=a(1935),R=a(1284),x=a(1302),L=a(1459);var D=Object(N.a)()(({message:e,trackingActions:t,trackingContext:a,isEmailVerified:n,toggleVerifyModal:r})=>{L.a.getFBSDK();const s=M.a.getId(e),o=M.a.getText(e),l=R.a(o)&&R.a(o).join(","),c=_.a.makeSinglePostUrlForExternalShare(s),d=P.a.getFirstImageFileInfo(e),u=d&&d.isImageType,h={url:c,title:w.a.truncateText(o,10),description:w.a.truncateText(o,30),image:u?d.downloadUrl:"",message_id:s,hashtags_in_string:l};return n?i.a.createElement("a",{className:"fb-share-button qa-test-facebook-share-button",href:c,"data-size":"large",onClick:e=>{((e,t,a,n)=>{e.preventDefault();let r={context:n(),visual_element:"share_to_facebook_button",product_group:"public_post_share_modal",properties:{message_id:t.message_id},tracking_action:"click",test_variant:"enabled"},s={context:n(),visual_element:"facebook_popup",product_group:"public_post_share_modal",properties:{message_id:t.message_id,hashtags_in_string:t.hashtags_in_string},tracking_action:"submit",test_variant:"enabled"};FB.ui({method:"share",href:t.url,quote:t.description,display:"popup"},(function(e){e&&!e.error_message?(Object(p.a)("Sharing post to Facebook complete."),a.track(s)):Object(p.a)("Error sharing to Facebook")})),a.track(r)})(e,h,t,a)}},i.a.createElement(x.default,{size:36})):i.a.createElement("div",{className:"fb-share-button qa-test-facebook-share-button",onClick:r,onKeyDown:r,role:"button",tabIndex:0},i.a.createElement(x.default,{size:36}))}),F=a(201),U=a(1303);var B=Object(N.a)()(({message:e,trackingActions:t,trackingContext:a,isEmailVerified:n,toggleVerifyModal:r})=>{const s=M.a.getId(e),o=M.a.getText(e),l={message_id:s,hashtags_in_string:R.a(o)&&R.a(o).join(",")};L.a.getTwitterSDK();let c=encodeURI(o);F.n(c)&&(c=c.replace(/#/g,"%23"));const d=encodeURI(_.a.makeSinglePostUrlForExternalShare(s));return n?i.a.createElement("a",{className:"custom-twitter-share-button qa-test-twitter-share-button",rel:"me",href:"https://twitter.com/intent/tweet?text=".concat(c,"&url=").concat(d),"data-size":"large",onClick:e=>{((e,t,a,n)=>{e.preventDefault();let r={context:n(),visual_element:"share_to_twitter_button",product_group:"public_post_share_modal",properties:{message_id:t.message_id,hashtags_in_string:t.hashtags_in_string},tracking_action:"click",test_variant:"enabled"};a.track(r)})(e,l,t,a)}},i.a.createElement(U.default,null)):i.a.createElement("div",{className:"custom-twitter-share-button qa-test-twitter-share-button","data-size":"large",onClick:r,onKeyDown:r,role:"button",tabIndex:0},i.a.createElement(U.default,null))}),G=a(1623),j=a(1702),z=a(74),q=a(34),H=a(1),V=a(167),W=a(14),Q=a(192),Y=a(139),K=a(1660),J=a(383),Z=a(1267),X=a(73),$=a(1676),ee=a(295);class te extends s.Component{constructor(e){super(e),this.state={dropdownOpen:!1,allRecipients:this.getEnhanceRecipientsList(),chosenRecipientId:null,chosenRecipientTitle:"",chosenRecipientType:null,recipientsParams:V.a.typeParam(Q.a.getUserType(this.props.accessToken)===q.a.TEACHER,Q.a.isDistrictAdmin(this.props.accessToken))},this.toggle=this.toggle.bind(this),this.reset=this.reset.bind(this),this.handleRecipientSelection=this.handleRecipientSelection.bind(this),this.handleRecipientClick=this.handleRecipientClick.bind(this)}componentDidMount(){const e=this.props,t=e.accessToken,a=e.recipientActions,n=this.state.recipientsParams;this.reset(),Q.a.isValid(t)&&a.fetchRecipientsForCurrentUser(n)}UNSAFE_componentWillReceiveProps(e){if(this.props.userRecipients!==e.userRecipients){this.setupDefaultRecipient();const t=V.a.filterSchoolRecipientsById(e.userRecipients,this.props.currentUserSchoolId),a=this.getEnhanceRecipientsList(t);this.setState({allRecipients:a})}}handleRecipientClick(e){const t=W.a.isEmailVerified(this.props&&this.props.currentUser);e.currentTarget.id!==j.a.toString()||t?this.handleRecipientSelection(e.currentTarget.id):this.props.toggleVerifyModal()}handleRecipientSelection(e){const t=this.props,a=t.message,n=t.postActions,r=this.state.allRecipients,s=M.a.getId(a),i=V.a.getRecipientById(r,parseInt(e,10));i&&this.setState({chosenRecipientId:e,chosenRecipientTitle:V.a.getRecipientTitle(i),chosenRecipientType:V.a.getRecipientType(i)},()=>{n.choosePostRecipient(s,e,"share-post-modal",H.a.HOME_STREAM)})}addAllTeachersRecipient(e){return e.set(j.a,this.createImmutableAllTeachersRecipient())}createImmutableAllTeachersRecipient(){const e={recipient_id:j.a,title:i.a.createElement(E.default,{string:"all-teachers",fallbackString:"All Teachers"}),type:z.a.PUBLIC};return V.a.makeImmutableRecipient(e)}addConnectionsRecipient(e){const t=this.props.accessToken,a=Q.a.getUserId(t);return e.set(a,this.createImmutableUserConnectionsRecipient())}createImmutableUserConnectionsRecipient(){const e=this.props.accessToken,t={recipient_id:Q.a.getUserId(e),title:i.a.createElement(E.default,{string:"my_connections"}),type:z.a.CONNECTIONS,default:1};return V.a.makeImmutableRecipient(t)}getEnhanceRecipientsList(e){const t=e||V.a.makeImmutableRecipients({}),a=this.addAllTeachersRecipient(this.addConnectionsRecipient(t)),n=this.sortRecipientsListByType(a,j.d);return this.enhanceRecipientsWithSubtitle(n)}sortRecipientsListByType(e,t){return t?e.sort((e,a)=>{const n=e.get("type"),r=a.get("type"),s=n&&t.indexOf(n),i=r&&t.indexOf(r);return s<i?-1:s>i?1:0}):e}enhanceRecipientsWithSubtitle(e){const t=this.props.translate,a=[],n={school:t("only-teachers-in-your-school","Only teachers at your school will be able to see and interact your post."),district:t("only-teachers-in-your-district"),connections:t("only-edmodo-teachers-who-are-connected","Only your connections will be able to see and interact with your post."),public:t("teachers-with-edmodo-accounts","Teachers with Edmodo accounts will be able to see and interact with your post.")};return e.keySeq().toArray().forEach(t=>{const r=V.a.getPropertyByRecipientId(e,[t,"type"]);a.push({keyPath:[t,"subTitle"],value:n[r]})}),function e(t,n){return n<0?t:e(V.a.setPropertyByRecipientId(t,a[n].keyPath,a[n].value),n-1)}(e,a.length-1)}setupDefaultRecipient(){const e=this.props,t=e.currentUser,a=e.accessToken,n=W.a.isEmailVerified(t),r=Q.a.getUserId(a),s=Q.a.getUserType(a)===q.a.TEACHER;n?s&&(this.state.chosenRecipientId||this.setState({chosenRecipientType:z.a.PUBLIC,chosenRecipientId:j.a,chosenRecipientTitle:i.a.createElement(E.default,{string:"all-teachers",fallbackString:"All Teachers"})})):this.setState({chosenRecipientType:z.a.CONNECTIONS,chosenRecipientId:r,chosenRecipientTitle:i.a.createElement(E.default,{string:"my_connections"})})}toggle(){const e=this.state.dropdownOpen;this.setState({dropdownOpen:!e})}reset(){this.setState({reset:!0,disabledPostButton:!0,msgText:"",chosenRecipientId:null,chosenRecipientTitle:i.a.createElement(E.default,{string:"my_connections",fallbackString:"My Connections"})},()=>this.setupDefaultRecipient())}render(){const e=this.state,t=e.dropdownOpen,a=e.chosenRecipientType,n=e.chosenRecipientTitle,r=e.allRecipients,s=this.props.translate;return i.a.createElement(f.d,{isOpen:t,toggle:this.toggle,className:"recipient-selector"},i.a.createElement(f.z,{caret:!0,color:"none",className:"edmo-icon qa-test-share-modal-recipient ".concat(a)},n),i.a.createElement(f.y,null,i.a.createElement(f.x,{header:!0,className:"px-2_5"},s("select-who-can-see-your-post")),r&&r.valueSeq().map(e=>i.a.createElement(f.x,{key:Object(ee.a)(),id:V.a.getRecipientId(e),className:"px-2_5 py-2 edmo-icon ".concat(V.a.getRecipientType(e)," qa-test-").concat(V.a.getRecipientType(e),"-item"),"data-recipient-type":V.a.getRecipientType(e),onClick:this.handleRecipientClick},i.a.createElement("span",null,V.a.getRecipientTitle(e)),i.a.createElement("p",{className:"sub-title small-font"},V.a.getRecipientSubTitle(e))))))}}var ae=Object(v.a)(Object(o.connect)((function(e){return{currentUser:X.c(e),accessToken:X.d(e),userRecipients:$.c(e),currentUserSchoolId:X.r(e)}}),(function(e){return{recipientActions:Object(d.bindActionCreators)(K,e),postActions:Object(d.bindActionCreators)(Y,e),homePageTrackingActions:Object(d.bindActionCreators)(Z,e),trackingActions:Object(d.bindActionCreators)(J,e)}}))(te));var ne=Object(c.reduxForm)({form:"shareAsPostForm"})(({smallAvatar:e,fullName:t,displayName:a,isAmbassador:n,isStaff:r,isVerifiedTeacher:o,schoolName:l,attachedLink:d,toggle:u,message:h,notePlaceholder:p,handleShareAsPostSubmit:m,handleSubmit:g,isParent:b,isStudent:S,shareAsPostValues:v,toggleVerifyModal:C,isEmailVerified:I})=>i.a.createElement(s.Fragment,null,i.a.createElement(c.Form,{onSubmit:g(m)},i.a.createElement("div",{className:"share-as-post-header px-2_5 pt-2_5 mb-2_5"},i.a.createElement("img",{className:"message-avatar rounded",src:e,alt:t}),i.a.createElement("div",{className:"creator-info mx-3"},i.a.createElement("div",{className:"creator-name"},a),i.a.createElement(E.default,{string:k.a.TEACHER})," ",i.a.createElement(O.a,{isAmbassador:n,isStaff:r,isVerifiedTeacher:o}),i.a.createElement(E.default,{string:k.a.AT})," ",l)),i.a.createElement(f.N,null,i.a.createElement(c.Field,{name:"shareAsPost",component:y.b,label:p,validate:A.g,style:{height:"75px",resize:"none",border:"none"},className:"qa-test-type-note-textarea"})),i.a.createElement("div",{className:"displayed-message-container rounded-top rounded-bottom"},i.a.createElement(G.a,{message:h,toBeSharedInPost:!0})),i.a.createElement(f.O,{className:"share-modal-footer"},!b&&!S&&i.a.createElement("div",{className:"external-share-btns"},i.a.createElement(D,{message:h,isEmailVerified:I,toggleVerifyModal:C}),i.a.createElement(B,{message:h,isEmailVerified:I,toggleVerifyModal:C})),i.a.createElement(ae,{toggleVerifyModal:C,message:h}),i.a.createElement(f.c,{color:"white",className:"qa-test-cancel",onClick:u},i.a.createElement(E.default,{string:"admin_pages,cancel",fallbackString:"Cancel"})),i.a.createElement(f.c,{color:"primary",type:"submit",disabled:!v,className:"qa-test-share-post-send-btn"},i.a.createElement(E.default,{string:"chats,send",fallbackString:"Send"}))))));var re=Object(c.reduxForm)({form:"sendToRecipientForm"})(({smallAvatar:e,fullName:t,displayName:a,isAmbassador:n,isStaff:r,isVerifiedTeacher:o,schoolName:l,attachedLink:d,toggle:u,message:h,handleSubmit:p,handleShareFormSubmit:m,notePlaceholder:g,reset:b,recipientsPlaceholder:v,isParent:I,isStudent:T,closeShareModal:k,isEmailVerified:O,toggleVerifyModal:_})=>i.a.createElement(s.Fragment,null,i.a.createElement(c.Form,{onSubmit:p(m)},i.a.createElement(f.N,null,i.a.createElement(c.Field,{name:"text",component:y.b,label:g,className:"qa-test-attach-modal-input",style:{height:"75px",resize:"none"}}),i.a.createElement(c.Field,{name:"recipients",component:S.a,placeHolderText:v,className:"my-3",validate:A.f,apiRequestMethod:C.b})),i.a.createElement("div",{className:"displayed-message-container rounded-top rounded-bottom"},i.a.createElement(G.a,{message:h,toBeSharedInPost:!0})),i.a.createElement(f.O,{className:"share-modal-footer"},!I&&!T&&i.a.createElement("div",{className:"external-share-btns"},i.a.createElement(D,{message:h,isEmailVerified:O,toggleVerifyModal:_}),i.a.createElement(B,{message:h,isEmailVerified:O,toggleVerifyModal:_})),i.a.createElement(f.c,{color:"white",className:"qa-test-cancel",onClick:k},i.a.createElement(E.default,{string:"admin_pages,cancel",fallbackString:"Cancel"})),i.a.createElement(f.c,{color:"primary",className:"qa-test-attach-note-send",type:"submit"},i.a.createElement(E.default,{string:"chats,send",fallbackString:"Send"})))))),se=a(1639);a(1946);var ie=Object(v.a)(({isOpen:e,toggle:t,translate:a,handleSubmit:n,attachedLink:r,handleShareFormSubmit:s,isSharingPublisherPage:o,isSharingSpotlightPage:l,toggleModalTab:c,activeModalTab:d,currentUser:u,currentUserProfile:h,message:p,handleShareAsPostSubmit:m,closeShareModal:g,shareAsPostValues:b,toggleVerifyModal:y,verifyUserEmailModalOpen:S,sendVerificationEmail:v,pushToEmailSettings:C})=>{const A=W.a.isAmbassador(u),I=W.a.isStaff(u),T=W.a.isVerifiedTeacher(u),k=W.a.getSchoolName(h),O=W.a.getLargeAvatar(u),_=W.a.getDisplayName(u),M=W.a.getFullName(u),N=W.a.isParent(u),w=W.a.isStudent(u),P=W.a.isEmailVerified(u),R=l?a&&a("note-to-share-resource-on-edmodo","Write a note about why you're sharing this resource."):a&&a("type-your-note","Type Your Note"),x=l&&a("share-on-edmodo-recipients-placeholder","Type the name of a group, student, or teacher...");return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.M,{isOpen:e,toggle:t,size:"md",centered:!0,className:"qa-test-send-to-modal tabbed-share-modal"},i.a.createElement(f.P,{toggle:t},"Share"),i.a.createElement(f.Q,{tabs:!0},i.a.createElement(f.R,null,i.a.createElement(f.S,{onClick:()=>c("1"),className:"".concat("1"===d&&"active-tab")},i.a.createElement(E.default,{string:"share-as-a-post",fallbackString:"Share as a post"}))),i.a.createElement(f.R,null,i.a.createElement(f.S,{onClick:()=>c("2"),className:"".concat("2"===d&&"active-tab ")},i.a.createElement(E.default,{string:"send-to-class-or-person",fallbackString:"Send to a class or person"})))),i.a.createElement(f.eb,{activeTab:d},i.a.createElement(f.fb,{tabId:"1"},i.a.createElement(ne,{smallAvatar:O,fullName:M,displayName:_,isAmbassador:A,isParent:N,isStudent:w,isStaff:I,isVerifiedTeacher:T,schoolName:k,attachedLink:r,toggle:t,message:p,notePlaceholder:R,handleShareAsPostSubmit:m,shareAsPostValues:b,toggleVerifyModal:y,isEmailVerified:P})),i.a.createElement(f.fb,{tabId:"2"},i.a.createElement(re,{isParent:N,isStudent:w,handleShareFormSubmit:s,recipientsPlaceholder:x,notePlaceholder:R,message:p,closeShareModal:g,toggleVerifyModal:y,isEmailVerified:P}))),i.a.createElement(se.a,{isModalOpen:S,toggleAlertModal:y,mainCtaAction:v,secondaryCtaAction:C})))}),oe=a(1797),le=a(511),ce=a(283),de=a(135),ue=a.n(de),he=a(13),pe=a(118),me=a(18),ge=a(48),fe=a(144),be=a.n(fe);a(17);const Ee={Accept:"application/json","Content-Type":"application/json"};var ye=a(63),Se=a(227),ve=a(46);const Ce=e=>({type:ce.a.COLLECTION_FETCH_SUCCESS,payload:e}),Ae=e=>({type:ce.a.COLLECTION_FETCH_FAILURE,payload:e}),Ie=e=>({type:ce.a.COLLECTION_ADD_SUCCESS,payload:e}),Te=e=>({type:ce.a.COLLECTION_UPDATE_SUCCESS,payload:e}),ke=e=>({type:ce.a.COLLECTION_DELETE_SUCCESS,payload:e}),Oe=(e,t)=>({type:ce.a.COLLECTION_PRODUCT_DELETE_SUCCESS,payload:{collectionId:e,productId:t}}),_e=(e,t)=>({type:ce.a.ATTACH_TO_THEME_SUCCESS,payload:{theme:e,options:t}}),Me=(e,t,a,n=!1,r=!1)=>function(s,i){const o=ye.a(i);return((e,t,a=null,n=null)=>ue()({method:pe.a.GET,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL)).concat(me.a.COLLECTIONS,"/").concat(a||"","?")+"".concat(be.a.stringify(n),"&")+"".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN)),headers:Ee,data:n}))(o.configInfo,o.accessToken,e,t).then(e=>{e.data.isPublicCollectionPage=n,e.data.isUpdateForSearch=r,s(Ce(e&&e.data&&e.data)),a&&a()}).catch(t=>{a&&a(),t&&t.response&&404===t.response.status&&s(Ae(e)),s(Object(ve.showErrorGlobalAlert)("internal-server-error","Something went wrong"))})},Ne=(e,t,a,n)=>function(r,s){const i=ye.a(s);return((e,t,a,n=null)=>ue()({method:n?pe.a.PUT:pe.a.POST,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL)).concat(me.a.COLLECTIONS,"/").concat(n||"","?")+"".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN)),headers:Ee,data:a}))(i.configInfo,i.accessToken,e,t).then(e=>{r(Ie(e.data)),r(t?Object(ve.showSuccessGlobalAlert)("collection-update-success","Collection updated successfully"):Object(ve.showSuccessGlobalAlert)("add-collection-success-message","Your collection have been saved")),a&&a()}).catch(e=>{n&&n(e&&e.response&&e.response.data)})},we=(e,t,a)=>function(n,r){const s=ye.a(r);return((e,t,a)=>ue()({method:pe.a.POST,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL),"/images/?")+"".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN)),data:a}))(s.configInfo,s.accessToken,e).then(e=>{n(Object(ve.showSuccessGlobalAlert)("image-success-message","Image have been saved")),t&&t(e&&e.data)}).catch(e=>{a&&a(e&&e.response&&e.response.data)})},Pe=(e,t,a)=>function(n,r){const s=ye.a(r);return((e,t,a=null)=>ue()({method:pe.a.DELETE,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL)).concat(me.a.COLLECTIONS,"/").concat(a,"?")+"".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN)),headers:Ee}))(s.configInfo,s.accessToken,e).then(a=>{n(ke(e)),n(Object(ve.showSuccessGlobalAlert)("collection-delete-success","Collection deleted successfully")),t&&t()}).catch(e=>{n(Object(ve.showErrorGlobalAlert)("internal-server-error","Something went wrong")),a&&a(e&&e.response)})},Re=(e,t,a,n)=>function(r,s){const i=ye.a(s);return((e,t,a,n)=>ue()({method:pe.a.DELETE,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL)).concat(me.a.COLLECTIONS,"/").concat(a)+"".concat(me.a.SPOTLIGHT_PRODUCTS).concat(n)+"?".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN)),headers:Ee}))(i.configInfo,i.accessToken,e,t).then(n=>{r(Oe(e,t)),r(Object(ve.showSuccessGlobalAlert)("collection-item-delete-success","Collection item deleted successfully")),a&&a()}).catch(e=>{r(Object(ve.showErrorGlobalAlert)("internal-server-error","Something went wrong")),n&&n(e&&e.response)})},xe=()=>function(e){e(Object(Se.c)("shareModalForm"))},Le=(e,t,a)=>function(n,r){const s=ye.a(r);return((e,t,a)=>ue()({method:pe.a.POST,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL)).concat(me.a.SHARE_ON_EDMODO,"?")+"".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN)),headers:Ee,data:a}))(s.configInfo,s.accessToken,e).then(e=>{n(Object(ve.showSuccessGlobalAlert)("shared-edmodo-success","Shared on edmodo successfully")),t&&t()}).catch(e=>{a&&a(e&&e.response&&e.response.data)})},De=()=>function(e){e(Object(Se.c)("addCollectionForm"))},Fe=(e,t,a,n)=>function(r,s){const i=ye.a(s);return((e,t,a,n=null)=>ue()({method:n?pe.a.PUT:pe.a.POST,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL)).concat(me.a.SPOTLIGHT_THEMES).concat(n||"")+"?".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN))+"&request_origin=react-web-app",headers:Ee,data:a}))(i.configInfo,i.accessToken,e,t).then(t=>{r(_e(t.data,e)),r(Object(ve.showSuccessGlobalAlert)("attach-theme-success-message","Theme updated successfully")),a&&a()}).catch(e=>{n&&n(e&&e.response&&e.response.data)})},Ue=(e,t,a)=>function(n,r){const s=ye.a(r);return((e,t,a=null)=>ue()({method:pe.a.GET,url:"".concat(e.get(ge.a.SPOTLIGHT_BASE_URL)).concat(me.a.SPOTLIGHT_THEMES).concat(a||"","?")+"".concat(he.a.ACCESS_TOKEN,"=").concat(t.get(he.a.ACCESS_TOKEN)),headers:Ee}))(s.configInfo,s.accessToken,e).then(r=>{e&&n(_e(r.data,{collection_id:t})),a&&a(t,e)}).catch(e=>{a&&a(),n(Object(ve.showErrorGlobalAlert)("internal-server-error","Something went wrong"))})},Be=()=>function(e){e(Object(Se.c)("attachToThemeForm"))};var Ge=a(1269),je=a(394);const ze=(e,t)=>({type:je.a.TRACK_PUBLIC_POST_SHARE_MODAL_OPEN,payload:{context:e,properties:t}}),qe=(e,t)=>({type:je.a.TRACK_PUBLIC_POST_SHARE_AS_POST_SUBMIT,payload:{context:e,properties:t}}),He=(e,t)=>({type:je.a.TRACK_PUBLIC_POST_SHARE_TO_RECIPIENT_SUBMIT,payload:{context:e,properties:t}});var Ve=a(162),We=a(1722),Qe=a(136);class Ye extends s.Component{constructor(e){super(e),this.state={activeModalTab:"1",isSending:!1,verifyUserEmailModalOpen:!1},this.getAttachedLink=this.getAttachedLink.bind(this),this.handleShareFormSubmit=this.handleShareFormSubmit.bind(this),this.trackShareSubmit=this.trackShareSubmit.bind(this),this.trackShareModalDisplay=this.trackShareModalDisplay.bind(this),this.toggleModalTab=this.toggleModalTab.bind(this),this.sendingData=this.sendingData.bind(this),this.makePostPayload=this.makePostPayload.bind(this),this.handleShareAsPostSubmit=this.handleShareAsPostSubmit.bind(this),this.toggleVerifyModal=this.toggleVerifyModal.bind(this),this.sendVerificationEmail=this.sendVerificationEmail.bind(this),this.pushToEmailSettings=this.pushToEmailSettings.bind(this),this.emailVerificationSuccess=this.emailVerificationSuccess.bind(this)}componentDidUpdate(e){const t=this.props,a=t.isOpen,n=t.reset;e.isOpen!==a&&(a?this.trackShareModalDisplay():n&&n())}sendingData(e){this.setState({isSending:e})}toggleModalTab(e){this.state.activeModalTab!==e&&this.setState({activeModalTab:e})}getAttachedLink(){const e=this.props,t=e.message,a=e.linkUrl,n=e.linkTitle;let r;if(t){const e=M.a.getId(t),a=M.a.getMessageCreator(t),n=W.a.getDisplayName(a),s=M.a.getText(t),i="".concat(n,": ").concat(s);r={url:_.a.makeAddPostToLibraryLink(e),title:i}}else a&&n&&(r={url:a,title:n});return r}getPostParams(e,t){const a=e.get("text"),n=Qe.a.formatRecipients(e.get("recipients"));return{content_type:"note",content:{text:a,attachments:{links:[{title:t.title,link_url:t.url,thumb_url:this.props.isSharingSpotlightPage?this.props.thumbUrl:null}]},product_id:this.props.productId},recipients:n}}trackShareSubmit(){const e=this.props,t=e.trackingContext,a=e.trackingProperties,n=e.isSharingPublisherPage,r=e.isSharingMessage,s=e.edmodoPagesTrackingActions,i=e.streamTrackingActions;t&&(n?s.trackPageShareSubmit(a):r&&i.trackShareSubmit(t,a))}trackShareModalDisplay(){const e=this.props,t=e.trackingContext,a=e.trackingProperties,n=e.isSharingPublisherPage,r=e.isSharingMessage,s=e.edmodoPagesTrackingActions,i=e.streamTrackingActions,o=e.publicPostShareModalTrackingActions,l=e.message,c=e.currentUser,d=M.a.isNoteMessageType(l),u=M.a.isMessagePublic(l),h=W.a.isParent(c),p=W.a.isStudent(c),m=this.props.isCurrentUserInSharingRedesignABTest&&l&&d&&!h&&!p&&u;t&&(n?s.trackShareModalDisplay(a):m?o.userClickOpenPublicPostShareModal(t,a):r&&i.trackShareModalDisplay(t,a))}handleShareFormSubmit(e){const t=this.props,a=t.toggle,n=t.reset,r=t.message,s=t.currentUser,i=t.trackingContext,o=t.trackingProperties,l=t.publicPostShareModalTrackingActions,c=this.getAttachedLink(),d=this.getPostParams(e,c),u=M.a.isNoteMessageType(r),h=M.a.isMessagePublic(r),p=W.a.isParent(s),m=W.a.isStudent(s);if(this.props.isCurrentUserInSharingRedesignABTest&&r&&u&&!p&&!m&&h){const t=d.content.text,a=R.a(t)&&R.a(t).join(","),n=e.get("recipients"),r=(n&&n.map(e=>g.a[e[0]])).join(","),s=Object.assign(o,{recipient_types:r,hashtags_in_string:a});l.userSubmitShareToRecipient(i,s)}else this.trackShareSubmit();this.props.isSharingSpotlightPage?(this.props.spotlightCollectionActions.postMessages(d,this.props.handleShareFormSubmitSuccess,this.props.handleShareFormSubmitFailure),a()):(this.props.postActions.makePost(d,!0),n&&n(),a())}makePostPayload(e){const t=this.props,a=t.currentUser,n=t.message,r=t.chosenRecipientForPost,s=W.a.getUserId(a),i=M.a.getId(n),o=e.get("shareAsPost"),l={messages:[{id:i}]},c={connections:[{id:s}]},d=parseInt(r.recipientId,10);We.a.defaultPublicNoteParams();let u=h.a.cloneDeep(We.a.defaultNoteParams());return u.content.text=o,u.content.attachments=l,r&&100!==d?u.recipients=d===s?c:this.getDropListRecipientsAsPostData():u=Object.assign({},u,We.a.defaultPublicNoteParams()),u}getDropListRecipientsAsPostData(){const e=this.props,t=e.chosenRecipientForPost,a=e.userRecipients,n=parseInt(t.recipientId,10),r=V.a.getRecipientById(a,n),s={};if(r){const e=g.b[V.a.getRecipientType(r)];e&&(s[e]=[{id:parseInt(n,10)}])}return s}handleShareAsPostSubmit(e){const t=this.props,a=t.accessToken,n=t.postActions,r=t.publicPostShareModalTrackingActions,s=t.reset,i=t.toggle,o=t.trackingContext,l=t.trackingProperties,c=t.chosenRecipientForPost;if(Q.a.isValid(a)){this.state.sendingData&&this.sendingData(!0);const t=this.makePostPayload(e),a=t.content.text,d=R.a(a)&&R.a(a).join(","),u=c?Object.assign(c,{hashtags_in_string:d}):Object.assign(l,{hashtags_in_string:d,recipientId:100});Object(p.a)("---\x3emsgPayload:",t),n.makePost(t,!1,null),r.userSubmitShareAsPost(o,u),s&&s(),i()}}toggleVerifyModal(){this.setState({verifyUserEmailModalOpen:!this.state.verifyUserEmailModalOpen})}sendVerificationEmail(){const e=this.props.currentUser,t=W.a.getUserEmail(e);this.props.userActions.sendVerificationEmail(t,this.emailVerificationSuccess)}emailVerificationSuccess(){this.toggleVerifyModal()}pushToEmailSettings(){this.props.history.push("".concat(m.a.SETTINGS_PAGE).concat(m.a.NOTIFICATIONS_PAGE))}render(){const e=this.props,t=e.currentUser,a=e.currentUserProfile,n=e.message,r=e.closeShareModal,s=e.shareAsPostValues,o=e.publicPostShareModalTrackingActions,l=M.a.isNoteMessageType(n),c=M.a.isMessagePublic(n),d=W.a.isParent(t),u=W.a.isStudent(t),h=this.getAttachedLink(),p=this.props.isCurrentUserInSharingRedesignABTest&&n&&l&&!d&&!u&&c?ie:T;return i.a.createElement(p,Object.assign({},this.props,{attachedLink:h,handleShareFormSubmit:this.handleShareFormSubmit,handleShareAsPostSubmit:this.handleShareAsPostSubmit,toggleModalTab:this.toggleModalTab,activeModalTab:this.state.activeModalTab,currentUser:t,currentUserProfile:a,message:n,onSubmit:this.handleShareFormSubmit,closeShareModal:r,shareAsPostValues:s,toggleVerifyModal:this.toggleVerifyModal,verifyUserEmailModalOpen:this.state.verifyUserEmailModalOpen,sendVerificationEmail:this.sendVerificationEmail,pushToEmailSettings:this.pushToEmailSettings,publicPostShareModalTrackingActions:o}))}}t.default=Object(l.a)(Object(o.connect)((function(e){return{accessToken:X.d(e),currentUser:X.c(e),chosenRecipientForPost:Ve.b(e),userRecipients:$.c(e),shareAsPostValues:Object(c.getFormValues)("shareAsPostForm")(e)}}),(function(e){return{postActions:Object(d.bindActionCreators)(Y,e),streamTrackingActions:Object(d.bindActionCreators)(Ge,e),homePageTrackingActions:Object(d.bindActionCreators)(Z,e),edmodoPagesTrackingActions:Object(d.bindActionCreators)(oe,e),spotlightCollectionActions:Object(d.bindActionCreators)(n,e),userActions:Object(d.bindActionCreators)(le,e),publicPostShareModalTrackingActions:Object(d.bindActionCreators)(r,e)}}))(Object(v.a)(Ye)))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s="Connect",i="Invite",o="Accept",l="Dismiss",c="Message",d=a(133),u=a(1199),h=a(134),p=a(73),m=a(296),g=a(1313),f=a(36),b=a(10),E=a(522);var y=e=>t=>{class a extends n.Component{constructor(t,a){super(t,a),this.state=e,this.handleClick=this.handleClick.bind(this)}componentDidMount(){}UNSAFE_componentWillReceiveProps(e){}handleClick(e,t){switch(this.state.title){case i:this.props.connectionActions.inviteUserToConnect(e);break;case o:this.props.connectionActions.acceptConnection(e).then(()=>{this.props.connectionActions.fetchConnectionRequestsForCurrentUser()}).catch(e=>{f.a.notifyBugsnag(e,"ConnectivityButtonFactory.acceptConnection")});break;case l:this.props.connectionActions.dismissConnectionRequest(e).then(()=>{this.props.connectionActions.fetchConnectionRequestsForCurrentUser()}).catch(e=>{f.a.notifyBugsnag(e,"ConnectivityButtonFactory.dismissConnectionRequest")});break;case c:this.props.chatRoomId?this.props.history.push("".concat(b.a.MESSAGES_PAGE,"/").concat(this.props.chatRoomId)):this.props.history.push("".concat(b.a.MESSAGES_PAGE,"/new")+"?new_recipient_id=".concat(t,"&new_recipient_title=").concat(this.props.userName));break;default:if(this.props.connectionActions.makeConnectionRequest(t),this.props.context&&"profile_page"===this.props.context){const e={connectingUserId:t};this.props.profilePageTrackingActions.connectionsConnectButtonClick(e)}}}render(){return r.a.createElement(t,Object.assign({},this.props,this.state,{handleClick:this.handleClick}))}}return Object(u.a)(Object(d.connect)((function(e,t){return{currentUser:p.c(e),authStatus:m.b(e)}}),(function(e){return{connectionActions:Object(h.bindActionCreators)(g,e),profilePageTrackingActions:Object(h.bindActionCreators)(E,e)}}))(a))},S=a(1213),v=a(156);const C={title:s,className:"add-connection-btn profile-btn"};t.a=y(C)(({userId:e,connectionId:t,handleClick:a,context:n})=>r.a.createElement(S.a,{weight:"loud",onClick:()=>a(t,e),qaSelector:"qa-test-connection-add"},n&&"profile_page"===n?r.a.createElement(v.default,{string:"connect",fallbackString:"Connect"}):r.a.createElement(v.default,{string:"add-connection",fallbackString:"Add Connection"})))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(156),i=a(1666),o=a(1728),l=a(1199),c=a(134),d=a(133),u=a(1639),h=a(511),p=a(14),m=a(73),g=a(10);class f extends n.Component{constructor(e){super(e),this.sendVerificationEmail=this.sendVerificationEmail.bind(this),this.pushToEmailSettings=this.pushToEmailSettings.bind(this)}sendVerificationEmail(){const e=this.props,t=e.currentUser,a=e.userActions,n=p.a.getUserEmail(t);a.sendVerificationEmail(n,this.props.toggle)}pushToEmailSettings(){this.props.history.push("".concat(g.a.SETTINGS_PAGE).concat(g.a.NOTIFICATIONS_PAGE))}render(){const e=this.props,t=e.currentUser,a=e.isModalOpen,n=e.toggle;return p.a.isEmailVerified(t)?null:r.a.createElement(u.a,{isModalOpen:a,toggleAlertModal:n,mainCtaAction:this.sendVerificationEmail,secondaryCtaAction:this.pushToEmailSettings})}}var b=Object(l.a)(Object(d.connect)((function(e,t){return{currentUser:m.c(e)}}),(function(e){return{userActions:Object(c.bindActionCreators)(h,e)}}))(f)),E=a(386),y=a(1203),S=a.n(y),v=a(38),C=a(95),A=a(175),I=a(108),T=a(509),k=a(1279),O=a(42),_=a(1308),M=a(1309),N=a(1281),w=a(1230),P=(a(1725),a(1799)),R=a(192),x=a(1212);const L=Object(O.a)(()=>Promise.all([a.e(322),a.e(10),a.e(31),a.e(332)]).then(a.bind(null,3029)));t.a=Object(T.a)(Object(k.a)(({currentUser:e,messageId:t,liked:a,isReadOnly:n,reactionId:l,message:c,translate:d,isShareableItem:u,trumpetOrRecEng:h,shareableItemDomain:m,handleLikeClick:g,handleReplyIconClick:f,handleShareModalToggle:y,shouldDisplayMessageTeacherButton:T,canReply:k,handleMessageTeacherBtnClick:O,shouldDisplayStudentPlannerButton:D,fromDiscoverPage:F,handleSaveClick:U,isVideoSaved:B,abTestInfo:G,accessToken:j,attachedMessage:z,trackLoggedOutLikeClick:q,trackLoggedOutShareClick:H,isInteractionsDisabled:V,isPublic:W,isAlertModalOpen:Q,toggleAlertModal:Y,sendVerificationEmail:K,pushToEmailSettings:J,isEmailVerificationModalOpen:Z,toggleEmailVerificationModal:X})=>{const $=v.a.getMessageCreator(c),ee=v.a.isPromotedMessage(c),te=v.a.getText(c),ae=p.a.getFullName($),ne=p.a.getId($),re=p.a.isParent(e),se=!p.a.isEmailVerified(e)&&W;if(T){const e=v.a.getType(c),a=I.a.processPrefilledChatMessageForPost(c,d);return r.a.createElement("div",{style:{borderTop:"1px solid #dfe4e8",textAlign:"center",height:"52px",cursor:"pointer"},className:"d-flex align-items-center justify-content-center qa-test-stream-message-".concat(t),onClick:()=>O(ne,ae,a,t,e)},r.a.createElement(w.default,{size:24,color:S.a.gray[30]}),r.a.createElement(s.default,{string:"message-teacher",fallbackString:"Message Teacher",style:{fontSize:"14px",fontWeight:"400",color:S.a.gray[60],margin:"0 8px"}}))}let ie=parseInt(v.a.getMessageReactionsNumber(c)||0,10);ie=ie<1&&a?1:ie;const oe=ie>0?"".concat(ie," "):"",le="".concat(oe).concat(ie>1?d&&d(E.a.LIKES):d&&d(E.a.LIKE)),ce=C.a.getNumberOfMessageReplies(c)>0&&C.a.getNumberOfMessageReplies(c),de=A.a.currentUserRepliedToMessage(c,e);let ue=void 0;V||(ue=se?X:y);return r.a.createElement("div",{className:"message-footer container-fluid"},r.a.createElement(i.a,{doBeforeRedirect:q},r.a.createElement("li",{role:"button",className:"reaction-container qa-class-reaction-container qa-test-like-reaction tooltip-like-reaction ".concat(V?"disabled":""),onClick:V?void 0:g,onKeyDown:V?void 0:g,"data-liked":a,"data-message":t,"data-reaction":l,"data-shareableitem":u,"data-recengine":h,"data-shareabledomain":m,"data-ispromotedmessage":ee,messagetext:te,messageid:t,tabIndex:0,id:"like-container-"+t},r.a.createElement(_.default,{size:28,className:a?"thumb-icon":"unliked"}),r.a.createElement("div",{className:a?"liked footer qa-test-liked":"unliked footer qa-test-unliked"},le))),r.a.createElement(o.a,{message:c}),!F&&!n&&r.a.createElement(i.a,null,r.a.createElement("li",{role:"button",className:"reaction-container qa-class-reaction-container qa-test-comment-reaction tooltip-reaction-container ".concat(V?"disabled":""),"data-message":t,onClick:V?void 0:f,onKeyDown:V?void 0:f,tabIndex:0},r.a.createElement(M.default,{size:28,className:de?"reply-icon":"unreplied"}),r.a.createElement("div",{className:de?"replied footer":"unreplied footer"},ce," ",ce>1?d&&d(E.a.COMMENTS):d&&d(E.a.COMMENT)))),F?r.a.createElement(r.a.Fragment,null,B?r.a.createElement("li",{role:"button",className:"reaction-container saved-status-text qa-test-saved-to-library","data-message":t,tabIndex:0},r.a.createElement(x.default,{size:24,color:S.a.olive[50]}),r.a.createElement(s.default,{string:"saved",fallbackString:"Saved"})):r.a.createElement("li",{role:"button",className:"reaction-container save-btn qa-test-save-to-library ".concat(V?"disabled":""),"data-message":t,onClick:V?void 0:U,tabIndex:0},r.a.createElement(P.a,{isTeacher:R.a.isTeacher(j),classNames:"save-icon",fillColor:S.a.gray[30]}),r.a.createElement(s.default,{string:"save",fallbackString:"Save"}))):r.a.createElement(r.a.Fragment,null,!re&&!D&&(he=c,!v.a.isNoteMessageType(he)&&!v.a.isShareableItemMessage(he)||z?null:r.a.createElement(i.a,{doBeforeRedirect:H},r.a.createElement("li",{role:"button",className:"reaction-container qa-class-reaction-container qa-test-share-reaction ".concat(V?"disabled":""),"data-message":t,messageid:t,messagetext:te,onClick:ue,tabIndex:0},r.a.createElement(N.default,{size:22,className:"share-icon"}),r.a.createElement("div",{className:"share footer"},r.a.createElement(s.default,{string:"share",fallbackString:"Share"})))))),D&&r.a.createElement(L,{message:c,isInteractionsDisabled:V}),W&&r.a.createElement(b,{isModalOpen:Z,toggle:X}));var he}))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(0),i=a(1486),o=a(1664),l=a(1657),c=a(1482),d=a(1520),u=a(1340),h=a(1658),p=a(1211),m=a(1639),g=a(1264),f=a(509),b=a(15),E=a(273),y=a(1199),S=a(134),v=a(133),C=a(5),A=a.n(C),I=a(212),T=a(253),k=a(511),O=a(1780),_=a(297),M=a(1269),N=a(328),w=a(192),P=a(14),R=a(254),x=a(38),L=a(1289),D=a(1288),F=a(1549),U=a(1349),B=a(73),G=a(369),j=a(162),z=a(199),q=a(436),H=a(45),V=a(201),W=a(36),Q=a(1468),Y=a(1246),K=a(3),J=a(1),Z=a(275),X=a(366),$=a(24),ee=a(145),te=a(10),ae=a(64),ne=a(1647),re=a(95);var se=e=>{class t extends n.Component{constructor(e){super(e),this.state={postReplyId:null,inactive:!0,showTools:!1,showMentionsDropMenu:!1,typeAheadItems:null,selectedLink:null,selectedEmbedSrc:null,replyAttachLinkModalOpen:!1,replyLibraryModalOpen:!1,disabledReplyButton:!0,replyParams:{message_id:null,text:"",parent_reply_id:null,parent_id:null,mentions:[]},replyAttachments:{files:[],links:[],embeds:[],multimedia_items:[]},attachedLibraryItems:[],attachedOneDriveItems:[],attachedGoogleDriveItems:[],filesInProgressAttaching:[],verifyUserEmailModalOpen:!1},this.textInput=null,this.setTextInputRef=e=>{this.textInput=e},this.focusTextInput=e=>{e&&(e.focus(),this.setState({postReplyId:this.props.messageId,showTools:!0}))},this.blurTextInput=e=>{e&&e.blur()},this.clearField=this.clearField.bind(this),this.handleAttachedFilesBegin=this.handleAttachedFilesBegin.bind(this),this.setUploadProgressInFile=this.setUploadProgressInFile.bind(this),this.handleDismissReplyAttachment=this.handleDismissReplyAttachment.bind(this),this.handleReplyTextChange=this.handleReplyTextChange.bind(this),this.changeTextAreaHeight=this.changeTextAreaHeight.bind(this),this.setShowPostReplyTools=this.setShowPostReplyTools.bind(this),this.handlePostReplyCancel=this.handlePostReplyCancel.bind(this),this.handleReplyAttachLinkBtnClick=this.handleReplyAttachLinkBtnClick.bind(this),this.handleAttachLinkTextBlur=this.handleAttachLinkTextBlur.bind(this),this.handleAttachLinkPaste=this.handleAttachLinkPaste.bind(this),this.handleAttachLinkCTAClick=this.handleAttachLinkCTAClick.bind(this),this.handleAttachLinkTitleChange=this.handleAttachLinkTitleChange.bind(this),this.handleAttachLinkCancel=this.handleAttachLinkCancel.bind(this),this.handleAddFromLibraryClick=this.handleAddFromLibraryClick.bind(this),this.handleAttachedLibraryFiles=this.handleAttachedLibraryFiles.bind(this),this.handleAddFromLibraryClose=this.handleAddFromLibraryClose.bind(this),this.handleReplySubmit=this.handleReplySubmit.bind(this),this.handleReplySubmitCb=this.handleReplySubmitCb.bind(this),this.handleSelectedMentionsChange=this.handleSelectedMentionsChange.bind(this),this.fetchRecipientsByQueryForMessage=this.fetchRecipientsByQueryForMessage.bind(this),this.replaceAtMentionEntryWithFullName=this.replaceAtMentionEntryWithFullName.bind(this),this.handleMentionsBlur=this.handleMentionsBlur.bind(this),this.isUploadInProgress=this.isUploadInProgress.bind(this),this.toggleAlertModal=this.toggleAlertModal.bind(this),this.sendVerificationEmail=this.sendVerificationEmail.bind(this),this.pushToEmailSettings=this.pushToEmailSettings.bind(this),this.emailVerificationSuccess=this.emailVerificationSuccess.bind(this),this.handleGifAttachmentPickerClick=this.handleGifAttachmentPickerClick.bind(this)}UNSAFE_componentWillReceiveProps(e){e.selectedLibraryItemsAttachmentList&&e.selectedLibraryItemsAttachmentList.length&&this.setAttachedLibraryItems(e.selectedLibraryItemsAttachmentList),e.selectedOneDriveItemsAttachmentList&&e.selectedOneDriveItemsAttachmentList.length&&this.setState({attachedOneDriveItems:N.a.transformSsoItems(e.selectedOneDriveItemsAttachmentList,"one_drive")}),e.selectedGoogleDriveItemsAttachmentList&&e.selectedGoogleDriveItemsAttachmentList.length&&this.setState({attachedGoogleDriveItems:N.a.transformSsoItems(e.selectedGoogleDriveItemsAttachmentList,"google_drive")}),e.s3UploadProgress&&this.setUploadProgressInFile(e.s3UploadProgress)}componentDidUpdate(){this.props.isModal?this.props.activeModalReplyInput&&this.props.activeModalReplyInput.get("".concat(this.props.messageId))&&this.state.inactive&&(this.focusTextInput(this.textInput),this.props.streamActions.setModalReplyFocus(this.props.messageId,!1)):this.props.activeReplyInput&&this.props.activeReplyInput.get("".concat(this.props.messageId))&&this.state.inactive&&(this.focusTextInput(this.textInput),this.isGroupStream()?this.props.streamActions.setReplyFocusAction(this.props.messageId,!1,this.props.currentGroupId):this.isProfileStream()||this.isProfileRepliesStream()?this.props.streamActions.setReplyFocusAction(this.props.messageId,!1,null,this.props.userProfileId):this.props.streamActions.setReplyFocusAction(this.props.messageId,!1))}setShowPostReplyTools(e){e.stopPropagation(),e.preventDefault();const t=parseInt(this.textInput.id,10);this.setState({postReplyId:t,showTools:!0})}setUploadProgressInFile(e){if(e){const t=R.a.getFileUploadProgress(e),a=A.a.cloneDeep(this.state.filesInProgressAttaching),n=a.findIndex(t=>t.id===e.file.id);n>-1&&a[n].progress!==t&&(a[n].progress=t,this.setState({filesInProgressAttaching:a}))}}handleAttachedFilesBegin(e){if(!Array.isArray(e)||0===e.length)return;const t=parseInt(this.textInput.id,10);let a=A.a.cloneDeep(this.state.filesInProgressAttaching),n=[];e.forEach(e=>{-1===a.findIndex(t=>t.s3_name===e.s3_name)&&(e.progress=0,n.push(e))}),a=a.concat(n),this.setState({replyAttachmentId:t,filesInProgressAttaching:a})}isUploadInProgress(){return-1!==this.state.filesInProgressAttaching.findIndex(e=>e&&e.progress<100)}clearField(){this.textInput.value="",this.setState({disabledReplyButton:!0}),this.textInput.style&&this.textInput.style.height&&(this.textInput.style.height=Z.a.REPLY_DEFAULT_HEIGHT)}handlePostReplyCancel(){this.clearField(),this.blurTextInput(this.textInput),this.props.handleReplyIconReset(),this.setState({postReplyId:null,showTools:!1,inactive:!0})}changeTextAreaHeight(e){e.target.style.height=Z.a.REPLY_DEFAULT_HEIGHT,e.target.style.height="".concat(e.target.scrollHeight,"px"),this.handleReplyTextChange(e)}handleReplyTextChange(e){if(e.preventDefault(),e.stopPropagation(),this.setState({disabledReplyButton:!(this.textInput.value&&this.textInput.value.trim().length)}),e&&e.target){const a=q.b(e.currentTarget.dataset.message),n=q.b(e.currentTarget.dataset.parentreply),r=this.textInput.value,s=A.a.cloneDeep(this.state.replyParams),i={message_id:a,parent_reply_id:n,text:r};let o=Object.assign({},s,i);o.mentions&&o.mentions.length&&(o=re.a.decorateReplyParamsTextWithMentionFormat(o,this.state.currentMentionText)),this.setState({replyParams:o});const l=/@([a-zA-Z.0-9]+)$/;if(l.test(r)){const e=r.match(l);let n,s;console.log("match:",e);var t=Object(E.a)(e,2);n=t[0],s=t[1],this.setState({currentMentionText:n}),this.fetchRecipientsByQueryForMessage(s,a)}else this.resetTypeAheadItems()}}getUnifiedFilesForSubmit(){const e=[];return this.state.filesInProgressAttaching.forEach(t=>{const a=t.file_name.split(".")[1],n={id:t.id,file_type:a,s3_name:t.s3_name,file_name:t.file_name,thumb_url:N.a.getAttachmentIcon(a),view_url:"#",size:t.size,progress:101};e.push(Object(s.Map)(n))}),Object.assign({},this.state.replyAttachments).files.concat(e)}handleDismissReplyAttachment(e){const t=e.currentTarget.dataset.attachmentId,a=e.currentTarget.dataset.attachmentType;if("false"!==e.currentTarget.dataset.fromLibrary){const e=Object.assign({},this.state.replyAttachments);e[a]=e[a]&&e[a].filter(e=>e.get(K.a.ID).toString()!==t.toString()),this.setState({replyAttachments:e,removeFile:t})}else{let e=this.state.filesInProgressAttaching.slice(0);e=e.map(e=>e.s3_name!==t?e:null).filter(Boolean),this.setState({filesInProgressAttaching:e,removeFile:t})}}handleReplyAttachLinkBtnClick(){this.blurTextInput(this.textInput),this.setState({replyAttachLinkModalOpen:!this.state.replyAttachLinkModalOpen})}handleAttachLinkTextBlur(e){const t=!!this.state.selectedEmbedSrc;Q.b({uri:e.target.value}).then(e=>(this.setState({selectedLink:e.data}),e)).then(e=>{!e.data||e.data.title||t?e.data&&t&&this.getEmbedLinkInfo(this.state.selectedEmbedSrc):this.setSelectedLinkByPollingWebpageApi(e.data.id)}).catch(e=>{Object(H.a)("error:",e),W.a.notifyBugsnag(e,"WithPostReplyInteractionsFactory.handleAttachLinkTextBlur")})}getEmbedLinkInfo(e){Q.b({uri:e}).then(e=>{const t=e&&e.data&&e.data.title;if(t){const e=A.a.cloneDeep(this.state.selectedLink);e.title=t,this.setState({selectedLink:e})}return e}).catch(e=>{W.a.notifyBugsnag(e,"WithPostReplyInteractionsFactory.getEmbedLinkInfo")})}handleAttachLinkPaste(e){const t=e.clipboardData.getData("Text"),a=V.f(t);a&&this.setState({selectedEmbedSrc:a})}setSelectedLinkByPollingWebpageApi(e,t=2,a=2e3,n=0){Q.a(e).then(r=>{if(n<t&&r.data&&!r.data.title)setTimeout(()=>{this.setSelectedLinkByPollingWebpageApi(e,t,a,n+1)},a);else{if(!r.data||!r.data.title){const e=A.a.cloneDeep(this.state.selectedLink);return e.timed_out=!0,this.setState({selectedLink:e}),null}this.setState({selectedLink:r.data})}}).catch(e=>{W.a.notifyBugsnag(e,"WithPostReplyInteractionsFactory.setSelectedLinkByPollingWebpageApi")})}handleAttachLinkTitleChange(e){if(this.state.selectedLink){const t=JSON.parse(JSON.stringify(this.state.selectedLink));t.title=e.target.value,this.setState({selectedLink:t})}}handleAttachLinkCTAClick(){const e=parseInt(this.textInput.id,10),t=!!this.state.selectedEmbedSrc,a=Object.assign({},this.state.replyAttachments);if(t){const t=this.state.selectedLink,n=t.title,r=t.uri,i=this.state.selectedLink.id.toString(),o=V.d(r);if(V.t(o)){const t={title:n,content:o,id:i};a.embeds.push(Object(s.Map)(t)),this.setState({replyAttachmentId:e,replyAttachments:a})}else Object(H.a)("Embed src not whitelisted: ".concat(o))}else{const t=this.state.selectedLink,n=t.title,r=t.uri,i=t.image,o={id:N.a.generateRandomKey(),title:n,link_url:r,thumb_url:i};a.links.push(Object(s.Map)(o)),this.setState({replyAttachmentId:e,replyAttachments:a})}this.setState({selectedLink:null,selectedEmbedSrc:null,replyAttachLinkModalOpen:!1})}handleAttachLinkCancel(){this.setState({selectedLink:null,selectedEmbedSrc:null,replyAttachLinkModalOpen:!1})}handleAddFromLibraryClick(){this.setState({replyLibraryModalOpen:!0})}setAttachedLibraryItems(e){const t=[];e&&e.forEach(e=>{if(e){const a=A.a.cloneDeep([...e.get("item")]).reduce((function(e,t){return e[t[0]]=t[1],e}),{libraryItemId:e.get("id"),type:e.get("type"),source:"edmodo"});t.push(Object(s.Map)(a))}});const a=parseInt(this.textInput.id,10);this.setState({replyAttachmentId:a,attachedLibraryItems:t})}handleAttachedLibraryFiles(){const e=A.a.cloneDeep(this.state.replyAttachments),t=N.a.unique(e.links,e.files,e.embeds,this.state.attachedLibraryItems,this.state.attachedGoogleDriveItems,this.state.attachedOneDriveItems),a=Object.assign({},e,t);this.setState({replyLibraryModalOpen:!1,replyAttachments:a})}handleAddFromLibraryClose(){this.setState({replyLibraryModalOpen:!1})}handleGifAttachmentPickerClick(e){const t=this.props,a=t.messageId,n=t.message,r=t.shareableItemDomain,s=t.trumpetOrRecEng,i=x.a.isPromotedMessage(n),o=parseInt(this.textInput.id,10),l=Object(b.a)({},this.state.replyAttachments,{multimedia_items:[e]});this.setState({replyAttachmentId:o,replyAttachments:l},()=>{this.state.replyParams.text||this.handleReplySubmit(a,i,r,s,"true")})}handleReplySubmitCb(e){const t=e.currentTarget.dataset,a=t.message,n=t.shareableitem,r=t.recengine,s=t.shareabledomain,i=t.ispromotedmessage,o=q.b(a);this.handleReplySubmit(o,i,s,r,n)}handleReplySubmit(e,t,a,n,r){const s=this.props.trackingContext,i={message_id:e,is_promoted_message:"true"===t};switch(s&&this.props.streamTrackingActions.trackReplySubmit(s,i),s){case ee.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamPostReplySubmit(i,ae.a.SCHOOL_COMMUNITY);break;case ee.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamPostReplySubmit(i,ae.a.DISTRICT_COMMUNITY)}const o={source:n,domain:a};if(r&&this.props.inorganicPostTrackingActions.userCommentedOnPost(o),w.a.isValid(this.props.accessToken)){const t=this.state.replyParams,a=Object.assign({},this.state.replyAttachments);a.files=this.getUnifiedFilesForSubmit(),t.attachments=N.a.getPostReplyPayload(a),t.message_id=e,t.streamName=this.props.streamName,this.isGroupStream()?t.groupId=this.props.currentGroupId:this.isProfileStream()||this.isProfileRepliesStream()?t.userProfileId=this.props.userProfileId:this.isDistrictStream()?t.districtId=this.props.currentDistrictId:this.isChildStream()?t.childId=this.props.childId:this.isHashtagStream()&&(t.hashtag=this.props.currentHashtagOnHomePage),this.props.replyActions.replyToMessageOrAnotherReply(t),this.setState({replyParams:{message_id:null,text:"",parent_reply_id:null,parent_id:null,mentions:[]},replyIconClicked:!1,postReplyId:null,replyAttachments:{files:[],links:[],embeds:[]},inactive:!0,filesInProgressAttaching:[]}),this.clearField()}}updateReplyParamsByMention(e){const t=A.a.cloneDeep(this.state.replyParams);e&&(t.mentions.push(e),t.text=t.text.replace(this.state.currentMentionText,"@[".concat(e.key,"]"))),this.setState({replyParams:t})}handleMentionsBlur(){this.resetTypeAheadItems()}handleSelectedMentionsChange(e){const t=e.currentTarget,a=t.getAttribute("data-key"),n={user_id:t.getAttribute("data-uid"),key:a};this.updateReplyParamsByMention(n),this.resetTypeAheadItems(),this.replaceAtMentionEntryWithFullName(this.textInput,this.state.currentMentionText,a)}fetchRecipientsByQueryForMessage(e,t){const a={query:e,message_id:t};Y.d(this.props.configInfo,this.props.accessToken,a).then(e=>{this.setState({typeAheadItems:e.data})}).catch(e=>{e&&e.response&&404===e.response.status&&console.log(e),W.a.notifyBugsnag(e,"WithPostReplyInteractionsFactory.fetchRecipientsByQueryForMessage")})}replaceAtMentionEntryWithFullName(e,t,a){e.value=e.value.replace(t,a)}resetTypeAheadItems(){this.setState({typeAheadItems:null})}isGroupStream(){return this.props.streamName.includes(J.a.GROUP_STREAM)}isProfileStream(){return this.props.streamName.includes(J.a.PROFILE_STREAM)}isProfileRepliesStream(){return this.props.streamName.includes(J.a.PROFILE_REPLIES_STREAM)}isDistrictStream(){return this.props.streamName.includes(J.a.DISTRICT_STREAM)}isChildStream(){return this.props.streamName.includes(J.a.CHILD_STREAM)}isHashtagStream(){return this.props.streamName.includes(J.a.HASHTAG_STREAM)}toggleAlertModal(){const e=this.props.currentUser;P.a.isEmailVerified(e)||this.setState({verifyUserEmailModalOpen:!this.state.verifyUserEmailModalOpen})}sendVerificationEmail(){const e=this.props,t=e.currentUser,a=e.userActions,n=P.a.getUserEmail(t);a.sendVerificationEmail(n,this.emailVerificationSuccess)}pushToEmailSettings(){this.props.history.push("".concat(te.a.SETTINGS_PAGE).concat(te.a.NOTIFICATIONS_PAGE))}emailVerificationSuccess(){this.toggleAlertModal()}render(){const t=this.props.currentUser,a=Object.assign({},this.state.replyAttachments),n=P.a.isEmailVerified(t);a.files=this.getUnifiedFilesForSubmit();const s=a.files.length+a.links.length+a.embeds.length;return r.a.createElement(e,Object.assign({},this.state,this.props,{inputRef:e=>this.textInput=e,clearField:this.clearField,handleAttachedFilesInProgressChange:this.handleAttachedFilesInProgressChange,handleAttachedFilesBegin:this.handleAttachedFilesBegin,handleDismissReplyAttachment:this.handleDismissReplyAttachment,handleReplyTextChange:this.handleReplyTextChange,changeTextAreaHeight:this.changeTextAreaHeight,setShowPostReplyTools:this.setShowPostReplyTools,handlePostReplyCancel:this.handlePostReplyCancel,handleReplyAttachLinkBtnClick:this.handleReplyAttachLinkBtnClick,handleAttachLinkTitleChange:this.handleAttachLinkTitleChange,handleAttachLinkTextBlur:this.handleAttachLinkTextBlur,handleAttachLinkPaste:this.handleAttachLinkPaste,handleAttachLinkCTAClick:this.handleAttachLinkCTAClick,handleAttachLinkCancel:this.handleAttachLinkCancel,handleAddFromLibraryClick:this.handleAddFromLibraryClick,handleAttachedLibraryFiles:this.handleAttachedLibraryFiles,handleAddFromLibraryClose:this.handleAddFromLibraryClose,handleReplySubmit:this.handleReplySubmitCb,handleSelectedMentionsChange:this.handleSelectedMentionsChange,mentionCandidates:this.state.typeAheadItems,handleMentionsBlur:this.handleMentionsBlur,disabledReplyButton:s?this.isUploadInProgress():this.state.disabledReplyButton,isEmailVerified:n,isAlertModalOpen:this.state.verifyUserEmailModalOpen,toggleAlertModal:this.toggleAlertModal,sendVerificationEmail:this.sendVerificationEmail,pushToEmailSettings:this.pushToEmailSettings,handleGifAttachmentPickerClick:this.handleGifAttachmentPickerClick}))}}return Object(y.a)(Object(v.connect)((function(e,t){const a="".concat($.a.REPLY,"-").concat(t.messageId);return{currentUser:B.c(e),accessToken:B.d(e),configInfo:G.a(e),mode:G.b(e),s3UploadProgress:L.f(e,{name:a}),s3UploadParams:L.e(e,{name:a}),selectedLibraryItemsAttachmentList:D.b(e,{name:X.a.POST_LIBRARY_MODAL}),selectedOneDriveItemsAttachmentList:F.a(e,{name:X.a.POST_LIBRARY_MODAL}),selectedGoogleDriveItemsAttachmentList:U.a(e,{name:X.a.POST_LIBRARY_MODAL}),activeReplyInput:j.C(e,t),activeModalReplyInput:j.x(e,t),currentGroupId:z.s(e),currentDistrictId:ne.c(e),currentHashtagOnHomePage:j.f(e)}}),(function(e){return{replyActions:Object(S.bindActionCreators)(I,e),streamActions:Object(S.bindActionCreators)(T,e),inorganicPostTrackingActions:Object(S.bindActionCreators)(O,e),schoolDistrictPageTrackingActions:Object(S.bindActionCreators)(_,e),streamTrackingActions:Object(S.bindActionCreators)(M,e),userActions:Object(S.bindActionCreators)(k,e)}}))(t))};a(1659);t.a=se(Object(f.a)(({user:e,messageId:t,message:a,postReplyId:n,inputRef:f,showTools:b,replyAttachmentId:E,replyAttachments:y,selectedLink:S,replyLibraryModalOpen:v,removeFile:C,replyAttachLinkModalOpen:A,changeTextAreaHeight:I,handleReplySubmit:T,handleAttachedFilesBegin:k,handlePostReplyCancel:O,setShowPostReplyTools:_,handleDismissReplyAttachment:M,handleReplyAttachLinkBtnClick:N,handleAttachLinkTextBlur:w,handleAttachLinkPaste:P,handleAttachLinkCTAClick:R,handleAttachLinkTitleChange:x,handleAttachLinkCancel:L,handleAddFromLibraryClick:D,handleAttachedLibraryFiles:F,handleAddFromLibraryClose:U,handleSelectedMentionsChange:B,mentionCandidates:G,handleMentionsBlur:j,isStudent:z,handleAttachedFilesInProgressChange:q,trumpetOrRecEng:H,shareableItemDomain:V,filesInProgressAttaching:W,translate:Q,disabledReplyButton:Y,isParent:K,isAlertModalOpen:J,toggleAlertModal:Z,sendVerificationEmail:X,pushToEmailSettings:$,isEmailVerified:ee,handleGifAttachmentPickerClick:te,isPublic:ae})=>{let ne;E===t&&(ne=Object(s.fromJS)(y));const re=!ee&&ae;return r.a.createElement("div",{className:"ns-post-reply rounded-bottom"},r.a.createElement("div",{className:"ns-avatar-container"},r.a.createElement(p.a,{user:e,size:"32",qaSelector:"qa-test-reply-avatar"})),r.a.createElement("div",{className:"reply-editor-container"},r.a.createElement("div",{className:"reply-editor"},r.a.createElement("div",{className:"mentions-input-box",onBlur:j},r.a.createElement("textarea",{id:t,ref:f,className:"reply-input qa-test-reply-textarea","data-message":t,placeholder:Q&&Q("write-comment","Write a comment..."),onChange:I,onFocus:_,onClick:Z}),(se=b,n===t&&se?r.a.createElement("div",{className:"tools"},r.a.createElement(i.a,{attachments:ne,filesInProgressAttaching:W,handleDismissClick:M,showRemove:!0,size:"sm"}),r.a.createElement("div",{className:"qa-test-ns-attachment-icons ns-attachment-icons"},r.a.createElement(o.a,{messageId:t,attachments:ne,filesInProgressAttaching:W,removeFile:C,attachedFilesBeginCb:k,toggleLinkAttachment:N,toggleLibraryModal:D,isStudent:z,isParent:K,handleGifAttachmentPickerClick:te}),r.a.createElement(l.a,{message:a,messageId:t,handleCancel:O,handleSave:T,isShareableItem:!0,trumpetOrRecEng:H,shareableItemDomain:V,saveDisabled:Y||re}))):null),(e=>{if(e)return r.a.createElement("div",{className:"mentions-drop-menu",role:"menu"},r.a.createElement(u.a,{selectableItemType:g.a.PEOPLE,SelectableItemView:h.a,typeAheadItems:e,handleTypeAheadItemClick:B}))})(G)))),r.a.createElement(c.a,{isModalOpen:A,selectedLink:S,messageId:t,toggle:N,handleAttachLinkTextBlur:w,handleAttachLinkPaste:P,handleAttachLinkCTAClick:R,handleAttachLinkTitleChange:x,handleAttachLinkCancelClick:L}),r.a.createElement(d.a,{isModalOpen:v,toggle:U,attachLibraryItem:F}),ae&&r.a.createElement(m.a,{isModalOpen:J,toggleAlertModal:Z,mainCtaAction:X,secondaryCtaAction:$}));var se}))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1800),i=a(1211);t.a=Object(s.a)()(({targetId:e,handleMouseEnterPopoverButton:t,handleMouseLeavePopoverButton:a,isSchool:n,isDistrict:s,creator:o})=>n||s?r.a.createElement(i.a,{user:o,id:e,isSchool:n,isDistrict:s,size:"48"}):r.a.createElement(i.a,{user:o,size:"48",id:e,onMouseEnter:t,onMouseLeave:a,role:"button"}))},function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(1590),i=a(1292),o=a(35),l=a.n(o),c=a(1203),d=a.n(c);t.a=({publisher:e,style:t,isMobileScreen:a,handleProfilePhotoUpdate:n,isCurrentUserPublisher:o})=>{const c=s.a.getLargeAvatarUrl(e),u=l()("cameraIcon",{mobile:a});return r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{alt:"Page Logo",src:c,style:t,className:"embed-responsive-item rounded"}),o&&r.a.createElement(i.default,{className:u,color:d.a.gray[80],size:a?18:24,onClick:n}))}},function(e,t,a){},function(e,t,a){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAACIklEQVR4nJXSS0iUURjG8f9z5rOZxCQ06AYqVLuiTSspQdq0qAhBWuR1tAkMN0HgpeDbOLoQXEhSNk7hBBFWK20RUss2ErUrQkwXRZuKrLzMfN/bxhtkjr2rc97z8uPhnANblO/7nplpq5nV+muosaW7KiC4jOm0YK9BiNmMpImoU18qlfyyJdTW5hfNLy6mzahdP1UOM299WN8NujLp5G1JthFyAImEXzi/uPTSjFqJrJzrwXHkcFk0uitGiRfxqpEeG7YbbKihtcvfNFF9c8eIQVzSTCSimvt3k282i98Y7zwfwBPMIorobCbV+2wNakrcPJbLZt9KMsHJ0XTvq39dKEBDS0dbGHIL6XOhV1E+PHwlC+CCIFcHSOJOPgRgdKRvSPARs/0LwdyZ1b6HcQoA01g+pMn3Y8HsUjdiFrMKwvBSfbyzsoDooAfsAzDnPuaDgrnsUcNusPJehl3EIOeWPzgz+wkQcSrKB2XSPVPIDW3sSUyWFu956JDeA4RBrjIfBPAgnbwqxwBgksYjZbFzAwPXFtTQ3FUXEmaEpiktOZ7pv/5rO2B7u188OOj/WN27WEH5I6Fpww7x9Vv/dhCAjQisfMjGlu6q0IJJMwoQEzuIJdJp/9N20TUIoL61s4aQjJkVSvoNPAfeeZ7G7g0nX+eD3Ooik+p9iouckDRuZjvN7IKZdeSy4eB/JdpY8bh/YJnFapkOIvcik+6Zygf9AYV419iQVQrxAAAAAElFTkSuQmCC"},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";t.__esModule=!0;var n,r=a(1948),s=(n=r)&&n.__esModule?n:{default:n};t.default=s.default},function(e,t,a){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=c(a(4)),s=a(1949),i=c(a(1956)),o=c(a(1958)),l=a(1661);function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,l.canUseDOM)()&&a(1959),u=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,a));return n.innerSliderRefHandler=function(e){return n.innerSlider=e},n.slickPrev=function(){return n.innerSlider.slickPrev()},n.slickNext=function(){return n.innerSlider.slickNext()},n.slickGoTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.innerSlider.slickGoTo(e,t)},n.slickPause=function(){return n.innerSlider.pause("paused")},n.slickPlay=function(){return n.innerSlider.autoPlay("play")},n.state={breakpoint:null},n._responsiveMediaHandlers=[],n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.media=function(e,t){d.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})},t.prototype.componentWillMount=function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(a,n){var r=void 0;r=0===n?(0,i.default)({minWidth:0,maxWidth:a}):(0,i.default)({minWidth:t[n-1]+1,maxWidth:a}),(0,l.canUseDOM)()&&e.media(r,(function(){e.setState({breakpoint:a})}))}));var a=(0,i.default)({minWidth:t.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(a,(function(){e.setState({breakpoint:null})}))}},t.prototype.componentWillUnmount=function(){this._responsiveMediaHandlers.forEach((function(e){d.unregister(e.query,e.handler)}))},t.prototype.render=function(){var e,t,a=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===a.state.breakpoint})))[0].settings?"unslick":n({},o.default,this.props,t[0].settings):n({},o.default,this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var i=r.default.Children.toArray(this.props.children);i=i.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var l=[],c=null,d=0;d<i.length;d+=e.rows*e.slidesPerRow){for(var u=[],h=d;h<d+e.rows*e.slidesPerRow;h+=e.slidesPerRow){for(var p=[],m=h;m<h+e.slidesPerRow&&(e.variableWidth&&i[m].props.style&&(c=i[m].props.style.width),!(m>=i.length));m+=1)p.push(r.default.cloneElement(i[m],{key:100*d+10*h+m,tabIndex:-1,style:{width:100/e.slidesPerRow+"%",display:"inline-block"}}));u.push(r.default.createElement("div",{key:10*d+h},p))}e.variableWidth?l.push(r.default.createElement("div",{key:d,style:{width:c}},u)):l.push(r.default.createElement("div",{key:d},u))}if("unslick"===e){var g="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:g},l)}return l.length<=e.slidesToShow&&(e.unslick=!0),r.default.createElement(s.InnerSlider,n({ref:this.innerSliderRefHandler},e),l)},t}(r.default.Component);t.default=u},function(e,t,a){"use strict";t.__esModule=!0,t.InnerSlider=void 0;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=g(a(4)),i=g(a(224)),o=g(a(1950)),l=g(a(1951)),c=g(a(35)),d=a(1661),u=a(1952),h=a(1953),p=a(1954),m=g(a(1955));function g(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}t.InnerSlider=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var g=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,a));return g.listRefHandler=function(e){return g.list=e},g.trackRefHandler=function(e){return g.track=e},g.adaptHeight=function(){if(g.props.adaptiveHeight&&g.list){var e=g.list.querySelector('[data-index="'+g.state.currentSlide+'"]');g.list.style.height=(0,d.getHeight)(e)+"px"}},g.componentWillMount=function(){if(g.ssrInit(),g.props.onInit&&g.props.onInit(),g.props.lazyLoad){var e=(0,d.getOnDemandLazySlides)(r({},g.props,g.state));e.length>0&&(g.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),g.props.onLazyLoad&&g.props.onLazyLoad(e))}},g.componentDidMount=function(){var e=r({listRef:g.list,trackRef:g.track},g.props);g.updateState(e,!0,(function(){g.adaptHeight(),g.props.autoplay&&g.autoPlay("update")})),"progressive"===g.props.lazyLoad&&(g.lazyLoadTimer=setInterval(g.progressiveLazyLoad,1e3)),g.ro=new m.default((function(){g.state.animating?(g.onWindowResized(!1),g.callbackTimers.push(setTimeout((function(){return g.onWindowResized()}),g.props.speed))):g.onWindowResized()})),g.ro.observe(g.list),Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=g.props.pauseOnFocus?g.onSlideFocus:null,e.onblur=g.props.pauseOnFocus?g.onSlideBlur:null})),window&&(window.addEventListener?window.addEventListener("resize",g.onWindowResized):window.attachEvent("onresize",g.onWindowResized))},g.componentWillUnmount=function(){g.animationEndCallback&&clearTimeout(g.animationEndCallback),g.lazyLoadTimer&&clearInterval(g.lazyLoadTimer),g.callbackTimers.length&&(g.callbackTimers.forEach((function(e){return clearTimeout(e)})),g.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",g.onWindowResized):window.detachEvent("onresize",g.onWindowResized),g.autoplayTimer&&clearInterval(g.autoplayTimer)},g.componentWillReceiveProps=function(e){var t=r({listRef:g.list,trackRef:g.track},e,g.state),a=!1,i=Object.keys(g.props),o=Array.isArray(i),l=0;for(i=o?i:i[Symbol.iterator]();;){var c;if(o){if(l>=i.length)break;c=i[l++]}else{if((l=i.next()).done)break;c=l.value}var d=c;if(!e.hasOwnProperty(d)){a=!0;break}if("object"!==n(e[d])&&"function"!==typeof e[d]&&e[d]!==g.props[d]){a=!0;break}}g.updateState(t,a,(function(){g.state.currentSlide>=s.default.Children.count(e.children)&&g.changeSlide({message:"index",index:s.default.Children.count(e.children)-e.slidesToShow,currentSlide:g.state.currentSlide}),e.autoplay?g.autoPlay("update"):g.pause("paused")}))},g.componentDidUpdate=function(){if(g.checkImagesLoad(),g.props.onReInit&&g.props.onReInit(),g.props.lazyLoad){var e=(0,d.getOnDemandLazySlides)(r({},g.props,g.state));e.length>0&&(g.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),g.props.onLazyLoad&&g.props.onLazyLoad(e))}g.adaptHeight()},g.onWindowResized=function(e){g.debouncedResize&&g.debouncedResize.cancel(),g.debouncedResize=(0,l.default)((function(){return g.resizeWindow(e)}),50),g.debouncedResize()},g.resizeWindow=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(i.default.findDOMNode(g.track)){var t=r({listRef:g.list,trackRef:g.track},g.props,g.state);g.updateState(t,e,(function(){g.props.autoplay?g.autoPlay("update"):g.pause("paused")})),g.setState({animating:!1}),clearTimeout(g.animationEndCallback),delete g.animationEndCallback}},g.updateState=function(e,t,a){var n=(0,d.initializedState)(e);e=r({},e,n,{slideIndex:n.currentSlide});var i=(0,d.getTrackLeft)(e);e=r({},e,{left:i});var o=(0,d.getTrackCSS)(e);(t||s.default.Children.count(g.props.children)!==s.default.Children.count(e.children))&&(n.trackStyle=o),g.setState(n,a)},g.ssrInit=function(){if(g.props.variableWidth){var e=0,t=0,a=[],n=(0,d.getPreClones)(r({},g.props,g.state,{slideCount:g.props.children.length})),i=(0,d.getPostClones)(r({},g.props,g.state,{slideCount:g.props.children.length}));g.props.children.forEach((function(t){a.push(t.props.style.width),e+=t.props.style.width}));for(var o=0;o<n;o++)t+=a[a.length-1-o],e+=a[a.length-1-o];for(var l=0;l<i;l++)e+=a[l];for(var c=0;c<g.state.currentSlide;c++)t+=a[c];var u={width:e+"px",left:-t+"px"};if(g.props.centerMode){var h=a[g.state.currentSlide]+"px";u.left="calc("+u.left+" + (100% - "+h+") / 2 ) "}g.setState({trackStyle:u})}else{var p=s.default.Children.count(g.props.children),m=r({},g.props,g.state,{slideCount:p}),f=(0,d.getPreClones)(m)+(0,d.getPostClones)(m)+p,b=100/g.props.slidesToShow*f,E=100/f,y=-E*((0,d.getPreClones)(m)+g.state.currentSlide)*b/100;g.props.centerMode&&(y+=(100-E*b/100)/2);var S={width:b+"%",left:y+"%"};g.setState({slideWidth:E+"%",trackStyle:S})}},g.checkImagesLoad=function(){var e=document.querySelectorAll(".slick-slide img"),t=e.length,a=0;Array.prototype.forEach.call(e,(function(e){var n=function(){return++a&&a>=t&&g.onWindowResized()};if(e.onclick){var r=e.onclick;e.onclick=function(){r(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(g.props.lazyLoad?e.onload=function(){g.adaptHeight(),g.callbackTimers.push(setTimeout(g.onWindowResized,g.props.speed))}:(e.onload=n,e.onerror=function(){n(),g.props.onLazyLoadError&&g.props.onLazyLoadError()}))}))},g.progressiveLazyLoad=function(){for(var e=[],t=r({},g.props,g.state),a=g.state.currentSlide;a<g.state.slideCount+(0,d.getPostClones)(t);a++)if(g.state.lazyLoadedList.indexOf(a)<0){e.push(a);break}for(var n=g.state.currentSlide-1;n>=-(0,d.getPreClones)(t);n--)if(g.state.lazyLoadedList.indexOf(n)<0){e.push(n);break}e.length>0?(g.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),g.props.onLazyLoad&&g.props.onLazyLoad(e)):g.lazyLoadTimer&&(clearInterval(g.lazyLoadTimer),delete g.lazyLoadTimer)},g.slideHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=g.props,n=a.asNavFor,s=a.beforeChange,i=a.onLazyLoad,o=a.speed,l=a.afterChange,c=g.state.currentSlide,u=(0,d.slideHandler)(r({index:e},g.props,g.state,{trackRef:g.track,useCSS:g.props.useCSS&&!t})),h=u.state,p=u.nextState;if(h){s&&s(c,h.currentSlide);var m=h.lazyLoadedList.filter((function(e){return g.state.lazyLoadedList.indexOf(e)<0}));i&&m.length>0&&i(m),g.setState(h,(function(){n&&n.innerSlider.state.currentSlide!==c&&n.innerSlider.slideHandler(e),p&&(g.animationEndCallback=setTimeout((function(){var e=p.animating,t=f(p,["animating"]);g.setState(t,(function(){g.callbackTimers.push(setTimeout((function(){return g.setState({animating:e})}),10)),l&&l(h.currentSlide),delete g.animationEndCallback}))}),o))}))}},g.changeSlide=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=r({},g.props,g.state),n=(0,d.changeSlide)(a,e);(0===n||n)&&(!0===t?g.slideHandler(n,t):g.slideHandler(n))},g.clickHandler=function(e){!1===g.clickable&&(e.stopPropagation(),e.preventDefault()),g.clickable=!0},g.keyHandler=function(e){var t=(0,d.keyHandler)(e,g.props.accessibility,g.props.rtl);""!==t&&g.changeSlide({message:t})},g.selectHandler=function(e){g.changeSlide(e)},g.disableBodyScroll=function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}},g.enableBodyScroll=function(){window.ontouchmove=null},g.swipeStart=function(e){g.props.verticalSwiping&&g.disableBodyScroll();var t=(0,d.swipeStart)(e,g.props.swipe,g.props.draggable);""!==t&&g.setState(t)},g.swipeMove=function(e){var t=(0,d.swipeMove)(e,r({},g.props,g.state,{trackRef:g.track,listRef:g.list,slideIndex:g.state.currentSlide}));t&&(t.swiping&&(g.clickable=!1),g.setState(t))},g.swipeEnd=function(e){var t=(0,d.swipeEnd)(e,r({},g.props,g.state,{trackRef:g.track,listRef:g.list,slideIndex:g.state.currentSlide}));if(t){var a=t.triggerSlideHandler;delete t.triggerSlideHandler,g.setState(t),void 0!==a&&(g.slideHandler(a),g.props.verticalSwiping&&g.enableBodyScroll())}},g.slickPrev=function(){g.callbackTimers.push(setTimeout((function(){return g.changeSlide({message:"previous"})}),0))},g.slickNext=function(){g.callbackTimers.push(setTimeout((function(){return g.changeSlide({message:"next"})}),0))},g.slickGoTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";g.callbackTimers.push(setTimeout((function(){return g.changeSlide({message:"index",index:e,currentSlide:g.state.currentSlide},t)}),0))},g.play=function(){var e;if(g.props.rtl)e=g.state.currentSlide-g.props.slidesToScroll;else{if(!(0,d.canGoNext)(r({},g.props,g.state)))return!1;e=g.state.currentSlide+g.props.slidesToScroll}g.slideHandler(e)},g.autoPlay=function(e){g.autoplayTimer&&clearInterval(g.autoplayTimer);var t=g.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;g.autoplayTimer=setInterval(g.play,g.props.autoplaySpeed+50),g.setState({autoplaying:"playing"})},g.pause=function(e){g.autoplayTimer&&(clearInterval(g.autoplayTimer),g.autoplayTimer=null);var t=g.state.autoplaying;"paused"===e?g.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==t&&"playing"!==t||g.setState({autoplaying:"focused"}):"playing"===t&&g.setState({autoplaying:"hovered"})},g.onDotsOver=function(){return g.props.autoplay&&g.pause("hovered")},g.onDotsLeave=function(){return g.props.autoplay&&"hovered"===g.state.autoplaying&&g.autoPlay("leave")},g.onTrackOver=function(){return g.props.autoplay&&g.pause("hovered")},g.onTrackLeave=function(){return g.props.autoplay&&"hovered"===g.state.autoplaying&&g.autoPlay("leave")},g.onSlideFocus=function(){return g.props.autoplay&&g.pause("focused")},g.onSlideBlur=function(){return g.props.autoplay&&"focused"===g.state.autoplaying&&g.autoPlay("blur")},g.render=function(){var e,t,a,n=(0,c.default)("slick-slider",g.props.className,{"slick-vertical":g.props.vertical,"slick-initialized":!0}),i=r({},g.props,g.state),o=(0,d.extractObject)(i,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"]),l=g.props.pauseOnHover;if(o=r({},o,{onMouseEnter:l?g.onTrackOver:null,onMouseLeave:l?g.onTrackLeave:null,onMouseOver:l?g.onTrackOver:null,focusOnSelect:g.props.focusOnSelect?g.selectHandler:null}),!0===g.props.dots&&g.state.slideCount>=g.props.slidesToShow){var m=(0,d.extractObject)(i,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=g.props.pauseOnDotsHover;m=r({},m,{clickHandler:g.changeSlide,onMouseEnter:f?g.onDotsLeave:null,onMouseOver:f?g.onDotsOver:null,onMouseLeave:f?g.onDotsLeave:null}),e=s.default.createElement(h.Dots,m)}var b=(0,d.extractObject)(i,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);b.clickHandler=g.changeSlide,g.props.arrows&&(t=s.default.createElement(p.PrevArrow,b),a=s.default.createElement(p.NextArrow,b));var E=null;g.props.vertical&&(E={height:g.state.listHeight});var y=null;!1===g.props.vertical?!0===g.props.centerMode&&(y={padding:"0px "+g.props.centerPadding}):!0===g.props.centerMode&&(y={padding:g.props.centerPadding+" 0px"});var S=r({},E,y),v=g.props.touchMove,C={className:"slick-list",style:S,onClick:g.clickHandler,onMouseDown:v?g.swipeStart:null,onMouseMove:g.state.dragging&&v?g.swipeMove:null,onMouseUp:v?g.swipeEnd:null,onMouseLeave:g.state.dragging&&v?g.swipeEnd:null,onTouchStart:v?g.swipeStart:null,onTouchMove:g.state.dragging&&v?g.swipeMove:null,onTouchEnd:v?g.swipeEnd:null,onTouchCancel:g.state.dragging&&v?g.swipeEnd:null,onKeyDown:g.props.accessibility?g.keyHandler:null},A={className:n,dir:"ltr"};return g.props.unslick&&(C={className:"slick-list"},A={className:n}),s.default.createElement("div",A,g.props.unslick?"":t,s.default.createElement("div",r({ref:g.listRefHandler},C),s.default.createElement(u.Track,r({ref:g.trackRefHandler},o),g.props.children)),g.props.unslick?"":a,g.props.unslick?"":e)},g.list=null,g.track=null,g.state=r({},o.default,{currentSlide:g.props.initialSlide,slideCount:s.default.Children.count(g.props.children)}),g.callbackTimers=[],g.clickable=!0,g.debouncedResize=null,g}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s.default.Component)},function(e,t,a){"use strict";t.__esModule=!0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0}},function(e,t,a){(function(t){var a=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,s=/^0o[0-7]+$/i,i=parseInt,o="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),d=Object.prototype.toString,u=Math.max,h=Math.min,p=function(){return c.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var o=r.test(e);return o||s.test(e)?i(e.slice(2),o?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,a){var n,r,s,i,o,l,c=0,d=!1,f=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var a=n,s=r;return n=r=void 0,c=t,i=e.apply(s,a)}function y(e){return c=e,o=setTimeout(v,t),d?E(e):i}function S(e){var a=e-l;return void 0===l||a>=t||a<0||f&&e-c>=s}function v(){var e=p();if(S(e))return C(e);o=setTimeout(v,function(e){var a=t-(e-l);return f?h(a,s-(e-c)):a}(e))}function C(e){return o=void 0,b&&n?E(e):(n=r=void 0,i)}function A(){var e=p(),a=S(e);if(n=arguments,r=this,l=e,a){if(void 0===o)return y(l);if(f)return o=setTimeout(v,t),E(l)}return void 0===o&&(o=setTimeout(v,t)),i}return t=g(t)||0,m(a)&&(d=!!a.leading,s=(f="maxWait"in a)?u(g(a.maxWait)||0,t):s,b="trailing"in a?!!a.trailing:b),A.cancel=function(){void 0!==o&&clearTimeout(o),c=0,n=l=r=o=void 0},A.flush=function(){return void 0===o?i:C(p())},A}}).call(this,a(211))},function(e,t,a){"use strict";t.__esModule=!0,t.Track=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=o(a(4)),s=o(a(35)),i=a(1661);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){var t,a,n,r,s;return n=(s=e.rtl?e.slideCount-1-e.index:e.index)<0||s>=e.slideCount,e.centerMode?(r=Math.floor(e.slidesToShow/2),a=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-r-1&&s<=e.currentSlide+r&&(t=!0)):t=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":a,"slick-cloned":n,"slick-current":s===e.currentSlide}},u=function(e,t){return e.key||t},h=function(e){var t,a=[],o=[],l=[],c=r.default.Children.count(e.children),h=(0,i.lazyStartIndex)(e),p=(0,i.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(m,g){var f=void 0,b={message:"children",index:g,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(g)>=0?m:r.default.createElement("div",null);var E=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase,t.WebkitTransition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase),t}(n({},e,{index:g})),y=f.props.className||"",S=d(n({},e,{index:g}));if(a.push(r.default.cloneElement(f,{key:"original"+u(f,g),"data-index":g,className:(0,s.default)(S,y),tabIndex:"-1","aria-hidden":!S["slick-active"],style:n({outline:"none"},f.props.style||{},E),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(b)}})),e.infinite&&!1===e.fade){var v=c-g;v<=(0,i.getPreClones)(e)&&c!==e.slidesToShow&&((t=-v)>=h&&(f=m),S=d(n({},e,{index:t})),o.push(r.default.cloneElement(f,{key:"precloned"+u(f,t),"data-index":t,tabIndex:"-1",className:(0,s.default)(S,y),"aria-hidden":!S["slick-active"],style:n({},f.props.style||{},E),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(b)}}))),c!==e.slidesToShow&&((t=c+g)<p&&(f=m),S=d(n({},e,{index:t})),l.push(r.default.cloneElement(f,{key:"postcloned"+u(f,t),"data-index":t,tabIndex:"-1",className:(0,s.default)(S,y),"aria-hidden":!S["slick-active"],style:n({},f.props.style||{},E),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(b)}})))}})),e.rtl?o.concat(a,l).reverse():o.concat(a,l)};t.Track=function(e){function t(){return l(this,t),c(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=h(this.props),t=this.props,a={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",n({className:"slick-track",style:this.props.trackStyle},a),e)},t}(r.default.PureComponent)},function(e,t,a){"use strict";t.__esModule=!0,t.Dots=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=i(a(4)),s=i(a(35));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.Dots=function(e){function t(){return o(this,t),l(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.clickHandler=function(e,t){t.preventDefault(),this.props.clickHandler(e)},t.prototype.render=function(){var e,t=this,a=(e={slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll,slidesToShow:this.props.slidesToShow,infinite:this.props.infinite}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,i=this.props,o={onMouseEnter:i.onMouseEnter,onMouseOver:i.onMouseOver,onMouseLeave:i.onMouseLeave},l=Array.apply(null,Array(a+1).join("0").split("")).map((function(e,a){var n=a*t.props.slidesToScroll,i=a*t.props.slidesToScroll+(t.props.slidesToScroll-1),o=(0,s.default)({"slick-active":t.props.currentSlide>=n&&t.props.currentSlide<=i}),l={message:"dots",index:a,slidesToScroll:t.props.slidesToScroll,currentSlide:t.props.currentSlide},c=t.clickHandler.bind(t,l);return r.default.createElement("li",{key:a,className:o},r.default.cloneElement(t.props.customPaging(a),{onClick:c}))}));return r.default.cloneElement(this.props.appendDots(l),n({className:this.props.dotsClass},o))},t}(r.default.PureComponent)},function(e,t,a){"use strict";t.__esModule=!0,t.NextArrow=t.PrevArrow=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=o(a(4)),s=o(a(35)),i=a(1661);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.PrevArrow=function(e){function t(){return l(this,t),c(this,e.apply(this,arguments))}return d(t,e),t.prototype.clickHandler=function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},t.prototype.render=function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var a={key:"0","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},i={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?r.default.cloneElement(this.props.prevArrow,n({},a,i)):r.default.createElement("button",n({key:"0",type:"button"},a)," ","Previous")},t}(r.default.PureComponent),t.NextArrow=function(e){function t(){return l(this,t),c(this,e.apply(this,arguments))}return d(t,e),t.prototype.clickHandler=function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},t.prototype.render=function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var a={key:"1","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},o={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?r.default.cloneElement(this.props.nextArrow,n({},a,o)):r.default.createElement("button",n({key:"1",type:"button"},a)," ","Next")},t}(r.default.PureComponent)},function(e,t,a){"use strict";a.r(t),function(e){var a=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var a=-1;return e.some((function(e,n){return e[0]===t&&(a=n,!0)})),a}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var a=e(this.__entries__,t),n=this.__entries__[a];return n&&n[1]},t.prototype.set=function(t,a){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=a:this.__entries__.push([t,a])},t.prototype.delete=function(t){var a=this.__entries__,n=e(a,t);~n&&a.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var a=0,n=this.__entries__;a<n.length;a++){var r=n[a];e.call(t,r[1],r[0])}},t}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,r="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),s="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var i=["top","right","bottom","left","width","height","size","weight"],o="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var a=!1,n=!1,r=0;function i(){a&&(a=!1,e()),n&&l()}function o(){s(i)}function l(){var e=Date.now();if(a){if(e-r<2)return;n=!0}else a=!0,n=!1,setTimeout(o,t);r=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,a=t.indexOf(e);~a&&t.splice(a,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,a=void 0===t?"":t;i.some((function(e){return!!~a.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var a=0,n=Object.keys(t);a<n.length;a++){var r=n[a];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},u=b(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return t.reduce((function(t,a){return t+h(e["border-"+a+"-width"])}),0)}function m(e){var t=e.clientWidth,a=e.clientHeight;if(!t&&!a)return u;var n=d(e).getComputedStyle(e),r=function(e){for(var t={},a=0,n=["top","right","bottom","left"];a<n.length;a++){var r=n[a],s=e["padding-"+r];t[r]=h(s)}return t}(n),s=r.left+r.right,i=r.top+r.bottom,o=h(n.width),l=h(n.height);if("border-box"===n.boxSizing&&(Math.round(o+s)!==t&&(o-=p(n,"left","right")+s),Math.round(l+i)!==a&&(l-=p(n,"top","bottom")+i)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(o+s)-t,m=Math.round(l+i)-a;1!==Math.abs(c)&&(o-=c),1!==Math.abs(m)&&(l-=m)}return b(r.left,r.top,o,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function f(e){return n?g(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):m(e):u}function b(e,t,a,n){return{x:e,y:t,width:a,height:n}}var E=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=f(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var a=function(e){var t=e.x,a=e.y,n=e.width,r=e.height,s="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(s.prototype);return c(i,{x:t,y:a,width:n,height:r,top:a,right:t+n,bottom:r+a,left:t}),i}(t);c(this,{target:e,contentRect:a})},S=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new a,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),v="undefined"!==typeof WeakMap?new WeakMap:new a,C=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var a=l.getInstance(),n=new S(t,a,this);v.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){C.prototype[e]=function(){var t;return(t=v.get(this))[e].apply(t,arguments)}}));var A="undefined"!==typeof r.ResizeObserver?r.ResizeObserver:C;t.default=A}.call(this,a(211))},function(e,t,a){var n=a(1957),r=function(e){var t="",a=Object.keys(e);return a.forEach((function(r,s){var i=e[r];(function(e){return/[height|width]$/.test(e)})(r=n(r))&&"number"===typeof i&&(i+="px"),t+=!0===i?r:!1===i?"not "+r:"("+r+": "+i+")",s<a.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(a,n){t+=r(a),n<e.length-1&&(t+=", ")})),t):r(e)}},function(e,t){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},function(e,t,a){"use strict";t.__esModule=!0;var n,r=a(4),s=(n=r)&&n.__esModule?n:{default:n};var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return s.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return s.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=i},function(e,t,a){var n=a(1960);e.exports=new n},function(e,t,a){var n=a(1961),r=a(1785),s=r.each,i=r.isFunction,o=r.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,a){var r=this.queries,l=a&&this.browserIsIncapable;return r[e]||(r[e]=new n(e,l)),i(t)&&(t={match:t}),o(t)||(t=[t]),s(t,(function(t){i(t)&&(t={match:t}),r[e].addHandler(t)})),this},unregister:function(e,t){var a=this.queries[e];return a&&(t?a.removeHandler(t):(a.clear(),delete this.queries[e])),this}},e.exports=l},function(e,t,a){var n=a(1962),r=a(1785).each;function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var a=this;this.listener=function(e){a.mql=e.currentTarget||e,a.assess()},this.mql.addListener(this.listener)}s.prototype={constuctor:s,addHandler:function(e){var t=new n(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;r(t,(function(a,n){if(a.equals(e))return a.destroy(),!t.splice(n,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){r(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";r(this.handlers,(function(t){t[e]()}))}},e.exports=s},function(e,t){function a(e){this.options=e,!e.deferSetup&&this.setup()}a.prototype={constructor:a,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=a},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(4),r=a(393);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=new Map,c=new Map,d=new Map,u=0;function h(e,t,a){void 0===a&&(a={}),a.threshold||(a.threshold=0);var n=a,s=n.root,i=n.rootMargin,o=n.threshold;if(l.has(e)&&Object(r.default)(!1),e){var h=function(e){return e?d.has(e)?d.get(e):(u+=1,d.set(e,u.toString()),d.get(e)+"_"):""}(s)+(i?o.toString()+"_"+i:o.toString()),p=c.get(h);p||(p=new IntersectionObserver(m,a),h&&c.set(h,p));var g={callback:t,element:e,inView:!1,observerId:h,observer:p,thresholds:p.thresholds||(Array.isArray(o)?o:[o])};return l.set(e,g),p.observe(e),g}}function p(e){if(e){var t=l.get(e);if(t){var a=t.observerId,n=t.observer,r=n.root;n.unobserve(e);var s=!1,i=!1;a&&l.forEach((function(t,n){n!==e&&(t.observerId===a&&(s=!0,i=!0),t.observer.root===r&&(i=!0))})),!i&&r&&d.delete(r),n&&!s&&n.disconnect(),l.delete(e)}}}function m(e){e.forEach((function(e){var t=e.isIntersecting,a=e.intersectionRatio,n=e.target,r=l.get(n);if(r&&a>=0){var s=r.thresholds.some((function(e){return r.inView?a>e:a>=e}));void 0!==t&&(s=s&&t),r.inView=s,r.callback(s,e)}}))}var g=function(e){var t,a;function l(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return s(o(t=e.call.apply(e,[this].concat(n))||this),"state",{inView:!1,entry:void 0}),s(o(t),"node",null),s(o(t),"handleNode",(function(e){t.node&&(p(t.node),e||t.props.triggerOnce||t.setState({inView:!1,entry:void 0})),t.node=e||null,t.observeNode()})),s(o(t),"handleChange",(function(e,a){(e!==t.state.inView||e)&&t.setState({inView:e,entry:a}),t.props.onChange&&t.props.onChange(e,a)})),t}a=e,(t=l).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var c=l.prototype;return c.componentDidMount=function(){this.node||Object(r.default)(!1)},c.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(p(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(p(this.node),this.node=null)},c.componentWillUnmount=function(){this.node&&(p(this.node),this.node=null)},c.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,a=e.root,n=e.rootMargin;h(this.node,this.handleChange,{threshold:t,root:a,rootMargin:n})}},c.render=function(){var e=this.state,t=e.inView,a=e.entry;if(!function(e){return"function"!==typeof e.children}(this.props))return this.props.children({inView:t,entry:a,ref:this.handleNode});var r=this.props,s=r.children,o=r.as,l=r.tag,c=(r.triggerOnce,r.threshold,r.root,r.rootMargin,r.onChange,function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(r,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return Object(n.createElement)(o||l||"div",i({ref:this.handleNode},c),s)},l}(n.Component);s(g,"displayName","InView"),s(g,"defaultProps",{threshold:0,triggerOnce:!1});var f={inView:!1,entry:void 0};function b(e){void 0===e&&(e={});var t=Object(n.useRef)(),a=Object(n.useState)(f),r=a[0],s=a[1];return[Object(n.useCallback)((function(a){t.current&&(p(t.current),e.triggerOnce||s(f)),a&&h(a,(function(t,n){s({inView:t,entry:n}),t&&e.triggerOnce&&p(a)}),e),t.current=a}),[e.threshold,e.root,e.rootMargin,e.triggerOnce]),r.inView,r.entry]}},function(e,t,a){},,function(e,t,a){"use strict";var n=a(4),r=a.n(n),s=a(133),i=a(510),o=a(516),l=a(7);t.a=e=>t=>{class a extends n.Component{constructor(t){super(t),this.state=Object.assign({},e,{enabled:!0}),this.disable=this.disable.bind(this)}disable(){this.setState({enabled:!1})}render(){const e=o.c(this.props.appState,this.state.ajaxStatusName)===l.a.LOADING;return r.a.createElement("div",null,this.state.enabled&&e?r.a.createElement(i.a,null):r.a.createElement(t,Object.assign({},this.props,this.state,{disableLoadingIndicator:this.disable})))}}return Object(s.connect)((function(e){return{appState:e}}),(function(e){return{}}))(a)}},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a(9),r=a(1),s=a(28),i=a(40);const o=Object(n.createSelector)([s.Cb],e=>e&&e.get(r.a.SINGLE_POST_ID)),l=Object(n.createSelector)([s.Cb],e=>e&&e.get(r.a.DID_SINGLE_POST_FAILED)),c=Object(n.createSelector)([o],e=>i.a.getSinglePostStreamName(e)),d=Object(n.createSelector)([s.Cb,c],(e,t)=>e&&t&&e.get(t)),u=Object(n.createSelector)([d,o],(e,t)=>e&&e.get(t))},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/parent_stream_empty_state.329393b1.svg"},,function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),s=a(7),i=a(1),o=a(42),l=a(1623),c=a(38),d=a(167),u=a(14),h=a(19),p=a(16),m=a(83);a(1677);const g=Object(o.a)(()=>a.e(312).then(a.bind(null,3046))),f=Object(o.a)(()=>Promise.all([a.e(285),a.e(318)]).then(a.bind(null,3060))),b=Object(o.a)(()=>a.e(342).then(a.bind(null,3027)));var E=({currentUser:e,currentUserProfile:t,currentGroupMembership:a,stream:n,groupId:s,communityId:i,publisherId:o,editPostId:E,accessToken:y,streamName:S,reducerName:v,dismissedAttachmentIds:C,attachLinkModalOpen:A,replyIconId:I,groupMembershipsWithWriteAccess:T,selectedLink:k,libraryModalOpen:O,replyIconClicked:_,showingMoreReplies:M,history:N,showMoreRepliesId:w,pinnedPostId:P,addedShareItemToLibrary:R,addedShareItemId:x,handleLikeClick:L,handleFollowClick:D,handleShowMoreRepliesClick:F,handleReplyDelete:U,handleReplyUpdate:B,handleReplyIconClick:G,handleReplyIconReset:j,handleEditPostTextChange:z,handleEditPostClick:q,handleShareableItemAddToLibrary:H,handleEditPostCancel:V,handleEditPostDismissAttachment:W,handleRefreshClick:Q,handleAttachLinkBtnClick:Y,handleEditPostSave:K,handleAttachLinkTextBlur:J,showPinnedPosts:Z,handleAttachLinkPaste:X,handleAttachLinkCancel:$,handleAttachLinkCTAClick:ee,handleAttachLinkTitleChange:te,handleAddFromLibraryClick:ae,handleAttachedLibraryFiles:ne,handleDueDateChange:re,handleEditQuizSave:se,handleAssignmentTitleChange:ie,setStreamListReference:oe,handleAssignmentDescriptionChange:le,handleEditPostAssignmentSave:ce,handlePollAnswerChange:de,pollAnswerSubmit:ue,selectedPollAnswer:he,trackingContext:pe,setPinnedPostId:me,streamTrackingActions:ge,userGroupMemberships:fe,handleModalReplyIconClick:be,handleAttachedFilesBegin:Ee,filesInProgressAttaching:ye,isReplyDisabled:Se,inHashtagMode:ve,userProfileId:Ce,childId:Ae,handleMessageTeacherBtnClick:Ie,currentUserCompactRecipients:Te,handleHashtagClick:ke,currentfilter:Oe,currentHashtagOnHomePage:_e,displayVideoAttachmentModal:Me,showAlternateQotd:Ne,handleDynamicTranslationClick:we,handleShowOriginalTranslationTextClick:Pe,dynamicTranslations:Re,isCurrentUserInSharingRedesignABTest:xe,isCurrentUserInHashTagABTest:Le,groupColor:De,isInteractionsDisabled:Fe,addMessageVisibilityInfo:Ue,isSchoolAdminReadOnly:Be,handleGifAttachmentPickerClick:Ge,attachedMultimediaItems:je})=>r.a.createElement("div",{className:"stream ".concat(S&&S.toLowerCase()),ref:oe},r.a.createElement("div",null,n&&n.valueSeq().map((oe,Se)=>{let ve=!1;if(u.a.isStudent(e)&&!a){const t=d.a.getRecipientGroups(c.a.getRecipients(oe));for(let a in t){const n=h.a.getGroupMembershipByGroupId(fe,t[a].id),r=h.a.getGroupMembershipByGroupId(fe,t[a].parent_group_id),s=h.a.getSmallGroupMemberships(r),i=h.a.getGroupMembershipByUserId(s,e.get(p.a.ID));if(h.a.isReadOnlyMember(n)||h.a.isReadOnlyMember(i)){ve=!0;break}}}const ze=c.a.isTemplateMessage(oe),qe=c.a.isNoteShareableItemType(oe),He=c.a.isOracleAdType(oe),Ve=c.a.isStreamAdType(oe);return ze?r.a.createElement(g,{key:c.a.getId(oe),message:oe,currentUser:e,currentUserProfile:t,showAlternateQotd:Ne}):qe?r.a.createElement(f,{key:c.a.getId(oe),accessToken:y,stream:n,streamName:S,reducerName:v,message:oe,currentUser:e,currentUserProfile:t,replyIconClicked:_,replyIconId:I,showingMoreReplies:M,showMoreRepliesId:w,addedShareItemToLibrary:R,addedShareItemId:x,handleLikeClick:L,handleReplyIconClick:G,handleReplyIconReset:j,trackingContext:pe,handleShareableItemAddToLibrary:H,userProfileId:Ce,childId:Ae}):Ve?r.a.createElement(b,{key:c.a.getId(oe),position:c.a.getAdPosition(oe)}):He?r.a.createElement(b,{key:c.a.getId(oe),position:m.a.HOME_FEED_ORACLE}):r.a.createElement(l.a,{key:c.a.getId(oe),messageId:c.a.getId(oe),index:Se,message:oe,currentUser:e,currentUserProfile:t,currentGroupMembership:a,accessToken:y,stream:n,history:N,groupColor:De,streamName:S,reducerName:v,groupId:s,communityId:i,publisherId:o,editPostId:E,dismissedAttachmentIds:C,attachLinkModalOpen:A,selectedLink:k,libraryModalOpen:O,replyIconClicked:_,replyIconId:I,showingMoreReplies:M,showMoreRepliesId:w,pinnedPostId:P,groupMembershipsWithWriteAccess:T,handleLikeClick:L,handleFollowClick:D,handleReplyIconClick:G,handleModalReplyIconClick:be,handleReplyIconReset:j,handleShowMoreRepliesClick:F,handleReplyDelete:U,handleReplyUpdate:B,handleEditPostClick:q,handleEditPostCancel:V,handleEditPostTextChange:z,handleEditPostDismissAttachment:W,handleEditPostSave:K,handleAttachLinkBtnClick:Y,handleAttachLinkTextBlur:J,handleAttachLinkPaste:X,handleAttachLinkCTAClick:ee,handleAttachLinkTitleChange:te,handleAttachLinkCancel:$,handleAddFromLibraryClick:ae,handleAttachedLibraryFiles:ne,handleDueDateChange:re,handleEditQuizSave:se,handleAssignmentTitleChange:ie,handleAssignmentDescriptionChange:le,handleEditPostAssignmentSave:ce,handlePollAnswerChange:de,pollAnswerSubmit:ue,selectedPollAnswer:he,trackingContext:pe,setPinnedPostId:me,disableReplyMultipleGroups:ve,handleAttachedFilesBegin:Ee,filesInProgressAttaching:ye,handleRefreshClick:Q,showPinnedPosts:Z,streamTrackingActions:ge,handleMessageTeacherBtnClick:Ie,currentUserCompactRecipients:Te,userProfileId:Ce,childId:Ae,handleHashtagClick:ke,currentfilter:Oe,isCurrentUserInSharingRedesignABTest:xe,isCurrentUserInHashTagABTest:Le,currentHashtagOnHomePage:_e,displayVideoAttachmentModal:Me,handleDynamicTranslationClick:we,handleShowOriginalTranslationTextClick:Pe,dynamicTranslations:Re,isInteractionsDisabled:Fe,addMessageVisibilityInfo:Ue,isSchoolAdminReadOnly:Be,attachedMultimediaItems:je,handleGifAttachmentPickerClick:Ge})}))),y=a(273),S=a(134),v=a(133),C=a(364),A=a(1985),I=a(145),T=a(1895),k=a(156),O=a(40),_=a(1284),M=a(75),N=a(78),w=a(327),P=a(1213),R=a(1475),x=a(1483),L=a(1471),D=a(12);a(1993);var F=()=>{const e=Object(n.useState)(!1),t=Object(y.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(!1),o=Object(y.a)(i,2),l=o[0],c=o[1],d=()=>s(!a),u=()=>c(!l);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"apr-20-new-teacher-experience-card rounded-top rounded-bottom mb-2"},r.a.createElement("img",{alt:"REPLACE",src:"https://a.edim.co/images_v2/onboardings/teacher/apr_20_new_teacher_experience@2x.jpg"}),r.a.createElement("div",{className:"card-content py-5"},r.a.createElement("h4",{className:"text-center pb-3"},r.a.createElement(k.default,{string:"set-up-your-class-for-online-learning",fallbackString:"Set up your Class for online learning"})),r.a.createElement("p",{className:"text-center"},r.a.createElement(k.default,{string:"start-communicating-with-students-and-parents",fallbackString:"Start communicating with students and parents, and share digital assignments, quizzes and more. If you are co-teacher, you can join an existing class using the Class Code."})),r.a.createElement("div",{className:"buttons-container pt-5 px-2_5"},r.a.createElement(P.a,{weight:"standard",qaSelector:"visit-page-button",onClick:u},r.a.createElement(k.default,{string:"join-existing-class",fallbackString:"Join existing Class"})),r.a.createElement(P.a,{weight:"loud",qaSelector:"visit-page-button",onClick:d},r.a.createElement(k.default,{string:"create-a-class",fallbackString:"Create a Class"}))))),r.a.createElement(R.a,{isOpen:a,toggleVisibility:d,groupType:D.a.CLASS,trackingContext:I.a.HOME_PAGE_CONTEXT,trackingProductGroup:"new_experience_card",visualElement:"new_experience_card_create",openGroupPageWithSuccessModal:!0},r.a.createElement(x.a,null)),r.a.createElement(L.a,{isOpen:l,toggle:u,groupType:D.a.CLASS,trackingContext:I.a.HOME_PAGE_CONTEXT,trackingProductGroup:"new_experience_card",visualElement:"new_experience_card_join"}))},U=a(530),B=a(1994),G=a.n(B),j=a(1987),z=a.n(j);const q=(e,t)=>r.a.createElement("div",{className:"empty-filtered-stream-container"},r.a.createElement("div",{className:"empty-filtered-stream-image"}),r.a.createElement("p",{className:"empty-filtered-stream-header"},r.a.createElement(k.default,{string:"empty-filtered-stream-no-results",fallbackString:"No results found"})),r.a.createElement("p",{className:"empty-filtered-stream-sub-header"},((e,t)=>{if(!e)return"";const a=N.a.isClass(e)?"class":"group";let n,s;switch(t){case M.a.FILTERED_BY_ME:n="empty-filtered-stream-by-me-".concat(a),s="It looks like you haven't posted to this ".concat(a," yet");break;case M.a.FILTERED_BY_OTHERS:n="empty-filtered-stream-by-others-".concat(a),s="It looks like no other members of your ".concat(a," posted yet");break;case M.a.FILTERED_BY_LATEST_ACTIVITY:n="empty-filtered-stream-by-latest-activity-".concat(a),s="It looks like there is no recent activity in this ".concat(a);break;case M.a.FILTERED_BY_ASSIGNMENTS:n="empty-filtered-stream-by-assignments-".concat(a),s="It looks like there are no Assignments in this ".concat(a);break;case M.a.FILTERED_BY_QUIZZES:n="empty-filtered-stream-by-quizzes-".concat(a),s="It looks like there are no Quizzes in this ".concat(a);break;case M.a.FILTERED_BY_POLLS:n="empty-filtered-stream-by-polls-".concat(a),s="It looks like there are no Polls in this ".concat(a);break;default:return""}return r.a.createElement(k.default,{string:n,fallbackString:s})})(e,t)));var H=Object(v.connect)(null,(function(e){return{abTestActions:Object(S.bindActionCreators)(U,e)}}))(({streamName:e,isOwnerOrCoTeacher:t,currentGroup:a,filteredBy:s,canCreatePost:o,isParent:l,handleCollectInterestsModalToggle:c,isCollectInterestsModalOpen:d,isStudent:h,currentUser:p,userHasNoClassesOrGroups:m,abTestInfo:g,abTestActions:f})=>{const b=Object(n.useState)(!1),E=Object(y.a)(b,2),S=E[0],v=E[1];let M;return Object(n.useEffect)(()=>{f.fetchSingleMaestroAbTestPlacementForUser("homepage_empty_state",!1,2e3).then(()=>v(!0)).catch(()=>v(!0))},[f]),M=O.a.isFiltered(s)?q(a,s):((e,t,a,n,s,o,l,c,d,h,p)=>{const m=_.c(u.a.getUserEmail(l));let g,f=T.a.START_CONVERSATION,b="Start the conversation!",E=T.a.DISCOVER_CLASS_DISCUSSIONS,y="Discover how Class Discussions work by posting a quick message above. For example, you can welcome your students or ask a simple question.";return n?r.a.createElement("div",{className:"qa-test-parent-empty-stream-container d-flex flex-column",style:{backgroundColor:"#EDEDED",margin:"45px auto 0 auto"}},r.a.createElement("img",{alt:"",src:G.a}),r.a.createElement(k.default,{string:"no-news-yet",fallbackString:"No News Yet",style:{color:"#999999",fontSize:"1.25rem",fontWeight:"500",display:"block",margin:"16px auto 8px auto"}}),r.a.createElement(k.default,{string:"check-back-later-for-updates",fallbackString:"Check back later for updates.",style:{color:"#999999",fontSize:"14px",fontWeight:"400",display:"block",margin:"0 auto"}})):(O.a.isGroupStream(e)?(t||(f="no-messages-here",b="No messages here.",E="try-others",y="Try selecting a different group, or changing the filters."),g=r.a.createElement("div",{className:"empty-stream-container qa-test-empty-stream-container rounded-top rounded-bottom"},r.a.createElement("img",{alt:"",className:"stream-mo",src:"//a.edim.co/images_v2/onboardings/mo-big@2x.png"}),r.a.createElement("div",{className:"empty-stream-dialog-container qa-test-empty-stream-dialog-container"},r.a.createElement("p",{className:"empty-stream-dialog-bold"},r.a.createElement(k.default,{string:f,fallbackString:b})),r.a.createElement("p",{className:"empty-stream-dialog"},r.a.createElement(k.default,{string:E,fallbackString:y}))))):e===i.a.SCHOOL_STREAM||O.a.isDistrictStream(e)?(f="no-messages-here",b="No messages here.",E="create-your-first-post",y="Create your first post",g=r.a.createElement("div",{className:"empty-stream-container qa-test-empty-stream-container rounded-top rounded-bottom"},r.a.createElement("img",{alt:"",className:"stream-mo",src:"//a.edim.co/images_v2/onboardings/mo-big@2x.png"}),r.a.createElement("div",{className:"empty-stream-dialog-container qa-test-empty-stream-dialog-container"},r.a.createElement("p",{className:"empty-stream-dialog-bold"},r.a.createElement(k.default,{string:f,fallbackString:b})),a&&r.a.createElement("p",{className:"empty-stream-dialog"},r.a.createElement(k.default,{string:E,fallbackString:y}))))):c?g=r.a.createElement("div",{className:"empty-stream-container qa-test-empty-stream-container rounded-top rounded-bottom"},r.a.createElement("img",{alt:"",className:"stream-mo",src:"//a.edim.co/images_v2/onboardings/mo-big@2x.png"}),r.a.createElement("div",{className:"empty-stream-dialog-container qa-test-empty-stream-dialog-container"},r.a.createElement("p",{className:"empty-stream-dialog-bold"},r.a.createElement(k.default,{string:"post_stream,start_the_conversation",fallbackString:"Start the conversation!"})),r.a.createElement("p",{className:"empty-stream-dialog"},r.a.createElement(k.default,{string:"create-your-first-post",fallbackString:"Create your first post"})))):w.a.userInHomePageEmptyState(p)&&d&&h?g=r.a.createElement(F,null):m&&h&&(g=r.a.createElement("div",{className:"hashtag-logo-empty-stream-container rounded-top rounded-bottom"},r.a.createElement("img",{alt:"",src:z.a}),r.a.createElement("div",{className:"join-conversation-container"},r.a.createElement("h4",null,r.a.createElement(k.default,{fallbackString:"Personalize your Edmodo experience",string:"personalize-your-edmodo-experience"})),r.a.createElement("p",{className:"join-conversation-description"},r.a.createElement(k.default,{fallbackString:"Find education content, topic-based discussions, and connect with teachers that match your interests.",string:"find-education-content-etc"})),r.a.createElement(C.c,{color:"primary",className:"get-started-btn",onClick:s},r.a.createElement(k.default,{fallbackString:"Add Interests",string:"add-interests"}))),o&&r.a.createElement(A.a,{currentUser:l,modalShouldBeOpen:o,handleCollectInterestsModalToggle:s,trackingContext:I.a.HOME_PAGE_CONTEXT}))),g)})(e,t,o,l,c,d,p,h,m,S,g),r.a.createElement("div",null,M)});var V=({isUserOnOwnProfile:e,handleToggleCreatePostModal:t,isTeacherProfile:a})=>r.a.createElement("div",{className:"empty-stream-container qa-test-empty-stream-container rounded-top rounded-bottom mt-0"},r.a.createElement("img",{alt:"",className:"stream-mo",src:"//a.edim.co/images_v2/onboardings/mo-big@2x.png"}),r.a.createElement("div",{className:"empty-stream-dialog-container qa-test-empty-stream-dialog-container"},r.a.createElement("p",{className:"empty-stream-dialog-bold"},r.a.createElement(k.default,{string:"no-messages-here",fallbackString:"No messages here."})),e&&a&&r.a.createElement("p",{className:"qa-test-create-new-post-btn create-first-post-btn mt-2 p-0 border-0"},r.a.createElement(C.c,{color:"primary",onClick:t},r.a.createElement(k.default,{string:"create-your-first-post",fallbackString:"Create your first post"}))))),W=a(1971),Q=a(1199),Y=a(5),K=a.n(Y),J=a(0),Z=a(144),X=a.n(Z),$=a(212),ee=a(253),te=a(139),ae=a(210),ne=a(1458),re=a(1460),se=a(1801),ie=a(1233),oe=a(1267),le=a(1269),ce=a(1972),de=a(1780),ue=a(200),he=a(297),pe=a(392),me=a(1660),ge=a(548),fe=a(1291),be=a(3),Ee=a(64),ye=a(1921),Se=a(192),ve=a(41),Ce=a(328),Ae=a(371),Ie=a(254),Te=a(108),ke=a(256),Oe=a(523),_e=a(436),Me=a(1727),Ne=a(294),we=a(517),Pe=a(45),Re=a(201),xe=a(518),Le=a(36),De=a(1253),Fe=a(1468),Ue=a(510),Be=a(162),Ge=a(1988),je=a(556),ze=a(73),qe=a(1288),He=a(516),Ve=a(369),We=a(199),Qe=a(367),Ye=a(1289),Ke=a(1676),Je=a(9),Ze=a(28);const Xe=Object(Je.createSelector)([e=>Ze.P(e)],e=>e&&e.getIn([i.a.GOOGLE_TRANSLATIONS]));var $e=a(1647);var et=e=>{class t extends n.Component{constructor(e,t){super(e,t),this.handleDynamicTranslationClick=(e,t)=>{const a=t.isTranslationDisplayed,n=t.contentText,r=e.currentTarget.dataset&&e.currentTarget.dataset.messageId;ke.a.hasTranslation(this.props.dynamicTranslations,r)?this.props.googleApisActions.toggleIsTranslationDisplayedById(r,!0):this.props.googleApisActions.dynamicTranslate(r,a,{key:ke.a.getGoogleApiKey(),target:u.a.getLocale(this.props.currentUser),q:n})},this.handleShowOriginalTranslationTextClick=(e,t)=>{const a=t.uid,n=t.isTranslationDisplayed;this.props.googleApisActions.toggleIsTranslationDisplayedById(a,n)};const a=w.a.userInOracleStreamTestOrHardwired(this.props.accessToken,this.props.abTestPlacementInfo),n=(()=>a&&this.isHomePage())();let r=null;switch(e.streamName){case be.a.CLASS_ACTIVITY_STREAM:r=ve.a.defaultParamsForClassActivity();break;case be.a.SCHOOL_STREAM:r=Object.assign({},ve.a.defaultParamsForSchool(this.props.currentUser,this.props.currentSchool));break;case be.a.DISTRICT_STREAM:r=Object.assign({},ve.a.defaultParamsForDistrict(this.props.currentUser,this.props.currentDistrict));break;case be.a.PROFILE_STREAM:case be.a.PROFILE_REPLIES_STREAM:r=Object.assign({},ve.a.defaultParamsForProfile(this.props.userProfile));break;case be.a.HASHTAG_STREAM:r=Object.assign({},ve.a.defaultParamsForHashtagStream(this.props.hashtagFromSlug));break;case be.a.COMMUNITY_DETAIL_STREAM:r=ve.a.defaultParamsForCommunityDetail(this.props.communityId);break;default:r=ve.a.defaultParamsForHome()}this.state={streamParams:e.defaultParams||r,replyParams:{message_id:null,text:"",parent_reply_id:null,parent_id:null,mentions:[]},messageParams:{content:{id:null,text:null,attachments:null}},assignmentParams:{content:{item:{attachments:[],title:"",description:""}}},editing:!1,filteredBy:M.a.FILTERED_BY_NONE,editPostId:null,prevEditPostText:"",editPostText:"",attachedFiles:[],attachedLinks:[],attachedEmbeds:[],attachedWorksheets:[],attachedMultimediaItems:[],filesInProgressAttaching:[],attachLinkModalOpen:!1,selectedLink:null,selectedEmbedSrc:null,libraryModalOpen:!1,editAssignmentTitle:"",editAssignmentDesc:"",dueAt:"",runInfiniteScroll:!0,replyIconClicked:!1,replyIconId:null,nextPage:n?1:2,currentGroupId:e.currentGroupId,selectedPollAnswer:null,pinnedPostId:this.props.pinnedPostId,addedShareItemId:null,showOracleStream:null,userInEDistrict:u.a.userIsInEdmodoDistrict(this.props.currentUser),adsInjected:!1,scrollToMessageCompleted:!1,isCurrentUserInOracleTest:a,debounceDuration:s.a.DEBOUNCE_WAIT_TIME_IN_MILLISECONDS},this.handleFollowClick=this.handleFollowClick.bind(this),this.handleReplyIconClick=this.handleReplyIconClick.bind(this),this.handleModalReplyIconClick=this.handleModalReplyIconClick.bind(this),this.handleReplyIconReset=this.handleReplyIconReset.bind(this),this.handleDueDateChange=this.handleDueDateChange.bind(this),this.handleEditQuizSave=this.handleEditQuizSave.bind(this),this.handleAssignmentTitleChange=this.handleAssignmentTitleChange.bind(this),this.handleAssignmentDescriptionChange=this.handleAssignmentDescriptionChange.bind(this),this.handleEditPostAssignmentSave=this.handleEditPostAssignmentSave.bind(this),this.handleEditPostClick=this.handleEditPostClick.bind(this),this.handleEditPostCancel=this.handleEditPostCancel.bind(this),this.handleEditPostTextChange=this.handleEditPostTextChange.bind(this),this.handleEditPostDismissAttachment=this.handleEditPostDismissAttachment.bind(this),this.handleAttachedFilesBegin=this.handleAttachedFilesBegin.bind(this),this.handleEditPostSave=this.handleEditPostSave.bind(this),this.handleAttachLinkBtnClick=this.handleAttachLinkBtnClick.bind(this),this.handleAttachLinkTextBlur=this.handleAttachLinkTextBlur.bind(this),this.handleAttachLinkPaste=this.handleAttachLinkPaste.bind(this),this.handleAttachLinkCTAClick=this.handleAttachLinkCTAClick.bind(this),this.handleAttachLinkTitleChange=this.handleAttachLinkTitleChange.bind(this),this.handleAttachLinkCancel=this.handleAttachLinkCancel.bind(this),this.handleAddFromLibraryClick=this.handleAddFromLibraryClick.bind(this),this.handleAttachedLibraryFiles=this.handleAttachedLibraryFiles.bind(this),this.handlePollAnswerChange=this.handlePollAnswerChange.bind(this),this.pollAnswerSubmit=this.pollAnswerSubmit.bind(this),this.setPinnedPostId=this.setPinnedPostId.bind(this),this.handleShareableItemAddToLibrary=this.handleShareableItemAddToLibrary.bind(this),this.handleRefreshClick=this.handleRefreshClick.bind(this),this.isGroupStreamChanged=this.isGroupStreamChanged.bind(this),this.setStreamListReference=this.setStreamListReference.bind(this),this.handleMessageTeacherBtnClick=this.handleMessageTeacherBtnClick.bind(this),this.handleDynamicTranslationClick=this.handleDynamicTranslationClick.bind(this),this.handleGifAttachmentPickerClick=this.handleGifAttachmentPickerClick.bind(this)}componentDidMount(){if(this.props.streamActions.setCurrentStreamNameAction(this.props.streamName),O.a.isGroupStream(this.props.streamName)||O.a.isProfileStream(this.props.streamName)||O.a.isCommunityDetailStream(this.props.streamName)||O.a.isProfileRepliesStream(this.props.streamName)||O.a.isProfileRepliesStream(this.props.streamName)||O.a.isPublisherStream(this.props.streamName)||O.a.isChildStream(this.props.streamName)||O.a.isSinglePostStream(this.props.streamName)||this.props.streamName===i.a.SCHOOL_STREAM||this.props.streamName===i.a.DISTRICT_STREAM||this.props.streamName===i.a.PROFILE_STREAM||this.props.streamName===i.a.COMMUNITY_DETAIL_STREAM||this.props.streamName===i.a.PROFILE_REPLIES_STREAM||this.props.streamName===i.a.CLASS_ACTIVITY_STREAM?this.props.streamName!==i.a.CLASS_ACTIVITY_STREAM||this.props.stream?(!this.props.stream||J.Map.isMap(this.props.stream)&&0===this.props.stream.size||O.a.isPublisherStream(this.props.streamName)||O.a.isChildStream(this.props.streamName))&&(O.a.isGroupStream(this.props.streamName)?this.isGroupStreamChanged(this.props.currentGroupId,this.props.stream)&&this.fetchInitialStream(this.props):(this.isProfileStreamChanged(this.props.userProfileId,this.props.stream),this.fetchInitialStream(this.props))):this.fetchInitialStream(this.props):(this.props.homeStreamNeedRefresh||O.a.isDistrictStream(this.props.streamName))&&(this.props.streamActions.needRefreshStreamAction(!1),this.fetchInitialStream(this.props)),this.props.stream&&this.props.disableLoadingIndicator(),O.a.isSinglePostStream(this.props.streamName)){const e=X.a.parse(window.location.search),t=this.props.singlePostMessageId;"true"===e.editMode&&t&&this.props.stream&&this.handleEditPost(t,this.props.stream)}u.a.isParent(this.props.currentUser)&&this.props.recipientActions.fetchCompactRecipientsForCurrentUser({type:"chat_member"})}UNSAFE_componentWillReceiveProps(e){if(e.selectedLibraryItemsAttachmentList&&e.selectedLibraryItemsAttachmentList.length&&this.setAttachedLibraryItems(e.selectedLibraryItemsAttachmentList),!this.props.classActivityToggled&&e.classActivityToggled&&(e.stream||xe.a.isNotLoading(this.props.streamAjaxStatus)&&xe.a.isNotLoading(e.streamAjaxStatus)&&this.debouncedFetchStreamForClassActivity()),!e.firstPageOfHomeStreamLoaded||!O.a.isOracleStream(e.streamName)){if(O.a.isGroupStream(e.streamName))xe.a.isLoading(this.props.streamAjaxStatus)&&xe.a.isLoadingComplete(e.streamAjaxStatus)&&this.props.groupPageAfterStreamLoadCallback&&this.props.groupPageAfterStreamLoadCallback(),xe.a.isLoading(this.props.streamAjaxStatus)||xe.a.isLoading(e.streamAjaxStatus)||this.fetchNextStreamPage(e),e&&e.pinnedPostId!==this.props.pinnedPostId&&this.setState({pinnedPostId:e.pinnedPostId});else if(O.a.isCommunityDetailStream(this.props.streamName)&&!this.props.isEndOfStreamFetchReached)xe.a.isLoading(this.props.streamAjaxStatus)||xe.a.isLoading(e.streamAjaxStatus)||this.fetchNextStreamPage(e),e&&e.pinnedPostId!==this.props.pinnedPostId&&this.setState({pinnedPostId:e.pinnedPostId});else if(O.a.isProfileStream(e.streamName))xe.a.isLoading(this.props.streamAjaxStatus)||xe.a.isLoading(e.streamAjaxStatus)||this.fetchNextStreamPage(e),e.selectedLibraryItemsAttachmentList&&e.selectedLibraryItemsAttachmentList.length&&this.setAttachedLibraryItems(e.selectedLibraryItemsAttachmentList);else if(O.a.isProfileRepliesStream(e.streamName))xe.a.isLoading(this.props.streamAjaxStatus)||xe.a.isLoading(e.streamAjaxStatus)||this.fetchNextStreamPage(e),e.selectedLibraryItemsAttachmentList&&e.selectedLibraryItemsAttachmentList.length&&this.setAttachedLibraryItems(e.selectedLibraryItemsAttachmentList);else if(O.a.isHomeStream(e.streamName)){e.firstPageOfHomeStreamLoaded||this.props.firstPageOfHomeStreamLoaded?xe.a.isNotLoading(this.props.streamAjaxStatus)&&xe.a.isNotLoading(e.streamAjaxStatus)&&this.fetchNextStreamPage(e):we.a(e.stream)&&this.fetchInitialStream(e),xe.a.isLoading(this.props.streamAjaxStatus)&&xe.a.isLoadingComplete(e.streamAjaxStatus)&&this.props.homePageAfterStreamLoadCallback&&!this.props.compactMembershipsFullyLoaded&&this.props.homePageAfterStreamLoadCallback()}else if(O.a.isOracleStream(e.streamName)){!(e.firstPageOfHomeStreamLoaded||this.props.firstPageOfHomeStreamLoaded)&&xe.a.isNotLoading(this.props.streamAjaxStatus)&&xe.a.isNotLoading(e.streamAjaxStatus)&&this.setShowOracleStreamForUser()}else if(this.props.streamName===i.a.SCHOOL_STREAM){(e.firstPageOfSchoolStreamLoaded||this.props.firstPageOfSchoolStreamLoaded)&&this.fetchNextStreamPage(e)}else if(this.props.streamName===i.a.DISTRICT_STREAM){(e.firstPageOfDistrictStreamLoaded||this.props.firstPageOfDistrictStreamLoaded)&&this.fetchNextStreamPage(e)}else if(this.props.streamName===i.a.PROFILE_STREAM){(e.firstPageOfProfileStreamLoaded||this.props.firstPageOfProfileStreamLoaded)&&this.fetchNextStreamPage(e)}else if(this.props.streamName===i.a.CLASS_ACTIVITY_STREAM||e.streamName===i.a.CLASS_ACTIVITY_STREAM)this.props.stream&&this.fetchNextStreamPage(e);else if(O.a.isDistrictStream(this.props.streamName)||O.a.isDistrictStream(e.streamName)){(e.firstPageOfDistrictStreamLoaded||this.props.firstPageOfDistrictStreamLoaded)&&this.fetchNextStreamPage(e)}else O.a.isHashtagStream(e.streamName)?(!e.streamAjaxStatus||xe.a.isNotLoading(this.props.streamAjaxStatus)&&xe.a.isNotLoading(e.streamAjaxStatus))&&(e.firstPageOfHashtagStreamLoaded&&e.fetchMore?this.fetchNextStreamPage(e):this.props.firstPageOfHashtagStreamLoaded||e.firstPageOfHashtagStreamLoaded||this.fetchInitialStream(e)):O.a.isPublisherStream(this.props.streamName)&&!this.props.isEndOfStreamFetchReached?this.fetchNextStreamPage(e):O.a.isChildStream(this.props.streamName)&&!this.props.isEndOfStreamFetchReached&&(xe.a.isLoading(this.props.streamAjaxStatus)||xe.a.isLoading(e.streamAjaxStatus)||this.fetchNextStreamPage(e));if(e&&e.stream&&e.stream.size>0&&!this.props.stream&&this.props.disableLoadingIndicator(),e.s3UploadProgress&&this.setUploadProgressInFile(e.s3UploadProgress),this.props.streamFilters!==e.streamFilters){const t=e.streamFilters&&e.streamFilters!==M.a.FILTERED_BY_NONE;this.fetchStream(t,e.streamFilters,this.props.streamFilters)}if(O.a.isSinglePostStream(this.props.streamName)&&this.props.scrollToMessage&&xe.a.isLoadingComplete(this.props.streamAjaxStatus)&&!this.state.scrollToMessageCompleted){const e=document.body,t=document.documentElement;e.scrollTop=this.streamList&&this.streamList.offsetTop||e&&e.scrollTop||0,t.scrollTop=this.streamList&&this.streamList.offsetTop||t&&t.scrollTop||0;const a=this.streamList&&this.streamList.getElementsByClassName("message-container");a&&a[0]&&a[0].style&&(this.setState({scrollToMessageCompleted:!0}),a[0].style.background="#FDFFDB",setTimeout(()=>{a[0].style.background="#FFF"},5e3))}if(!this.props.currentUser&&e&&e.currentUser&&this.setShowOracleStreamForUser(e.currentUser),O.a.isSinglePostStream(e.streamName)){const t=X.a.parse(window.location.search),a=e.singlePostMessageId;"true"===t.editMode&&a&&e&&e.stream&&!this.props.stream&&this.handleEditPost(a,e.stream)}}}componentDidUpdate(e){const t=this.props,a=t.stream,n=t.adsInfo,r=t.streamActions,s=t.streamName,i=this.state.adsInjected;!a||a.isEmpty()||!n||n.isEmpty()||i||this.setState({adsInjected:!0},()=>r.injectAdsInStream(n,s))}componentWillUnmount(){this.props.streamActions.unsetCurrentStreamNameAction()}setStreamListReference(e){this.streamList=e}setShowOracleStreamForUser(){const e=w.a.userInOracleStreamTestOrHardwired(this.props.accessToken,this.props.abTestPlacementInfo);this.isHomePage()&&(e&&!this.props.classActivityToggled?this.setState({showOracleStream:!0,isCurrentUserInOracleTest:e},this.fetchInitialStream):e&&this.props.classActivityToggled?this.setState({showOracleStream:!1,isCurrentUserInOracleTest:e},this.fetchInitialStream):e?Object(Pe.a)("Unknown Stream usecase for: userInOracleTest=".concat(e,',\n            showOracleStream="false",\n            classActivityToggled=').concat(this.props.classActivityToggled)):this.setState({showOracleStream:!1,isCurrentUserInOracleTest:e},this.fetchInitialStream))}isHomePage(){return this.props.currentPage===ye.a.HOME}isOracleStreamOnHomePage(){return this.isHomePage()&&this.props.streamName===i.a.ORACLE_STREAM}isGroupStream(e){return e&&e.includes(i.a.GROUP_STREAM)}defaultStreamParams(){return O.a.isGroupStream(this.props.streamName)?Object.assign({},ve.a.defaultParamsForGroup(this.props.currentGroupId)):O.a.isProfileStream(this.props.streamName)?Object.assign({},ve.a.defaultParamsForProfile(this.props.userProfileId)):O.a.isCommunityDetailStream(this.props.streamName)?ve.a.defaultParamsForCommunityDetail(this.props.communityId):this.props.streamName===i.a.TOPIC_STREAM?Object.assign({},ve.a.defaultParamsForTopic(this.props.topicId)):this.props.showOnlyClassActivity?Object.assign({},ve.a.defaultParamsForClassActivity()):this.props.streamName===i.a.SCHOOL_STREAM?Object.assign({},ve.a.defaultParamsForSchool(this.props.currentUser,this.props.currentSchool)):this.props.streamName===i.a.DISTRICT_STREAM?Object.assign({},ve.a.defaultParamsForDistrict(this.props.currentUser,this.props.currentDistrict)):Object.assign({},ve.a.defaultParamsForHome())}fetchStream(e=!1,t={},a){this.props.stream&&0!==this.props.stream.size&&this.state.streamParams&&1!==this.state.streamParams.page&&this.props.disableLoadingIndicator();const n=t.streamParams||{},r=t.filteredBy!==M.a.FILTERED_BY_NONE,o=!!a&&a.filteredBy!==t.filteredBy;let l=this.state.streamParams.group_ids;o&&this.setState({nextPage:2});const c=Object.assign({},this.state.streamParams,n,{group_ids:l,apply_filter:r});if(Se.a.isValid(this.props.accessToken)&&this.props.currentUser){if(O.a.isGroupStream(this.props.streamName))return this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_GROUP_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),void this.props.streamActions.fetchMoreStreamForGroupPage(c,e);if(O.a.isSinglePostStream(this.props.streamName))return this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_SINGLE_POST_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),this.props.disableLoadingIndicator(),void this.props.postActions.fetchSinglePost(this.props.singlePostMessageId);switch(this.props.streamName){case i.a.HOME_STREAM:this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_HOME_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),this.props.streamActions.fetchStreamForHomePage(c,e);break;case i.a.CLASS_ACTIVITY_STREAM:this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_CLASS_ACTIVITY_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),this.props.streamActions.fetchStreamForClassActivity(c,e)}}}fetchNextStreamPage(e){if(this.props.shouldNotFetchMoreYet(),e&&e.fetchMore&&!this.props.fetchMore){const t=this.props.streamFilters&&this.props.streamFilters.streamParams||{};let a=Object.assign({},this.state.streamParams,t,{page:this.state.nextPage});this.props.streamName===i.a.HASHTAG_STREAM&&(a=Object.assign({},this.state.streamParams,{page:this.state.nextPage,hash_tag:this.props.hashtagFromSlug})),this.setState({nextPage:this.state.nextPage+1,streamParams:a},()=>{this.props.shouldNotFetchMoreYet(),this.fetchStreamWithAjaxStatusUpdate(e)})}else e.classActivityToggled&&!this.props.stream&&console.log("********************************++++++++++++++++++++++***************")}isGroupStreamChanged(e,t){let a=!0;try{const n=t&&K.a.first(d.a.getRecipientGroups(c.a.getRecipients(t.first())));a=n&&n.id!==e}finally{return!!K.a.isUndefined(a)||a}}isProfileStreamChanged(e,t){let a=!0;try{const n=t&&c.a.getMessageCreator(t.first());a=n&&u.a.getId(n)!==e}finally{return!!K.a.isUndefined(a)||a}}fetchStreamWithAjaxStatusUpdate(e,t=null){if(e&&e.firstPageOfHomeStreamLoaded&&(e&&e.streamName===i.a.ORACLE_STREAM||!e&&this.props.streamName===i.a.ORACLE_STREAM))return;const a=this.props.streamFilters&&this.props.streamFilters!==M.a.FILTERED_BY_NONE;if(O.a.isGroupStream(e&&e.streamName))this.debouncedFetchStreamForGroupPage(e,a);else if(O.a.isChildStream(e&&e.streamName))this.debouncedFetchStreamForChild();else if(O.a.isDistrictStream(e&&e.streamName))this.debouncedFetchStreamForDistrictPage(a);else if(O.a.isProfileStream(e&&e.streamName))this.debouncedFetchStreamForProfilePage(e,a);else if(O.a.isProfileRepliesStream(this.props.streamName))this.debouncedFetchStreamForProfilePage(e,a);else if(O.a.isHashtagStream(e&&e.streamName))this.debouncedFetchStreamForHashtag(e);else switch(O.a.isPublisherStream(e&&e.streamName)?this.debouncedFetchStreamForPublisherPage(e):O.a.isCommunityDetailStream(e&&e.streamName)?this.debouncedFetchStreamForCommunityDetailPage(e):O.a.isSinglePostStream(e&&e.streamName)&&this.debouncedFetchStreamForSinglePostPage(t||this.props.singlePostMessageId),this.props.streamName){case i.a.TOPIC_STREAM:this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_TOPIC_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),this.props.streamActions.fetchStreamForTopicPage(this.state.streamParams);break;case i.a.HOME_STREAM:this.debouncedFetchStreamForHomePage(a);break;case i.a.SCHOOL_STREAM:this.debouncedFetchStreamForSchoolPage(a);break;case i.a.DISTRICT_STREAM:this.debouncedFetchStreamForDistrictPage(a);break;case i.a.PROFILE_STREAM:case i.a.PROFILE_REPLIES_STREAM:this.debouncedFetchStreamForProfilePage(a);break;case i.a.CLASS_ACTIVITY_STREAM:this.debouncedFetchStreamForClassActivity()}}debouncedFetchStreamForGroupPage(e,t){const a=this.props.streamActions,n=this.state,r=n.streamParams,i=n.debounceDuration;if(this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_GROUP_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),e.currentGroupId){const n=Object.assign({},r,{group_ids:"".concat(e.currentGroupId),context:D.a.GROUP});K.a.debounce((function(){a.fetchStreamForGroupPage(n,t)}),i)()}}debouncedFetchStreamForSinglePostPage(e){const t=this.props.streamActions,a=this.state.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_SCHOOL_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),K.a.debounce((function(){t.fetchSinglePost(e)}),a)()}debouncedFetchStreamForHomePage(e){const t=this.props,a=t.streamActions,n=t.stream,r=this.state.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_HOME_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS));const i=Object.assign({},this.state.streamParams),o=this.props.currentOracleMessageIds;if(o&&o.length>0){const e=o.filter(e=>!e.toString().match(/message:oracle_ad/));i.excluded_message_ids=e.join(",")}K.a.debounce((function(){a.fetchStreamForHomePage(i,e,n&&n.size)}),r)()}debouncedFetchStreamForSchoolPage(e){const t=this.props,a=t.streamActions,n=t.stream,r=t.trackingContext,i=this.state,o=i.streamParams,l=i.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_SCHOOL_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),K.a.debounce((function(){a.fetchStreamForSchoolPage(o,e,n&&n.size,r)}),l)()}debouncedFetchStreamForProfilePage(e){const t=this.props,a=t.streamActions,n=t.stream,r=t.trackingContext,i=t.userProfileId,o=this.state,l=o.streamParams,c=o.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_PROFILE_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS));const d=Object.assign({},l,i);K.a.debounce((function(){a.fetchStreamForProfilePage(d,e,n&&n.size,r)}),c)()}debouncedFetchStreamForClassActivity(){const e=this.props.streamActions,t=this.state,a=t.streamParams,n=t.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_CLASS_ACTIVITY_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),this.props.streamActions.fetchStreamForClassActivity(this.state.streamParams),K.a.debounce((function(){e.fetchStreamForClassActivity(a)}),n)()}debouncedFetchStreamForDistrictPage(e){const t=this.props,a=t.streamActions,n=t.streamName,r=t.currentDistrictId,i=this.state,o=i.streamParams,l=i.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_DISTRICT_STREAM_FETCH_AJAX_CALL,"".concat(n,"-").concat(s.a.STREAM_LOADING_STATUS)),K.a.debounce((function(){a.fetchStreamForDistrictPage(o,e,r)}),l)()}debouncedFetchStreamForPublisherPage(e){const t=this.props.streamActions,a=this.state,n=a.streamParams,r=a.debounceDuration;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_PUBLISHER_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),K.a.debounce((function(){t.fetchStreamForPublisherPage(n)}),r)()}debouncedFetchStreamForHashtag(e){const t=e||this.props;if(xe.a.isLoading(t.streamAjaxStatus)||xe.a.isLoading(this.props.streamAjaxStatus))return;const a=t.streamActions,n=t.currentHashtagOnHomePage,r=this.state.debounceDuration;let i=ve.a.defaultParamsForHashtagStream(n);const o=t.firstPageOfHashtagStreamLoaded?this.state.nextPage:i.page;i=Object.assign({},i,{page:o}),this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_HASHTAG_STREAM_FETCH_AJAX_CALL,"".concat(t.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),K.a.debounce((function(){a.fetchStreamForHashtagStream(i)}),r)()}debouncedFetchStreamForChild(){const e=this.props.streamActions,t=this.state,a=t.debounceDuration,n=t.streamParams;this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_STUDENT_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),K.a.debounce((function(){e.fetchStreamForchildPage(n)}),a)()}debouncedFetchStreamForCommunityDetailPage(e){const t=this.props.streamActions,a=this.state,n=a.streamParams,r=a.debounceDuration;if(this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_COMMUNITY_DETAIL_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),e.communityId){const a=Object.assign({},n,{subject_community_ids:"".concat(e.communityId)});K.a.debounce((function(){t.fetchStreamForCommunityDetailPage(a)}),r)()}}fetchInitialStream(e){const t=e||this.props;(t.homeStreamNeedRefresh||!t.streamAjaxStatus||we.a(t.stream)&&!xe.a.isLoadingOrLoadingComplete(t.streamAjaxStatus))&&(this.state.showOracleStream&&O.a.isOracleStream(t.streamName)?xe.a.isLoadingOrLoadingComplete(this.props.streamAjaxStatus)||xe.a.isLoadingOrLoadingComplete(t.streamAjaxStatus)||this.fetchOracleItems():!t.fetchOnMount&&this.state.isCurrentUserInOracleTest||this.fetchStreamWithAjaxStatusUpdate(e))}fetchOracleItems(){if(this.props.streamName===i.a.ORACLE_STREAM&&xe.a.notCurrentlyFetching(this.props.streamAjaxStatus)){this.props.ajaxStatusActions.beginAjaxCallAction(s.a.BEGIN_HOME_ORACLE_STREAM_FETCH_AJAX_CALL,"".concat(this.props.streamName,"-").concat(s.a.STREAM_LOADING_STATUS));const e=this.props.oracleActions,t=this.state.debounceDuration;K.a.debounce((function(){e.fetchItemsForHomePage()}),t)()}}handlerOptions(e){return{e:e,currentUser:this.props.currentUser,accessToken:this.props.accessToken,stream:this.props.stream,replyActions:this.props.replyActions,postActions:this.props.postActions,inorganicPostTrackingActions:this.props.inorganicPostTrackingActions}}handleEditPostClick(e){e=De.a.preventDefaultAndStopPropagation(e),this.handleEditPost(parseInt(e.currentTarget.dataset.messageid,10),this.props.stream)}handleEditPost(e,t){const a=ve.a.getMessageById(t,e),n=c.a.isAssignmentMessageType(a)?Ae.a.getContent(a):null,r=c.a.getText(a),s=n?Ae.a.getTitle(n):null,i=n?Ae.a.getDescription(n):null,o=n?Ae.a.getDueDate(n):null,l={};switch(this.props.trackingContext){case I.a.HOME_PAGE_CONTEXT:this.props.homePageTrackingActions.streamOptionsEditToPostClick(l);break;case I.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamEditMessageClick(l,Ee.a.SCHOOL_COMMUNITY);break;case I.a.DISTRICT_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamEditMessageClick(l,Ee.a.DISTRICT_COMMUNITY)}this.setState({editPostId:e,editPostText:r,editAssignmentTitle:s,editAssignmentDesc:i,dueAt:o})}setUploadProgressInFile(e){if(e){const t=Ie.a.getFileUploadProgress(e),a=K.a.cloneDeep(this.state.filesInProgressAttaching),n=a.findIndex(t=>t.id===e.file.id);n>-1&&a[n].progress!==t&&(a[n].progress=t,this.setState({filesInProgressAttaching:a}))}}handleAttachedFilesBegin(e){if(!Array.isArray(e)||0===e.length)return;let t=K.a.cloneDeep(this.state.filesInProgressAttaching),a=[];e.forEach(e=>{-1===t.findIndex(t=>t.s3_name===e.s3_name)&&(e.progress=0,a.push(e))}),t=t.concat(a),this.setState({filesInProgressAttaching:t})}handleEditPostDismissAttachment(e){const t=(e=De.a.preventDefaultAndStopPropagation(e)).currentTarget.dataset.attachmentId,a=parseInt(e.currentTarget.dataset.attachmentMessageid,10);let n=K.a.cloneDeep(this.state.attachedFiles);n=n.filter(e=>e.id!==t);let r=K.a.cloneDeep(this.state.attachedLinks);r=r.filter(e=>e.id!==t);let s=K.a.cloneDeep(this.state.attachedEmbeds);s=s.filter(e=>e.id!==t);let i=K.a.cloneDeep(this.state.attachedMultimediaItems);i=i.filter(e=>Oe.a.getId(e)!==parseInt(t,10));let o=K.a.cloneDeep(this.state.filesInProgressAttaching);o=o.filter(e=>e.id!==t),this.setState({attachedFiles:n,attachedLinks:r,attachedEmbeds:s,attachedMultimediaItems:i,filesInProgressAttaching:o}),this.props.postActions.removeAttachmentFromPostAction(a,t,this.props.streamName)}handleAttachLinkBtnClick(e){e=De.a.preventDefaultAndStopPropagation(e),this.setState({attachLinkModalOpen:!this.state.attachLinkModalOpen})}handleAttachLinkTextBlur(e){const t=!!this.state.selectedEmbedSrc;Fe.b({uri:e.target.value}).then(e=>(this.setState({selectedLink:e.data}),e)).then(e=>{!e.data||e.data.title||t?e.data&&t&&this.getEmbedLinkInfo(this.state.selectedEmbedSrc):this.setSelectedLinkByPollingWebpageApi(e.data.id)}).catch(e=>{Object(Pe.a)("error:",e),Le.a.notifyBugsnag(e,"WithStreamInteractionsFactory.handleAttachLinkTextBlur")})}getEmbedLinkInfo(e){Fe.b({uri:e}).then(e=>{const t=e&&e.data&&e.data.title;if(t){const e=K.a.cloneDeep(this.state.selectedLink);e.title=t,this.setState({selectedLink:e})}return e}).catch(e=>{Le.a.notifyBugsnag(e,"WithStreamInteractionsFactory.getEmbedLinkInfo")})}handleAttachLinkPaste(e){const t=e.clipboardData.getData("Text"),a=Re.f(t);a&&this.setState({selectedEmbedSrc:a})}setSelectedLinkByPollingWebpageApi(e,t=2,a=2e3,n=0){Fe.a(e).then(r=>{if(n<t&&r.data&&!r.data.title)setTimeout(()=>{this.setSelectedLinkByPollingWebpageApi(e,t,a,n+1)},a);else{if(!r.data||!r.data.title){const e=K.a.cloneDeep(this.state.selectedLink);return e.timed_out=!0,this.setState({selectedLink:e}),null}this.setState({selectedLink:r.data})}}).catch(e=>{Le.a.notifyBugsnag(e,"WithStreamInteractionsFactory.setSelectedLinkByPollingWebpageApi")})}handleAttachLinkTitleChange(e){if(this.state.selectedLink){const t=JSON.parse(JSON.stringify(this.state.selectedLink));t.title=e.target.value,this.setState({selectedLink:t})}}handleAttachLinkCTAClick(e){const t=parseInt(e.currentTarget.dataset.messageid,10),a=!!this.state.selectedEmbedSrc;if(a){const e=this.state.selectedLink,t=e.title,a=e.uri;if(Re.t(a)){const e={title:t,content:a},n=this.state.attachedEmbeds;n.push(e),this.setState({attachedEmbeds:n,attachLinkModalOpen:!this.state.attachLinkModalOpen})}else Object(Pe.a)("Embed src not whitelisted: ".concat(a))}else{const e=this.state.attachedLinks,t=this.state.selectedLink,a={title:t.title,link_url:t.uri,thumb_url:t.image};e.push(a),this.setState({attachedLinks:e,attachLinkModalOpen:!this.state.attachLinkModalOpen})}this.props.postActions.addAttachedLinkToPostAction(this.state.selectedLink,t,a,this.props.groupId,this.props.communityId),this.setState({selectedLink:null,selectedEmbedSrc:null,attachLinkModalOpen:!1})}handleAttachLinkCancel(){this.setState({selectedLink:null,selectedEmbedSrc:null,attachLinkModalOpen:!1})}handleAddFromLibraryClick(){this.setState({libraryModalOpen:!this.state.libraryModalOpen})}setAttachedLibraryItems(e){const t=[];e&&e.forEach(e=>{if(e){const a=K.a.cloneDeep([...e.get("item")]).reduce((function(e,t){return e[t[0]]=t[1],e}),{libraryItemId:e.get("id"),type:e.get("type"),source:"edmodo"});t.push(a)}}),this.setState({attachedLibraryItems:t})}handleAttachedLibraryFiles(){const e=this.state.attachedLibraryItems;this.props.postActions.addLibraryItemToPostAction(e,this.state.editPostId,this.props.groupId,this.props.userProfileId,this.props.districtId,this.props.childId,this.props.hashtag,this.props.communityId),this.setState({libraryModalOpen:!1})}handleDueDateChange(e,t,a,n){const r=Ne.e(e,t,a,n);this.setState({dueAt:r})}handleEditQuizSave(e){const t=this.props,a=t.groupId,n=t.userProfileId,r=this.state.dueAt,s=parseInt(this.state.editPostId,10),i=e.currentTarget.dataset.quizid,o={due_at:r};this.props.quizzesActions.updateQuiz(o,i),this.props.postActions.updatePostDueDate(r,s,a,n),this.setState({editPostId:null,due_at:null})}handleAssignmentTitleChange(e){if((e=De.a.preventDefaultAndStopPropagation(e))&&e.target){const t=e.target.value||e.currentTarget.dataset.text;this.setState({editAssignmentTitle:t})}}handleAssignmentDescriptionChange(e){if((e=De.a.preventDefaultAndStopPropagation(e))&&e.target){const t=e.target.value||e.currentTarget.dataset.text;this.setState({editAssignmentDesc:t})}}handleEditPostAssignmentSave(e){const t=this.getUnifiedFilesForSubmit();this.setState({attachedFiles:t},e=>{const t=this.props,a=t.groupId,n=t.streamName,r=parseInt(this.state.editPostId,10),s=ve.a.getMessageById(this.props.stream,r),i=this.state.editAssignmentTitle,o=this.state.editAssignmentDesc,l=this.state.dueAt,c=this.state.assignmentParams,d=s&&s.getIn([be.a.MESSAGE_ITEM,be.a.MESSAGE_CONTENT,be.a.MESSAGE_ITEM,be.a.ATTACHMENTS]),u=Ce.a.getCurrentAttachmentIds(d),h=Ce.a.getLibraryItemPayloadIds(this.state.attachedLibraryItems),p=this.state,m=p.attachedFiles,g=p.attachedLinks,f=p.attachedEmbeds,b=p.attachedWorksheets,E=p.attachedMultimediaItems,y=Ce.a.getPayloadFormat(m,g,f,b,E,u,h);c.content.item.title=i,c.content.item.description=o,c.content.item.due_at=l,c.content.item.attachments=y,this.props.assignmentActions.updatePostAssignment(c,r,a,n),this.props.postActions.updatePostAssignmentTitleAction(i,r,a,this.props.userProfileId),this.props.postActions.updatePostAssignmentDescriptionAction(o,r,a,this.props.userProfileId),this.props.postActions.updatePostDueDate(l,r,a,this.props.userProfileId),this.setState({editPostId:null,assignmentParams:{content:{item:{attachments:[],title:"",description:"",due_at:""}}},filesInProgressAttaching:[]})})}handleEditPostCancel(e){const t=_e.b(e.currentTarget.dataset.messageid);this.props.postActions.updatePostTextAction(e.currentTarget.dataset.currentcontent,t,this.props.groupId,this.props.userProfileId,this.props.communityId),this.props.postActions.cancelAttachmentsForPost(t,this.state.attachedFiles,this.state.attachedLinks,this.state.attachedEmbeds,this.state.attachedLibraryItems,this.props.groupId,this.props.communityId),this.setState({editPostId:null,editPostText:e.currentTarget.dataset.currentcontent,messageParams:{content:{id:null,text:"",attachments:null}},filesInProgressAttaching:[],attachedMultimediaItems:[]})}handleEditPostTextChange(e){if(e=De.a.preventDefaultAndStopPropagation(e),(e=De.a.resizeElement(e))&&e.target){const t=e.target.value||e.currentTarget.dataset.text;this.setState({editPostText:t})}}handleEditPostSave(e){const t=this.getUnifiedFilesForSubmit();this.setState({attachedFiles:t},t=>{e=De.a.preventDefaultAndStopPropagation(e);const a=this.props,n=a.groupId,r=a.streamName,s=parseInt(this.state.editPostId,10),i=ve.a.getMessageById(this.props.stream,s),o=c.a.getMessageUrl(i),l=this.state.messageParams,d=c.a.getAttachments(i),u=Ce.a.getCurrentAttachmentIds(d),h=Ce.a.getLibraryItemPayloadIds(this.state.attachedLibraryItems),p=this.state,m=p.attachedFiles,g=p.attachedLinks,f=p.attachedEmbeds,b=p.attachedWorksheets,E=p.attachedMultimediaItems,y=Ce.a.getPayloadFormat(m,g,f,b,E,u,h);l.id=s,l.url=o,l.content.text=this.state.editPostText,l.content.id=s,l.content.attachments=y,this.state.editPostText&&this.props.postActions.updatePostTextAction(this.state.editPostText,s,n,this.props.userProfileId,this.props.communityId),this.props.postActions.updatePost(l,s,null,n,r).then(()=>{this.setState({attachedEmbeds:[],attachedFiles:[],attachedLinks:[],attachedWorksheets:[],attachedMultimediaItems:[],editPostId:null,editPostText:"",messageParams:{content:{id:null,text:"",attachments:null}},filesInProgressAttaching:[]})}).catch()})}handleReplyIconClick(e){const t=parseInt(e.currentTarget.dataset.message,10);this.setState({replyIconClicked:!0}),O.a.isGroupStream(this.props.streamName)?this.props.streamActions.setReplyFocusAction(t,!0,this.props.currentGroupId):O.a.isProfileStream(this.props.streamName)||O.a.isProfileRepliesStream(this.props.streamName)?this.props.streamActions.setReplyFocusAction(t,!0,null,this.props.userProfileId):this.props.streamActions.setReplyFocusAction(t,!0)}handleModalReplyIconClick(e){const t=parseInt(e.currentTarget.dataset.message,10);this.setState({replyIconClicked:!0}),this.props.streamActions.setModalReplyFocus(t,!0)}handleReplyIconReset(){this.setState({replyIconClicked:!1,replyIconId:null})}handleMessageTeacherBtnClick(e,t,a,n,r){const s=this.props,i=s.history,o=s.chatRoomActions,l=s.streamTrackingActions,c=s.trackingContext,d=s.chatMessageActions,u={recipient_ids:[e]},h={type:r,messageId:n};c&&l.trackMessageTeacherBtnClick(c,h),o.fetchChatRoomsWithCurrentUserAndOtherUsers(u).then(n=>{const r=n&&n.data;Te.a.findChatRoomByUserIdAndRedirect(r,e,t,i),d.setPrefilledChatMessage(a)}).catch(e=>{Le.a.notifyBugsnag(e,"WithStreamInteractionsFactory.handleMessageTeacherBtnClick")})}handleFollowClick(e){Me.a.handleFollowClick(this.handlerOptions(e));const t={};if(1===_e.b(e.currentTarget.dataset.following))switch(this.props.trackingContext){case I.a.HOME_PAGE_CONTEXT:this.props.homePageTrackingActions.streamFollowActive(t);break;case I.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamPostFollowSubmit(t)}else switch(this.props.trackingContext){case I.a.HOME_PAGE_CONTEXT:this.props.homePageTrackingActions.streamFollowInactive(t);break;case I.a.SCHOOL_PAGE_CONTEXT:this.props.schoolDistrictPageTrackingActions.streamPostUnfollowSubmit(t)}}handlePollAnswerChange(e){this.setState({selectedPollAnswer:e.target.value})}pollAnswerSubmit(e){e.preventDefault();const t=this.props,a=t.groupId,n=t.userProfileId,r=t.streamName,s={poll_answer_id:parseInt(this.state.selectedPollAnswer,10),user_id:u.a.getId(this.props.currentUser)};this.props.pollActions.voteForPoll(s,e.currentTarget.dataset.messageid,a,n,r)}setPinnedPostId(e){this.setState({pinnedPostId:e})}handleShareableItemAddToLibrary(e){const t=e.currentTarget.dataset.linkurl,a=e.currentTarget.dataset.title,n=e.currentTarget.dataset.description,r=e.currentTarget.dataset.messageid,s=e.currentTarget.dataset.thumbnail,i=e.currentTarget.dataset.shareableitem,o={source:e.currentTarget.dataset.recengine,domain:e.currentTarget.dataset.shareabledomain};i&&this.props.inorganicPostTrackingActions.userAddedPostToLibrary(o);const l={description:n,item:{title:a,link_url:t,thumb_url:s},type:be.a.LINK};this.props.libraryActions.createLibraryItem(null,l),this.setState({addedShareItemId:parseInt(r,10)})}getUnifiedFilesForSubmit(){const e=[];return this.state.filesInProgressAttaching.forEach(t=>{const a=t.file_name.split(".")[1],n={id:t.id,file_type:a,s3_name:t.s3_name,file_name:t.file_name,thumb_url:Ce.a.getAttachmentIcon(a),view_url:"#",size:t.size,progress:101};e.push(n)}),this.state.attachedFiles.concat(e)}handleRefreshClick(e){this.props.streamActions.fetchSinglePost(e,!0);const t={message_id:e};this.props.streamTrackingActions.trackPollRefreshClick(this.props.trackingContext,t)}handleGifAttachmentPickerClick(e){this.setState({attachedMultimediaItems:[e]})}render(){const t=this.props,a=t.streamAjaxStatus,n=t.streamName,s=t.streamHasEmptyState,i=t.currentUserCompactRecipients,o=xe.a.isLoading(a),l=this.isOracleStreamOnHomePage(n),c=!l,d=(()=>!l&&(o&&!this.props.isEndOfStreamFetchReached))(),u=(()=>!O.a.isSinglePostStream(n)&&!l&&(this.props.isEndOfStreamFetchReached&&!s&&c))();return r.a.createElement("div",null,r.a.createElement(e,Object.assign({},this.props,this.state,{handleFollowClick:this.handleFollowClick,handleReplyIconClick:this.handleReplyIconClick,handleModalReplyIconClick:this.handleModalReplyIconClick,handleReplyIconReset:this.handleReplyIconReset,handleEditPostClick:this.handleEditPostClick,handleEditPostCancel:this.handleEditPostCancel,handleEditPostTextChange:this.handleEditPostTextChange,handleEditPostDismissAttachment:this.handleEditPostDismissAttachment,handleAttachedFilesBegin:this.handleAttachedFilesBegin,handleEditPostSave:this.handleEditPostSave,handleAttachLinkBtnClick:this.handleAttachLinkBtnClick,handleAttachLinkTextBlur:this.handleAttachLinkTextBlur,handleAttachLinkPaste:this.handleAttachLinkPaste,handleAttachLinkCTAClick:this.handleAttachLinkCTAClick,handleAttachLinkTitleChange:this.handleAttachLinkTitleChange,handleAttachLinkCancel:this.handleAttachLinkCancel,handleAddFromLibraryClick:this.handleAddFromLibraryClick,handleAttachedLibraryFiles:this.handleAttachedLibraryFiles,handleDueDateChange:this.handleDueDateChange,handleEditQuizSave:this.handleEditQuizSave,handleAssignmentTitleChange:this.handleAssignmentTitleChange,handleAssignmentDescriptionChange:this.handleAssignmentDescriptionChange,handleEditPostAssignmentSave:this.handleEditPostAssignmentSave,handlePollAnswerChange:this.handlePollAnswerChange,pollAnswerSubmit:this.pollAnswerSubmit,selectedPollAnswer:this.state.selectedPollAnswer,setPinnedPostId:this.setPinnedPostId,handleShareableItemAddToLibrary:this.handleShareableItemAddToLibrary,handleRefreshClick:this.handleRefreshClick,setStreamListReference:this.setStreamListReference,isCurrentUserInOracleTest:this.state.isCurrentUserInOracleTest,streamTrackingActions:this.props.streamTrackingActions,handleMessageTeacherBtnClick:this.handleMessageTeacherBtnClick,currentUserCompactRecipients:i,handleDynamicTranslationClick:this.handleDynamicTranslationClick,handleShowOriginalTranslationTextClick:this.handleShowOriginalTranslationTextClick,handleGifAttachmentPickerClick:this.handleGifAttachmentPickerClick})),d&&!O.a.isSinglePostStream(n)&&r.a.createElement("div",{className:"qa-test-load-stream-infinite stream-infinite-scroll-loading-indicator-container visible"},r.a.createElement(Ue.a,null)),u&&r.a.createElement("div",{className:"all-posts-loaded-msg rounded"},r.a.createElement(k.default,{string:"stream_end_reached",fallbackString:"All posts loaded"})))}}return Object(Q.a)(Object(v.connect)((function(e,t){return{currentUser:ze.c(e),accessToken:ze.d(e),currentGroupId:We.s(e),currentDistrictId:$e.c(e),stream:Be.G(e,t),s3UploadProgress:Ye.f(e,{name:"POST"}),streamAjaxStatus:He.c(e,"".concat(t.streamName,"-").concat(s.a.STREAM_LOADING_STATUS)),currentUserProfile:ze.p(e),mode:Ve.b(e),selectedLibraryItemsAttachmentList:qe.b(e,{name:"PostLibraryModal"}),pinnedPostId:Be.y(e,t),classMembershipIds:We.i(e),abTestPlacementInfo:Qe.a(e),currentOracleMessageIds:je.a(e,t),firstPageOfHomeStreamLoaded:Be.m(e,t),firstPageOfSchoolStreamLoaded:Be.o(e,t),firstPageOfDistrictStreamLoaded:Be.k(e,t),firstPageOfHashtagStreamLoaded:Be.l(e,{streamName:t.streamName}),streamFilters:Be.I(e),didSinglePostFailed:Ge.c(e),classActivityToggled:Be.d(e,t),currentUserMemberships:We.I(e),compactMembershipsFullyLoaded:We.n(e),streamHasEmptyState:Be.J(e,{streamName:t.streamName}),currentHashtagOnHomePage:Be.f(e),currentHomeStreamMode:Be.g(e),currentUserCompactRecipients:Ke.a(e),dynamicTranslations:Xe(e),homeStreamNeedRefresh:Be.u(e)}}),(function(e){return{streamActions:Object(S.bindActionCreators)(ee,e),oracleActions:Object(S.bindActionCreators)(ce,e),postActions:Object(S.bindActionCreators)(te,e),replyActions:Object(S.bindActionCreators)($,e),ajaxStatusActions:Object(S.bindActionCreators)(ae,e),quizzesActions:Object(S.bindActionCreators)(ne,e),assignmentActions:Object(S.bindActionCreators)(re,e),pollActions:Object(S.bindActionCreators)(se,e),libraryActions:Object(S.bindActionCreators)(ie,e),homePageTrackingActions:Object(S.bindActionCreators)(oe,e),streamTrackingActions:Object(S.bindActionCreators)(le,e),inorganicPostTrackingActions:Object(S.bindActionCreators)(de,e),groupMembershipActions:Object(S.bindActionCreators)(ue,e),schoolDistrictPageTrackingActions:Object(S.bindActionCreators)(he,e),chatMessageActions:Object(S.bindActionCreators)(pe,e),recipientActions:Object(S.bindActionCreators)(me,e),chatRoomActions:Object(S.bindActionCreators)(ge,e),googleApisActions:Object(S.bindActionCreators)(fe,e)}}))(t))},tt=a(15),at=a(295);const nt=Object(at.a)();var rt=a(1922);var st=e=>{class t extends n.Component{constructor(e){super(e),this.state={messagesVisibilityInfo:{}},this.track=this.track.bind(this),this.addMessageVisibilityInfo=this.addMessageVisibilityInfo.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this)}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload)}onBeforeUnload(){this.track()}track(e){const t=this.props,a=t.streamTrackingActions,n=t.abTestInfo,r=this.state.messagesVisibilityInfo,s=e||this.props.trackingContext;let i=[];if(w.a.isUserInMessageVisibilityTrackingTest(n)&&s&&r[s]){for(const e in r[s]){const t=r[s][e];0===t.partialTimeInView&&0===t.timeInView||i.push({message_id:e,partial:t.partialTimeInView,full:t.timeInView,index:t.messageIndex})}0!==i.length&&Object(rt.b)(i,10).forEach(e=>{a.trackMessageVisibility(s,{session_uuid:nt,visibility_info:e})})}}componentDidUpdate(e,t){e.streamName!==this.props.streamName&&(this.track(e.trackingContext),this.setState(e=>({messagesVisibilityInfo:{}})))}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload),this.track(this.props.trackingContext)}addMessageVisibilityInfo(e,t,a){const n=Object(tt.a)({},this.state.messagesVisibilityInfo)[e]||{};this.setState(r=>({messagesVisibilityInfo:Object(tt.a)({},r.messagesVisibilityInfo,{[e]:Object(tt.a)({},n,{[t]:a})})}))}render(){return r.a.createElement(e,Object.assign({},this.props,{addMessageVisibilityInfo:this.addMessageVisibilityInfo}))}}return Object(v.connect)((function(e){return{abTestInfo:Qe.a(e)}}),(function(e){return{streamTrackingActions:Object(S.bindActionCreators)(le,e)}}))(t)},it=a(86),ot=a(182),lt=a(1806),ct=a(1761);let dt=e=>{let t=null;const a=e.streamName===i.a.ORACLE_STREAM,n=u.a.isVerifiedTeacher(e.currentUser),s=xe.a.isNotLoading(e.streamAjaxStatus);let o,l,c=!a&&(!e.stream||!e.stream.size)&&e.streamHasEmptyState;return c=s&&!e.showOnboardingWidget&&c,e.streamName===i.a.SCHOOL_STREAM?(o=it.a.userLinkedToSchool(e.currentUser,e.currentSchool),l=it.a.canUserAdministrateSchool(e.currentUser,e.currentSchool)):O.a.isDistrictStream(e.streamName)&&(o=ot.a.userLinkedToDistrict(e.currentUser,e.currentDistrict),l=ot.a.canUserAdministrateDistrict(e.currentUser,e.currentDistrict)),t=!0===e.didSinglePostFailed?r.a.createElement(ct.default,null):a||!e.streamAjaxStatus||xe.a.isIdleOrLoadingComplete(e.streamAjaxStatus)||e.stream?c?O.a.isProfileStream(e.streamName)?r.a.createElement(V,{isUserOnOwnProfile:e.isUserOnOwnProfile,isTeacherProfile:e.isTeacherProfile,handleToggleCreatePostModal:e.handleToggleCreatePostModal}):r.a.createElement(H,{currentUser:e.currentUser,streamName:e.streamName,isOwnerOrCoTeacher:e.isOwnerOrCoTeacher,isParent:u.a.isParent(e.currentUser),isStudent:u.a.isStudent(e.currentUser),isUserOnOwnProfile:e.isUserOnOwnProfile,currentGroup:e.currentGroup,filteredBy:e.filteredBy,canCreatePost:n&&(o||l),handleCollectInterestsModalToggle:e.handleCollectInterestsModalToggle,isCollectInterestsModalOpen:e.isCollectInterestsModalOpen,abTestInfo:e.abTestInfo,userHasNoClassesOrGroups:e.userHasNoClassesOrGroups}):r.a.createElement(E,{key:e.streamName,groupColor:e.groupColor,accessToken:e.accessToken,currentUser:e.currentUser,currentUserProfile:e.currentUserProfile,streamName:e.streamName,reducerName:e.reducerName,streamStatus:e.streamStatus,stream:e.stream,history:e.history,currentGroupMembership:e.currentGroupMembership,userGroupMemberships:e.userGroupMemberships,groupId:e.groupId,communityId:e.communityId,publisherId:e.publisherId,editPostId:e.editPostId,currentfilter:e.currentfilter,dismissedAttachmentIds:e.dismissedAttachmentIds,attachLinkModalOpen:e.attachLinkModalOpen,selectedLink:e.selectedLink,libraryModalOpen:e.libraryModalOpen,replyIconClicked:e.replyIconClicked,replyIconId:e.replyIconId,showingMoreReplies:e.showingMoreReplies,showMoreRepliesId:e.showMoreRepliesId,pinnedPostId:e.pinnedPostId,addedShareItemToLibrary:e.addedShareItemToLibrary,addedShareItemId:e.addedShareItemId,handleLikeClick:e.handleLikeClick,handleFollowClick:e.handleFollowClick,handleReplyIconClick:e.handleReplyIconClick,handleReplyIconReset:e.handleReplyIconReset,handleShowMoreRepliesClick:e.handleShowMoreRepliesClick,handleReplyUpdate:e.handleReplyUpdate,handleReplyDelete:e.handleReplyDelete,handleFilterByOptions:e.handleFilterByOptions,handleRemoveFilterClick:e.handleRemoveFilterClick,handleEditPostClick:e.handleEditPostClick,handleEditPostCancel:e.handleEditPostCancel,handleEditPostTextChange:e.handleEditPostTextChange,handleEditPostDismissAttachment:e.handleEditPostDismissAttachment,handleAttachedFilesBegin:e.handleAttachedFilesBegin,handleEditPostSave:e.handleEditPostSave,handleAttachLinkBtnClick:e.handleAttachLinkBtnClick,handleAttachLinkTextBlur:e.handleAttachLinkTextBlur,handleAttachLinkPaste:e.handleAttachLinkPaste,handleAttachLinkCTAClick:e.handleAttachLinkCTAClick,handleAttachLinkTitleChange:e.handleAttachLinkTitleChange,handleAttachLinkCancel:e.handleAttachLinkCancel,handleAddFromLibraryClick:e.handleAddFromLibraryClick,handleAttachedLibraryFiles:e.handleAttachedLibraryFiles,handleDueDateChange:e.handleDueDateChange,handleEditQuizSave:e.handleEditQuizSave,handleAssignmentTitleChange:e.handleAssignmentTitleChange,handleAssignmentDescriptionChange:e.handleAssignmentDescriptionChange,handleEditPostAssignmentSave:e.handleEditPostAssignmentSave,handlePollAnswerChange:e.handlePollAnswerChange,pollAnswerSubmit:e.pollAnswerSubmit,selectedPollAnswer:e.selectedPollAnswer,trackingContext:e.trackingContext,setPinnedPostId:e.setPinnedPostId,handleShareableItemAddToLibrary:e.handleShareableItemAddToLibrary,groupMembershipsWithWriteAccess:e.groupMembershipsWithWriteAccess,filesInProgressAttaching:e.filesInProgressAttaching,attachedFiles:e.attachedFiles,attachedLinks:e.attachedLinks,attachedEmbeds:e.attachedEmbeds,attachedMultimediaItems:e.attachedMultimediaItems,handleRefreshClick:e.handleRefreshClick,setStreamListReference:e.setStreamListReference,inHashtagMode:e.inHashtagMode,showPinnedPosts:e.showPinnedPosts,streamTrackingActions:e.streamTrackingActions,handleMessageTeacherBtnClick:e.handleMessageTeacherBtnClick,currentUserCompactRecipients:e.currentUserCompactRecipients,userProfileId:e.userProfileId,childId:e.childId,handleHashtagClick:e.handleHashtagClick,isCurrentUserInSharingRedesignABTest:e.isCurrentUserInSharingRedesignABTest,isCurrentUserInHashTagABTest:e.isCurrentUserInHashTagABTest,currentHashtagOnHomePage:e.currentHashtagOnHomePage,displayVideoAttachmentModal:e.displayVideoAttachmentModal,showAlternateQotd:e.showAlternateQotd,handleDynamicTranslationClick:e.handleDynamicTranslationClick,handleShowOriginalTranslationTextClick:e.handleShowOriginalTranslationTextClick,dynamicTranslations:e.dynamicTranslations,isInteractionsDisabled:e.isInteractionsDisabled,addMessageVisibilityInfo:e.addMessageVisibilityInfo,isSchoolAdminReadOnly:e.isSchoolAdminReadOnly,handleGifAttachmentPickerClick:e.handleGifAttachmentPickerClick}):null,r.a.createElement("div",null,t)};const ut={ajaxStatusName:s.a.STREAM_LOADING_STATUS};dt=Object(lt.a)({infiniteScrollBottomThresholdOffset:500})(et(st(dt)));t.default=Object(W.a)(ut)(dt)}])]);
//# sourceMappingURL=189.f6657947.chunk.js.map